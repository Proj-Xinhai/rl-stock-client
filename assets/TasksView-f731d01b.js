import{d as f,u as N,r as d,a as b,s as r,w as $,b as y,o as u,c as h,e as s,F as p,f as k,g as l,t as o,n as A,h as B,i as D,j as m,k as w}from"./index-349f8545.js";import{_ as T,a as F,b as L}from"./TheTaskCopier.vue_vue_type_script_setup_true_lang-08269d98.js";const j={class:"ts-box u-top-spaced"},z={class:"ts-table is-celled is-single-line"},E={class:"has-cursor-pointer"},M=["onClick"],P=["data-toggle","onDblclick"],R={class:"is-collapsed"},S={class:"is-collapsed"},V=["data-name"],q={class:"is-secondary is-padded is-insetted",colspan:"3"},G={class:"ts-grid"},H={class:"column"},I=s("br",null,null,-1),J=s("br",null,null,-1),K=s("br",null,null,-1),O={class:"column is-fluid is-end-aligned",style:{"white-space":"initial !important"}},Q=f({__name:"TheTasksList",setup(C){const v=N(),i=d([]),c=d("Create At"),a=d(-1),_=()=>{console.log("sort"),i.value=i.value.slice().sort((t,n)=>c.value=="Name"?t.name>n.name?a.value:-a.value:c.value=="Algorithm"?t.args.algorithm>n.args.algorithm?a.value:-a.value:c.value=="Create At"?t.date>n.date?a.value:-a.value:0)};return b(()=>{i.value=r.tasks,_()}),$(r,t=>{i.value=t.tasks,_()}),(t,n)=>{const g=y("router-link");return u(),h("div",j,[s("table",z,[s("thead",null,[s("tr",E,[(u(),h(p,null,k(["Name","Algorithm","Create At"],e=>s("th",{onClick:x=>{c.value=e,a.value*=-1,_()}},[l(o(e)+" ",1),c.value==e?(u(),h("span",{key:0,class:A(["ts-icon",{"is-sort-down-icon":a.value==-1,"is-sort-up-icon":a.value==1}])},null,2)):B("",!0)],8,M)),64))])]),s("tbody",null,[(u(!0),h(p,null,k(i.value,e=>(u(),h(p,{key:e.name},[s("tr",{class:"has-cursor-pointer","data-toggle":e.name+":has-hidden",onDblclick:x=>D(v).push({name:"task",params:{name:e.name}})},[s("td",null,o(e.name),1),s("td",R,o(e.args.algorithm),1),s("td",S,o(e.date),1)],40,P),s("tr",{class:"has-hidden","data-name":e.name},[s("td",q,[s("div",G,[s("div",H,[l(" algorithm: "+o(e.args.algorithm)+" "+o(e.args.algorithm_args),1),I,l(" learn: "+o(e.args.learn_args),1),J,l(" helper: "+o(e.args.helper),1),K]),s("div",O,[m(g,{class:"ts-text is-link",to:{name:"task",params:{name:e.name}}},{default:w(()=>[l("manage")]),_:2},1032,["to"]),m(T,{"task-name":e.name,wrapper:"link"},null,8,["task-name"]),m(F,{taskName:e.name,wrapper:"link"},null,8,["taskName"]),m(L,{"task-name":e.name,wrapper:"link"},null,8,["task-name"])])])])],8,V)],64))),128))])])])}}}),U={class:"ts-grid is-relaxed is-3-columns u-top-spaced-large u-bottom-spaced-big"},W={class:"column"},X={class:"ts-box"},Y={class:"ts-content"},Z={class:"ts-statistic"},ss={class:"value",style:{display:"table-cell"}},ts={class:"ts-text is-secondary is-small"},es=s("span",{class:"ts-text is-secondary"},"/works",-1),as=s("div",{class:"symbol"},[s("span",{class:"ts-icon is-bars-progress-icon"})],-1),os={class:"column"},ns={class:"ts-box"},ls={class:"ts-content"},is={class:"ts-statistic"},cs={class:"value"},rs=s("div",{class:"symbol"},[s("span",{class:"ts-icon is-gears-icon"})],-1),ds={class:"column"},_s={class:"ts-box"},us={class:"ts-content"},hs={class:"ts-statistic"},ms={class:"value",style:{display:"table-cell"}},vs={class:"ts-text is-secondary is-negative is-small"},ps=s("span",{class:"ts-text is-secondary is-negative"},"/failed",-1),gs=s("div",{class:"symbol"},[s("span",{class:"ts-icon is-check-double-icon"})],-1),ks={class:"ts-grid is-end-aligned"},fs=s("button",{class:"ts-button"},"Create",-1),ys=f({__name:"TasksView",setup(C){const v=d(0),i=d(0),c=d(0),a=d(0),_=d(0);return b(()=>{v.value=r.tasks.length,i.value=r.works.length,c.value=r.works.filter(({status:t})=>[0,1].includes(t)).length,a.value=r.works.filter(({status:t})=>t==2).length,_.value=r.works.filter(({status:t})=>t==-1).length}),$(r,t=>{v.value=t.tasks.length,i.value=t.works.length,c.value=t.works.filter(({status:n})=>[0,1].includes(n)).length,a.value=t.works.filter(({status:n})=>n==2).length,_.value=t.works.filter(({status:n})=>n==-1).length}),(t,n)=>{const g=y("router-link");return u(),h(p,null,[s("div",U,[s("div",W,[s("div",X,[s("div",Y,[s("div",Z,[s("div",ss,[l(o(v.value)+" ",1),s("span",ts,"/"+o(i.value),1)])]),l(" tasks "),es]),as])]),s("div",os,[s("div",ns,[s("div",ls,[s("div",is,[s("div",cs,o(c.value),1)]),l(" works in progress ")]),rs])]),s("div",ds,[s("div",_s,[s("div",us,[s("div",hs,[s("div",ms,[l(o(a.value)+" ",1),s("span",vs,"/"+o(_.value),1)])]),l(" complete "),ps]),gs])])]),s("div",ks,[m(g,{to:{name:"task-create"}},{default:w(()=>[fs]),_:1})]),m(Q)],64)}}});export{ys as default};
