import{d as j,u as z,r as c,a as M,w as y,o as u,c as m,b as s,e as C,f as b,t as r,n as N,g as S,v as A,F as $,h as B,i as p,j as F,k as w,l as k,s as _,m as J,p as L}from"./index-d7f2de9b.js";import{_ as T,a as D,b as O}from"./TheTaskCopier.vue_vue_type_script_setup_true_lang-0cc4dd4f.js";const U={class:"ts-wrap is-compact is-middle-aligned"},E={key:2,class:"ts-text is-secondary u-start-spaced"},P={class:"ts-box u-top-spaced"},R={class:"ts-table is-celled is-single-line"},q={class:"has-cursor-pointer"},G={class:"is-collapsed is-compact"},H=["onClick"],I=s("th",{class:"is-collapsed"},null,-1),K=["onClick"],Q={class:"ts-checkbox is-solo"},W=["id","value"],X=["data-tooltip"],Y={class:"is-collapsed"},Z={class:"is-collapsed"},ss=["data-dropdown"],es=["data-name"],ts=j({__name:"TheTasksList",setup(V){const h=z(),t=c([]),i=c(!1),g=async()=>{t.value.length==n.value.length?t.value=[]:t.value=n.value.map(({name:v})=>v),setTimeout(()=>{i.value=t.value.length>0},0)},n=c([]),a=c("Create At"),l=c(-1),f=(v,o=!1)=>{o&&(a.value!=v?l.value=-1:l.value*=-1,a.value=v),n.value=n.value.slice().sort((e,d)=>e.date>d.date?l.value:-l.value).slice().sort((e,d)=>a.value=="Name"?e.name>d.name?l.value:-l.value:a.value=="Algorithm"?e.args.algorithm>d.args.algorithm?l.value:-l.value:a.value=="Create At"?e.date>d.date?l.value:-l.value:0)},x=()=>{n.value=_.tasks,f(a.value)};return M(()=>{x()}),y(_,()=>{x()}),y(t,()=>{i.value=t.value.length>0}),y(n,()=>{t.value=t.value.filter(v=>n.value.map(({name:o})=>o).includes(v))}),(v,o)=>(u(),m($,null,[s("div",U,[i.value?(u(),C(T,{key:0,"task-name":t.value.join(","),wrapper:"button"},null,8,["task-name"])):b("",!0),i.value?(u(),C(D,{key:1,"task-name":t.value.join(","),wrapper:"button"},null,8,["task-name"])):b("",!0),t.value.length>0?(u(),m("span",E,r(t.value.length)+" selected",1)):b("",!0),s("button",{class:"ts-button",style:{visibility:"hidden"},onClick:o[0]||(o[0]=e=>console.log("てへぺろ"))})]),s("div",P,[s("table",R,[s("thead",null,[s("tr",q,[s("th",G,[s("label",{class:N(["ts-checkbox is-solo",{"is-indeterminate":t.value.length>0&&t.value.length!==n.value.length}])},[S(s("input",{type:"checkbox",onClick:g,"onUpdate:modelValue":o[1]||(o[1]=e=>i.value=e)},null,512),[[A,i.value]])],2)]),(u(),m($,null,B(["Name","Algorithm","Create At"],e=>s("th",{onClick:d=>f(e,!0)},[p(r(e)+" ",1),a.value==e?(u(),m("span",{key:0,class:N(["ts-icon",{"is-sort-down-icon":l.value==-1,"is-sort-up-icon":l.value==1}])},null,2)):b("",!0)],8,H)),64)),I])]),s("tbody",null,[(u(!0),m($,null,B(n.value,e=>(u(),m("tr",{key:e.name,class:"has-cursor-pointer",onClick:d=>F(h).push({name:"task",params:{name:e.name}})},[s("td",{class:"is-compact",onClick:o[3]||(o[3]=w(()=>{},["stop"])),onDblclick:o[4]||(o[4]=w(()=>{},["stop"]))},[s("label",Q,[S(s("input",{type:"checkbox",id:e.name,value:e.name,"onUpdate:modelValue":o[2]||(o[2]=d=>t.value=d)},null,8,W),[[A,t.value]])])],32),s("td",null,[s("span",{"data-tooltip":`algorithm: ${e.args.algorithm} ${JSON.stringify(e.args.algorithm_args)}
            learn: ${JSON.stringify(e.args.learn_args)}
            random_state: ${e.args.random_state?e.args.random_state:"None"}
            data_locator: ${e.args.data_locator}`},r(e.name),9,X)]),s("td",Y,r(e.args.algorithm),1),s("td",Z,r(e.date),1),s("td",{colspan:"is-compact",onClick:o[5]||(o[5]=w(()=>{},["stop"]))},[s("span",{class:"ts-icon is-ellipsis-icon","data-dropdown":"dropdown-"+e.name},null,8,ss),s("div",{class:"ts-dropdown","data-name":"dropdown-"+e.name},[k(T,{"task-name":e.name,wrapper:"link"},null,8,["task-name"]),k(D,{taskName:e.name,wrapper:"link"},null,8,["taskName"]),k(O,{"task-name":e.name,wrapper:"link"},null,8,["task-name"])],8,es)])],8,K))),128))])])])],64))}}),as={class:"ts-grid is-relaxed is-3-columns u-top-spaced-large u-bottom-spaced-big"},ls={class:"column"},os={class:"ts-box"},ns={class:"ts-content"},is={class:"ts-statistic"},cs={class:"value",style:{display:"table-cell"}},rs={class:"ts-text is-secondary is-small"},ds=s("span",{class:"ts-text is-secondary"},"/works",-1),us=s("div",{class:"symbol"},[s("span",{class:"ts-icon is-bars-progress-icon"})],-1),_s={class:"column"},vs={class:"ts-box"},ms={class:"ts-content"},ps={class:"ts-statistic"},hs={class:"value"},gs=s("div",{class:"symbol"},[s("span",{class:"ts-icon is-gears-icon"})],-1),ks={class:"column"},fs={class:"ts-box"},bs={class:"ts-content"},ys={class:"ts-statistic"},$s={class:"value",style:{display:"table-cell"}},ws={class:"ts-text is-secondary is-negative is-small"},xs=s("span",{class:"ts-text is-secondary is-negative"},"/failed",-1),Cs=s("div",{class:"symbol"},[s("span",{class:"ts-icon is-check-double-icon"})],-1),Ns={class:"ts-grid has-full-width is-end-aligned",style:{position:"relative","z-index":"1"}},Ss=s("button",{class:"ts-button"},"Create",-1),Ts=j({__name:"TasksView",setup(V){const h=c(0),t=c(0),i=c(0),g=c(0),n=c(0);return M(()=>{h.value=_.tasks.length,t.value=_.works.length,i.value=_.works.filter(({status:a})=>[0,1].includes(a)).length,g.value=_.works.filter(({status:a})=>a==2).length,n.value=_.works.filter(({status:a})=>a==-1).length}),y(_,a=>{h.value=a.tasks.length,t.value=a.works.length,i.value=a.works.filter(({status:l})=>[0,1].includes(l)).length,g.value=a.works.filter(({status:l})=>l==2).length,n.value=a.works.filter(({status:l})=>l==-1).length}),(a,l)=>{const f=J("router-link");return u(),m($,null,[s("div",as,[s("div",ls,[s("div",os,[s("div",ns,[s("div",is,[s("div",cs,[p(r(h.value)+" ",1),s("span",rs,"/"+r(t.value),1)])]),p(" tasks "),ds]),us])]),s("div",_s,[s("div",vs,[s("div",ms,[s("div",ps,[s("div",hs,r(i.value),1)]),p(" works in progress ")]),gs])]),s("div",ks,[s("div",fs,[s("div",bs,[s("div",ys,[s("div",$s,[p(r(g.value)+" ",1),s("span",ws,"/"+r(n.value),1)])]),p(" complete "),xs]),Cs])])]),s("div",Ns,[k(f,{to:{name:"task-create"},style:{position:"absolute"}},{default:L(()=>[Ss]),_:1})]),k(ts)],64)}}});export{Ts as default};
