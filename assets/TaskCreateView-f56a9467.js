import{d as A,o as t,c as o,x as B,u as F,r as u,b as L,e as M,a as s,g as O,h as R,w as _,y as D,t as g,v as k,z as T,F as y,j as f,s as b,p as I}from"./index-939d9c73.js";const q=A({__name:"TheTaskImporter",props:{parentWrapper:{}},setup(C){const w=C,x=()=>{const l=w.parentWrapper;Object.assign(document.createElement("input"),{type:"file",accept:".json",onchange:m=>{const p=m.target;if(p.files){const h=p.files[0],d=new FileReader;d.readAsText(h),d.onload=()=>{const a=JSON.parse(d.result);l.name.value=a.name,l.algorithm.value=a.algorithm,l.algorithm_args.value=[],l.learn_args.value=[];for(const c in a.algorithm_args)l.algorithm_args.value.push({key:c,value:a.algorithm_args[c]});for(const c in a.learn_args)l.learn_args.value.push({key:c,value:a.learn_args[c]});l.helper.value=a.helper}}}}).click()};return(l,m)=>(t(),o("button",{class:"ts-button is-outlined has-start-spaced",onClick:x},"Import"))}}),z={class:"ts-header is-huge u-bottom-spaced-big"},J={class:"ts-notice is-negative u-bottom-spaced"},G=s("div",{class:"title"},"Error",-1),H={class:"content"},K={class:"ts-wrap is-vertical"},P={class:"ts-control"},Q=s("div",{class:"label is-start-aligned"},"name",-1),X={class:"content"},Y={class:"ts-input"},Z={class:"ts-control"},ss=s("div",{class:"label is-start-aligned"},"algorithm",-1),es={class:"content"},ts={class:"ts-select is-fluid"},os=["value"],as=s("option",{selected:"",disabled:"",hidden:""},"Choose algorithm",-1),ls={class:"ts-control u-top-spaced-big"},ns=s("div",{class:"label is-start-aligned"},"algorithm_args",-1),is={class:"content"},cs=s("div",{class:"column is-5-wide"},[s("span",{class:"ts-text is-secondary"},"key")],-1),ds=s("div",{class:"column is-10-wide"},[s("span",{class:"ts-text is-secondary"},"value")],-1),rs={class:"column is-5-wide"},us={class:"ts-input"},_s=["onUpdate:modelValue"],ps={class:"column is-10-wide"},vs={class:"ts-input"},hs=["onUpdate:modelValue"],ms={class:"column is-1-wide"},gs=["onClick"],ks={class:"ts-control u-top-spaced-big u-bottom-spaced-big"},ys=s("div",{class:"label is-start-aligned"},"learn_args",-1),bs={class:"content"},fs=s("div",{class:"column is-5-wide"},[s("span",{class:"ts-text is-secondary"},"key")],-1),ws=s("div",{class:"column is-10-wide"},[s("span",{class:"ts-text is-secondary"},"value")],-1),xs={class:"column is-5-wide"},Vs={class:"ts-input"},Cs=["onUpdate:modelValue"],Us={class:"column is-10-wide"},Ts={class:"ts-input"},As=["onUpdate:modelValue"],Es={class:"column is-1-wide"},$s=["onClick"],Ns={class:"ts-control"},Ss=s("div",{class:"label is-start-aligned"},"helper",-1),Ws={class:"content"},js={class:"ts-select is-fluid"},Bs=["value"],Fs=s("option",{selected:"",disabled:"",hidden:""},"Choose helper",-1),Ls=s("div",{class:"label is-start-aligned"},null,-1),Os=A({__name:"TaskCreateView",setup(C){const w=B(),x=F(),l=u([]),m=u([]),p=u(""),h=u(""),d=u([]),a=u([]),c=u(""),E={name:p,algorithm:h,algorithm_args:d,learn_args:a,helper:c},V=u(""),U=()=>{l.value=b.algorithms,m.value=b.helpers},$=()=>{d.value.push({key:"",value:""})},N=v=>{d.value.splice(v,1)},S=()=>{a.value.push({key:"",value:""})},W=v=>{a.value.splice(v,1)},j=()=>{b.loading=!0;const v={},r={};d.value.forEach(e=>{v[e.key]=e.value}),a.value.forEach(e=>{r[e.key]=e.value}),I.emit("create_task",{name:p.value,algorithm:h.value,algorithm_args:v,learn_args:r,helper:c.value},(e,n,i)=>{b.loading=!1,e?x.push({name:"tasks"}):V.value=`${n}: ${i}`})};return L(()=>{U(),w.query.copy&&console.log("copy")}),M(b,()=>{U()}),(v,r)=>(t(),o(y,null,[s("div",z,[O("Create Task "),R(q,{parentWrapper:E})]),_(s("div",J,[G,s("div",H,g(V.value),1)],512),[[D,V.value!=""]]),s("div",K,[s("div",P,[Q,s("div",X,[s("div",Y,[_(s("input",{type:"text","onUpdate:modelValue":r[0]||(r[0]=e=>p.value=e)},null,512),[[k,p.value]])])])]),s("div",Z,[ss,s("div",es,[s("div",ts,[_(s("select",{class:"ts-text is-secondary","onUpdate:modelValue":r[1]||(r[1]=e=>h.value=e)},[(t(!0),o(y,null,f(l.value,e=>(t(),o("option",{value:e.name,key:e.name},g(e.name)+": "+g(e.description),9,os))),128)),as],512),[[T,h.value]])])])]),s("div",ls,[ns,s("div",is,[s("div",{class:"ts-grid is-middle-aligned"},[cs,ds,s("div",{class:"column is-1-wide"},[s("span",{class:"ts-icon is-plus-icon has-cursor-pointer",onClick:$})])]),(t(!0),o(y,null,f(d.value,(e,n)=>(t(),o("div",{class:"ts-grid is-middle-aligned u-top-spaced",key:n},[s("div",rs,[s("div",us,[_((t(),o("input",{type:"text","onUpdate:modelValue":i=>e.key=i,key:n},null,8,_s)),[[k,e.key]])])]),s("div",ps,[s("div",vs,[_((t(),o("input",{type:"text","onUpdate:modelValue":i=>e.value=i,key:n},null,8,hs)),[[k,e.value]])])]),s("div",ms,[s("span",{class:"ts-icon is-minus-icon has-cursor-pointer",onClick:i=>N(n)},null,8,gs)])]))),128))])]),s("div",ks,[ys,s("div",bs,[s("div",{class:"ts-grid is-middle-aligned"},[fs,ws,s("div",{class:"column is-1-wide"},[s("span",{class:"ts-icon is-plus-icon has-cursor-pointer",onClick:S})])]),(t(!0),o(y,null,f(a.value,(e,n)=>(t(),o("div",{class:"ts-grid is-middle-aligned u-top-spaced",key:n},[s("div",xs,[s("div",Vs,[_((t(),o("input",{type:"text","onUpdate:modelValue":i=>e.key=i,key:n},null,8,Cs)),[[k,e.key]])])]),s("div",Us,[s("div",Ts,[_((t(),o("input",{type:"text","onUpdate:modelValue":i=>e.value=i,key:n},null,8,As)),[[k,e.value]])])]),s("div",Es,[s("span",{class:"ts-icon is-minus-icon has-cursor-pointer",onClick:i=>W(n)},null,8,$s)])]))),128))])]),s("div",Ns,[Ss,s("div",Ws,[s("div",js,[_(s("select",{class:"ts-text is-secondary","onUpdate:modelValue":r[2]||(r[2]=e=>c.value=e)},[(t(!0),o(y,null,f(m.value,e=>(t(),o("option",{value:e.name,key:e.name},g(e.name)+": "+g(e.description),9,Bs))),128)),Fs],512),[[T,c.value]])])])]),s("div",{class:"ts-control"},[Ls,s("div",{class:"content"},[s("div",{class:"ts-content is-end-aligned"},[s("button",{class:"ts-button",onClick:j},"Create")])])])])],64))}});export{Os as default};
