import{d as M,u as U,r,a as V,w as $,b as z,o as d,c as m,e as s,f as C,g as y,t as n,n as N,h as D,v as A,F as b,i as B,j as u,k as E,l as S,m as p,p as F,s as _}from"./index-09d00519.js";import{_ as T,a as j,b as P}from"./TheTaskCopier.vue_vue_type_script_setup_true_lang-1a255efe.js";const R={class:"ts-wrap is-compact is-middle-aligned"},q={key:2,class:"ts-text is-secondary u-start-spaced"},G={class:"ts-box u-top-spaced"},H={class:"ts-table is-celled is-single-line"},I={class:"has-cursor-pointer"},J={class:"is-collapsed is-compact"},K=["onClick"],O=["data-toggle","onDblclick"],Q={class:"ts-checkbox is-solo"},W=["id","value"],X={class:"is-collapsed"},Y={class:"is-collapsed"},Z=["data-name"],ss={class:"is-secondary is-padded is-insetted",colspan:"4"},es={class:"ts-grid"},ts={class:"column"},as=s("br",null,null,-1),ls=s("br",null,null,-1),os=s("br",null,null,-1),ns={class:"column is-fluid is-end-aligned",style:{"white-space":"initial !important"}},is=M({__name:"TheTasksList",setup(L){const g=U(),t=r([]),c=r(!1),k=async()=>{t.value.length==i.value.length?t.value=[]:t.value=i.value.map(({name:v})=>v),setTimeout(()=>{c.value=t.value.length>0},0)},i=r([]),a=r("Create At"),l=r(-1),f=(v,o=!1)=>{o&&(a.value!=v?l.value=-1:l.value*=-1,a.value=v),i.value=i.value.slice().sort((h,e)=>h.date>e.date?l.value:-l.value).slice().sort((h,e)=>a.value=="Name"?h.name>e.name?l.value:-l.value:a.value=="Algorithm"?h.args.algorithm>e.args.algorithm?l.value:-l.value:a.value=="Create At"?h.date>e.date?l.value:-l.value:0)},w=()=>{i.value=_.tasks,f(a.value)};return V(()=>{w()}),$(_,()=>{w()}),$(t,()=>{c.value=t.value.length>0}),$(i,()=>{t.value=t.value.filter(v=>i.value.map(({name:o})=>o).includes(v))}),(v,o)=>{const h=z("router-link");return d(),m(b,null,[s("div",R,[c.value?(d(),C(T,{key:0,"task-name":t.value.join(","),wrapper:"button"},null,8,["task-name"])):y("",!0),c.value?(d(),C(j,{key:1,"task-name":t.value.join(","),wrapper:"button"},null,8,["task-name"])):y("",!0),t.value.length>0?(d(),m("span",q,n(t.value.length)+" selected",1)):y("",!0),s("button",{class:"ts-button",style:{visibility:"hidden"},onClick:o[0]||(o[0]=e=>console.log("てへぺろ"))})]),s("div",G,[s("table",H,[s("thead",null,[s("tr",I,[s("th",J,[s("label",{class:N(["ts-checkbox is-solo",{"is-indeterminate":t.value.length>0&&t.value.length!==i.value.length}])},[D(s("input",{type:"checkbox",onClick:k,"onUpdate:modelValue":o[1]||(o[1]=e=>c.value=e)},null,512),[[A,c.value]])],2)]),(d(),m(b,null,B(["Name","Algorithm","Create At"],e=>s("th",{onClick:x=>f(e,!0)},[u(n(e)+" ",1),a.value==e?(d(),m("span",{key:0,class:N(["ts-icon",{"is-sort-down-icon":l.value==-1,"is-sort-up-icon":l.value==1}])},null,2)):y("",!0)],8,K)),64))])]),s("tbody",null,[(d(!0),m(b,null,B(i.value,e=>(d(),m(b,{key:e.name},[s("tr",{class:"has-cursor-pointer","data-toggle":e.name+":has-hidden",onDblclick:x=>E(g).push({name:"task",params:{name:e.name}})},[s("td",{class:"is-compact",onClick:o[3]||(o[3]=S(()=>{},["stop"])),onDblclick:o[4]||(o[4]=S(()=>{},["stop"]))},[s("label",Q,[D(s("input",{type:"checkbox",id:e.name,value:e.name,"onUpdate:modelValue":o[2]||(o[2]=x=>t.value=x)},null,8,W),[[A,t.value]])])],32),s("td",null,n(e.name),1),s("td",X,n(e.args.algorithm),1),s("td",Y,n(e.date),1)],40,O),s("tr",{class:"has-hidden","data-name":e.name},[s("td",ss,[s("div",es,[s("div",ts,[u(" algorithm: "+n(e.args.algorithm)+" "+n(e.args.algorithm_args),1),as,u(" learn: "+n(e.args.learn_args),1),ls,u(" helper: "+n(e.args.helper),1),os]),s("div",ns,[p(h,{class:"ts-text is-link",to:{name:"task",params:{name:e.name}}},{default:F(()=>[u("manage")]),_:2},1032,["to"]),p(T,{"task-name":e.name,wrapper:"link"},null,8,["task-name"]),p(j,{taskName:e.name,wrapper:"link"},null,8,["taskName"]),p(P,{"task-name":e.name,wrapper:"link"},null,8,["task-name"])])])])],8,Z)],64))),128))])])])],64)}}}),cs={class:"ts-grid is-relaxed is-3-columns u-top-spaced-large u-bottom-spaced-big"},rs={class:"column"},us={class:"ts-box"},ds={class:"ts-content"},_s={class:"ts-statistic"},vs={class:"value",style:{display:"table-cell"}},hs={class:"ts-text is-secondary is-small"},ms=s("span",{class:"ts-text is-secondary"},"/works",-1),ps=s("div",{class:"symbol"},[s("span",{class:"ts-icon is-bars-progress-icon"})],-1),gs={class:"column"},ks={class:"ts-box"},bs={class:"ts-content"},fs={class:"ts-statistic"},ys={class:"value"},$s=s("div",{class:"symbol"},[s("span",{class:"ts-icon is-gears-icon"})],-1),xs={class:"column"},ws={class:"ts-box"},Cs={class:"ts-content"},Ns={class:"ts-statistic"},Ds={class:"value",style:{display:"table-cell"}},As={class:"ts-text is-secondary is-negative is-small"},Bs=s("span",{class:"ts-text is-secondary is-negative"},"/failed",-1),Ss=s("div",{class:"symbol"},[s("span",{class:"ts-icon is-check-double-icon"})],-1),Ts={class:"ts-grid has-full-width is-end-aligned",style:{position:"relative","z-index":"1"}},js=s("button",{class:"ts-button"},"Create",-1),zs=M({__name:"TasksView",setup(L){const g=r(0),t=r(0),c=r(0),k=r(0),i=r(0);return V(()=>{g.value=_.tasks.length,t.value=_.works.length,c.value=_.works.filter(({status:a})=>[0,1].includes(a)).length,k.value=_.works.filter(({status:a})=>a==2).length,i.value=_.works.filter(({status:a})=>a==-1).length}),$(_,a=>{g.value=a.tasks.length,t.value=a.works.length,c.value=a.works.filter(({status:l})=>[0,1].includes(l)).length,k.value=a.works.filter(({status:l})=>l==2).length,i.value=a.works.filter(({status:l})=>l==-1).length}),(a,l)=>{const f=z("router-link");return d(),m(b,null,[s("div",cs,[s("div",rs,[s("div",us,[s("div",ds,[s("div",_s,[s("div",vs,[u(n(g.value)+" ",1),s("span",hs,"/"+n(t.value),1)])]),u(" tasks "),ms]),ps])]),s("div",gs,[s("div",ks,[s("div",bs,[s("div",fs,[s("div",ys,n(c.value),1)]),u(" works in progress ")]),$s])]),s("div",xs,[s("div",ws,[s("div",Cs,[s("div",Ns,[s("div",Ds,[u(n(k.value)+" ",1),s("span",As,"/"+n(i.value),1)])]),u(" complete "),Bs]),Ss])])]),s("div",Ts,[p(f,{to:{name:"task-create"},style:{position:"absolute"}},{default:F(()=>[js]),_:1})]),p(is)],64)}}});export{zs as default};
