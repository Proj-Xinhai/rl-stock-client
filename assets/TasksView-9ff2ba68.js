import{d as S,u as F,r as c,a as T,w as x,b as B,o as v,c as h,e as s,n as C,f as w,v as N,F as b,g as D,h as r,t as o,i as L,j as U,k as A,l as m,m as M,s as u}from"./index-3bb9b670.js";import{_ as j,a as z,b as E}from"./TheTaskCopier.vue_vue_type_script_setup_true_lang-d98b3701.js";const P={class:"ts-box u-top-spaced"},R={class:"ts-table is-celled is-single-line"},q={class:"has-cursor-pointer"},G={class:"is-collapsed is-compact"},H=["onClick"],I=["data-toggle","onDblclick"],J={class:"ts-checkbox is-solo"},K=["id","value"],O={class:"is-collapsed"},Q={class:"is-collapsed"},W=["data-name"],X={class:"is-secondary is-padded is-insetted",colspan:"4"},Y={class:"ts-grid"},Z={class:"column"},ss=s("br",null,null,-1),es=s("br",null,null,-1),ts=s("br",null,null,-1),as={class:"column is-fluid is-end-aligned",style:{"white-space":"initial !important"}},ls=S({__name:"TheTasksList",setup(V){const p=F(),l=c([]),d=c(!1),g=async()=>{l.value.length==n.value.length?l.value=[]:l.value=n.value.map(({name:k})=>k),setTimeout(()=>{d.value=l.value.length>0},0)},n=c([]),t=c("Create At"),a=c(-1),f=(k,i=!1)=>{i&&(t.value!=k?a.value=-1:a.value*=-1,t.value=k),n.value=n.value.slice().sort((_,e)=>_.date>e.date?a.value:-a.value).slice().sort((_,e)=>t.value=="Name"?_.name>e.name?a.value:-a.value:t.value=="Algorithm"?_.args.algorithm>e.args.algorithm?a.value:-a.value:t.value=="Create At"?_.date>e.date?a.value:-a.value:0)},y=()=>{n.value=u.tasks,f(t.value)};return T(()=>{y()}),x(u,()=>{y()}),x(l,()=>{d.value=l.value.length>0}),(k,i)=>{const _=B("router-link");return v(),h("div",P,[s("table",R,[s("thead",null,[s("tr",q,[s("th",G,[s("label",{class:C(["ts-checkbox is-solo",{"is-indeterminate":l.value.length>0&&l.value.length!==n.value.length}])},[w(s("input",{type:"checkbox",onClick:g,"onUpdate:modelValue":i[0]||(i[0]=e=>d.value=e)},null,512),[[N,d.value]])],2)]),(v(),h(b,null,D(["Name","Algorithm","Create At"],e=>s("th",{onClick:$=>f(e,!0)},[r(o(e)+" ",1),t.value==e?(v(),h("span",{key:0,class:C(["ts-icon",{"is-sort-down-icon":a.value==-1,"is-sort-up-icon":a.value==1}])},null,2)):L("",!0)],8,H)),64))])]),s("tbody",null,[(v(!0),h(b,null,D(n.value,e=>(v(),h(b,{key:e.name},[s("tr",{class:"has-cursor-pointer","data-toggle":e.name+":has-hidden",onDblclick:$=>U(p).push({name:"task",params:{name:e.name}})},[s("td",{class:"is-compact",onClick:i[2]||(i[2]=A(()=>{},["stop"])),onDblclick:i[3]||(i[3]=A(()=>{},["stop"]))},[s("label",J,[w(s("input",{type:"checkbox",id:e.name,value:e.name,"onUpdate:modelValue":i[1]||(i[1]=$=>l.value=$)},null,8,K),[[N,l.value]])])],32),s("td",null,o(e.name),1),s("td",O,o(e.args.algorithm),1),s("td",Q,o(e.date),1)],40,I),s("tr",{class:"has-hidden","data-name":e.name},[s("td",X,[s("div",Y,[s("div",Z,[r(" algorithm: "+o(e.args.algorithm)+" "+o(e.args.algorithm_args),1),ss,r(" learn: "+o(e.args.learn_args),1),es,r(" helper: "+o(e.args.helper),1),ts]),s("div",as,[m(_,{class:"ts-text is-link",to:{name:"task",params:{name:e.name}}},{default:M(()=>[r("manage")]),_:2},1032,["to"]),m(j,{"task-name":e.name,wrapper:"link"},null,8,["task-name"]),m(z,{taskName:e.name,wrapper:"link"},null,8,["taskName"]),m(E,{"task-name":e.name,wrapper:"link"},null,8,["task-name"])])])])],8,W)],64))),128))])])])}}}),os={class:"ts-grid is-relaxed is-3-columns u-top-spaced-large u-bottom-spaced-big"},ns={class:"column"},is={class:"ts-box"},cs={class:"ts-content"},rs={class:"ts-statistic"},ds={class:"value",style:{display:"table-cell"}},us={class:"ts-text is-secondary is-small"},_s=s("span",{class:"ts-text is-secondary"},"/works",-1),vs=s("div",{class:"symbol"},[s("span",{class:"ts-icon is-bars-progress-icon"})],-1),hs={class:"column"},ms={class:"ts-box"},ps={class:"ts-content"},gs={class:"ts-statistic"},ks={class:"value"},fs=s("div",{class:"symbol"},[s("span",{class:"ts-icon is-gears-icon"})],-1),bs={class:"column"},$s={class:"ts-box"},xs={class:"ts-content"},ys={class:"ts-statistic"},Cs={class:"value",style:{display:"table-cell"}},ws={class:"ts-text is-secondary is-negative is-small"},Ns=s("span",{class:"ts-text is-secondary is-negative"},"/failed",-1),Ds=s("div",{class:"symbol"},[s("span",{class:"ts-icon is-check-double-icon"})],-1),As={class:"ts-grid is-end-aligned"},Ss=s("button",{class:"ts-button"},"Create",-1),Ms=S({__name:"TasksView",setup(V){const p=c(0),l=c(0),d=c(0),g=c(0),n=c(0);return T(()=>{p.value=u.tasks.length,l.value=u.works.length,d.value=u.works.filter(({status:t})=>[0,1].includes(t)).length,g.value=u.works.filter(({status:t})=>t==2).length,n.value=u.works.filter(({status:t})=>t==-1).length}),x(u,t=>{p.value=t.tasks.length,l.value=t.works.length,d.value=t.works.filter(({status:a})=>[0,1].includes(a)).length,g.value=t.works.filter(({status:a})=>a==2).length,n.value=t.works.filter(({status:a})=>a==-1).length}),(t,a)=>{const f=B("router-link");return v(),h(b,null,[s("div",os,[s("div",ns,[s("div",is,[s("div",cs,[s("div",rs,[s("div",ds,[r(o(p.value)+" ",1),s("span",us,"/"+o(l.value),1)])]),r(" tasks "),_s]),vs])]),s("div",hs,[s("div",ms,[s("div",ps,[s("div",gs,[s("div",ks,o(d.value),1)]),r(" works in progress ")]),fs])]),s("div",bs,[s("div",$s,[s("div",xs,[s("div",ys,[s("div",Cs,[r(o(g.value)+" ",1),s("span",ws,"/"+o(n.value),1)])]),r(" complete "),Ns]),Ds])])]),s("div",As,[m(f,{to:{name:"task-create"}},{default:M(()=>[Ss]),_:1})]),m(ls)],64)}}});export{Ms as default};
