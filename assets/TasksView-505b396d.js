import{d as f,r as p,o as u,c as m,a as s,t as o,n as g,w as C,v as y,u as w,b as N,s as v,e as x,f as V,g as d,h as _,i as b,F as h,j as T,k as B,l as D,m as A,p as F,q as M}from"./index-939d9c73.js";import{_ as S}from"./TheTaskExporter.vue_vue_type_script_setup_true_lang-082f33ab.js";const j={class:"ts-app-drawer is-right is-small is-visible"},q={class:"content"},z={class:"ts-content"},E={class:"ts-header is-large"},I={class:"ts-input is-underlined has-top-spaced"},L=["placeholder"],O={class:"ts-wrap is-end-aligned has-top-spaced-big"},R=f({__name:"TheConfirm",props:{title:{},message:{},accent:{default:"positive"},check:{},confirm:{},cancel:{}},setup(k){const r=p("");return(e,a)=>(u(),m("div",j,[s("div",q,[s("div",z,[s("div",E,o(e.title),1),s("div",{class:g(["ts-text is-secondary has-top-spaced",{"is-negative":e.accent=="negative"}])},o(e.message),3),s("div",I,[C(s("input",{type:"text",placeholder:e.check,"onUpdate:modelValue":a[0]||(a[0]=n=>r.value=n)},null,8,L),[[y,r.value]])]),s("div",O,[s("button",{class:"ts-button is-outlined",onClick:a[1]||(a[1]=(...n)=>e.cancel&&e.cancel(...n))},"Cancel"),s("button",{class:g(["ts-button",{"is-disabled":e.check!==r.value}]),onClick:a[2]||(a[2]=(...n)=>e.confirm&&e.confirm(...n))},"Ok",2)])])])]))}}),U={class:"ts-grid is-relaxed is-3-columns u-top-spaced-large u-bottom-spaced-big"},Y={class:"column"},G={class:"ts-box"},H={class:"ts-content"},J={class:"ts-statistic"},K={class:"value"},P=s("div",{class:"symbol"},[s("span",{class:"ts-icon is-bars-progress-icon"})],-1),Q=A('<div class="column"><div class="ts-box"><div class="ts-content"><div class="ts-statistic"><div class="value">0</div></div> complete </div><div class="symbol"><span class="ts-icon is-check-double-icon"></span></div></div></div><div class="column"><div class="ts-box"><div class="ts-content"><div class="ts-statistic"><div class="value">0</div></div> failed </div><div class="symbol"><span class="ts-icon is-circle-exclamation-icon"></span></div></div></div>',2),W={class:"ts-grid is-end-aligned"},X=s("button",{class:"ts-button"},"Create",-1),Z={class:"ts-box u-top-spaced"},ss={class:"ts-table is-celled is-single-line"},es=s("thead",null,[s("tr",null,[s("th",null,"Name"),s("th",{class:"is-collapsed"},"Algorithm"),s("th",{class:"is-collapsed"},[d("Create At "),s("span",{class:"ts-icon is-sort-down-icon"})])])],-1),ts=["data-toggle","onDblclick"],as=["data-name"],os={class:"is-secondary is-padded is-insetted",colspan:"3"},ns={class:"ts-grid"},ls={class:"column"},is=s("br",null,null,-1),cs=s("br",null,null,-1),ds=s("br",null,null,-1),rs={class:"column is-fluid is-end-aligned"},us=["onClick"],_s=f({__name:"TasksView",setup(k){const r=w(),e=p([]),a=p(""),n=l=>{v.loading=!0,F.emit("remove_task",l,(i,c,t)=>{i||alert(`${c}: remove task ${l} failed: ${t}`),a.value="",v.loading=!1})};return N(()=>{e.value=v.tasks,e.value.sort((l,i)=>l.date>i.date?-1:1)}),x(v,l=>{e.value=l.tasks,e.value.sort((i,c)=>i.date>c.date?-1:1)}),(l,i)=>{const c=V("router-link");return u(),m(h,null,[s("div",U,[s("div",Y,[s("div",G,[s("div",H,[s("div",J,[s("div",K,o(e.value.length),1)]),d(" tasks ")]),P])]),Q]),s("div",W,[_(c,{to:{name:"task-create"}},{default:b(()=>[X]),_:1})]),s("div",Z,[s("table",ss,[es,s("tbody",null,[(u(!0),m(h,null,T(e.value,t=>(u(),m(h,{key:t.name},[s("tr",{class:"has-cursor-pointer","data-toggle":t.name+":has-hidden",onDblclick:$=>M(r).push({name:"task",params:{name:t.name}})},[s("td",null,o(t.name),1),s("td",null,o(t.args.algorithm),1),s("td",null,o(t.date),1)],40,ts),s("tr",{class:"has-hidden","data-name":t.name},[s("td",os,[s("div",ns,[s("div",ls,[d(" algorithm: "+o(t.args.algorithm)+" "+o(t.args.algorithm_args),1),is,d(" learn: "+o(t.args.learn_args),1),cs,d(" helper: "+o(t.args.helper),1),ds]),s("div",rs,[_(c,{class:"ts-text is-link",to:{name:"task",params:{name:t.name}}},{default:b(()=>[d("manage")]),_:2},1032,["to"]),s("a",{class:"ts-text is-link has-cursor-pointer",onClick:$=>a.value=t.name},"remove",8,us),_(S,{taskName:t.name,wrapper:"link"},null,8,["taskName"])])])])],8,as)],64))),128))])])]),a.value!==""?(u(),B(R,{key:0,title:"Confirm removal",accent:"negative",message:`You are about to remove task \`${a.value}\``,check:a.value,confirm:()=>n(a.value),cancel:()=>a.value=""},null,8,["message","check","confirm","cancel"])):D("",!0)],64)}}});export{_s as default};
