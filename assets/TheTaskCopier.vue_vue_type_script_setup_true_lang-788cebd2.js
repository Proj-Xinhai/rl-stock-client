import{d as u,r as v,o as i,c as r,e as t,t as m,n as k,h as f,q as b,f as g,g as y,F as C,s as p,x as h,u as $}from"./index-abfb0180.js";const w={class:"ts-app-drawer is-right is-small is-visible"},N={class:"content"},T={class:"ts-content"},R={class:"ts-header is-large"},B={class:"ts-input is-underlined has-top-spaced"},E=["placeholder"],O={class:"ts-wrap is-end-aligned has-top-spaced-big"},U=u({__name:"TheConfirm",props:{title:{},message:{},accent:{default:"positive"},check:{},confirm:{},cancel:{}},setup(c){const n=v("");return(e,o)=>(i(),r("div",w,[t("div",N,[t("div",T,[t("div",R,m(e.title),1),t("div",{class:k(["ts-text is-secondary has-top-spaced",{"is-negative":e.accent=="negative"}])},m(e.message),3),t("div",B,[f(t("input",{type:"text",placeholder:e.check,"onUpdate:modelValue":o[0]||(o[0]=s=>n.value=s)},null,8,E),[[b,n.value]])]),t("div",O,[t("button",{class:"ts-button is-outlined",onClick:o[1]||(o[1]=(...s)=>e.cancel&&e.cancel(...s))},"Cancel"),t("button",{class:k(["ts-button",{"is-disabled":e.check!==n.value}]),onClick:o[2]||(o[2]=(...s)=>e.confirm&&e.confirm(...s))},"Ok",2)])])])]))}}),j={key:0},x={key:1},S=u({__name:"TheTaskRemover",props:{taskName:{},wrapper:{}},setup(c){const n=c,e=v(""),o=()=>{p.loading=!0,h.emit("remove_task",n.taskName,(s,a,l)=>{s||alert(`${a}: remove task ${n.taskName} failed: ${l}`),e.value="",p.loading=!1})};return(s,a)=>(i(),r(C,null,[s.wrapper=="button"?(i(),r("div",j,[t("button",{class:"ts-button is-outlined is-negative",onClick:a[0]||(a[0]=l=>e.value=s.taskName)},"Remove")])):(i(),r("div",x,[t("a",{class:"ts-text is-link has-cursor-pointer",onClick:a[1]||(a[1]=l=>e.value=s.taskName)},"Remove")])),e.value!==""?(i(),g(U,{key:2,title:"Confirm removal",accent:"negative",message:`You are about to remove task \`${e.value}\``,check:e.value,confirm:()=>o(),cancel:()=>e.value=""},null,8,["message","check","confirm","cancel"])):y("",!0)],64))}}),L={key:0},V={key:1},z=u({__name:"TheTaskExporter",props:{taskName:{},wrapper:{}},setup(c){const n=c,e=s=>{const a=s.shift();h.emit("export_task",a,l=>{const _=new Blob([JSON.stringify(l)],{type:"application/json"}),d=window.URL.createObjectURL(_);Object.assign(document.createElement("a"),{href:d,download:`${a}.rlstask`}).click(),window.URL.revokeObjectURL(d),s.length>0?e(s):p.loading=!1})},o=()=>{p.loading=!0,e(n.taskName.split(","))};return(s,a)=>s.wrapper=="button"?(i(),r("div",L,[t("button",{class:"ts-button is-outlined",onClick:o},"Export")])):(i(),r("div",V,[t("a",{class:"ts-text is-link has-cursor-pointer",onClick:o},"Export")]))}}),q={key:0},D={key:1},I=u({__name:"TheTaskCopier",props:{taskName:{},wrapper:{}},setup(c){const n=c,e=$(),o=()=>{e.push({name:"task-create",query:{copy:n.taskName}})};return(s,a)=>s.wrapper=="button"?(i(),r("div",q,[t("button",{class:"ts-button is-outlined",onClick:o},"Copy")])):(i(),r("div",D,[t("a",{class:"ts-text is-link has-cursor-pointer",onClick:o},"Copy")]))}});export{S as _,z as a,I as b};
