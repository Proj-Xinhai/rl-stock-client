import{d as g,u as b,r as k,a as f,s as c,w as x,b as y,o as r,c as _,e as s,t as a,f as i,g as v,h as m,F as u,i as C,j as w,k as N,l as V}from"./index-ba378570.js";const $={class:"ts-grid is-relaxed is-3-columns u-top-spaced-large u-bottom-spaced-big"},B={class:"column"},D={class:"ts-box"},T={class:"ts-content"},A={class:"ts-statistic"},F={class:"value"},S=s("div",{class:"symbol"},[s("span",{class:"ts-icon is-bars-progress-icon"})],-1),j=w('<div class="column"><div class="ts-box"><div class="ts-content"><div class="ts-statistic"><div class="value">0</div></div> complete </div><div class="symbol"><span class="ts-icon is-check-double-icon"></span></div></div></div><div class="column"><div class="ts-box"><div class="ts-content"><div class="ts-statistic"><div class="value">0</div></div> failed </div><div class="symbol"><span class="ts-icon is-circle-exclamation-icon"></span></div></div></div>',2),E={class:"ts-grid is-end-aligned"},L=s("button",{class:"ts-button"},"Create",-1),M={class:"ts-box u-top-spaced"},R={class:"ts-table is-celled is-single-line"},q=s("thead",null,[s("tr",null,[s("th",null,"Name"),s("th",{class:"is-collapsed"},"Algorithm"),s("th",{class:"is-collapsed"},[i("Create At "),s("span",{class:"ts-icon is-sort-down-icon"})])])],-1),z=["data-toggle","onDblclick"],G=["data-name"],H={class:"is-secondary is-padded is-insetted",colspan:"3"},I={class:"ts-grid"},J={class:"column"},K=s("br",null,null,-1),O=s("br",null,null,-1),P=s("br",null,null,-1),Q={class:"column is-fluid is-end-aligned"},U=["onClick"],Y=g({__name:"TasksView",setup(W){const h=b(),o=k([]),p=e=>{console.log(e),V.emit("remove_task",e,(l,n,t)=>{l?c.tasks=c.tasks.filter(d=>d.name!=e):alert(`remove task ${e} failed: ${t}`)})};return f(()=>{o.value=c.tasks,o.value.sort((e,l)=>e.date>l.date?-1:1)}),x(c,e=>{o.value=e.tasks,o.value.sort((l,n)=>l.date>n.date?-1:1)}),(e,l)=>{const n=y("router-link");return r(),_(u,null,[s("div",$,[s("div",B,[s("div",D,[s("div",T,[s("div",A,[s("div",F,a(o.value.length),1)]),i(" tasks ")]),S])]),j]),s("div",E,[v(n,{to:{name:"task-create"}},{default:m(()=>[L]),_:1})]),s("div",M,[s("table",R,[q,s("tbody",null,[(r(!0),_(u,null,C(o.value,t=>(r(),_(u,{key:t.name},[s("tr",{class:"has-cursor-pointer","data-toggle":t.name+":has-hidden",onDblclick:d=>N(h).push({name:"task",params:{name:t.name}})},[s("td",null,a(t.name),1),s("td",null,a(t.args.algorithm),1),s("td",null,a(t.date),1)],40,z),s("tr",{class:"has-hidden","data-name":t.name},[s("td",H,[s("div",I,[s("div",J,[i(" algorithm: "+a(t.args.algorithm)+" "+a(t.args.algorithm_args),1),K,i(" learn: "+a(t.args.learn_args),1),O,i(" helper: "+a(t.args.helper),1),P]),s("div",Q,[v(n,{class:"ts-text is-link",to:{name:"task",params:{name:t.name}}},{default:m(()=>[i("manage")]),_:2},1032,["to"]),s("a",{class:"ts-text is-link has-cursor-pointer",onClick:d=>p(t.name)},"remove",8,U)])])])],8,G)],64))),128))])])])],64)}}});export{Y as default};
