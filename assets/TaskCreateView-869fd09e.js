import{d as L,u as M,r as c,b as N,e as j,o as a,c as l,a as s,g as D,w as d,x as O,t as p,v as h,y as U,F as m,j as w,s as g,p as R}from"./index-cfffd8b8.js";const I={class:"ts-notice is-negative u-bottom-spaced"},J=s("div",{class:"title"},"Error",-1),q={class:"content"},z={class:"ts-wrap is-vertical"},G={class:"ts-control"},H=s("div",{class:"label is-start-aligned"},"name",-1),K={class:"content"},P={class:"ts-input"},Q={class:"ts-control"},W=s("div",{class:"label is-start-aligned"},"algorithm",-1),X={class:"content"},Y={class:"ts-select is-fluid"},Z=["value"],ss=s("option",{selected:"",disabled:"",hidden:""},"Choose algorithm",-1),es={class:"ts-control u-top-spaced-big"},ts=s("div",{class:"label is-start-aligned"},"algorithm_args",-1),os={class:"content"},as=s("div",{class:"column is-5-wide"},[s("span",{class:"ts-text is-secondary"},"key")],-1),ls=s("div",{class:"column is-10-wide"},[s("span",{class:"ts-text is-secondary"},"value")],-1),ns={class:"column is-5-wide"},is={class:"ts-input"},cs=["onUpdate:modelValue"],ds={class:"column is-10-wide"},us={class:"ts-input"},rs=["onUpdate:modelValue"],_s={class:"column is-1-wide"},vs=["onClick"],ps={class:"ts-control u-top-spaced-big u-bottom-spaced-big"},hs=s("div",{class:"label is-start-aligned"},"learn_args",-1),ms={class:"content"},gs=s("div",{class:"column is-5-wide"},[s("span",{class:"ts-text is-secondary"},"key")],-1),ks=s("div",{class:"column is-10-wide"},[s("span",{class:"ts-text is-secondary"},"value")],-1),ys={class:"column is-5-wide"},bs={class:"ts-input"},ws=["onUpdate:modelValue"],fs={class:"column is-10-wide"},xs={class:"ts-input"},Cs=["onUpdate:modelValue"],Vs={class:"column is-1-wide"},Us=["onClick"],As={class:"ts-control"},Ts=s("div",{class:"label is-start-aligned"},"helper",-1),Es={class:"content"},Ss={class:"ts-select is-fluid"},$s=["value"],Bs=s("option",{selected:"",disabled:"",hidden:""},"Choose helper",-1),Fs=s("div",{class:"label is-start-aligned"},null,-1),Ns=L({__name:"TaskCreateView",setup(Ls){const A=M(),x=c([]),C=c([]),k=c(""),y=c(""),r=c([]),_=c([]),b=c(""),f=c(""),V=()=>{x.value=g.algorithms,C.value=g.helpers},T=()=>{r.value.push({key:"",value:""})},E=n=>{r.value.splice(n,1)},S=()=>{_.value.push({key:"",value:""})},$=n=>{_.value.splice(n,1)},B=()=>{g.loading=!0;const n={},i={};r.value.forEach(e=>{n[e.key]=e.value}),_.value.forEach(e=>{i[e.key]=e.value}),R.emit("create_task",{name:k.value,algorithm:y.value,algorithm_args:n,learn_args:i,helper:b.value},(e,o,t)=>{g.loading=!1,e?A.push({name:"tasks"}):f.value=`${o}: ${t}`})},F=()=>{const n=document.createElement("input");n.type="file",n.accept=".json",n.onchange=i=>{const e=i.target;if(e.files!=null){const o=e.files[0],t=new FileReader;t.readAsText(o),t.onload=()=>{const u=JSON.parse(t.result);k.value=u.name,y.value=u.algorithm,r.value=[],_.value=[];for(const v in u.algorithm_args)r.value.push({key:v,value:u.algorithm_args[v]});for(const v in u.learn_args)_.value.push({key:v,value:u.learn_args[v]});b.value=u.helper}}},n.click()};return N(()=>{V()}),j(g,()=>{V()}),(n,i)=>(a(),l(m,null,[s("div",{class:"ts-header is-huge u-bottom-spaced-big"},[D("Create Task "),s("button",{class:"ts-button is-outlined has-start-spaced",onClick:F},"Import")]),d(s("div",I,[J,s("div",q,p(f.value),1)],512),[[O,f.value!=""]]),s("div",z,[s("div",G,[H,s("div",K,[s("div",P,[d(s("input",{type:"text","onUpdate:modelValue":i[0]||(i[0]=e=>k.value=e)},null,512),[[h,k.value]])])])]),s("div",Q,[W,s("div",X,[s("div",Y,[d(s("select",{class:"ts-text is-secondary","onUpdate:modelValue":i[1]||(i[1]=e=>y.value=e)},[(a(!0),l(m,null,w(x.value,e=>(a(),l("option",{value:e.name,key:e.name},p(e.name)+": "+p(e.description),9,Z))),128)),ss],512),[[U,y.value]])])])]),s("div",es,[ts,s("div",os,[s("div",{class:"ts-grid is-middle-aligned"},[as,ls,s("div",{class:"column is-1-wide"},[s("span",{class:"ts-icon is-plus-icon has-cursor-pointer",onClick:T})])]),(a(!0),l(m,null,w(r.value,(e,o)=>(a(),l("div",{class:"ts-grid is-middle-aligned u-top-spaced",key:o},[s("div",ns,[s("div",is,[d((a(),l("input",{type:"text","onUpdate:modelValue":t=>e.key=t,key:o},null,8,cs)),[[h,e.key]])])]),s("div",ds,[s("div",us,[d((a(),l("input",{type:"text","onUpdate:modelValue":t=>e.value=t,key:o},null,8,rs)),[[h,e.value]])])]),s("div",_s,[s("span",{class:"ts-icon is-minus-icon has-cursor-pointer",onClick:t=>E(o)},null,8,vs)])]))),128))])]),s("div",ps,[hs,s("div",ms,[s("div",{class:"ts-grid is-middle-aligned"},[gs,ks,s("div",{class:"column is-1-wide"},[s("span",{class:"ts-icon is-plus-icon has-cursor-pointer",onClick:S})])]),(a(!0),l(m,null,w(_.value,(e,o)=>(a(),l("div",{class:"ts-grid is-middle-aligned u-top-spaced",key:o},[s("div",ys,[s("div",bs,[d((a(),l("input",{type:"text","onUpdate:modelValue":t=>e.key=t,key:o},null,8,ws)),[[h,e.key]])])]),s("div",fs,[s("div",xs,[d((a(),l("input",{type:"text","onUpdate:modelValue":t=>e.value=t,key:o},null,8,Cs)),[[h,e.value]])])]),s("div",Vs,[s("span",{class:"ts-icon is-minus-icon has-cursor-pointer",onClick:t=>$(o)},null,8,Us)])]))),128))])]),s("div",As,[Ts,s("div",Es,[s("div",Ss,[d(s("select",{class:"ts-text is-secondary","onUpdate:modelValue":i[2]||(i[2]=e=>b.value=e)},[(a(!0),l(m,null,w(C.value,e=>(a(),l("option",{value:e.name,key:e.name},p(e.name)+": "+p(e.description),9,$s))),128)),Bs],512),[[U,b.value]])])])]),s("div",{class:"ts-control"},[Fs,s("div",{class:"content"},[s("div",{class:"ts-content is-end-aligned"},[s("button",{class:"ts-button",onClick:B},"Create")])])])])],64))}});export{Ns as default};
