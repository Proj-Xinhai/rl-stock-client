import{d as m,r as k,o as i,c,e as o,t as v,n as h,h as C,q as y,f as $,g as w,F as T,s as d,x as _,u as N}from"./index-f718dfe6.js";const R={class:"ts-app-drawer is-right is-small is-visible"},x={class:"content"},j={class:"ts-content"},B={class:"ts-header is-large"},E={class:"ts-input is-underlined has-top-spaced"},O=["placeholder"],U={class:"ts-wrap is-end-aligned has-top-spaced-big"},L=m({__name:"TheConfirm",props:{title:{},message:{},accent:{default:"positive"},check:{},confirm:{},cancel:{}},setup(r){const n=k("");return(e,s)=>(i(),c("div",R,[o("div",x,[o("div",j,[o("div",B,v(e.title),1),o("div",{class:h(["ts-text is-secondary has-top-spaced",{"is-negative":e.accent=="negative"}])},v(e.message),3),o("div",E,[C(o("input",{type:"text",placeholder:e.check,"onUpdate:modelValue":s[0]||(s[0]=t=>n.value=t)},null,8,O),[[y,n.value]])]),o("div",U,[o("button",{class:"ts-button is-outlined",onClick:s[1]||(s[1]=(...t)=>e.cancel&&e.cancel(...t))},"Cancel"),o("button",{class:h(["ts-button",{"is-disabled":e.check!==n.value}]),onClick:s[2]||(s[2]=(...t)=>e.confirm&&e.confirm(...t))},"Ok",2)])])])]))}}),V={key:0},q={key:1},I=m({__name:"TheTaskRemover",props:{taskName:{},wrapper:{}},setup(r){const n=r,e=k(""),s=k(""),t=a=>{const p=a.shift();_.emit("remove_task",p,(f,g,b)=>{f||alert(`${g}: remove task ${p} failed: ${b}`),a.length>0?t(a):(d.loading=!1,e.value="")})},l=()=>{d.loading=!0,t(n.taskName.split(","))},u=()=>{const a=n.taskName.split(",");a.length==1?(e.value=a[0],s.value=`You are about to remove task \`${a[0]}\``):(e.value=`remove ${a.length} tasks`,s.value=`You are about to remove ${a.length} tasks: \`${a.join(", ")}\``)};return(a,p)=>(i(),c(T,null,[a.wrapper=="button"?(i(),c("div",V,[o("button",{class:"ts-button is-outlined is-negative",onClick:u},"Remove")])):(i(),c("div",q,[o("a",{class:"ts-text is-link has-cursor-pointer",onClick:u},"Remove")])),e.value!==""?(i(),$(L,{key:2,title:"Confirm removal",accent:"negative",message:s.value,check:e.value,confirm:()=>l(),cancel:()=>e.value=""},null,8,["message","check","confirm","cancel"])):w("",!0)],64))}}),D={key:0},F={key:1},J=m({__name:"TheTaskExporter",props:{taskName:{},wrapper:{}},setup(r){const n=r,e=t=>{const l=t.shift();_.emit("export_task",l,u=>{const a=new Blob([JSON.stringify(u)],{type:"application/json"}),p=window.URL.createObjectURL(a);Object.assign(document.createElement("a"),{href:p,download:`${l}.rlstask`}).click(),window.URL.revokeObjectURL(p),t.length>0?e(t):d.loading=!1})},s=()=>{d.loading=!0,e(n.taskName.split(","))};return(t,l)=>t.wrapper=="button"?(i(),c("div",D,[o("button",{class:"ts-button is-outlined",onClick:s},"Export")])):(i(),c("div",F,[o("a",{class:"ts-text is-link has-cursor-pointer",onClick:s},"Export")]))}}),S={key:0},Y={key:1},M=m({__name:"TheTaskCopier",props:{taskName:{},wrapper:{}},setup(r){const n=r,e=N(),s=()=>{e.push({name:"task-create",query:{copy:n.taskName}})};return(t,l)=>t.wrapper=="button"?(i(),c("div",S,[o("button",{class:"ts-button is-outlined",onClick:s},"Copy")])):(i(),c("div",Y,[o("a",{class:"ts-text is-link has-cursor-pointer",onClick:s},"Copy")]))}});export{I as _,J as a,M as b};
