import{d as A,o as t,c as a,u as j,r,b as B,e as F,a as s,g as L,h as M,w as u,x as O,t as g,v as k,y as T,F as y,j as w,s as b,p as D}from"./index-172358f3.js";const I=A({__name:"TheTaskImporter",props:{parentWrapper:{}},setup(C){const x=C,f=()=>{const l=x.parentWrapper;Object.assign(document.createElement("input"),{type:"file",accept:".json",onchange:_=>{const p=_.target;if(p.files){const v=p.files[0],c=new FileReader;c.readAsText(v),c.onload=()=>{const o=JSON.parse(c.result);l.name.value=o.name,l.algorithm.value=o.algorithm,l.algorithm_args.value=[],l.learn_args.value=[];for(const h in o.algorithm_args)l.algorithm_args.value.push({key:h,value:o.algorithm_args[h]});for(const h in o.learn_args)l.learn_args.value.push({key:h,value:o.learn_args[h]});l.helper.value=o.helper}}}}).click()};return(l,_)=>(t(),a("button",{class:"ts-button is-outlined has-start-spaced",onClick:f},"Import"))}}),R={class:"ts-header is-huge u-bottom-spaced-big"},J={class:"ts-notice is-negative u-bottom-spaced"},q=s("div",{class:"title"},"Error",-1),z={class:"content"},G={class:"ts-wrap is-vertical"},H={class:"ts-control"},K=s("div",{class:"label is-start-aligned"},"name",-1),P={class:"content"},Q={class:"ts-input"},X={class:"ts-control"},Y=s("div",{class:"label is-start-aligned"},"algorithm",-1),Z={class:"content"},ss={class:"ts-select is-fluid"},es=["value"],ts=s("option",{selected:"",disabled:"",hidden:""},"Choose algorithm",-1),as={class:"ts-control u-top-spaced-big"},os=s("div",{class:"label is-start-aligned"},"algorithm_args",-1),ls={class:"content"},ns=s("div",{class:"column is-5-wide"},[s("span",{class:"ts-text is-secondary"},"key")],-1),is=s("div",{class:"column is-10-wide"},[s("span",{class:"ts-text is-secondary"},"value")],-1),cs={class:"column is-5-wide"},ds={class:"ts-input"},rs=["onUpdate:modelValue"],us={class:"column is-10-wide"},_s={class:"ts-input"},ps=["onUpdate:modelValue"],vs={class:"column is-1-wide"},hs=["onClick"],ms={class:"ts-control u-top-spaced-big u-bottom-spaced-big"},gs=s("div",{class:"label is-start-aligned"},"learn_args",-1),ks={class:"content"},ys=s("div",{class:"column is-5-wide"},[s("span",{class:"ts-text is-secondary"},"key")],-1),bs=s("div",{class:"column is-10-wide"},[s("span",{class:"ts-text is-secondary"},"value")],-1),fs={class:"column is-5-wide"},ws={class:"ts-input"},xs=["onUpdate:modelValue"],Vs={class:"column is-10-wide"},Cs={class:"ts-input"},Us=["onUpdate:modelValue"],Ts={class:"column is-1-wide"},As=["onClick"],Es={class:"ts-control"},$s=s("div",{class:"label is-start-aligned"},"helper",-1),Ns={class:"content"},Ss={class:"ts-select is-fluid"},Ws=["value"],js=s("option",{selected:"",disabled:"",hidden:""},"Choose helper",-1),Bs=s("div",{class:"label is-start-aligned"},null,-1),Ls=A({__name:"TaskCreateView",setup(C){const x=j(),f=r([]),l=r([]),_=r(""),p=r(""),v=r([]),c=r([]),o=r(""),h={name:_,algorithm:p,algorithm_args:v,learn_args:c,helper:o},V=r(""),U=()=>{f.value=b.algorithms,l.value=b.helpers},E=()=>{v.value.push({key:"",value:""})},$=m=>{v.value.splice(m,1)},N=()=>{c.value.push({key:"",value:""})},S=m=>{c.value.splice(m,1)},W=()=>{b.loading=!0;const m={},d={};v.value.forEach(e=>{m[e.key]=e.value}),c.value.forEach(e=>{d[e.key]=e.value}),D.emit("create_task",{name:_.value,algorithm:p.value,algorithm_args:m,learn_args:d,helper:o.value},(e,n,i)=>{b.loading=!1,e?x.push({name:"tasks"}):V.value=`${n}: ${i}`})};return B(()=>{U()}),F(b,()=>{U()}),(m,d)=>(t(),a(y,null,[s("div",R,[L("Create Task "),M(I,{parentWrapper:h})]),u(s("div",J,[q,s("div",z,g(V.value),1)],512),[[O,V.value!=""]]),s("div",G,[s("div",H,[K,s("div",P,[s("div",Q,[u(s("input",{type:"text","onUpdate:modelValue":d[0]||(d[0]=e=>_.value=e)},null,512),[[k,_.value]])])])]),s("div",X,[Y,s("div",Z,[s("div",ss,[u(s("select",{class:"ts-text is-secondary","onUpdate:modelValue":d[1]||(d[1]=e=>p.value=e)},[(t(!0),a(y,null,w(f.value,e=>(t(),a("option",{value:e.name,key:e.name},g(e.name)+": "+g(e.description),9,es))),128)),ts],512),[[T,p.value]])])])]),s("div",as,[os,s("div",ls,[s("div",{class:"ts-grid is-middle-aligned"},[ns,is,s("div",{class:"column is-1-wide"},[s("span",{class:"ts-icon is-plus-icon has-cursor-pointer",onClick:E})])]),(t(!0),a(y,null,w(v.value,(e,n)=>(t(),a("div",{class:"ts-grid is-middle-aligned u-top-spaced",key:n},[s("div",cs,[s("div",ds,[u((t(),a("input",{type:"text","onUpdate:modelValue":i=>e.key=i,key:n},null,8,rs)),[[k,e.key]])])]),s("div",us,[s("div",_s,[u((t(),a("input",{type:"text","onUpdate:modelValue":i=>e.value=i,key:n},null,8,ps)),[[k,e.value]])])]),s("div",vs,[s("span",{class:"ts-icon is-minus-icon has-cursor-pointer",onClick:i=>$(n)},null,8,hs)])]))),128))])]),s("div",ms,[gs,s("div",ks,[s("div",{class:"ts-grid is-middle-aligned"},[ys,bs,s("div",{class:"column is-1-wide"},[s("span",{class:"ts-icon is-plus-icon has-cursor-pointer",onClick:N})])]),(t(!0),a(y,null,w(c.value,(e,n)=>(t(),a("div",{class:"ts-grid is-middle-aligned u-top-spaced",key:n},[s("div",fs,[s("div",ws,[u((t(),a("input",{type:"text","onUpdate:modelValue":i=>e.key=i,key:n},null,8,xs)),[[k,e.key]])])]),s("div",Vs,[s("div",Cs,[u((t(),a("input",{type:"text","onUpdate:modelValue":i=>e.value=i,key:n},null,8,Us)),[[k,e.value]])])]),s("div",Ts,[s("span",{class:"ts-icon is-minus-icon has-cursor-pointer",onClick:i=>S(n)},null,8,As)])]))),128))])]),s("div",Es,[$s,s("div",Ns,[s("div",Ss,[u(s("select",{class:"ts-text is-secondary","onUpdate:modelValue":d[2]||(d[2]=e=>o.value=e)},[(t(!0),a(y,null,w(l.value,e=>(t(),a("option",{value:e.name,key:e.name},g(e.name)+": "+g(e.description),9,Ws))),128)),js],512),[[T,o.value]])])])]),s("div",{class:"ts-control"},[Bs,s("div",{class:"content"},[s("div",{class:"ts-content is-end-aligned"},[s("button",{class:"ts-button",onClick:W},"Create")])])])])],64))}});export{Ls as default};
