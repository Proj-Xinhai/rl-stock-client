import{d as f,r as h,o as u,c as m,a as s,t as o,n as p,w as $,v as y,u as w,b as x,s as v,e as V,f as N,g as d,h as g,i as b,F as _,j as T,k as B,l as D,m as A,p as F,q as M}from"./index-f5e37473.js";const S={class:"ts-app-drawer is-right is-small is-visible"},j={class:"content"},q={class:"ts-content"},z={class:"ts-header is-large"},E={class:"ts-input is-underlined has-top-spaced"},I=["placeholder"],L={class:"ts-wrap is-end-aligned has-top-spaced-big"},O=f({__name:"TheConfirm",props:{title:{},message:{},accent:{default:"positive"},check:{},confirm:{},cancel:{}},setup(k){const r=h("");return(e,a)=>(u(),m("div",S,[s("div",j,[s("div",q,[s("div",z,o(e.title),1),s("div",{class:p(["ts-text is-secondary has-top-spaced",{"is-negative":e.accent=="negative"}])},o(e.message),3),s("div",E,[$(s("input",{type:"text",placeholder:e.check,"onUpdate:modelValue":a[0]||(a[0]=n=>r.value=n)},null,8,I),[[y,r.value]])]),s("div",L,[s("button",{class:"ts-button is-outlined",onClick:a[1]||(a[1]=(...n)=>e.cancel&&e.cancel(...n))},"Cancel"),s("button",{class:p(["ts-button",{"is-disabled":e.check!==r.value}]),onClick:a[2]||(a[2]=(...n)=>e.confirm&&e.confirm(...n))},"Ok",2)])])])]))}}),R={class:"ts-grid is-relaxed is-3-columns u-top-spaced-large u-bottom-spaced-big"},U={class:"column"},Y={class:"ts-box"},G={class:"ts-content"},H={class:"ts-statistic"},J={class:"value"},K=s("div",{class:"symbol"},[s("span",{class:"ts-icon is-bars-progress-icon"})],-1),P=A('<div class="column"><div class="ts-box"><div class="ts-content"><div class="ts-statistic"><div class="value">0</div></div> complete </div><div class="symbol"><span class="ts-icon is-check-double-icon"></span></div></div></div><div class="column"><div class="ts-box"><div class="ts-content"><div class="ts-statistic"><div class="value">0</div></div> failed </div><div class="symbol"><span class="ts-icon is-circle-exclamation-icon"></span></div></div></div>',2),Q={class:"ts-grid is-end-aligned"},W=s("button",{class:"ts-button"},"Create",-1),X={class:"ts-box u-top-spaced"},Z={class:"ts-table is-celled is-single-line"},ss=s("thead",null,[s("tr",null,[s("th",null,"Name"),s("th",{class:"is-collapsed"},"Algorithm"),s("th",{class:"is-collapsed"},[d("Create At "),s("span",{class:"ts-icon is-sort-down-icon"})])])],-1),es=["data-toggle","onDblclick"],ts=["data-name"],as={class:"is-secondary is-padded is-insetted",colspan:"3"},os={class:"ts-grid"},ns={class:"column"},ls=s("br",null,null,-1),is=s("br",null,null,-1),cs=s("br",null,null,-1),ds={class:"column is-fluid is-end-aligned"},rs=["onClick"],vs=f({__name:"TasksView",setup(k){const r=w(),e=h([]),a=h(""),n=l=>{v.loading=!0,F.emit("remove_task",l,(i,c,t)=>{i||alert(`${c}: remove task ${l} failed: ${t}`),a.value="",v.loading=!1})};return x(()=>{e.value=v.tasks,e.value.sort((l,i)=>l.date>i.date?-1:1)}),V(v,l=>{e.value=l.tasks,e.value.sort((i,c)=>i.date>c.date?-1:1)}),(l,i)=>{const c=N("router-link");return u(),m(_,null,[s("div",R,[s("div",U,[s("div",Y,[s("div",G,[s("div",H,[s("div",J,o(e.value.length),1)]),d(" tasks ")]),K])]),P]),s("div",Q,[g(c,{to:{name:"task-create"}},{default:b(()=>[W]),_:1})]),s("div",X,[s("table",Z,[ss,s("tbody",null,[(u(!0),m(_,null,T(e.value,t=>(u(),m(_,{key:t.name},[s("tr",{class:"has-cursor-pointer","data-toggle":t.name+":has-hidden",onDblclick:C=>M(r).push({name:"task",params:{name:t.name}})},[s("td",null,o(t.name),1),s("td",null,o(t.args.algorithm),1),s("td",null,o(t.date),1)],40,es),s("tr",{class:"has-hidden","data-name":t.name},[s("td",as,[s("div",os,[s("div",ns,[d(" algorithm: "+o(t.args.algorithm)+" "+o(t.args.algorithm_args),1),ls,d(" learn: "+o(t.args.learn_args),1),is,d(" helper: "+o(t.args.helper),1),cs]),s("div",ds,[g(c,{class:"ts-text is-link",to:{name:"task",params:{name:t.name}}},{default:b(()=>[d("manage")]),_:2},1032,["to"]),s("a",{class:"ts-text is-link has-cursor-pointer",onClick:C=>a.value=t.name},"remove",8,rs)])])])],8,ts)],64))),128))])])]),a.value!==""?(u(),B(O,{key:0,title:"Confirm removal",accent:"negative",message:`You are about to remove task \`${a.value}\``,check:a.value,confirm:()=>n(a.value),cancel:()=>a.value=""},null,8,["message","check","confirm","cancel"])):D("",!0)],64)}}});export{vs as default};
