import{d as Hn,r as Ta,a as On,B as El,o as Ir,c as Ur,p as Ui,q as Ba,F as Ya,i as mn,e as br,t as ma,g as Nl,k as ja,m as Fl,_ as zl,u as Il,y as _l,w as Hl,n as Qa,s as $a,C as Ol,f as Bl}from"./index-080ec945.js";import{g as Yl}from"./_commonjsHelpers-725317a4.js";var Gi={exports:{}};(function(Ia,$r){(function(Cr,Nr){Ia.exports=Nr()})(self,function(){return function(){var la={8847:function(te,z,e){var l=e(1828),g={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var s in g){var i=s.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");l.addStyleRule(i,g[s])}},8222:function(te,z,e){te.exports=e(2887)},7206:function(te,z,e){te.exports=e(822)},9509:function(te,z,e){te.exports=e(2201)},9548:function(te,z,e){te.exports=e(8729)},1039:function(te,z,e){te.exports=e(4382)},4296:function(te,z,e){te.exports=e(3102)},2576:function(te,z,e){var l=e(9548);l.register([e(7206),e(4201),e(8222),e(1039),e(4296),e(6398),e(9509)]),te.exports=l},4201:function(te,z,e){te.exports=e(8810)},6398:function(te,z,e){te.exports=e(2275)},2884:function(te){te.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},215:function(te,z,e){var l=e(2884),g=e(1940),s=e(5555),i=e(4467).templatedArray;e(4695),te.exports=i("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:g({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:l.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:l.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",s.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",s.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",s.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",s.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:g({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},3749:function(te,z,e){var l=e(1828),g=e(9298),s=e(2605).draw;te.exports=function(o){var n=o._fullLayout,t=l.filterVisible(n.annotations);if(t.length&&o._fullData.length)return l.syncOrAsync([s,i],o)};function i(f){var o=f._fullLayout;l.filterVisible(o.annotations).forEach(function(n){var t=g.getFromId(f,n.xref),u=g.getFromId(f,n.yref),h=g.getRefType(n.xref),m=g.getRefType(n.yref);n._extremes={},h==="range"&&r(n,t),m==="range"&&r(n,u)})}function r(f,o){var n=o._id,t=n.charAt(0),u=f[t],h=f["a"+t],m=f[t+"ref"],y=f["a"+t+"ref"],d=f["_"+t+"padplus"],T=f["_"+t+"padminus"],x={x:1,y:-1}[t]*f[t+"shift"],M=3*f.arrowsize*f.arrowwidth||0,c=M+x,p=M-x,v=3*f.startarrowsize*f.arrowwidth||0,b=v+x,w=v-x,_;if(y===m){var k=g.findExtremes(o,[o.r2c(u)],{ppadplus:c,ppadminus:p}),B=g.findExtremes(o,[o.r2c(h)],{ppadplus:Math.max(d,b),ppadminus:Math.max(T,w)});_={min:[k.min[0],B.min[0]],max:[k.max[0],B.max[0]]}}else b=h?b+h:b,w=h?w-h:w,_=g.findExtremes(o,[o.r2c(u)],{ppadplus:Math.max(d,c,b),ppadminus:Math.max(T,p,w)});f._extremes[n]=_}},4317:function(te,z,e){var l=e(1828),g=e(3972),s=e(4467).arrayEditor;te.exports={hasClickToShow:i,onClick:r};function i(n,t){var u=f(n,t);return u.on.length>0||u.explicitOff.length>0}function r(n,t){var u=f(n,t),h=u.on,m=u.off.concat(u.explicitOff),y={},d=n._fullLayout.annotations,T,x;if(h.length||m.length){for(T=0;T<h.length;T++)x=s(n.layout,"annotations",d[h[T]]),x.modifyItem("visible",!0),l.extendFlat(y,x.getUpdateObj());for(T=0;T<m.length;T++)x=s(n.layout,"annotations",d[m[T]]),x.modifyItem("visible",!1),l.extendFlat(y,x.getUpdateObj());return g.call("update",n,{},y)}}function f(n,t){var u=n._fullLayout.annotations,h=[],m=[],y=[],d=(t||[]).length,T,x,M,c,p,v,b,w;for(T=0;T<u.length;T++)if(M=u[T],c=M.clicktoshow,c){for(x=0;x<d;x++)if(p=t[x],v=p.xaxis,b=p.yaxis,v._id===M.xref&&b._id===M.yref&&v.d2r(p.x)===o(M._xclick,v)&&b.d2r(p.y)===o(M._yclick,b)){M.visible?c==="onout"?w=m:w=y:w=h,w.push(T);break}x===d&&M.visible&&c==="onout"&&m.push(T)}return{on:h,off:m,explicitOff:y}}function o(n,t){return t.type==="log"?t.l2r(n):t.d2r(n)}},5625:function(te,z,e){var l=e(1828),g=e(7901);te.exports=function(i,r,f,o){o("opacity");var n=o("bgcolor"),t=o("bordercolor"),u=g.opacity(t);o("borderpad");var h=o("borderwidth"),m=o("showarrow");o("text",m?" ":f._dfltTitle.annotation),o("textangle"),l.coerceFont(o,"font",f.font),o("width"),o("align");var y=o("height");if(y&&o("valign"),m){var d=o("arrowside"),T,x;d.indexOf("end")!==-1&&(T=o("arrowhead"),x=o("arrowsize")),d.indexOf("start")!==-1&&(o("startarrowhead",T),o("startarrowsize",x)),o("arrowcolor",u?r.bordercolor:g.defaultLine),o("arrowwidth",(u&&h||1)*2),o("standoff"),o("startstandoff")}var M=o("hovertext"),c=f.hoverlabel||{};if(M){var p=o("hoverlabel.bgcolor",c.bgcolor||(g.opacity(n)?g.rgb(n):g.defaultLine)),v=o("hoverlabel.bordercolor",c.bordercolor||g.contrast(p));l.coerceFont(o,"hoverlabel.font",{family:c.font.family,size:c.font.size,color:c.font.color||v})}o("captureevents",!!M)}},4128:function(te,z,e){var l=e(2770),g=e(8163);te.exports=function(i,r,f,o){r=r||{};var n=f==="log"&&r.type==="linear",t=f==="linear"&&r.type==="log";if(!(n||t))return;var u=i._fullLayout.annotations,h=r._id.charAt(0),m,y;function d(x){var M=m[x],c=null;n?c=g(M,r.range):c=Math.pow(10,M),l(c)||(c=null),o(y+x,c)}for(var T=0;T<u.length;T++)m=u[T],y="annotations["+T+"].",m[h+"ref"]===r._id&&d(h),m["a"+h+"ref"]===r._id&&d("a"+h)}},4046:function(te,z,e){var l=e(1828),g=e(9298),s=e(5501),i=e(5625),r=e(215);te.exports=function(n,t){s(n,t,{name:"annotations",handleItemDefaults:f})};function f(o,n,t){function u(U,L){return l.coerce(o,n,r,U,L)}var h=u("visible"),m=u("clicktoshow");if(h||m){i(o,n,t,u);for(var y=n.showarrow,d=["x","y"],T=[-10,-30],x={_fullLayout:t},M=0;M<2;M++){var c=d[M],p=g.coerceRef(o,n,x,c,"","paper");if(p!=="paper"){var v=g.getFromId(x,p);v._annIndices.push(n._index)}if(g.coercePosition(n,x,u,p,c,.5),y){var b="a"+c,w=g.coerceRef(o,n,x,b,"pixel",["pixel","paper"]);w!=="pixel"&&w!==p&&(w=n[b]="pixel");var _=w==="pixel"?T[M]:.4;g.coercePosition(n,x,u,w,b,_)}u(c+"anchor"),u(c+"shift")}if(l.noneOrAll(o,n,["x","y"]),y&&l.noneOrAll(o,n,["ax","ay"]),m){var k=u("xclick"),B=u("yclick");n._xclick=k===void 0?n.x:g.cleanPosition(k,x,n.xref),n._yclick=B===void 0?n.y:g.cleanPosition(B,x,n.yref)}}}},2605:function(te,z,e){var l=e(9898),g=e(3972),s=e(4875),i=e(1828),r=i.strTranslate,f=e(9298),o=e(7901),n=e(1424),t=e(211),u=e(3893),h=e(6964),m=e(8569),y=e(4467).arrayEditor,d=e(3011);te.exports={draw:T,drawOne:x,drawRaw:c};function T(p){var v=p._fullLayout;v._infolayer.selectAll(".annotation").remove();for(var b=0;b<v.annotations.length;b++)v.annotations[b].visible&&x(p,b);return s.previousPromises(p)}function x(p,v){var b=p._fullLayout,w=b.annotations[v]||{},_=f.getFromId(p,w.xref),k=f.getFromId(p,w.yref);_&&_.setScale(),k&&k.setScale(),c(p,w,v,!1,_,k)}function M(p,v,b,w,_){var k=_[b],B=_[b+"ref"],U=b.indexOf("y")!==-1,L=f.getRefType(B)==="domain",O=U?w.h:w.w;return p?L?k+(U?-v:v)/p._length:p.p2r(p.r2p(k)+v):k+(U?-v:v)/O}function c(p,v,b,w,_,k){var B=p._fullLayout,U=p._fullLayout._size,L=p._context.edits,O,R;w?(O="annotation-"+w,R=w+".annotations"):(O="annotation",R="annotations");var Z=y(p.layout,R,v),$=Z.modifyBase,ie=Z.modifyItem,N=Z.getUpdateObj;B._infolayer.selectAll("."+O+'[data-index="'+b+'"]').remove();var F="clip"+B._uid+"_ann"+b;if(!v._input||v.visible===!1){l.selectAll("#"+F).remove();return}var G={x:{},y:{}},W=+v.textangle||0,X=B._infolayer.append("g").classed(O,!0).attr("data-index",String(b)).style("opacity",v.opacity),J=X.append("g").classed("annotation-text-g",!0),ne=L[v.showarrow?"annotationTail":"annotationPosition"],ue=v.captureevents||L.annotationText||ne;function ye(ae){var fe={index:b,annotation:v._input,fullAnnotation:v,event:ae};return w&&(fe.subplotId=w),fe}var Me=J.append("g").style("pointer-events",ue?"all":null).call(h,"pointer").on("click",function(){p._dragging=!1,p.emit("plotly_clickannotation",ye(l.event))});v.hovertext&&Me.on("mouseover",function(){var ae=v.hoverlabel,fe=ae.font,de=this.getBoundingClientRect(),Ce=p.getBoundingClientRect();t.loneHover({x0:de.left-Ce.left,x1:de.right-Ce.left,y:(de.top+de.bottom)/2-Ce.top,text:v.hovertext,color:ae.bgcolor,borderColor:ae.bordercolor,fontFamily:fe.family,fontSize:fe.size,fontColor:fe.color},{container:B._hoverlayer.node(),outerContainer:B._paper.node(),gd:p})}).on("mouseout",function(){t.loneUnhover(B._hoverlayer.node())});var oe=v.borderwidth,ve=v.borderpad,H=oe+ve,Y=Me.append("rect").attr("class","bg").style("stroke-width",oe+"px").call(o.stroke,v.bordercolor).call(o.fill,v.bgcolor),S=v.width||v.height,E=B._topclips.selectAll("#"+F).data(S?[0]:[]);E.enter().append("clipPath").classed("annclip",!0).attr("id",F).append("rect"),E.exit().remove();var I=v.font,C=B._meta?i.templateString(v.text,B._meta):v.text,K=Me.append("text").classed("annotation-text",!0).text(C);function P(ae){return ae.call(n.font,I).attr({"text-anchor":{left:"start",right:"end"}[v.align]||"middle"}),u.convertToTspans(ae,p,j),ae}function j(){var ae=K.selectAll("a");if(ae.size()===1&&ae.text()===K.text()){var fe=Me.insert("a",":first-child").attr({"xlink:xlink:href":ae.attr("xlink:href"),"xlink:xlink:show":ae.attr("xlink:show")}).style({cursor:"pointer"});fe.node().appendChild(Y.node())}var de=Me.select(".annotation-text-math-group"),Ce=!de.empty(),De=n.bBox((Ce?de:K).node()),ce=De.width,me=De.height,pe=v.width||ce,Ee=v.height||me,Ae=Math.round(pe+2*H),xe=Math.round(Ee+2*H);function Fe(Gt,Ct){return Ct==="auto"&&(Gt<.3333333333333333?Ct="left":Gt>.6666666666666666?Ct="right":Ct="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[Ct]}for(var Ke=!1,je=["x","y"],Ve=0;Ve<je.length;Ve++){var dt=je[Ve],bt=v[dt+"ref"]||dt,Tt=v["a"+dt+"ref"],it={x:_,y:k}[dt],kt=(W+(dt==="x"?0:-90))*Math.PI/180,tt=Ae*Math.cos(kt),Mt=xe*Math.sin(kt),Dt=Math.abs(tt)+Math.abs(Mt),St=v[dt+"anchor"],At=v[dt+"shift"]*(dt==="x"?1:-1),ke=G[dt],Te,Re,Le,Oe,le,be=f.getRefType(bt);if(it&&be!=="domain"){var we=it.r2fraction(v[dt]);(we<0||we>1)&&(Tt===bt?(we=it.r2fraction(v["a"+dt]),(we<0||we>1)&&(Ke=!0)):Ke=!0),Te=it._offset+it.r2p(v[dt]),Oe=.5}else{var Se=be==="domain";dt==="x"?(Le=v[dt],Te=Se?it._offset+it._length*Le:Te=U.l+U.w*Le):(Le=1-v[dt],Te=Se?it._offset+it._length*Le:Te=U.t+U.h*Le),Oe=v.showarrow?.5:Le}if(v.showarrow){ke.head=Te;var ze=v["a"+dt];if(le=tt*Fe(.5,v.xanchor)-Mt*Fe(.5,v.yanchor),Tt===bt){var _e=f.getRefType(Tt);_e==="domain"?(dt==="y"&&(ze=1-ze),ke.tail=it._offset+it._length*ze):_e==="paper"?dt==="y"?(ze=1-ze,ke.tail=U.t+U.h*ze):ke.tail=U.l+U.w*ze:ke.tail=it._offset+it.r2p(ze),Re=le}else ke.tail=Te+ze,Re=le+ze;ke.text=ke.tail+le;var ct=B[dt==="x"?"width":"height"];if(bt==="paper"&&(ke.head=i.constrain(ke.head,1,ct-1)),Tt==="pixel"){var lt=-Math.max(ke.tail-3,ke.text),$e=Math.min(ke.tail+3,ke.text)-ct;lt>0?(ke.tail+=lt,ke.text+=lt):$e>0&&(ke.tail-=$e,ke.text-=$e)}ke.tail+=At,ke.head+=At}else le=Dt*Fe(Oe,St),Re=le,ke.text=Te+le;ke.text+=At,le+=At,Re+=At,v["_"+dt+"padplus"]=Dt/2+Re,v["_"+dt+"padminus"]=Dt/2-Re,v["_"+dt+"size"]=Dt,v["_"+dt+"shift"]=le}if(Ke){Me.remove();return}var Ye=0,nt=0;if(v.align!=="left"&&(Ye=(pe-ce)*(v.align==="center"?.5:1)),v.valign!=="top"&&(nt=(Ee-me)*(v.valign==="middle"?.5:1)),Ce)de.select("svg").attr({x:H+Ye-1,y:H+nt}).call(n.setClipUrl,S?F:null,p);else{var wt=H+nt-De.top,Et=H+Ye-De.left;K.call(u.positionText,Et,wt).call(n.setClipUrl,S?F:null,p)}E.select("rect").call(n.setRect,H,H,pe,Ee),Y.call(n.setRect,oe/2,oe/2,Ae-oe,xe-oe),Me.call(n.setTranslate,Math.round(G.x.text-Ae/2),Math.round(G.y.text-xe/2)),J.attr({transform:"rotate("+W+","+G.x.text+","+G.y.text+")"});var Ht=function(Gt,Ct){X.selectAll(".annotation-arrow-g").remove();var Vt=G.x.head,Bt=G.y.head,_t=G.x.tail+Gt,jt=G.y.tail+Ct,Yt=G.x.text+Gt,xt=G.y.text+Ct,Ot=i.rotationXYMatrix(W,Yt,xt),Ft=i.apply2DTransform(Ot),Xt=i.apply2DTransform2(Ot),rr=+Y.attr("width"),sr=+Y.attr("height"),Ut=Yt-.5*rr,re=Ut+rr,q=xt-.5*sr,He=q+sr,Ie=[[Ut,q,Ut,He],[Ut,He,re,He],[re,He,re,q],[re,q,Ut,q]].map(Xt);if(!Ie.reduce(function(ut,Pt){return ut^!!i.segmentsIntersect(Vt,Bt,Vt+1e6,Bt+1e6,Pt[0],Pt[1],Pt[2],Pt[3])},!1)){Ie.forEach(function(ut){var Pt=i.segmentsIntersect(_t,jt,Vt,Bt,ut[0],ut[1],ut[2],ut[3]);Pt&&(_t=Pt.x,jt=Pt.y)});var Ue=v.arrowwidth,We=v.arrowcolor,Je=v.arrowside,Ge=X.append("g").style({opacity:o.opacity(We)}).classed("annotation-arrow-g",!0),Be=Ge.append("path").attr("d","M"+_t+","+jt+"L"+Vt+","+Bt).style("stroke-width",Ue+"px").call(o.stroke,o.rgb(We));if(d(Be,Je,v),L.annotationPosition&&Be.node().parentNode&&!w){var qe=Vt,rt=Bt;if(v.standoff){var st=Math.sqrt(Math.pow(Vt-_t,2)+Math.pow(Bt-jt,2));qe+=v.standoff*(_t-Vt)/st,rt+=v.standoff*(jt-Bt)/st}var at=Ge.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(_t-qe)+","+(jt-rt),transform:r(qe,rt)}).style("stroke-width",Ue+6+"px").call(o.stroke,"rgba(0,0,0,0)").call(o.fill,"rgba(0,0,0,0)"),pt,ht;m.init({element:at.node(),gd:p,prepFn:function(){var ut=n.getTranslate(Me);pt=ut.x,ht=ut.y,_&&_.autorange&&$(_._name+".autorange",!0),k&&k.autorange&&$(k._name+".autorange",!0)},moveFn:function(ut,Pt){var Lt=Ft(pt,ht),$t=Lt[0]+ut,It=Lt[1]+Pt;Me.call(n.setTranslate,$t,It),ie("x",M(_,ut,"x",U,v)),ie("y",M(k,Pt,"y",U,v)),v.axref===v.xref&&ie("ax",M(_,ut,"ax",U,v)),v.ayref===v.yref&&ie("ay",M(k,Pt,"ay",U,v)),Ge.attr("transform",r(ut,Pt)),J.attr({transform:"rotate("+W+","+$t+","+It+")"})},doneFn:function(){g.call("_guiRelayout",p,N());var ut=document.querySelector(".js-notes-box-panel");ut&&ut.redraw(ut.selectedObj)}})}}};if(v.showarrow&&Ht(0,0),ne){var Wt;m.init({element:Me.node(),gd:p,prepFn:function(){Wt=J.attr("transform")},moveFn:function(Gt,Ct){var Vt="pointer";if(v.showarrow)v.axref===v.xref?ie("ax",M(_,Gt,"ax",U,v)):ie("ax",v.ax+Gt),v.ayref===v.yref?ie("ay",M(k,Ct,"ay",U.w,v)):ie("ay",v.ay+Ct),Ht(Gt,Ct);else{if(w)return;var Bt,_t;if(_)Bt=M(_,Gt,"x",U,v);else{var jt=v._xsize/U.w,Yt=v.x+(v._xshift-v.xshift)/U.w-jt/2;Bt=m.align(Yt+Gt/U.w,jt,0,1,v.xanchor)}if(k)_t=M(k,Ct,"y",U,v);else{var xt=v._ysize/U.h,Ot=v.y-(v._yshift+v.yshift)/U.h-xt/2;_t=m.align(Ot-Ct/U.h,xt,0,1,v.yanchor)}ie("x",Bt),ie("y",_t),(!_||!k)&&(Vt=m.getCursor(_?.5:Bt,k?.5:_t,v.xanchor,v.yanchor))}J.attr({transform:r(Gt,Ct)+Wt}),h(Me,Vt)},clickFn:function(Gt,Ct){v.captureevents&&p.emit("plotly_clickannotation",ye(Ct))},doneFn:function(){h(Me),g.call("_guiRelayout",p,N());var Gt=document.querySelector(".js-notes-box-panel");Gt&&Gt.redraw(Gt.selectedObj)}})}}L.annotationText?K.call(u.makeEditable,{delegate:Me,gd:p}).call(P).on("edit",function(ae){v.text=ae,this.call(P),ie("text",ae),_&&_.autorange&&$(_._name+".autorange",!0),k&&k.autorange&&$(k._name+".autorange",!0),g.call("_guiRelayout",p,N())}):K.call(P)}},3011:function(te,z,e){var l=e(9898),g=e(7901),s=e(2884),i=e(1828),r=i.strScale,f=i.strRotate,o=i.strTranslate;te.exports=function(t,u,h){var m=t.node(),y=s[h.arrowhead||0],d=s[h.startarrowhead||0],T=(h.arrowwidth||1)*(h.arrowsize||1),x=(h.arrowwidth||1)*(h.startarrowsize||1),M=u.indexOf("start")>=0,c=u.indexOf("end")>=0,p=y.backoff*T+h.standoff,v=d.backoff*x+h.startstandoff,b,w,_,k;if(m.nodeName==="line"){b={x:+t.attr("x1"),y:+t.attr("y1")},w={x:+t.attr("x2"),y:+t.attr("y2")};var B=b.x-w.x,U=b.y-w.y;if(_=Math.atan2(U,B),k=_+Math.PI,p&&v&&p+v>Math.sqrt(B*B+U*U)){J();return}if(p){if(p*p>B*B+U*U){J();return}var L=p*Math.cos(_),O=p*Math.sin(_);w.x+=L,w.y+=O,t.attr({x2:w.x,y2:w.y})}if(v){if(v*v>B*B+U*U){J();return}var R=v*Math.cos(_),Z=v*Math.sin(_);b.x-=R,b.y-=Z,t.attr({x1:b.x,y1:b.y})}}else if(m.nodeName==="path"){var $=m.getTotalLength(),ie="";if($<p+v){J();return}var N=m.getPointAtLength(0),F=m.getPointAtLength(.1);_=Math.atan2(N.y-F.y,N.x-F.x),b=m.getPointAtLength(Math.min(v,$)),ie="0px,"+v+"px,";var G=m.getPointAtLength($),W=m.getPointAtLength($-.1);k=Math.atan2(G.y-W.y,G.x-W.x),w=m.getPointAtLength(Math.max(0,$-p));var X=ie?v+p:p;ie+=$-X+"px,"+$+"px",t.style("stroke-dasharray",ie)}function J(){t.style("stroke-dasharray","0px,100px")}function ne(ue,ye,Me,oe){ue.path&&(ue.noRotate&&(Me=0),l.select(m.parentNode).append("path").attr({class:t.attr("class"),d:ue.path,transform:o(ye.x,ye.y)+f(Me*180/Math.PI)+r(oe)}).style({fill:g.rgb(h.arrowcolor),"stroke-width":0}))}M&&ne(d,b,_,x),c&&ne(y,w,k,T)}},2745:function(te,z,e){var l=e(2605),g=e(4317);te.exports={moduleType:"component",name:"annotations",layoutAttributes:e(215),supplyLayoutDefaults:e(4046),includeBasePlot:e(6325)("annotations"),calcAutorange:e(3749),draw:l.draw,drawOne:l.drawOne,drawRaw:l.drawRaw,hasClickToShow:g.hasClickToShow,onClick:g.onClick,convertCoords:e(4128)}},6997:function(te,z,e){var l=e(215),g=e(962).overrideAll,s=e(4467).templatedArray;te.exports=g(s("annotation",{visible:l.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:l.xanchor,xshift:l.xshift,yanchor:l.yanchor,yshift:l.yshift,text:l.text,textangle:l.textangle,font:l.font,width:l.width,height:l.height,opacity:l.opacity,align:l.align,valign:l.valign,bgcolor:l.bgcolor,bordercolor:l.bordercolor,borderpad:l.borderpad,borderwidth:l.borderwidth,showarrow:l.showarrow,arrowcolor:l.arrowcolor,arrowhead:l.arrowhead,startarrowhead:l.startarrowhead,arrowside:l.arrowside,arrowsize:l.arrowsize,startarrowsize:l.startarrowsize,arrowwidth:l.arrowwidth,standoff:l.standoff,startstandoff:l.startstandoff,hovertext:l.hovertext,hoverlabel:l.hoverlabel,captureevents:l.captureevents}),"calc","from-root")},5485:function(te,z,e){var l=e(1828),g=e(9298);te.exports=function(r){for(var f=r.fullSceneLayout,o=f.annotations,n=0;n<o.length;n++)s(o[n],r);r.fullLayout._infolayer.selectAll(".annotation-"+r.id).remove()};function s(i,r){var f=r.fullSceneLayout,o=f.domain,n=r.fullLayout._size,t={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};i._xa={},l.extendFlat(i._xa,t),g.setConvert(i._xa),i._xa._offset=n.l+o.x[0]*n.w,i._xa.l2p=function(){return .5*(1+i._pdata[0]/i._pdata[3])*n.w*(o.x[1]-o.x[0])},i._ya={},l.extendFlat(i._ya,t),g.setConvert(i._ya),i._ya._offset=n.t+(1-o.y[1])*n.h,i._ya.l2p=function(){return .5*(1-i._pdata[1]/i._pdata[3])*n.h*(o.y[1]-o.y[0])}}},226:function(te,z,e){var l=e(1828),g=e(9298),s=e(5501),i=e(5625),r=e(6997);te.exports=function(n,t,u){s(n,t,{name:"annotations",handleItemDefaults:f,fullLayout:u.fullLayout})};function f(o,n,t,u){function h(d,T){return l.coerce(o,n,r,d,T)}function m(d){var T=d+"axis",x={_fullLayout:{}};return x._fullLayout[T]=t[T],g.coercePosition(n,x,h,d,d,.5)}var y=h("visible");y&&(i(o,n,u.fullLayout,h),m("x"),m("y"),m("z"),l.noneOrAll(o,n,["x","y","z"]),n.xref="x",n.yref="y",n.zref="z",h("xanchor"),h("yanchor"),h("xshift"),h("yshift"),n.showarrow&&(n.axref="pixel",n.ayref="pixel",h("ax",-10),h("ay",-30),l.noneOrAll(o,n,["ax","ay"])))}},2188:function(te,z,e){var l=e(2605).drawRaw,g=e(3538),s=["x","y","z"];te.exports=function(r){for(var f=r.fullSceneLayout,o=r.dataScale,n=f.annotations,t=0;t<n.length;t++){for(var u=n[t],h=!1,m=0;m<3;m++){var y=s[m],d=u[y],T=f[y+"axis"],x=T.r2fraction(d);if(x<0||x>1){h=!0;break}}h?r.fullLayout._infolayer.select(".annotation-"+r.id+'[data-index="'+t+'"]').remove():(u._pdata=g(r.glplot.cameraParams,[f.xaxis.r2l(u.x)*o[0],f.yaxis.r2l(u.y)*o[1],f.zaxis.r2l(u.z)*o[2]]),l(r.graphDiv,u,t,r.id,u._xa,u._ya))}}},2468:function(te,z,e){var l=e(3972),g=e(1828);te.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(6997)}}},layoutAttributes:e(6997),handleDefaults:e(226),includeBasePlot:s,convert:e(5485),draw:e(2188)};function s(i,r){var f=l.subplotsRegistry.gl3d;if(f)for(var o=f.attrRegex,n=Object.keys(i),t=0;t<n.length;t++){var u=n[t];o.test(u)&&(i[u].annotations||[]).length&&(g.pushUnique(r._basePlotModules,f),g.pushUnique(r._subplots.gl3d,u))}}},7561:function(te,z,e){te.exports=e(3489),e(4338),e(3961),e(8751),e(6825),e(7715),e(9384),e(3805),e(8874),e(3290),e(9108),e(5422),e(4320),e(1320),e(1367),e(1457)},2201:function(te,z,e){var l=e(7561),g=e(1828),s=e(606),i=s.EPOCHJD,r=s.ONEDAY,f={valType:"enumerated",values:g.sortObjectKeys(l.calendars),editType:"calc",dflt:"gregorian"},o=function(_,k,B,U){var L={};return L[B]=f,g.coerce(_,k,L,B,U)},n=function(_,k,B,U){for(var L=0;L<B.length;L++)o(_,k,B[L]+"calendar",U.calendar)},t={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},u={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},h={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},m="##",y={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:m,w:m,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function d(_,k,B){for(var U=Math.floor((k+.05)/r)+i,L=x(B).fromJD(U),O=0,R,Z,$,ie,N;(O=_.indexOf("%",O))!==-1;)R=_.charAt(O+1),R==="0"||R==="-"||R==="_"?($=3,Z=_.charAt(O+2),R==="_"&&(R="-")):(Z=R,R="0",$=2),ie=y[Z],ie?(ie===m?N=m:N=L.formatDate(ie[R]),_=_.substr(0,O)+N+_.substr(O+$),O+=N.length):O+=$;return _}var T={};function x(_){var k=T[_];return k||(k=T[_]=l.instance(_),k)}function M(_){return g.extendFlat({},f,{description:_})}function c(_){return"Sets the calendar system to use with `"+_+"` date data."}var p={xcalendar:M(c("x"))},v=g.extendFlat({},p,{ycalendar:M(c("y"))}),b=g.extendFlat({},v,{zcalendar:M(c("z"))}),w=M(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));te.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:v,bar:v,box:v,heatmap:v,contour:v,histogram:v,histogram2d:v,histogram2dcontour:v,scatter3d:b,surface:b,mesh3d:b,scattergl:v,ohlc:p,candlestick:p},layout:{calendar:M(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:w},yaxis:{calendar:w},scene:{xaxis:{calendar:w},yaxis:{calendar:w},zaxis:{calendar:w}},polar:{radialaxis:{calendar:w}}},transforms:{filter:{valuecalendar:M(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:M(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:f,handleDefaults:o,handleTraceDefaults:n,CANONICAL_SUNDAY:u,CANONICAL_TICK:t,DFLTRANGE:h,getCal:x,worldCalFmt:d}},2399:function(te,z){z.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],z.defaultLine="#444",z.lightLine="#eee",z.background="#fff",z.borderLine="#BEC8D9",z.lightFraction=90.9090909090909},7901:function(te,z,e){var l=e(4267),g=e(2770),s=e(3627).isTypedArray,i=te.exports={},r=e(2399);i.defaults=r.defaults;var f=i.defaultLine=r.defaultLine;i.lightLine=r.lightLine;var o=i.background=r.background;i.tinyRGB=function(t){var u=t.toRgb();return"rgb("+Math.round(u.r)+", "+Math.round(u.g)+", "+Math.round(u.b)+")"},i.rgb=function(t){return i.tinyRGB(l(t))},i.opacity=function(t){return t?l(t).getAlpha():0},i.addOpacity=function(t,u){var h=l(t).toRgb();return"rgba("+Math.round(h.r)+", "+Math.round(h.g)+", "+Math.round(h.b)+", "+u+")"},i.combine=function(t,u){var h=l(t).toRgb();if(h.a===1)return l(t).toRgbString();var m=l(u||o).toRgb(),y=m.a===1?m:{r:255*(1-m.a)+m.r*m.a,g:255*(1-m.a)+m.g*m.a,b:255*(1-m.a)+m.b*m.a},d={r:y.r*(1-h.a)+h.r*h.a,g:y.g*(1-h.a)+h.g*h.a,b:y.b*(1-h.a)+h.b*h.a};return l(d).toRgbString()},i.contrast=function(t,u,h){var m=l(t);m.getAlpha()!==1&&(m=l(i.combine(t,o)));var y=m.isDark()?u?m.lighten(u):o:h?m.darken(h):f;return y.toString()},i.stroke=function(t,u){var h=l(u);t.style({stroke:i.tinyRGB(h),"stroke-opacity":h.getAlpha()})},i.fill=function(t,u){var h=l(u);t.style({fill:i.tinyRGB(h),"fill-opacity":h.getAlpha()})},i.clean=function(t){if(!(!t||typeof t!="object")){var u=Object.keys(t),h,m,y,d;for(h=0;h<u.length;h++)if(y=u[h],d=t[y],y.substr(y.length-5)==="color")if(Array.isArray(d))for(m=0;m<d.length;m++)d[m]=n(d[m]);else t[y]=n(d);else if(y.substr(y.length-10)==="colorscale"&&Array.isArray(d))for(m=0;m<d.length;m++)Array.isArray(d[m])&&(d[m][1]=n(d[m][1]));else if(Array.isArray(d)){var T=d[0];if(!Array.isArray(T)&&T&&typeof T=="object")for(m=0;m<d.length;m++)i.clean(d[m])}else d&&typeof d=="object"&&!s(d)&&i.clean(d)}};function n(t){if(g(t)||typeof t!="string")return t;var u=t.trim();if(u.substr(0,3)!=="rgb")return t;var h=u.match(/^rgba?\s*\(([^()]*)\)$/);if(!h)return t;var m=h[1].trim().split(/\s*[\s,]\s*/),y=u.charAt(3)==="a"&&m.length===4;if(!y&&m.length!==3)return t;for(var d=0;d<m.length;d++){if(!m[d].length||(m[d]=Number(m[d]),!(m[d]>=0)))return t;if(d===3)m[d]>1&&(m[d]=1);else if(m[d]>=1)return t}var T=Math.round(m[0]*255)+", "+Math.round(m[1]*255)+", "+Math.round(m[2]*255);return y?"rgba("+T+", "+m[3]+")":"rgb("+T+")"}},3583:function(te,z,e){var l=e(3838),g=e(1940),s=e(1426).extendFlat,i=e(962).overrideAll;te.exports=i({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:l.linecolor,outlinewidth:l.linewidth,bordercolor:l.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:l.minor.tickmode,nticks:l.nticks,tick0:l.tick0,dtick:l.dtick,tickvals:l.tickvals,ticktext:l.ticktext,ticks:s({},l.ticks,{dflt:""}),ticklabeloverflow:s({},l.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:l.ticklen,tickwidth:l.tickwidth,tickcolor:l.tickcolor,ticklabelstep:l.ticklabelstep,showticklabels:l.showticklabels,labelalias:l.labelalias,tickfont:g({}),tickangle:l.tickangle,tickformat:l.tickformat,tickformatstops:l.tickformatstops,tickprefix:l.tickprefix,showtickprefix:l.showtickprefix,ticksuffix:l.ticksuffix,showticksuffix:l.showticksuffix,separatethousands:l.separatethousands,exponentformat:l.exponentformat,minexponent:l.minexponent,showexponent:l.showexponent,title:{text:{valType:"string"},font:g({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:g({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},939:function(te){te.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},2499:function(te,z,e){var l=e(1828),g=e(4467),s=e(6218),i=e(8701),r=e(6115),f=e(9426),o=e(3583);te.exports=function(t,u,h){var m=g.newContainer(u,"colorbar"),y=t.colorbar||{};function d(G,W){return l.coerce(y,m,o,G,W)}var T=h.margin||{t:0,b:0,l:0,r:0},x=h.width-T.l-T.r,M=h.height-T.t-T.b,c=d("orientation"),p=c==="v",v=d("thicknessmode");d("thickness",v==="fraction"?30/(p?x:M):30);var b=d("lenmode");d("len",b==="fraction"?1:p?M:x);var w=d("yref"),_=d("xref"),k=w==="paper",B=_==="paper",U,L,O,R="left";p?(O="middle",R=B?"left":"right",U=B?1.02:1,L=.5):(O=k?"bottom":"top",R="center",U=.5,L=k?1.02:1),l.coerce(y,m,{x:{valType:"number",min:B?-2:0,max:B?3:1,dflt:U}},"x"),l.coerce(y,m,{y:{valType:"number",min:k?-2:0,max:k?3:1,dflt:L}},"y"),d("xanchor",R),d("xpad"),d("yanchor",O),d("ypad"),l.noneOrAll(y,m,["x","y"]),d("outlinecolor"),d("outlinewidth"),d("bordercolor"),d("borderwidth"),d("bgcolor");var Z=l.coerce(y,m,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:p?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");d("ticklabeloverflow",Z.indexOf("inside")!==-1?"hide past domain":"hide past div"),s(y,m,d,"linear");var $=h.font,ie={outerTicks:!1,font:$};Z.indexOf("inside")!==-1&&(ie.bgColor="black"),f(y,m,d,"linear",ie),r(y,m,d,"linear",ie),i(y,m,d,"linear",ie),d("title.text",h._dfltTitle.colorbar);var N=m.showticklabels?m.tickfont:$,F=l.extendFlat({},N,{color:$.color,size:l.bigFont(N.size)});l.coerceFont(d,"title.font",F),d("title.side",p?"top":"right")}},8981:function(te,z,e){var l=e(9898),g=e(4267),s=e(4875),i=e(3972),r=e(9298),f=e(8569),o=e(1828),n=o.strTranslate,t=e(1426).extendFlat,u=e(6964),h=e(1424),m=e(7901),y=e(2998),d=e(3893),T=e(2869).flipScale,x=e(1453),M=e(2830),c=e(3838),p=e(8783),v=p.LINE_SPACING,b=p.FROM_TL,w=p.FROM_BR,_=e(939).cn;function k(Z){var $=Z._fullLayout,ie=$._infolayer.selectAll("g."+_.colorbar).data(B(Z),function(N){return N._id});ie.enter().append("g").attr("class",function(N){return N._id}).classed(_.colorbar,!0),ie.each(function(N){var F=l.select(this);o.ensureSingle(F,"rect",_.cbbg),o.ensureSingle(F,"g",_.cbfills),o.ensureSingle(F,"g",_.cblines),o.ensureSingle(F,"g",_.cbaxis,function(W){W.classed(_.crisp,!0)}),o.ensureSingle(F,"g",_.cbtitleunshift,function(W){W.append("g").classed(_.cbtitle,!0)}),o.ensureSingle(F,"rect",_.cboutline);var G=U(F,N,Z);G&&G.then&&(Z._promises||[]).push(G),Z._context.edits.colorbarPosition&&L(F,N,Z)}),ie.exit().each(function(N){s.autoMargin(Z,N._id)}).remove(),ie.order()}function B(Z){var $=Z._fullLayout,ie=Z.calcdata,N=[],F,G,W,X;function J(I){return t(I,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function ne(){typeof X.calc=="function"?X.calc(Z,W,F):(F._fillgradient=G.reversescale?T(G.colorscale):G.colorscale,F._zrange=[G[X.min],G[X.max]])}for(var ue=0;ue<ie.length;ue++){var ye=ie[ue];if(W=ye[0].trace,!!W._module){var Me=W._module.colorbar;if(W.visible===!0&&Me)for(var oe=Array.isArray(Me),ve=oe?Me:[Me],H=0;H<ve.length;H++){X=ve[H];var Y=X.container;G=Y?W[Y]:W,G&&G.showscale&&(F=J(G.colorbar),F._id="cb"+W.uid+(oe&&Y?"-"+Y:""),F._traceIndex=W.index,F._propPrefix=(Y?Y+".":"")+"colorbar.",F._meta=W._meta,ne(),N.push(F))}}}for(var S in $._colorAxes)if(G=$[S],G.showscale){var E=$._colorAxes[S];F=J(G.colorbar),F._id="cb"+S,F._propPrefix=S+".colorbar.",F._meta=$._meta,X={min:"cmin",max:"cmax"},E[0]!=="heatmap"&&(W=E[1],X.calc=W._module.colorbar.calc),ne(),N.push(F)}return N}function U(Z,$,ie){var N=$.orientation==="v",F=$.len,G=$.lenmode,W=$.thickness,X=$.thicknessmode,J=$.outlinewidth,ne=$.borderwidth,ue=$.bgcolor,ye=$.xanchor,Me=$.yanchor,oe=$.xpad,ve=$.ypad,H=$.x,Y=N?$.y:1-$.y,S=$.yref==="paper",E=$.xref==="paper",I=ie._fullLayout,C=I._size,K=$._fillcolor,P=$._line,j=$.title,ae=j.side,fe=$._zrange||l.extent((typeof K=="function"?K:P.color).domain()),de=typeof P.color=="function"?P.color:function(){return P.color},Ce=typeof K=="function"?K:function(){return K},De=$._levels,ce=O(ie,$,fe),me=ce.fill,pe=ce.line,Ee=Math.round(W*(X==="fraction"?N?C.w:C.h:1)),Ae=Ee/(N?C.w:C.h),xe=Math.round(F*(G==="fraction"?N?C.h:C.w:1)),Fe=xe/(N?C.h:C.w),Ke=E?C.w:ie._fullLayout.width,je=S?C.h:ie._fullLayout.height,Ve=Math.round(N?H*Ke+oe:Y*je+ve),dt={center:.5,right:1}[ye]||0,bt={top:1,middle:.5}[Me]||0,Tt=N?H-dt*Ae:Y-bt*Ae,it=N?Y-bt*Fe:H-dt*Fe,kt=Math.round(N?je*(1-it):Ke*it);$._lenFrac=Fe,$._thickFrac=Ae,$._uFrac=Tt,$._vFrac=it;var tt=$._axis=R(ie,$,fe);tt.position=Ae+(N?H+oe/C.w:Y+ve/C.h);var Mt=["top","bottom"].indexOf(ae)!==-1;if(N&&Mt&&(tt.title.side=ae,tt.titlex=H+oe/C.w,tt.titley=it+(j.side==="top"?Fe-ve/C.h:ve/C.h)),!N&&!Mt&&(tt.title.side=ae,tt.titley=Y+ve/C.h,tt.titlex=it+oe/C.w),P.color&&$.tickmode==="auto"){tt.tickmode="linear",tt.tick0=De.start;var Dt=De.size,St=o.constrain(xe/50,4,15)+1,At=(fe[1]-fe[0])/(($.nticks||St)*Dt);if(At>1){var ke=Math.pow(10,Math.floor(Math.log(At)/Math.LN10));Dt*=ke*o.roundUp(At/ke,[2,5,10]),(Math.abs(De.start)/De.size+1e-6)%1<2e-6&&(tt.tick0=0)}tt.dtick=Dt}tt.domain=N?[it+ve/C.h,it+Fe-ve/C.h]:[it+oe/C.w,it+Fe-oe/C.w],tt.setScale(),Z.attr("transform",n(Math.round(C.l),Math.round(C.t)));var Te=Z.select("."+_.cbtitleunshift).attr("transform",n(-Math.round(C.l),-Math.round(C.t))),Re=tt.ticklabelposition,Le=tt.title.font.size,Oe=Z.select("."+_.cbaxis),le,be=0,we=0;function Se($e,Ye){var nt={propContainer:tt,propName:$._propPrefix+"title",traceIndex:$._traceIndex,_meta:$._meta,placeholder:I._dfltTitle.colorbar,containerGroup:Z.select("."+_.cbtitle)},wt=$e.charAt(0)==="h"?$e.substr(1):"h"+$e;Z.selectAll("."+wt+",."+wt+"-math-group").remove(),y.draw(ie,$e,t(nt,Ye||{}))}function ze(){if(N&&Mt||!N&&!Mt){var $e,Ye;ae==="top"&&($e=oe+C.l+Ke*H,Ye=ve+C.t+je*(1-it-Fe)+3+Le*.75),ae==="bottom"&&($e=oe+C.l+Ke*H,Ye=ve+C.t+je*(1-it)-3-Le*.25),ae==="right"&&(Ye=ve+C.t+je*Y+3+Le*.75,$e=oe+C.l+Ke*it),Se(tt._id+"title",{attributes:{x:$e,y:Ye,"text-anchor":N?"start":"middle"}})}}function _e(){if(N&&!Mt||!N&&Mt){var $e=tt.position||0,Ye=tt._offset+tt._length/2,nt,wt;if(ae==="right")wt=Ye,nt=C.l+Ke*$e+10+Le*(tt.showticklabels?1:.5);else if(nt=Ye,ae==="bottom"&&(wt=C.t+je*$e+10+(Re.indexOf("inside")===-1?tt.tickfont.size:0)+(tt.ticks!=="intside"&&$.ticklen||0)),ae==="top"){var Et=j.text.split("<br>").length;wt=C.t+je*$e+10-Ee-v*Le*Et}Se((N?"h":"v")+tt._id+"title",{avoid:{selection:l.select(ie).selectAll("g."+tt._id+"tick"),side:ae,offsetTop:N?0:C.t,offsetLeft:N?C.l:0,maxShift:N?I.width:I.height},attributes:{x:nt,y:wt,"text-anchor":"middle"},transform:{rotate:N?-90:0,offset:0}})}}function ct(){if(!N&&!Mt||N&&Mt){var $e=Z.select("."+_.cbtitle),Ye=$e.select("text"),nt=[-J/2,J/2],wt=$e.select(".h"+tt._id+"title-math-group").node(),Et=15.6;Ye.node()&&(Et=parseInt(Ye.node().style.fontSize,10)*v);var Ht;if(wt?(Ht=h.bBox(wt),we=Ht.width,be=Ht.height,be>Et&&(nt[1]-=(be-Et)/2)):Ye.node()&&!Ye.classed(_.jsPlaceholder)&&(Ht=h.bBox(Ye.node()),we=Ht.width,be=Ht.height),N){if(be){if(be+=5,ae==="top")tt.domain[1]-=be/C.h,nt[1]*=-1;else{tt.domain[0]+=be/C.h;var Wt=d.lineCount(Ye);nt[1]+=(1-Wt)*Et}$e.attr("transform",n(nt[0],nt[1])),tt.setScale()}}else we&&(ae==="right"&&(tt.domain[0]+=(we+Le/2)/C.w),$e.attr("transform",n(nt[0],nt[1])),tt.setScale())}Z.selectAll("."+_.cbfills+",."+_.cblines).attr("transform",N?n(0,Math.round(C.h*(1-tt.domain[1]))):n(Math.round(C.w*tt.domain[0]),0)),Oe.attr("transform",N?n(0,Math.round(-C.t)):n(Math.round(-C.l),0));var Gt=Z.select("."+_.cbfills).selectAll("rect."+_.cbfill).attr("style","").data(me);Gt.enter().append("rect").classed(_.cbfill,!0).attr("style",""),Gt.exit().remove();var Ct=fe.map(tt.c2p).map(Math.round).sort(function(Yt,xt){return Yt-xt});Gt.each(function(Yt,xt){var Ot=[xt===0?fe[0]:(me[xt]+me[xt-1])/2,xt===me.length-1?fe[1]:(me[xt]+me[xt+1])/2].map(tt.c2p).map(Math.round);N&&(Ot[1]=o.constrain(Ot[1]+(Ot[1]>Ot[0])?1:-1,Ct[0],Ct[1]));var Ft=l.select(this).attr(N?"x":"y",Ve).attr(N?"y":"x",l.min(Ot)).attr(N?"width":"height",Math.max(Ee,2)).attr(N?"height":"width",Math.max(l.max(Ot)-l.min(Ot),2));if($._fillgradient)h.gradient(Ft,ie,$._id,N?"vertical":"horizontalreversed",$._fillgradient,"fill");else{var Xt=Ce(Yt).replace("e-","");Ft.attr("fill",g(Xt).toHexString())}});var Vt=Z.select("."+_.cblines).selectAll("path."+_.cbline).data(P.color&&P.width?pe:[]);Vt.enter().append("path").classed(_.cbline,!0),Vt.exit().remove(),Vt.each(function(Yt){var xt=Ve,Ot=Math.round(tt.c2p(Yt))+P.width/2%1;l.select(this).attr("d","M"+(N?xt+","+Ot:Ot+","+xt)+(N?"h":"v")+Ee).call(h.lineGroupStyle,P.width,de(Yt),P.dash)}),Oe.selectAll("g."+tt._id+"tick,path").remove();var Bt=Ve+Ee+(J||0)/2-($.ticks==="outside"?1:0),_t=r.calcTicks(tt),jt=r.getTickSigns(tt)[2];return r.drawTicks(ie,tt,{vals:tt.ticks==="inside"?r.clipEnds(tt,_t):_t,layer:Oe,path:r.makeTickPath(tt,Bt,jt),transFn:r.makeTransTickFn(tt)}),r.drawLabels(ie,tt,{vals:_t,layer:Oe,transFn:r.makeTransTickLabelFn(tt),labelFns:r.makeLabelFns(tt,Bt)})}function lt(){var $e,Ye=Ee+J/2;Re.indexOf("inside")===-1&&($e=h.bBox(Oe.node()),Ye+=N?$e.width:$e.height),le=Te.select("text");var nt=0,wt=N&&ae==="top",Et=!N&&ae==="right",Ht=0;if(le.node()&&!le.classed(_.jsPlaceholder)){var Wt,Gt=Te.select(".h"+tt._id+"title-math-group").node();Gt&&(N&&Mt||!N&&!Mt)?($e=h.bBox(Gt),nt=$e.width,Wt=$e.height):($e=h.bBox(Te.node()),nt=$e.right-C.l-(N?Ve:kt),Wt=$e.bottom-C.t-(N?kt:Ve),!N&&ae==="top"&&(Ye+=$e.height,Ht=$e.height)),Et&&(le.attr("transform",n(nt/2+Le/2,0)),nt*=2),Ye=Math.max(Ye,N?nt:Wt)}var Ct=(N?oe:ve)*2+Ye+ne+J/2,Vt=0;!N&&j.text&&Me==="bottom"&&Y<=0&&(Vt=Ct/2,Ct+=Vt,Ht+=Vt),I._hColorbarMoveTitle=Vt,I._hColorbarMoveCBTitle=Ht;var Bt=ne+J,_t=(N?Ve:kt)-Bt/2-(N?oe:0),jt=(N?kt:Ve)-(N?xe:ve+Ht-Vt);Z.select("."+_.cbbg).attr("x",_t).attr("y",jt).attr(N?"width":"height",Math.max(Ct-Vt,2)).attr(N?"height":"width",Math.max(xe+Bt,2)).call(m.fill,ue).call(m.stroke,$.bordercolor).style("stroke-width",ne);var Yt=Et?Math.max(nt-10,0):0;Z.selectAll("."+_.cboutline).attr("x",(N?Ve:kt+oe)+Yt).attr("y",(N?kt+ve-xe:Ve)+(wt?be:0)).attr(N?"width":"height",Math.max(Ee,2)).attr(N?"height":"width",Math.max(xe-(N?2*ve+be:2*oe+Yt),2)).call(m.stroke,$.outlinecolor).style({fill:"none","stroke-width":J});var xt=N?dt*Ct:0,Ot=N?0:(1-bt)*Ct-Ht;if(xt=E?C.l-xt:-xt,Ot=S?C.t-Ot:-Ot,Z.attr("transform",n(xt,Ot)),!N&&(ne||g(ue).getAlpha()&&!g.equals(I.paper_bgcolor,ue))){var Ft=Oe.selectAll("text"),Xt=Ft[0].length,rr=Z.select("."+_.cbbg).node(),sr=h.bBox(rr),Ut=h.getTranslate(Z),re=2;Ft.each(function(rt,st){var at=0,pt=Xt-1;if(st===at||st===pt){var ht=h.bBox(this),ut=h.getTranslate(this),Pt;if(st===pt){var Lt=ht.right+ut.x,$t=sr.right+Ut.x+kt-ne-re+H;Pt=$t-Lt,Pt>0&&(Pt=0)}else if(st===at){var It=ht.left+ut.x,Kt=sr.left+Ut.x+kt+ne+re;Pt=Kt-It,Pt<0&&(Pt=0)}Pt&&(Xt<3?this.setAttribute("transform","translate("+Pt+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var q={},He=b[ye],Ie=w[ye],Ue=b[Me],We=w[Me],Je=Ct-Ee;N?(G==="pixels"?(q.y=Y,q.t=xe*Ue,q.b=xe*We):(q.t=q.b=0,q.yt=Y+F*Ue,q.yb=Y-F*We),X==="pixels"?(q.x=H,q.l=Ct*He,q.r=Ct*Ie):(q.l=Je*He,q.r=Je*Ie,q.xl=H-W*He,q.xr=H+W*Ie)):(G==="pixels"?(q.x=H,q.l=xe*He,q.r=xe*Ie):(q.l=q.r=0,q.xl=H+F*He,q.xr=H-F*Ie),X==="pixels"?(q.y=1-Y,q.t=Ct*Ue,q.b=Ct*We):(q.t=Je*Ue,q.b=Je*We,q.yt=Y-W*Ue,q.yb=Y+W*We));var Ge=$.y<.5?"b":"t",Be=$.x<.5?"l":"r";ie._fullLayout._reservedMargin[$._id]={};var qe={r:I.width-_t-xt,l:_t+q.r,b:I.height-jt-Ot,t:jt+q.b};E&&S?s.autoMargin(ie,$._id,q):E?ie._fullLayout._reservedMargin[$._id][Ge]=qe[Ge]:S||N?ie._fullLayout._reservedMargin[$._id][Be]=qe[Be]:ie._fullLayout._reservedMargin[$._id][Ge]=qe[Ge]}return o.syncOrAsync([s.previousPromises,ze,ct,_e,s.previousPromises,lt],ie)}function L(Z,$,ie){var N=$.orientation==="v",F=ie._fullLayout,G=F._size,W,X,J;f.init({element:Z.node(),gd:ie,prepFn:function(){W=Z.attr("transform"),u(Z)},moveFn:function(ne,ue){Z.attr("transform",W+n(ne,ue)),X=f.align((N?$._uFrac:$._vFrac)+ne/G.w,N?$._thickFrac:$._lenFrac,0,1,$.xanchor),J=f.align((N?$._vFrac:1-$._uFrac)-ue/G.h,N?$._lenFrac:$._thickFrac,0,1,$.yanchor);var ye=f.getCursor(X,J,$.xanchor,$.yanchor);u(Z,ye)},doneFn:function(){if(u(Z),X!==void 0&&J!==void 0){var ne={};ne[$._propPrefix+"x"]=X,ne[$._propPrefix+"y"]=J,$._traceIndex!==void 0?i.call("_guiRestyle",ie,ne,$._traceIndex):i.call("_guiRelayout",ie,ne)}}})}function O(Z,$,ie){var N=$._levels,F=[],G=[],W,X,J=N.end+N.size/100,ne=N.size,ue=1.001*ie[0]-.001*ie[1],ye=1.001*ie[1]-.001*ie[0];for(X=0;X<1e5&&(W=N.start+X*ne,!(ne>0?W>=J:W<=J));X++)W>ue&&W<ye&&F.push(W);if($._fillgradient)G=[0];else if(typeof $._fillcolor=="function"){var Me=$._filllevels;if(Me)for(J=Me.end+Me.size/100,ne=Me.size,X=0;X<1e5&&(W=Me.start+X*ne,!(ne>0?W>=J:W<=J));X++)W>ie[0]&&W<ie[1]&&G.push(W);else G=F.map(function(oe){return oe-N.size/2}),G.push(G[G.length-1]+N.size)}else $._fillcolor&&typeof $._fillcolor=="string"&&(G=[0]);return N.size<0&&(F.reverse(),G.reverse()),{line:F,fill:G}}function R(Z,$,ie){var N=Z._fullLayout,F=$.orientation==="v",G={type:"linear",range:ie,tickmode:$.tickmode,nticks:$.nticks,tick0:$.tick0,dtick:$.dtick,tickvals:$.tickvals,ticktext:$.ticktext,ticks:$.ticks,ticklen:$.ticklen,tickwidth:$.tickwidth,tickcolor:$.tickcolor,showticklabels:$.showticklabels,labelalias:$.labelalias,ticklabelposition:$.ticklabelposition,ticklabeloverflow:$.ticklabeloverflow,ticklabelstep:$.ticklabelstep,tickfont:$.tickfont,tickangle:$.tickangle,tickformat:$.tickformat,exponentformat:$.exponentformat,minexponent:$.minexponent,separatethousands:$.separatethousands,showexponent:$.showexponent,showtickprefix:$.showtickprefix,tickprefix:$.tickprefix,showticksuffix:$.showticksuffix,ticksuffix:$.ticksuffix,title:$.title,showline:!0,anchor:"free",side:F?"right":"bottom",position:1},W=F?"y":"x",X={type:"linear",_id:W+$._id},J={letter:W,font:N.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:N.calendar};function ne(ue,ye){return o.coerce(G,X,c,ue,ye)}return x(G,X,ne,J,N),M(G,X,ne,J),X}te.exports={draw:k}},6228:function(te,z,e){var l=e(1828);te.exports=function(s){return l.isPlainObject(s.colorbar)}},2311:function(te,z,e){te.exports={moduleType:"component",name:"colorbar",attributes:e(3583),supplyDefaults:e(2499),draw:e(8981).draw,hasColorbar:e(6228)}},693:function(te,z,e){var l=e(3583),g=e(587).counter,s=e(8607),i=e(3282).scales;s(i),te.exports=function(f,o){f=f||"",o=o||{};var n=o.cLetter||"c";"onlyIfNumerical"in o&&o.onlyIfNumerical;var t="noScale"in o?o.noScale:f==="marker.line",u="showScaleDflt"in o?o.showScaleDflt:n==="z",h=typeof o.colorscaleDflt=="string"?i[o.colorscaleDflt]:null,m=o.editTypeOverride||"",y;"colorAttr"in o?(y=o.colorAttr,o.colorAttr):y={z:"z",c:"color"}[n];var d=n+"auto",T=n+"min",x=n+"max",M=n+"mid",c={};c[T]=c[x]=void 0;var p={};p[d]=!1;var v={};return y==="color"&&(v.color={valType:"color",arrayOk:!0,editType:m||"style"},o.anim&&(v.color.anim=!0)),v[d]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:c},v[T]={valType:"number",dflt:null,editType:m||"plot",impliedEdits:p},v[x]={valType:"number",dflt:null,editType:m||"plot",impliedEdits:p},v[M]={valType:"number",dflt:null,editType:"calc",impliedEdits:c},v.colorscale={valType:"colorscale",editType:"calc",dflt:h,impliedEdits:{autocolorscale:!1}},v.autocolorscale={valType:"boolean",dflt:o.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},v.reversescale={valType:"boolean",dflt:!1,editType:"plot"},t||(v.showscale={valType:"boolean",dflt:u,editType:"calc"},v.colorbar=l),o.noColorAxis||(v.coloraxis={valType:"subplotid",regex:g("coloraxis"),dflt:null,editType:"calc"}),v}},8803:function(te,z,e){var l=e(2770),g=e(1828),s=e(2869).extractOpts;te.exports=function(r,f,o){var n=r._fullLayout,t=o.vals,u=o.containerStr,h=u?g.nestedProperty(f,u).get():f,m=s(h),y=m.auto!==!1,d=m.min,T=m.max,x=m.mid,M=function(){return g.aggNums(Math.min,null,t)},c=function(){return g.aggNums(Math.max,null,t)};if(d===void 0?d=M():y&&(h._colorAx&&l(d)?d=Math.min(d,M()):d=M()),T===void 0?T=c():y&&(h._colorAx&&l(T)?T=Math.max(T,c()):T=c()),y&&x!==void 0&&(T-x>x-d?d=x-(T-x):T-x<x-d&&(T=x+(x-d))),d===T&&(d-=.5,T+=.5),m._sync("min",d),m._sync("max",T),m.autocolorscale){var p;d*T<0?p=n.colorscale.diverging:d>=0?p=n.colorscale.sequential:p=n.colorscale.sequentialminus,m._sync("colorscale",p)}}},3046:function(te,z,e){var l=e(1828),g=e(2869).hasColorscale,s=e(2869).extractOpts;te.exports=function(r,f){function o(d,T){var x=d["_"+T];x!==void 0&&(d[T]=x)}function n(d,T){var x=T.container?l.nestedProperty(d,T.container).get():d;if(x)if(x.coloraxis)x._colorAx=f[x.coloraxis];else{var M=s(x),c=M.auto;(c||M.min===void 0)&&o(x,T.min),(c||M.max===void 0)&&o(x,T.max),M.autocolorscale&&o(x,"colorscale")}}for(var t=0;t<r.length;t++){var u=r[t],h=u._module.colorbar;if(h)if(Array.isArray(h))for(var m=0;m<h.length;m++)n(u,h[m]);else n(u,h);g(u,"marker.line")&&n(u,{container:"marker.line",min:"cmin",max:"cmax"})}for(var y in f._colorAxes)n(f[y],{min:"cmin",max:"cmax"})}},1586:function(te,z,e){var l=e(2770),g=e(1828),s=e(6228),i=e(2499),r=e(3282).isValid,f=e(3972).traceIs;function o(n,t){var u=t.slice(0,t.length-1);return t?g.nestedProperty(n,u).get()||{}:n}te.exports=function n(t,u,h,m,y){var d=y.prefix,T=y.cLetter,x="_module"in u,M=o(t,d),c=o(u,d),p=o(u._template||{},d)||{},v=function(){return delete t.coloraxis,delete u.coloraxis,n(t,u,h,m,y)};if(x){var b=h._colorAxes||{},w=m(d+"coloraxis");if(w){var _=f(u,"contour")&&g.nestedProperty(u,"contours.coloring").get()||"heatmap",k=b[w];k?(k[2].push(v),k[0]!==_&&(k[0]=!1,g.warn(["Ignoring coloraxis:",w,"setting","as it is linked to incompatible colorscales."].join(" ")))):b[w]=[_,u,[v]];return}}var B=M[T+"min"],U=M[T+"max"],L=l(B)&&l(U)&&B<U,O=m(d+T+"auto",!L);O?m(d+T+"mid"):(m(d+T+"min"),m(d+T+"max"));var R=M.colorscale,Z=p.colorscale,$;if(R!==void 0&&($=!r(R)),Z!==void 0&&($=!r(Z)),m(d+"autocolorscale",$),m(d+"colorscale"),m(d+"reversescale"),d!=="marker.line."){var ie;d&&x&&(ie=s(M));var N=m(d+"showscale",ie);N&&(d&&p&&(c._template=p),i(M,c,h))}}},2869:function(te,z,e){var l=e(9898),g=e(4267),s=e(2770),i=e(1828),r=e(7901),f=e(3282).isValid;function o(x,M,c){var p=M?i.nestedProperty(x,M).get()||{}:x,v=p[c||"color"],b=!1;if(i.isArrayOrTypedArray(v)){for(var w=0;w<v.length;w++)if(s(v[w])){b=!0;break}}return i.isPlainObject(p)&&(b||p.showscale===!0||s(p.cmin)&&s(p.cmax)||f(p.colorscale)||i.isPlainObject(p.colorbar))}var n=["showscale","autocolorscale","colorscale","reversescale","colorbar"],t=["min","max","mid","auto"];function u(x){var M=x._colorAx,c=M||x,p={},v,b,w;for(b=0;b<n.length;b++)w=n[b],p[w]=c[w];if(M)for(v="c",b=0;b<t.length;b++)w=t[b],p[w]=c["c"+w];else{var _;for(b=0;b<t.length;b++){if(w=t[b],_="c"+w,_ in c){p[w]=c[_];continue}_="z"+w,_ in c&&(p[w]=c[_])}v=_.charAt(0)}return p._sync=function(k,B){var U=t.indexOf(k)!==-1?v+k:k;c[U]=c["_"+U]=B},p}function h(x){for(var M=u(x),c=M.min,p=M.max,v=M.reversescale?m(M.colorscale):M.colorscale,b=v.length,w=new Array(b),_=new Array(b),k=0;k<b;k++){var B=v[k];w[k]=c+B[0]*(p-c),_[k]=B[1]}return{domain:w,range:_}}function m(x){for(var M=x.length,c=new Array(M),p=M-1,v=0;p>=0;p--,v++){var b=x[p];c[v]=[1-b[0],b[1]]}return c}function y(x,M){M=M||{};for(var c=x.domain,p=x.range,v=p.length,b=new Array(v),w=0;w<v;w++){var _=g(p[w]).toRgb();b[w]=[_.r,_.g,_.b,_.a]}var k=l.scale.linear().domain(c).range(b).clamp(!0),B=M.noNumericCheck,U=M.returnArray,L;return B&&U?L=k:B?L=function(O){return T(k(O))}:U?L=function(O){return s(O)?k(O):g(O).isValid()?O:r.defaultLine}:L=function(O){return s(O)?T(k(O)):g(O).isValid()?O:r.defaultLine},L.domain=k.domain,L.range=function(){return p},L}function d(x,M){return y(h(x),M)}function T(x){var M={r:x[0],g:x[1],b:x[2],a:x[3]};return g(M).toRgbString()}te.exports={hasColorscale:o,extractOpts:u,extractScale:h,flipScale:m,makeColorScaleFunc:y,makeColorScaleFuncFromTrace:d}},1081:function(te,z,e){var l=e(3282),g=e(2869);te.exports={moduleType:"component",name:"colorscale",attributes:e(693),layoutAttributes:e(2673),supplyLayoutDefaults:e(959),handleDefaults:e(1586),crossTraceDefaults:e(3046),calc:e(8803),scales:l.scales,defaultScale:l.defaultScale,getScale:l.get,isValidScale:l.isValid,hasColorscale:g.hasColorscale,extractOpts:g.extractOpts,extractScale:g.extractScale,flipScale:g.flipScale,makeColorScaleFunc:g.makeColorScaleFunc,makeColorScaleFuncFromTrace:g.makeColorScaleFuncFromTrace}},2673:function(te,z,e){var l=e(1426).extendFlat,g=e(693),s=e(3282).scales;te.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:s.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:s.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:s.RdBu,editType:"calc"}},coloraxis:l({_isSubplotObj:!0,editType:"calc"},g("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},959:function(te,z,e){var l=e(1828),g=e(4467),s=e(2673),i=e(1586);te.exports=function(f,o){function n(x,M){return l.coerce(f,o,s,x,M)}n("colorscale.sequential"),n("colorscale.sequentialminus"),n("colorscale.diverging");var t=o._colorAxes,u,h;function m(x,M){return l.coerce(u,h,s.coloraxis,x,M)}for(var y in t){var d=t[y];if(d[0])u=f[y]||{},h=g.newContainer(o,y,"coloraxis"),h._name=y,i(u,h,o,m,{prefix:"",cLetter:"c"});else{for(var T=0;T<d[2].length;T++)d[2][T]();delete o._colorAxes[y]}}}},3282:function(te,z,e){var l=e(4267),g={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},s=g.RdBu;function i(o,n){if(n||(n=s),!o)return n;function t(){try{o=g[o]||JSON.parse(o)}catch{o=n}}return typeof o=="string"&&(t(),typeof o=="string"&&t()),r(o)?o:n}function r(o){var n=0;if(!Array.isArray(o)||o.length<2||!o[0]||!o[o.length-1]||+o[0][0]!=0||+o[o.length-1][0]!=1)return!1;for(var t=0;t<o.length;t++){var u=o[t];if(u.length!==2||+u[0]<n||!l(u[1]).isValid())return!1;n=+u[0]}return!0}function f(o){return g[o]!==void 0?!0:r(o)}te.exports={scales:g,defaultScale:s,get:i,isValid:f}},2807:function(te){te.exports=function(e,l,g,s,i){var r=(e-g)/(s-g),f=r+l/(s-g),o=(r+f)/2;return i==="left"||i==="bottom"?r:i==="center"||i==="middle"?o:i==="right"||i==="top"?f:r<.6666666666666666-o?r:f>1.3333333333333333-o?f:o}},461:function(te,z,e){var l=e(1828),g=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];te.exports=function(i,r,f,o){return f==="left"?i=0:f==="center"?i=1:f==="right"?i=2:i=l.constrain(Math.floor(i*3),0,2),o==="bottom"?r=0:o==="middle"?r=1:o==="top"?r=2:r=l.constrain(Math.floor(r*3),0,2),g[r][i]}},4505:function(te,z){z.selectMode=function(e){return e==="lasso"||e==="select"},z.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"},z.openMode=function(e){return e==="drawline"||e==="drawopenpath"},z.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"},z.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"},z.selectingOrDrawing=function(e){return z.freeMode(e)||z.rectMode(e)}},8569:function(te,z,e){var l=e(8956),g=e(7035),s=e(8520),i=e(1828).removeElement,r=e(5555),f=te.exports={};f.align=e(2807),f.getCursor=e(461);var o=e(6041);f.unhover=o.wrapped,f.unhoverRaw=o.raw,f.init=function(h){var m=h.gd,y=1,d=m._context.doubleClickDelay,T=h.element,x,M,c,p,v,b,w,_;m._mouseDownTime||(m._mouseDownTime=0),T.style.pointerEvents="all",T.onmousedown=U,s?(T._ontouchstart&&T.removeEventListener("touchstart",T._ontouchstart),T._ontouchstart=U,T.addEventListener("touchstart",U,{passive:!1})):T.ontouchstart=U;function k(R,Z,$){return Math.abs(R)<$&&(R=0),Math.abs(Z)<$&&(Z=0),[R,Z]}var B=h.clampFn||k;function U(R){m._dragged=!1,m._dragging=!0;var Z=t(R);x=Z[0],M=Z[1],w=R.target,b=R,_=R.buttons===2||R.ctrlKey,typeof R.clientX>"u"&&typeof R.clientY>"u"&&(R.clientX=x,R.clientY=M),c=new Date().getTime(),c-m._mouseDownTime<d?y+=1:(y=1,m._mouseDownTime=c),h.prepFn&&h.prepFn(R,x,M),g&&!_?(v=n(),v.style.cursor=window.getComputedStyle(T).cursor):g||(v=document,p=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(T).cursor),document.addEventListener("mouseup",O),document.addEventListener("touchend",O),h.dragmode!==!1&&(R.preventDefault(),document.addEventListener("mousemove",L),document.addEventListener("touchmove",L,{passive:!1}))}function L(R){R.preventDefault();var Z=t(R),$=h.minDrag||r.MINDRAG,ie=B(Z[0]-x,Z[1]-M,$),N=ie[0],F=ie[1];(N||F)&&(m._dragged=!0,f.unhover(m,R)),m._dragged&&h.moveFn&&!_&&(m._dragdata={element:T,dx:N,dy:F},h.moveFn(N,F))}function O(R){if(delete m._dragdata,h.dragmode!==!1&&(R.preventDefault(),document.removeEventListener("mousemove",L),document.removeEventListener("touchmove",L)),document.removeEventListener("mouseup",O),document.removeEventListener("touchend",O),g?i(v):p&&(v.documentElement.style.cursor=p,p=null),!m._dragging){m._dragged=!1;return}if(m._dragging=!1,new Date().getTime()-m._mouseDownTime>d&&(y=Math.max(y-1,1)),m._dragged)h.doneFn&&h.doneFn();else if(h.clickFn&&h.clickFn(y,b),!_){var Z;try{Z=new MouseEvent("click",R)}catch{var $=t(R);Z=document.createEvent("MouseEvents"),Z.initMouseEvent("click",R.bubbles,R.cancelable,R.view,R.detail,R.screenX,R.screenY,$[0],$[1],R.ctrlKey,R.altKey,R.shiftKey,R.metaKey,R.button,R.relatedTarget)}w.dispatchEvent(Z)}m._dragging=!1,m._dragged=!1}};function n(){var u=document.createElement("div");u.className="dragcover";var h=u.style;return h.position="fixed",h.left=0,h.right=0,h.top=0,h.bottom=0,h.zIndex=999999999,h.background="none",document.body.appendChild(u),u}f.coverSlip=n;function t(u){return l(u.changedTouches?u.changedTouches[0]:u,document.body)}},6041:function(te,z,e){var l=e(1086),g=e(9990),s=e(4401).getGraphDiv,i=e(6675),r=te.exports={};r.wrapped=function(f,o,n){f=s(f),f._fullLayout&&g.clear(f._fullLayout._uid+i.HOVERID),r.raw(f,o,n)},r.raw=function(o,n){var t=o._fullLayout,u=o._hoverdata;n||(n={}),!(n.target&&!o._dragged&&l.triggerHandler(o,"plotly_beforehover",n)===!1)&&(t._hoverlayer.selectAll("g").remove(),t._hoverlayer.selectAll("line").remove(),t._hoverlayer.selectAll("circle").remove(),o._hoverdata=void 0,n.target&&u&&o.emit("plotly_unhover",{event:n,points:u}))}},9952:function(te,z){z.P={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},z.u={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},1424:function(te,z,e){var l=e(9898),g=e(1828),s=g.numberFormat,i=e(2770),r=e(4267),f=e(3972),o=e(7901),n=e(1081),t=g.strTranslate,u=e(3893),h=e(7922),m=e(8783),y=m.LINE_SPACING,d=e(7822).DESELECTDIM,T=e(4098),x=e(9984),M=e(3469).appendArrayPointValue,c=te.exports={};c.font=function(ce,me,pe,Ee){g.isPlainObject(me)&&(Ee=me.color,pe=me.size,me=me.family),me&&ce.style("font-family",me),pe+1&&ce.style("font-size",pe+"px"),Ee&&ce.call(o.fill,Ee)},c.setPosition=function(ce,me,pe){ce.attr("x",me).attr("y",pe)},c.setSize=function(ce,me,pe){ce.attr("width",me).attr("height",pe)},c.setRect=function(ce,me,pe,Ee,Ae){ce.call(c.setPosition,me,pe).call(c.setSize,Ee,Ae)},c.translatePoint=function(ce,me,pe,Ee){var Ae=pe.c2p(ce.x),xe=Ee.c2p(ce.y);if(i(Ae)&&i(xe)&&me.node())me.node().nodeName==="text"?me.attr("x",Ae).attr("y",xe):me.attr("transform",t(Ae,xe));else return!1;return!0},c.translatePoints=function(ce,me,pe){ce.each(function(Ee){var Ae=l.select(this);c.translatePoint(Ee,Ae,me,pe)})},c.hideOutsideRangePoint=function(ce,me,pe,Ee,Ae,xe){me.attr("display",pe.isPtWithinRange(ce,Ae)&&Ee.isPtWithinRange(ce,xe)?null:"none")},c.hideOutsideRangePoints=function(ce,me){if(me._hasClipOnAxisFalse){var pe=me.xaxis,Ee=me.yaxis;ce.each(function(Ae){var xe=Ae[0].trace,Fe=xe.xcalendar,Ke=xe.ycalendar,je=f.traceIs(xe,"bar-like")?".bartext":".point,.textpoint";ce.selectAll(je).each(function(Ve){c.hideOutsideRangePoint(Ve,l.select(this),pe,Ee,Fe,Ke)})})}},c.crispRound=function(ce,me,pe){return!me||!i(me)?pe||0:ce._context.staticPlot?me:me<1?1:Math.round(me)},c.singleLineStyle=function(ce,me,pe,Ee,Ae){me.style("fill","none");var xe=(((ce||[])[0]||{}).trace||{}).line||{},Fe=pe||xe.width||0,Ke=Ae||xe.dash||"";o.stroke(me,Ee||xe.color),c.dashLine(me,Ke,Fe)},c.lineGroupStyle=function(ce,me,pe,Ee){ce.style("fill","none").each(function(Ae){var xe=(((Ae||[])[0]||{}).trace||{}).line||{},Fe=me||xe.width||0,Ke=Ee||xe.dash||"";l.select(this).call(o.stroke,pe||xe.color).call(c.dashLine,Ke,Fe)})},c.dashLine=function(ce,me,pe){pe=+pe||0,me=c.dashStyle(me,pe),ce.style({"stroke-dasharray":me,"stroke-width":pe+"px"})},c.dashStyle=function(ce,me){me=+me||1;var pe=Math.max(me,3);return ce==="solid"?ce="":ce==="dot"?ce=pe+"px,"+pe+"px":ce==="dash"?ce=3*pe+"px,"+3*pe+"px":ce==="longdash"?ce=5*pe+"px,"+5*pe+"px":ce==="dashdot"?ce=3*pe+"px,"+pe+"px,"+pe+"px,"+pe+"px":ce==="longdashdot"&&(ce=5*pe+"px,"+2*pe+"px,"+pe+"px,"+2*pe+"px"),ce};function p(ce,me,pe){var Ee=me.fillpattern,Ae=Ee&&c.getPatternAttr(Ee.shape,0,"");if(Ae){var xe=c.getPatternAttr(Ee.bgcolor,0,null),Fe=c.getPatternAttr(Ee.fgcolor,0,null),Ke=Ee.fgopacity,je=c.getPatternAttr(Ee.size,0,8),Ve=c.getPatternAttr(Ee.solidity,0,.3),dt=me.uid;c.pattern(ce,"point",pe,dt,Ae,je,Ve,void 0,Ee.fillmode,xe,Fe,Ke)}else me.fillcolor&&ce.call(o.fill,me.fillcolor)}c.singleFillStyle=function(ce,me){var pe=l.select(ce.node()),Ee=pe.data(),Ae=((Ee[0]||[])[0]||{}).trace||{};p(ce,Ae,me)},c.fillGroupStyle=function(ce,me){ce.style("stroke-width",0).each(function(pe){var Ee=l.select(this);pe[0].trace&&p(Ee,pe[0].trace,me)})};var v=e(998);c.symbolNames=[],c.symbolFuncs=[],c.symbolBackOffs=[],c.symbolNeedLines={},c.symbolNoDot={},c.symbolNoFill={},c.symbolList=[],Object.keys(v).forEach(function(ce){var me=v[ce],pe=me.n;c.symbolList.push(pe,String(pe),ce,pe+100,String(pe+100),ce+"-open"),c.symbolNames[pe]=ce,c.symbolFuncs[pe]=me.f,c.symbolBackOffs[pe]=me.backoff||0,me.needLine&&(c.symbolNeedLines[pe]=!0),me.noDot?c.symbolNoDot[pe]=!0:c.symbolList.push(pe+200,String(pe+200),ce+"-dot",pe+300,String(pe+300),ce+"-open-dot"),me.noFill&&(c.symbolNoFill[pe]=!0)});var b=c.symbolNames.length,w="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";c.symbolNumber=function(ce){if(i(ce))ce=+ce;else if(typeof ce=="string"){var me=0;ce.indexOf("-open")>0&&(me=100,ce=ce.replace("-open","")),ce.indexOf("-dot")>0&&(me+=200,ce=ce.replace("-dot","")),ce=c.symbolNames.indexOf(ce),ce>=0&&(ce+=me)}return ce%100>=b||ce>=400?0:Math.floor(Math.max(ce,0))};function _(ce,me,pe,Ee){var Ae=ce%100;return c.symbolFuncs[Ae](me,pe,Ee)+(ce>=200?w:"")}var k={x1:1,x2:0,y1:0,y2:0},B={x1:0,x2:0,y1:1,y2:0},U=s("~f"),L={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:k},horizontalreversed:{node:"linearGradient",attrs:k,reversed:!0},vertical:{node:"linearGradient",attrs:B},verticalreversed:{node:"linearGradient",attrs:B,reversed:!0}};c.gradient=function(ce,me,pe,Ee,Ae,xe){for(var Fe=Ae.length,Ke=L[Ee],je=new Array(Fe),Ve=0;Ve<Fe;Ve++)Ke.reversed?je[Fe-1-Ve]=[U((1-Ae[Ve][0])*100),Ae[Ve][1]]:je[Ve]=[U(Ae[Ve][0]*100),Ae[Ve][1]];var dt=me._fullLayout,bt="g"+dt._uid+"-"+pe,Tt=dt._defs.select(".gradients").selectAll("#"+bt).data([Ee+je.join(";")],g.identity);Tt.exit().remove(),Tt.enter().append(Ke.node).each(function(){var it=l.select(this);Ke.attrs&&it.attr(Ke.attrs),it.attr("id",bt);var kt=it.selectAll("stop").data(je);kt.exit().remove(),kt.enter().append("stop"),kt.each(function(tt){var Mt=r(tt[1]);l.select(this).attr({offset:tt[0]+"%","stop-color":o.tinyRGB(Mt),"stop-opacity":Mt.getAlpha()})})}),ce.style(xe,ve(bt,me)).style(xe+"-opacity",null),ce.classed("gradient_filled",!0)},c.pattern=function(ce,me,pe,Ee,Ae,xe,Fe,Ke,je,Ve,dt,bt){var Tt=me==="legend";Ke&&(je==="overlay"?(Ve=Ke,dt=o.contrast(Ve)):(Ve=void 0,dt=Ke));var it=pe._fullLayout,kt="p"+it._uid+"-"+Ee,tt,Mt,Dt=function(ze,_e,ct,lt,$e){return lt+($e-lt)*(ze-_e)/(ct-_e)},St,At,ke,Te,Re={},Le=r(dt),Oe=o.tinyRGB(Le),le=Le.getAlpha(),be=bt*le;switch(Ae){case"/":tt=xe*Math.sqrt(2),Mt=xe*Math.sqrt(2),St="M-"+tt/4+","+Mt/4+"l"+tt/2+",-"+Mt/2+"M0,"+Mt+"L"+tt+",0M"+tt/4*3+","+Mt/4*5+"l"+tt/2+",-"+Mt/2,At=Fe*xe,Te="path",Re={d:St,opacity:be,stroke:Oe,"stroke-width":At+"px"};break;case"\\":tt=xe*Math.sqrt(2),Mt=xe*Math.sqrt(2),St="M"+tt/4*3+",-"+Mt/4+"l"+tt/2+","+Mt/2+"M0,0L"+tt+","+Mt+"M-"+tt/4+","+Mt/4*3+"l"+tt/2+","+Mt/2,At=Fe*xe,Te="path",Re={d:St,opacity:be,stroke:Oe,"stroke-width":At+"px"};break;case"x":tt=xe*Math.sqrt(2),Mt=xe*Math.sqrt(2),St="M-"+tt/4+","+Mt/4+"l"+tt/2+",-"+Mt/2+"M0,"+Mt+"L"+tt+",0M"+tt/4*3+","+Mt/4*5+"l"+tt/2+",-"+Mt/2+"M"+tt/4*3+",-"+Mt/4+"l"+tt/2+","+Mt/2+"M0,0L"+tt+","+Mt+"M-"+tt/4+","+Mt/4*3+"l"+tt/2+","+Mt/2,At=xe-xe*Math.sqrt(1-Fe),Te="path",Re={d:St,opacity:be,stroke:Oe,"stroke-width":At+"px"};break;case"|":tt=xe,Mt=xe,Te="path",St="M"+tt/2+",0L"+tt/2+","+Mt,At=Fe*xe,Te="path",Re={d:St,opacity:be,stroke:Oe,"stroke-width":At+"px"};break;case"-":tt=xe,Mt=xe,Te="path",St="M0,"+Mt/2+"L"+tt+","+Mt/2,At=Fe*xe,Te="path",Re={d:St,opacity:be,stroke:Oe,"stroke-width":At+"px"};break;case"+":tt=xe,Mt=xe,Te="path",St="M"+tt/2+",0L"+tt/2+","+Mt+"M0,"+Mt/2+"L"+tt+","+Mt/2,At=xe-xe*Math.sqrt(1-Fe),Te="path",Re={d:St,opacity:be,stroke:Oe,"stroke-width":At+"px"};break;case".":tt=xe,Mt=xe,Fe<Math.PI/4?ke=Math.sqrt(Fe*xe*xe/Math.PI):ke=Dt(Fe,Math.PI/4,1,xe/2,xe/Math.sqrt(2)),Te="circle",Re={cx:tt/2,cy:Mt/2,r:ke,opacity:be,fill:Oe};break}var we=[Ae||"noSh",Ve||"noBg",dt||"noFg",xe,Fe].join(";"),Se=it._defs.select(".patterns").selectAll("#"+kt).data([we],g.identity);Se.exit().remove(),Se.enter().append("pattern").each(function(){var ze=l.select(this);if(ze.attr({id:kt,width:tt+"px",height:Mt+"px",patternUnits:"userSpaceOnUse",patternTransform:Tt?"scale(0.8)":""}),Ve){var _e=r(Ve),ct=o.tinyRGB(_e),lt=_e.getAlpha(),$e=ze.selectAll("rect").data([0]);$e.exit().remove(),$e.enter().append("rect").attr({width:tt+"px",height:Mt+"px",fill:ct,"fill-opacity":lt})}var Ye=ze.selectAll(Te).data([0]);Ye.exit().remove(),Ye.enter().append(Te).attr(Re)}),ce.style("fill",ve(kt,pe)).style("fill-opacity",null),ce.classed("pattern_filled",!0)},c.initGradients=function(ce){var me=ce._fullLayout,pe=g.ensureSingle(me._defs,"g","gradients");pe.selectAll("linearGradient,radialGradient").remove(),l.select(ce).selectAll(".gradient_filled").classed("gradient_filled",!1)},c.initPatterns=function(ce){var me=ce._fullLayout,pe=g.ensureSingle(me._defs,"g","patterns");pe.selectAll("pattern").remove(),l.select(ce).selectAll(".pattern_filled").classed("pattern_filled",!1)},c.getPatternAttr=function(ce,me,pe){return ce&&g.isArrayOrTypedArray(ce)?me<ce.length?ce[me]:pe:ce},c.pointStyle=function(ce,me,pe,Ee){if(ce.size()){var Ae=c.makePointStyleFns(me);ce.each(function(xe){c.singlePointStyle(xe,l.select(this),me,Ae,pe,Ee)})}},c.singlePointStyle=function(ce,me,pe,Ee,Ae,xe){var Fe=pe.marker,Ke=Fe.line;if(xe&&xe.i>=0&&ce.i===void 0&&(ce.i=xe.i),me.style("opacity",Ee.selectedOpacityFn?Ee.selectedOpacityFn(ce):ce.mo===void 0?Fe.opacity:ce.mo),Ee.ms2mrc){var je;ce.ms==="various"||Fe.size==="various"?je=3:je=Ee.ms2mrc(ce.ms),ce.mrc=je,Ee.selectedSizeFn&&(je=ce.mrc=Ee.selectedSizeFn(ce));var Ve=c.symbolNumber(ce.mx||Fe.symbol)||0;ce.om=Ve%200>=100;var dt=De(ce,pe),bt=S(ce,pe);me.attr("d",_(Ve,je,dt,bt))}var Tt=!1,it,kt,tt;if(ce.so)tt=Ke.outlierwidth,kt=Ke.outliercolor,it=Fe.outliercolor;else{var Mt=(Ke||{}).width;tt=(ce.mlw+1||Mt+1||(ce.trace?(ce.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in ce?kt=ce.mlcc=Ee.lineScale(ce.mlc):g.isArrayOrTypedArray(Ke.color)?kt=o.defaultLine:kt=Ke.color,g.isArrayOrTypedArray(Fe.color)&&(it=o.defaultLine,Tt=!0),"mc"in ce?it=ce.mcc=Ee.markerScale(ce.mc):it=Fe.color||Fe.colors||"rgba(0,0,0,0)",Ee.selectedColorFn&&(it=Ee.selectedColorFn(ce))}if(ce.om)me.call(o.stroke,it).style({"stroke-width":(tt||1)+"px",fill:"none"});else{me.style("stroke-width",(ce.isBlank?0:tt)+"px");var Dt=Fe.gradient,St=ce.mgt;St?Tt=!0:St=Dt&&Dt.type,g.isArrayOrTypedArray(St)&&(St=St[0],L[St]||(St=0));var At=Fe.pattern,ke=At&&c.getPatternAttr(At.shape,ce.i,"");if(St&&St!=="none"){var Te=ce.mgc;Te?Tt=!0:Te=Dt.color;var Re=pe.uid;Tt&&(Re+="-"+ce.i),c.gradient(me,Ae,Re,St,[[0,Te],[1,it]],"fill")}else if(ke){var Le=!1,Oe=At.fgcolor;!Oe&&xe&&xe.color&&(Oe=xe.color,Le=!0);var le=c.getPatternAttr(Oe,ce.i,xe&&xe.color||null),be=c.getPatternAttr(At.bgcolor,ce.i,null),we=At.fgopacity,Se=c.getPatternAttr(At.size,ce.i,8),ze=c.getPatternAttr(At.solidity,ce.i,.3);Le=Le||ce.mcc||g.isArrayOrTypedArray(At.shape)||g.isArrayOrTypedArray(At.bgcolor)||g.isArrayOrTypedArray(At.fgcolor)||g.isArrayOrTypedArray(At.size)||g.isArrayOrTypedArray(At.solidity);var _e=pe.uid;Le&&(_e+="-"+ce.i),c.pattern(me,"point",Ae,_e,ke,Se,ze,ce.mcc,At.fillmode,be,le,we)}else g.isArrayOrTypedArray(it)?o.fill(me,it[ce.i]):o.fill(me,it);tt&&o.stroke(me,kt)}},c.makePointStyleFns=function(ce){var me={},pe=ce.marker;return me.markerScale=c.tryColorscale(pe,""),me.lineScale=c.tryColorscale(pe,"line"),f.traceIs(ce,"symbols")&&(me.ms2mrc=T.isBubble(ce)?x(ce):function(){return(pe.size||6)/2}),ce.selectedpoints&&g.extendFlat(me,c.makeSelectedPointStyleFns(ce)),me},c.makeSelectedPointStyleFns=function(ce){var me={},pe=ce.selected||{},Ee=ce.unselected||{},Ae=ce.marker||{},xe=pe.marker||{},Fe=Ee.marker||{},Ke=Ae.opacity,je=xe.opacity,Ve=Fe.opacity,dt=je!==void 0,bt=Ve!==void 0;(g.isArrayOrTypedArray(Ke)||dt||bt)&&(me.selectedOpacityFn=function(ke){var Te=ke.mo===void 0?Ae.opacity:ke.mo;return ke.selected?dt?je:Te:bt?Ve:d*Te});var Tt=Ae.color,it=xe.color,kt=Fe.color;(it||kt)&&(me.selectedColorFn=function(ke){var Te=ke.mcc||Tt;return ke.selected?it||Te:kt||Te});var tt=Ae.size,Mt=xe.size,Dt=Fe.size,St=Mt!==void 0,At=Dt!==void 0;return f.traceIs(ce,"symbols")&&(St||At)&&(me.selectedSizeFn=function(ke){var Te=ke.mrc||tt/2;return ke.selected?St?Mt/2:Te:At?Dt/2:Te}),me},c.makeSelectedTextStyleFns=function(ce){var me={},pe=ce.selected||{},Ee=ce.unselected||{},Ae=ce.textfont||{},xe=pe.textfont||{},Fe=Ee.textfont||{},Ke=Ae.color,je=xe.color,Ve=Fe.color;return me.selectedTextColorFn=function(dt){var bt=dt.tc||Ke;return dt.selected?je||bt:Ve||(je?bt:o.addOpacity(bt,d))},me},c.selectedPointStyle=function(ce,me){if(!(!ce.size()||!me.selectedpoints)){var pe=c.makeSelectedPointStyleFns(me),Ee=me.marker||{},Ae=[];pe.selectedOpacityFn&&Ae.push(function(xe,Fe){xe.style("opacity",pe.selectedOpacityFn(Fe))}),pe.selectedColorFn&&Ae.push(function(xe,Fe){o.fill(xe,pe.selectedColorFn(Fe))}),pe.selectedSizeFn&&Ae.push(function(xe,Fe){var Ke=Fe.mx||Ee.symbol||0,je=pe.selectedSizeFn(Fe);xe.attr("d",_(c.symbolNumber(Ke),je,De(Fe,me),S(Fe,me))),Fe.mrc2=je}),Ae.length&&ce.each(function(xe){for(var Fe=l.select(this),Ke=0;Ke<Ae.length;Ke++)Ae[Ke](Fe,xe)})}},c.tryColorscale=function(ce,me){var pe=me?g.nestedProperty(ce,me).get():ce;if(pe){var Ee=pe.color;if((pe.colorscale||pe._colorAx)&&g.isArrayOrTypedArray(Ee))return n.makeColorScaleFuncFromTrace(pe)}return g.identity};var O={start:1,end:-1,middle:0,bottom:1,top:-1};function R(ce,me,pe,Ee,Ae){var xe=l.select(ce.node().parentNode),Fe=me.indexOf("top")!==-1?"top":me.indexOf("bottom")!==-1?"bottom":"middle",Ke=me.indexOf("left")!==-1?"end":me.indexOf("right")!==-1?"start":"middle",je=Ee?Ee/.8+1:0,Ve=(u.lineCount(ce)-1)*y+1,dt=O[Ke]*je,bt=pe*.75+O[Fe]*je+(O[Fe]-1)*Ve*pe/2;ce.attr("text-anchor",Ke),Ae||xe.attr("transform",t(dt,bt))}function Z(ce,me){var pe=ce.ts||me.textfont.size;return i(pe)&&pe>0?pe:0}c.textPointStyle=function(ce,me,pe){if(ce.size()){var Ee;if(me.selectedpoints){var Ae=c.makeSelectedTextStyleFns(me);Ee=Ae.selectedTextColorFn}var xe=me.texttemplate,Fe=pe._fullLayout;ce.each(function(Ke){var je=l.select(this),Ve=xe?g.extractOption(Ke,me,"txt","texttemplate"):g.extractOption(Ke,me,"tx","text");if(!Ve&&Ve!==0){je.remove();return}if(xe){var dt=me._module.formatLabels,bt=dt?dt(Ke,me,Fe):{},Tt={};M(Tt,me,Ke.i);var it=me._meta||{};Ve=g.texttemplateString(Ve,bt,Fe._d3locale,Tt,Ke,it)}var kt=Ke.tp||me.textposition,tt=Z(Ke,me),Mt=Ee?Ee(Ke):Ke.tc||me.textfont.color;je.call(c.font,Ke.tf||me.textfont.family,tt,Mt).text(Ve).call(u.convertToTspans,pe).call(R,kt,tt,Ke.mrc)})}},c.selectedTextStyle=function(ce,me){if(!(!ce.size()||!me.selectedpoints)){var pe=c.makeSelectedTextStyleFns(me);ce.each(function(Ee){var Ae=l.select(this),xe=pe.selectedTextColorFn(Ee),Fe=Ee.tp||me.textposition,Ke=Z(Ee,me);o.fill(Ae,xe);var je=f.traceIs(me,"bar-like");R(Ae,Fe,Ke,Ee.mrc2||Ee.mrc,je)})}};var $=.5;c.smoothopen=function(ce,me){if(ce.length<3)return"M"+ce.join("L");var pe="M"+ce[0],Ee=[],Ae;for(Ae=1;Ae<ce.length-1;Ae++)Ee.push(X(ce[Ae-1],ce[Ae],ce[Ae+1],me));for(pe+="Q"+Ee[0][0]+" "+ce[1],Ae=2;Ae<ce.length-1;Ae++)pe+="C"+Ee[Ae-2][1]+" "+Ee[Ae-1][0]+" "+ce[Ae];return pe+="Q"+Ee[ce.length-3][1]+" "+ce[ce.length-1],pe},c.smoothclosed=function(ce,me){if(ce.length<3)return"M"+ce.join("L")+"Z";var pe="M"+ce[0],Ee=ce.length-1,Ae=[X(ce[Ee],ce[0],ce[1],me)],xe;for(xe=1;xe<Ee;xe++)Ae.push(X(ce[xe-1],ce[xe],ce[xe+1],me));for(Ae.push(X(ce[Ee-1],ce[Ee],ce[0],me)),xe=1;xe<=Ee;xe++)pe+="C"+Ae[xe-1][1]+" "+Ae[xe][0]+" "+ce[xe];return pe+="C"+Ae[Ee][1]+" "+Ae[0][0]+" "+ce[0]+"Z",pe};var ie,N;function F(ce,me,pe){return pe&&(ce=ue(ce)),me?W(ce[1]):G(ce[0])}function G(ce){var me=l.round(ce,2);return ie=me,me}function W(ce){var me=l.round(ce,2);return N=me,me}function X(ce,me,pe,Ee){var Ae=ce[0]-me[0],xe=ce[1]-me[1],Fe=pe[0]-me[0],Ke=pe[1]-me[1],je=Math.pow(Ae*Ae+xe*xe,$/2),Ve=Math.pow(Fe*Fe+Ke*Ke,$/2),dt=(Ve*Ve*Ae-je*je*Fe)*Ee,bt=(Ve*Ve*xe-je*je*Ke)*Ee,Tt=3*Ve*(je+Ve),it=3*je*(je+Ve);return[[G(me[0]+(Tt&&dt/Tt)),W(me[1]+(Tt&&bt/Tt))],[G(me[0]-(it&&dt/it)),W(me[1]-(it&&bt/it))]]}var J={hv:function(ce,me,pe){return"H"+G(me[0])+"V"+F(me,1,pe)},vh:function(ce,me,pe){return"V"+W(me[1])+"H"+F(me,0,pe)},hvh:function(ce,me,pe){return"H"+G((ce[0]+me[0])/2)+"V"+W(me[1])+"H"+F(me,0,pe)},vhv:function(ce,me,pe){return"V"+W((ce[1]+me[1])/2)+"H"+G(me[0])+"V"+F(me,1,pe)}},ne=function(ce,me,pe){return"L"+F(me,0,pe)+","+F(me,1,pe)};c.steps=function(ce){var me=J[ce]||ne;return function(pe){for(var Ee="M"+G(pe[0][0])+","+W(pe[0][1]),Ae=pe.length,xe=1;xe<Ae;xe++)Ee+=me(pe[xe-1],pe[xe],xe===Ae-1);return Ee}};function ue(ce,me){var pe=ce.backoff,Ee=ce.trace,Ae=ce.d,xe=ce.i;if(pe&&Ee&&Ee.marker&&Ee.marker.angle%360===0&&Ee.line&&Ee.line.shape!=="spline"){var Fe=g.isArrayOrTypedArray(pe),Ke=ce,je=me?me[0]:ie||0,Ve=me?me[1]:N||0,dt=Ke[0],bt=Ke[1],Tt=dt-je,it=bt-Ve,kt=Math.atan2(it,Tt),tt=Fe?pe[xe]:pe;if(tt==="auto"){var Mt=Ke.i;Ee.type==="scatter"&&Mt--;var Dt=Ke.marker,St=Dt.symbol;g.isArrayOrTypedArray(St)&&(St=St[Mt]);var At=Dt.size;g.isArrayOrTypedArray(At)&&(At=At[Mt]),tt=Dt?c.symbolBackOffs[c.symbolNumber(St)]*At:0,tt+=c.getMarkerStandoff(Ae[Mt],Ee)||0}var ke=dt-tt*Math.cos(kt),Te=bt-tt*Math.sin(kt);(ke<=dt&&ke>=je||ke>=dt&&ke<=je)&&(Te<=bt&&Te>=Ve||Te>=bt&&Te<=Ve)&&(ce=[ke,Te])}return ce}c.applyBackoff=ue,c.makeTester=function(){var ce=g.ensureSingleById(l.select("body"),"svg","js-plotly-tester",function(pe){pe.attr(h.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),me=g.ensureSingle(ce,"path","js-reference-point",function(pe){pe.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});c.tester=ce,c.testref=me},c.savedBBoxes={};var ye=0,Me=1e4;c.bBox=function(ce,me,pe){pe||(pe=oe(ce));var Ee;if(pe){if(Ee=c.savedBBoxes[pe],Ee)return g.extendFlat({},Ee)}else if(ce.childNodes.length===1){var Ae=ce.childNodes[0];if(pe=oe(Ae),pe){var xe=+Ae.getAttribute("x")||0,Fe=+Ae.getAttribute("y")||0,Ke=Ae.getAttribute("transform");if(!Ke){var je=c.bBox(Ae,!1,pe);return xe&&(je.left+=xe,je.right+=xe),Fe&&(je.top+=Fe,je.bottom+=Fe),je}if(pe+="~"+xe+"~"+Fe+"~"+Ke,Ee=c.savedBBoxes[pe],Ee)return g.extendFlat({},Ee)}}var Ve,dt;me?Ve=ce:(dt=c.tester.node(),Ve=ce.cloneNode(!0),dt.appendChild(Ve)),l.select(Ve).attr("transform",null).call(u.positionText,0,0);var bt=Ve.getBoundingClientRect(),Tt=c.testref.node().getBoundingClientRect();me||dt.removeChild(Ve);var it={height:bt.height,width:bt.width,left:bt.left-Tt.left,top:bt.top-Tt.top,right:bt.right-Tt.left,bottom:bt.bottom-Tt.top};return ye>=Me&&(c.savedBBoxes={},ye=0),pe&&(c.savedBBoxes[pe]=it),ye++,g.extendFlat({},it)};function oe(ce){var me=ce.getAttribute("data-unformatted");if(me!==null)return me+ce.getAttribute("data-math")+ce.getAttribute("text-anchor")+ce.getAttribute("style")}c.setClipUrl=function(ce,me,pe){ce.attr("clip-path",ve(me,pe))};function ve(ce,me){if(!ce)return null;var pe=me._context,Ee=pe._exportedPlot?"":pe._baseUrl||"";return Ee?"url('"+Ee+"#"+ce+"')":"url(#"+ce+")"}c.getTranslate=function(ce){var me=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,pe=ce.attr?"attr":"getAttribute",Ee=ce[pe]("transform")||"",Ae=Ee.replace(me,function(xe,Fe,Ke){return[Fe,Ke].join(" ")}).split(" ");return{x:+Ae[0]||0,y:+Ae[1]||0}},c.setTranslate=function(ce,me,pe){var Ee=/(\btranslate\(.*?\);?)/,Ae=ce.attr?"attr":"getAttribute",xe=ce.attr?"attr":"setAttribute",Fe=ce[Ae]("transform")||"";return me=me||0,pe=pe||0,Fe=Fe.replace(Ee,"").trim(),Fe+=t(me,pe),Fe=Fe.trim(),ce[xe]("transform",Fe),Fe},c.getScale=function(ce){var me=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,pe=ce.attr?"attr":"getAttribute",Ee=ce[pe]("transform")||"",Ae=Ee.replace(me,function(xe,Fe,Ke){return[Fe,Ke].join(" ")}).split(" ");return{x:+Ae[0]||1,y:+Ae[1]||1}},c.setScale=function(ce,me,pe){var Ee=/(\bscale\(.*?\);?)/,Ae=ce.attr?"attr":"getAttribute",xe=ce.attr?"attr":"setAttribute",Fe=ce[Ae]("transform")||"";return me=me||1,pe=pe||1,Fe=Fe.replace(Ee,"").trim(),Fe+="scale("+me+","+pe+")",Fe=Fe.trim(),ce[xe]("transform",Fe),Fe};var H=/\s*sc.*/;c.setPointGroupScale=function(ce,me,pe){if(me=me||1,pe=pe||1,!!ce){var Ee=me===1&&pe===1?"":"scale("+me+","+pe+")";ce.each(function(){var Ae=(this.getAttribute("transform")||"").replace(H,"");Ae+=Ee,Ae=Ae.trim(),this.setAttribute("transform",Ae)})}};var Y=/translate\([^)]*\)\s*$/;c.setTextPointsScale=function(ce,me,pe){ce&&ce.each(function(){var Ee,Ae=l.select(this),xe=Ae.select("text");if(xe.node()){var Fe=parseFloat(xe.attr("x")||0),Ke=parseFloat(xe.attr("y")||0),je=(Ae.attr("transform")||"").match(Y);me===1&&pe===1?Ee=[]:Ee=[t(Fe,Ke),"scale("+me+","+pe+")",t(-Fe,-Ke)],je&&Ee.push(je),Ae.attr("transform",Ee.join(""))}})};function S(ce,me){var pe;return ce&&(pe=ce.mf),pe===void 0&&(pe=me.marker&&me.marker.standoff||0),!me._geo&&!me._xA?-pe:pe}c.getMarkerStandoff=S;var E=Math.atan2,I=Math.cos,C=Math.sin;function K(ce,me){var pe=me[0],Ee=me[1];return[pe*I(ce)-Ee*C(ce),pe*C(ce)+Ee*I(ce)]}var P,j,ae,fe,de,Ce;function De(ce,me){var pe=ce.ma;pe===void 0&&(pe=me.marker.angle||0);var Ee,Ae,xe=me.marker.angleref;if(xe==="previous"||xe==="north"){if(me._geo){var Fe=me._geo.project(ce.lonlat);Ee=Fe[0],Ae=Fe[1]}else{var Ke=me._xA,je=me._yA;if(Ke&&je)Ee=Ke.c2p(ce.x),Ae=je.c2p(ce.y);else return 90}if(me._geo){var Ve=ce.lonlat[0],dt=ce.lonlat[1],bt=me._geo.project([Ve,dt+1e-5]),Tt=me._geo.project([Ve+1e-5,dt]),it=E(Tt[1]-Ae,Tt[0]-Ee),kt=E(bt[1]-Ae,bt[0]-Ee),tt;if(xe==="north")tt=pe/180*Math.PI;else if(xe==="previous"){var Mt=Ve/180*Math.PI,Dt=dt/180*Math.PI,St=P/180*Math.PI,At=j/180*Math.PI,ke=St-Mt,Te=I(At)*C(ke),Re=C(At)*I(Dt)-I(At)*C(Dt)*I(ke);tt=-E(Te,Re)-Math.PI,P=Ve,j=dt}var Le=K(it,[I(tt),0]),Oe=K(kt,[C(tt),0]);pe=E(Le[1]+Oe[1],Le[0]+Oe[0])/Math.PI*180,xe==="previous"&&!(Ce===me.uid&&ce.i===de+1)&&(pe=null)}if(xe==="previous"&&!me._geo)if(Ce===me.uid&&ce.i===de+1&&i(Ee)&&i(Ae)){var le=Ee-ae,be=Ae-fe,we=me.line&&me.line.shape||"",Se=we.slice(we.length-1);Se==="h"&&(be=0),Se==="v"&&(le=0),pe+=E(be,le)/Math.PI*180+90}else pe=null}return ae=Ee,fe=Ae,de=ce.i,Ce=me.uid,pe}c.getMarkerAngle=De},998:function(te,z,e){var l=e(5616),g=e(9898).round,s="M0,0Z",i=Math.sqrt(2),r=Math.sqrt(3),f=Math.PI,o=Math.cos,n=Math.sin;te.exports={circle:{n:0,f:function(T,x,M){if(t(x))return s;var c=g(T,2),p="M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z";return M?d(x,M,p):p}},square:{n:1,f:function(T,x,M){if(t(x))return s;var c=g(T,2);return d(x,M,"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")}},diamond:{n:2,f:function(T,x,M){if(t(x))return s;var c=g(T*1.3,2);return d(x,M,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"Z")}},cross:{n:3,f:function(T,x,M){if(t(x))return s;var c=g(T*.4,2),p=g(T*1.2,2);return d(x,M,"M"+p+","+c+"H"+c+"V"+p+"H-"+c+"V"+c+"H-"+p+"V-"+c+"H-"+c+"V-"+p+"H"+c+"V-"+c+"H"+p+"Z")}},x:{n:4,f:function(T,x,M){if(t(x))return s;var c=g(T*.8/i,2),p="l"+c+","+c,v="l"+c+",-"+c,b="l-"+c+",-"+c,w="l-"+c+","+c;return d(x,M,"M0,"+c+p+v+b+v+b+w+b+w+p+w+p+"Z")}},"triangle-up":{n:5,f:function(T,x,M){if(t(x))return s;var c=g(T*2/r,2),p=g(T/2,2),v=g(T,2);return d(x,M,"M-"+c+","+p+"H"+c+"L0,-"+v+"Z")}},"triangle-down":{n:6,f:function(T,x,M){if(t(x))return s;var c=g(T*2/r,2),p=g(T/2,2),v=g(T,2);return d(x,M,"M-"+c+",-"+p+"H"+c+"L0,"+v+"Z")}},"triangle-left":{n:7,f:function(T,x,M){if(t(x))return s;var c=g(T*2/r,2),p=g(T/2,2),v=g(T,2);return d(x,M,"M"+p+",-"+c+"V"+c+"L-"+v+",0Z")}},"triangle-right":{n:8,f:function(T,x,M){if(t(x))return s;var c=g(T*2/r,2),p=g(T/2,2),v=g(T,2);return d(x,M,"M-"+p+",-"+c+"V"+c+"L"+v+",0Z")}},"triangle-ne":{n:9,f:function(T,x,M){if(t(x))return s;var c=g(T*.6,2),p=g(T*1.2,2);return d(x,M,"M-"+p+",-"+c+"H"+c+"V"+p+"Z")}},"triangle-se":{n:10,f:function(T,x,M){if(t(x))return s;var c=g(T*.6,2),p=g(T*1.2,2);return d(x,M,"M"+c+",-"+p+"V"+c+"H-"+p+"Z")}},"triangle-sw":{n:11,f:function(T,x,M){if(t(x))return s;var c=g(T*.6,2),p=g(T*1.2,2);return d(x,M,"M"+p+","+c+"H-"+c+"V-"+p+"Z")}},"triangle-nw":{n:12,f:function(T,x,M){if(t(x))return s;var c=g(T*.6,2),p=g(T*1.2,2);return d(x,M,"M-"+c+","+p+"V-"+c+"H"+p+"Z")}},pentagon:{n:13,f:function(T,x,M){if(t(x))return s;var c=g(T*.951,2),p=g(T*.588,2),v=g(-T,2),b=g(T*-.309,2),w=g(T*.809,2);return d(x,M,"M"+c+","+b+"L"+p+","+w+"H-"+p+"L-"+c+","+b+"L0,"+v+"Z")}},hexagon:{n:14,f:function(T,x,M){if(t(x))return s;var c=g(T,2),p=g(T/2,2),v=g(T*r/2,2);return d(x,M,"M"+v+",-"+p+"V"+p+"L0,"+c+"L-"+v+","+p+"V-"+p+"L0,-"+c+"Z")}},hexagon2:{n:15,f:function(T,x,M){if(t(x))return s;var c=g(T,2),p=g(T/2,2),v=g(T*r/2,2);return d(x,M,"M-"+p+","+v+"H"+p+"L"+c+",0L"+p+",-"+v+"H-"+p+"L-"+c+",0Z")}},octagon:{n:16,f:function(T,x,M){if(t(x))return s;var c=g(T*.924,2),p=g(T*.383,2);return d(x,M,"M-"+p+",-"+c+"H"+p+"L"+c+",-"+p+"V"+p+"L"+p+","+c+"H-"+p+"L-"+c+","+p+"V-"+p+"Z")}},star:{n:17,f:function(T,x,M){if(t(x))return s;var c=T*1.4,p=g(c*.225,2),v=g(c*.951,2),b=g(c*.363,2),w=g(c*.588,2),_=g(-c,2),k=g(c*-.309,2),B=g(c*.118,2),U=g(c*.809,2),L=g(c*.382,2);return d(x,M,"M"+p+","+k+"H"+v+"L"+b+","+B+"L"+w+","+U+"L0,"+L+"L-"+w+","+U+"L-"+b+","+B+"L-"+v+","+k+"H-"+p+"L0,"+_+"Z")}},hexagram:{n:18,f:function(T,x,M){if(t(x))return s;var c=g(T*.66,2),p=g(T*.38,2),v=g(T*.76,2);return d(x,M,"M-"+v+",0l-"+p+",-"+c+"h"+v+"l"+p+",-"+c+"l"+p+","+c+"h"+v+"l-"+p+","+c+"l"+p+","+c+"h-"+v+"l-"+p+","+c+"l-"+p+",-"+c+"h-"+v+"Z")}},"star-triangle-up":{n:19,f:function(T,x,M){if(t(x))return s;var c=g(T*r*.8,2),p=g(T*.8,2),v=g(T*1.6,2),b=g(T*4,2),w="A "+b+","+b+" 0 0 1 ";return d(x,M,"M-"+c+","+p+w+c+","+p+w+"0,-"+v+w+"-"+c+","+p+"Z")}},"star-triangle-down":{n:20,f:function(T,x,M){if(t(x))return s;var c=g(T*r*.8,2),p=g(T*.8,2),v=g(T*1.6,2),b=g(T*4,2),w="A "+b+","+b+" 0 0 1 ";return d(x,M,"M"+c+",-"+p+w+"-"+c+",-"+p+w+"0,"+v+w+c+",-"+p+"Z")}},"star-square":{n:21,f:function(T,x,M){if(t(x))return s;var c=g(T*1.1,2),p=g(T*2,2),v="A "+p+","+p+" 0 0 1 ";return d(x,M,"M-"+c+",-"+c+v+"-"+c+","+c+v+c+","+c+v+c+",-"+c+v+"-"+c+",-"+c+"Z")}},"star-diamond":{n:22,f:function(T,x,M){if(t(x))return s;var c=g(T*1.4,2),p=g(T*1.9,2),v="A "+p+","+p+" 0 0 1 ";return d(x,M,"M-"+c+",0"+v+"0,"+c+v+c+",0"+v+"0,-"+c+v+"-"+c+",0Z")}},"diamond-tall":{n:23,f:function(T,x,M){if(t(x))return s;var c=g(T*.7,2),p=g(T*1.4,2);return d(x,M,"M0,"+p+"L"+c+",0L0,-"+p+"L-"+c+",0Z")}},"diamond-wide":{n:24,f:function(T,x,M){if(t(x))return s;var c=g(T*1.4,2),p=g(T*.7,2);return d(x,M,"M0,"+p+"L"+c+",0L0,-"+p+"L-"+c+",0Z")}},hourglass:{n:25,f:function(T,x,M){if(t(x))return s;var c=g(T,2);return d(x,M,"M"+c+","+c+"H-"+c+"L"+c+",-"+c+"H-"+c+"Z")},noDot:!0},bowtie:{n:26,f:function(T,x,M){if(t(x))return s;var c=g(T,2);return d(x,M,"M"+c+","+c+"V-"+c+"L-"+c+","+c+"V-"+c+"Z")},noDot:!0},"circle-cross":{n:27,f:function(T,x,M){if(t(x))return s;var c=g(T,2);return d(x,M,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(T,x,M){if(t(x))return s;var c=g(T,2),p=g(T/i,2);return d(x,M,"M"+p+","+p+"L-"+p+",-"+p+"M"+p+",-"+p+"L-"+p+","+p+"M"+c+",0A"+c+","+c+" 0 1,1 0,-"+c+"A"+c+","+c+" 0 0,1 "+c+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(T,x,M){if(t(x))return s;var c=g(T,2);return d(x,M,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(T,x,M){if(t(x))return s;var c=g(T,2);return d(x,M,"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c+"M"+c+","+c+"H-"+c+"V-"+c+"H"+c+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(T,x,M){if(t(x))return s;var c=g(T*1.3,2);return d(x,M,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"ZM0,-"+c+"V"+c+"M-"+c+",0H"+c)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(T,x,M){if(t(x))return s;var c=g(T*1.3,2),p=g(T*.65,2);return d(x,M,"M"+c+",0L0,"+c+"L-"+c+",0L0,-"+c+"ZM-"+p+",-"+p+"L"+p+","+p+"M-"+p+","+p+"L"+p+",-"+p)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(T,x,M){if(t(x))return s;var c=g(T*1.4,2);return d(x,M,"M0,"+c+"V-"+c+"M"+c+",0H-"+c)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(T,x,M){if(t(x))return s;var c=g(T,2);return d(x,M,"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(T,x,M){if(t(x))return s;var c=g(T*1.2,2),p=g(T*.85,2);return d(x,M,"M0,"+c+"V-"+c+"M"+c+",0H-"+c+"M"+p+","+p+"L-"+p+",-"+p+"M"+p+",-"+p+"L-"+p+","+p)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(T,x,M){if(t(x))return s;var c=g(T/2,2),p=g(T,2);return d(x,M,"M"+c+","+p+"V-"+p+"M"+(c-p)+",-"+p+"V"+p+"M"+p+","+c+"H-"+p+"M-"+p+","+(c-p)+"H"+p)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(T,x,M){if(t(x))return s;var c=g(T*1.2,2),p=g(T*1.6,2),v=g(T*.8,2);return d(x,M,"M-"+c+","+v+"L0,0M"+c+","+v+"L0,0M0,-"+p+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(T,x,M){if(t(x))return s;var c=g(T*1.2,2),p=g(T*1.6,2),v=g(T*.8,2);return d(x,M,"M-"+c+",-"+v+"L0,0M"+c+",-"+v+"L0,0M0,"+p+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(T,x,M){if(t(x))return s;var c=g(T*1.2,2),p=g(T*1.6,2),v=g(T*.8,2);return d(x,M,"M"+v+","+c+"L0,0M"+v+",-"+c+"L0,0M-"+p+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(T,x,M){if(t(x))return s;var c=g(T*1.2,2),p=g(T*1.6,2),v=g(T*.8,2);return d(x,M,"M-"+v+","+c+"L0,0M-"+v+",-"+c+"L0,0M"+p+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(T,x,M){if(t(x))return s;var c=g(T*1.4,2);return d(x,M,"M"+c+",0H-"+c)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(T,x,M){if(t(x))return s;var c=g(T*1.4,2);return d(x,M,"M0,"+c+"V-"+c)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(T,x,M){if(t(x))return s;var c=g(T,2);return d(x,M,"M"+c+",-"+c+"L-"+c+","+c)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(T,x,M){if(t(x))return s;var c=g(T,2);return d(x,M,"M"+c+","+c+"L-"+c+",-"+c)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(T,x,M){if(t(x))return s;var c=g(T,2),p=g(T*2,2);return d(x,M,"M0,0L-"+c+","+p+"H"+c+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(T,x,M){if(t(x))return s;var c=g(T,2),p=g(T*2,2);return d(x,M,"M0,0L-"+c+",-"+p+"H"+c+"Z")},noDot:!0},"arrow-left":{n:47,f:function(T,x,M){if(t(x))return s;var c=g(T*2,2),p=g(T,2);return d(x,M,"M0,0L"+c+",-"+p+"V"+p+"Z")},noDot:!0},"arrow-right":{n:48,f:function(T,x,M){if(t(x))return s;var c=g(T*2,2),p=g(T,2);return d(x,M,"M0,0L-"+c+",-"+p+"V"+p+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(T,x,M){if(t(x))return s;var c=g(T,2),p=g(T*2,2);return d(x,M,"M-"+c+",0H"+c+"M0,0L-"+c+","+p+"H"+c+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(T,x,M){if(t(x))return s;var c=g(T,2),p=g(T*2,2);return d(x,M,"M-"+c+",0H"+c+"M0,0L-"+c+",-"+p+"H"+c+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(T,x,M){if(t(x))return s;var c=g(T*2,2),p=g(T,2);return d(x,M,"M0,-"+p+"V"+p+"M0,0L"+c+",-"+p+"V"+p+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(T,x,M){if(t(x))return s;var c=g(T*2,2),p=g(T,2);return d(x,M,"M0,-"+p+"V"+p+"M0,0L-"+c+",-"+p+"V"+p+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(T,x,M){if(t(x))return s;var c=f/2.5,p=2*T*o(c),v=2*T*n(c);return d(x,M,"M0,0L"+-p+","+v+"L"+p+","+v+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(T,x,M){if(t(x))return s;var c=f/4,p=2*T*o(c),v=2*T*n(c);return d(x,M,"M0,0L"+-p+","+v+"A "+2*T+","+2*T+" 0 0 1 "+p+","+v+"Z")},backoff:.4,noDot:!0}};function t(T){return T===null}var u,h,m,y;function d(T,x,M){if((!T||T%360===0)&&!x)return M;if(m===T&&y===x&&u===M)return h;m=T,y=x,u=M;function c($,ie){var N=o($),F=n($),G=ie[0],W=ie[1]+(x||0);return[G*N-W*F,G*F+W*N]}for(var p=T/180*f,v=0,b=0,w=l(M),_="",k=0;k<w.length;k++){var B=w[k],U=B[0],L=v,O=b;if(U==="M"||U==="L")v=+B[1],b=+B[2];else if(U==="m"||U==="l")v+=+B[1],b+=+B[2];else if(U==="H")v=+B[1];else if(U==="h")v+=+B[1];else if(U==="V")b=+B[1];else if(U==="v")b+=+B[1];else if(U==="A"){v=+B[1],b=+B[2];var R=c(p,[+B[6],+B[7]]);B[6]=R[0],B[7]=R[1],B[3]=+B[3]+T}(U==="H"||U==="V")&&(U="L"),(U==="h"||U==="v")&&(U="l"),(U==="m"||U==="l")&&(v-=L,b-=O);var Z=c(p,[v,b]);(U==="H"||U==="V")&&(U="L"),(U==="M"||U==="L"||U==="m"||U==="l")&&(B[1]=Z[0],B[2]=Z[1]),B[0]=U,_+=B[0]+B.slice(1).join(",")}return h=_,_}},5673:function(te){te.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},4532:function(te,z,e){var l=e(2770),g=e(3972),s=e(9298),i=e(1828),r=e(5827);te.exports=function(n){for(var t=n.calcdata,u=0;u<t.length;u++){var h=t[u],m=h[0].trace;if(m.visible===!0&&g.traceIs(m,"errorBarsOK")){var y=s.getFromId(n,m.xaxis),d=s.getFromId(n,m.yaxis);f(h,m,y,"x"),f(h,m,d,"y")}}};function f(o,n,t,u){var h=n["error_"+u]||{},m=h.visible&&["linear","log"].indexOf(t.type)!==-1,y=[];if(m){for(var d=r(h),T=0;T<o.length;T++){var x=o[T],M=x.i;if(M===void 0)M=T;else if(M===null)continue;var c=x[u];if(l(t.c2l(c))){var p=d(c,M);if(l(p[0])&&l(p[1])){var v=x[u+"s"]=c-p[0],b=x[u+"h"]=c+p[1];y.push(v,b)}}}var w=t._id,_=n._extremes[w],k=s.findExtremes(t,y,i.extendFlat({tozero:_.opts.tozero},{padded:!0}));_.min=_.min.concat(k.min),_.max=_.max.concat(k.max)}}},5827:function(te){te.exports=function(l){var g=l.type,s=l.symmetric;if(g==="data"){var i=l.array||[];if(s)return function(t,u){var h=+i[u];return[h,h]};var r=l.arrayminus||[];return function(t,u){var h=+i[u],m=+r[u];return!isNaN(h)||!isNaN(m)?[m||0,h||0]:[NaN,NaN]}}else{var f=z(g,l.value),o=z(g,l.valueminus);return s||l.valueminus===void 0?function(t){var u=f(t);return[u,u]}:function(t){return[o(t),f(t)]}}};function z(e,l){if(e==="percent")return function(g){return Math.abs(g*l/100)};if(e==="constant")return function(){return Math.abs(l)};if(e==="sqrt")return function(g){return Math.sqrt(Math.abs(g))}}},7587:function(te,z,e){var l=e(2770),g=e(3972),s=e(1828),i=e(4467),r=e(5673);te.exports=function(f,o,n,t){var u="error_"+t.axis,h=i.newContainer(o,u),m=f[u]||{};function y(v,b){return s.coerce(m,h,r,v,b)}var d=m.array!==void 0||m.value!==void 0||m.type==="sqrt",T=y("visible",d);if(T!==!1){var x=y("type","array"in m?"data":"percent"),M=!0;x!=="sqrt"&&(M=y("symmetric",!((x==="data"?"arrayminus":"valueminus")in m))),x==="data"?(y("array"),y("traceref"),M||(y("arrayminus"),y("tracerefminus"))):(x==="percent"||x==="constant")&&(y("value"),M||y("valueminus"));var c="copy_"+t.inherit+"style";if(t.inherit){var p=o["error_"+t.inherit];(p||{}).visible&&y(c,!(m.color||l(m.thickness)||l(m.width)))}(!t.inherit||!h[c])&&(y("color",n),y("thickness"),y("width",g.traceIs(o,"gl3d")?0:4))}}},7369:function(te,z,e){var l=e(1828),g=e(962).overrideAll,s=e(5673),i={error_x:l.extendFlat({},s),error_y:l.extendFlat({},s)};delete i.error_x.copy_zstyle,delete i.error_y.copy_zstyle,delete i.error_y.copy_ystyle;var r={error_x:l.extendFlat({},s),error_y:l.extendFlat({},s),error_z:l.extendFlat({},s)};delete r.error_x.copy_ystyle,delete r.error_y.copy_ystyle,delete r.error_z.copy_ystyle,delete r.error_z.copy_zstyle,te.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:i,bar:i,histogram:i,scatter3d:g(r,"calc","nested"),scattergl:g(i,"calc","nested")}},supplyDefaults:e(7587),calc:e(4532),makeComputeError:e(5827),plot:e(9398),style:e(2662),hoverInfo:f};function f(o,n,t){(n.error_y||{}).visible&&(t.yerr=o.yh-o.y,n.error_y.symmetric||(t.yerrneg=o.y-o.ys)),(n.error_x||{}).visible&&(t.xerr=o.xh-o.x,n.error_x.symmetric||(t.xerrneg=o.x-o.xs))}},9398:function(te,z,e){var l=e(9898),g=e(2770),s=e(1424),i=e(4098);te.exports=function(o,n,t,u){var h,m=t.xaxis,y=t.yaxis,d=u&&u.duration>0,T=o._context.staticPlot;n.each(function(x){var M=x[0].trace,c=M.error_x||{},p=M.error_y||{},v;M.ids&&(v=function(k){return k.id});var b=i.hasMarkers(M)&&M.marker.maxdisplayed>0;!p.visible&&!c.visible&&(x=[]);var w=l.select(this).selectAll("g.errorbar").data(x,v);if(w.exit().remove(),!!x.length){c.visible||w.selectAll("path.xerror").remove(),p.visible||w.selectAll("path.yerror").remove(),w.style("opacity",1);var _=w.enter().append("g").classed("errorbar",!0);d&&_.style("opacity",0).transition().duration(u.duration).style("opacity",1),s.setClipUrl(w,t.layerClipId,o),w.each(function(k){var B=l.select(this),U=r(k,m,y);if(!(b&&!k.vis)){var L,O=B.select("path.yerror");if(p.visible&&g(U.x)&&g(U.yh)&&g(U.ys)){var R=p.width;L="M"+(U.x-R)+","+U.yh+"h"+2*R+"m-"+R+",0V"+U.ys,U.noYS||(L+="m-"+R+",0h"+2*R),h=!O.size(),h?O=B.append("path").style("vector-effect",T?"none":"non-scaling-stroke").classed("yerror",!0):d&&(O=O.transition().duration(u.duration).ease(u.easing)),O.attr("d",L)}else O.remove();var Z=B.select("path.xerror");if(c.visible&&g(U.y)&&g(U.xh)&&g(U.xs)){var $=(c.copy_ystyle?p:c).width;L="M"+U.xh+","+(U.y-$)+"v"+2*$+"m0,-"+$+"H"+U.xs,U.noXS||(L+="m0,-"+$+"v"+2*$),h=!Z.size(),h?Z=B.append("path").style("vector-effect",T?"none":"non-scaling-stroke").classed("xerror",!0):d&&(Z=Z.transition().duration(u.duration).ease(u.easing)),Z.attr("d",L)}else Z.remove()}})}})};function r(f,o,n){var t={x:o.c2p(f.x),y:n.c2p(f.y)};return f.yh!==void 0&&(t.yh=n.c2p(f.yh),t.ys=n.c2p(f.ys),g(t.ys)||(t.noYS=!0,t.ys=n.c2p(f.ys,!0))),f.xh!==void 0&&(t.xh=o.c2p(f.xh),t.xs=o.c2p(f.xs),g(t.xs)||(t.noXS=!0,t.xs=o.c2p(f.xs,!0))),t}},2662:function(te,z,e){var l=e(9898),g=e(7901);te.exports=function(i){i.each(function(r){var f=r[0].trace,o=f.error_y||{},n=f.error_x||{},t=l.select(this);t.selectAll("path.yerror").style("stroke-width",o.thickness+"px").call(g.stroke,o.color),n.copy_ystyle&&(n=o),t.selectAll("path.xerror").style("stroke-width",n.thickness+"px").call(g.stroke,n.color)})}},7914:function(te,z,e){var l=e(1940),g=e(528).hoverlabel,s=e(1426).extendFlat;te.exports={hoverlabel:{bgcolor:s({},g.bgcolor,{arrayOk:!0}),bordercolor:s({},g.bordercolor,{arrayOk:!0}),font:l({arrayOk:!0,editType:"none"}),align:s({},g.align,{arrayOk:!0}),namelength:s({},g.namelength,{arrayOk:!0}),editType:"none"}}},732:function(te,z,e){var l=e(1828),g=e(3972);te.exports=function(r){var f=r.calcdata,o=r._fullLayout;function n(y){return function(d){return l.coerceHoverinfo({hoverinfo:d},{_module:y._module},o)}}for(var t=0;t<f.length;t++){var u=f[t],h=u[0].trace;if(!g.traceIs(h,"pie-like")){var m=g.traceIs(h,"2dMap")?s:l.fillArray;m(h.hoverinfo,u,"hi",n(h)),h.hovertemplate&&m(h.hovertemplate,u,"ht"),h.hoverlabel&&(m(h.hoverlabel.bgcolor,u,"hbg"),m(h.hoverlabel.bordercolor,u,"hbc"),m(h.hoverlabel.font.size,u,"hts"),m(h.hoverlabel.font.color,u,"htc"),m(h.hoverlabel.font.family,u,"htf"),m(h.hoverlabel.namelength,u,"hnl"),m(h.hoverlabel.align,u,"hta"))}}};function s(i,r,f,o){o=o||l.identity,Array.isArray(i)&&(r[0][f]=o(i))}},5914:function(te,z,e){var l=e(3972),g=e(8335).hover;te.exports=function(i,r,f){var o=l.getComponentMethod("annotations","onClick")(i,i._hoverdata);f!==void 0&&g(i,r,f,!0);function n(){i.emit("plotly_click",{points:i._hoverdata,event:r})}i._hoverdata&&r&&r.target&&(o&&o.then?o.then(n):n(),r.stopImmediatePropagation&&r.stopImmediatePropagation())}},6675:function(te){te.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},4268:function(te,z,e){var l=e(1828),g=e(7914),s=e(8048);te.exports=function(r,f,o,n){function t(h,m){return l.coerce(r,f,g,h,m)}var u=l.extendFlat({},n.hoverlabel);f.hovertemplate&&(u.namelength=-1),s(r,f,t,u)}},3469:function(te,z,e){var l=e(1828);z.getSubplot=function(o){return o.subplot||o.xaxis+o.yaxis||o.geo},z.isTraceInSubplots=function(o,n){if(o.type==="splom"){for(var t=o.xaxes||[],u=o.yaxes||[],h=0;h<t.length;h++)for(var m=0;m<u.length;m++)if(n.indexOf(t[h]+u[m])!==-1)return!0;return!1}return n.indexOf(z.getSubplot(o))!==-1},z.flat=function(o,n){for(var t=new Array(o.length),u=0;u<o.length;u++)t[u]=n;return t},z.p2c=function(o,n){for(var t=new Array(o.length),u=0;u<o.length;u++)t[u]=o[u].p2c(n);return t},z.getDistanceFunction=function(o,n,t,u){return o==="closest"?u||z.quadrature(n,t):o.charAt(0)==="x"?n:t},z.getClosest=function(o,n,t){if(t.index!==!1)t.index>=0&&t.index<o.length?t.distance=0:t.index=!1;else for(var u=0;u<o.length;u++){var h=n(o[u]);h<=t.distance&&(t.index=u,t.distance=h)}return t},z.inbox=function(o,n,t){return o*n<0||o===0?t:1/0},z.quadrature=function(o,n){return function(t){var u=o(t),h=n(t);return Math.sqrt(u*u+h*h)}},z.makeEventData=function(o,n,t){var u="index"in o?o.index:o.pointNumber,h={data:n._input,fullData:n,curveNumber:n.index,pointNumber:u};if(n._indexToPoints){var m=n._indexToPoints[u];m.length===1?h.pointIndex=m[0]:h.pointIndices=m}else h.pointIndex=u;return n._module.eventData?h=n._module.eventData(h,o,n,t,u):("xVal"in o?h.x=o.xVal:"x"in o&&(h.x=o.x),"yVal"in o?h.y=o.yVal:"y"in o&&(h.y=o.y),o.xa&&(h.xaxis=o.xa),o.ya&&(h.yaxis=o.ya),o.zLabelVal!==void 0&&(h.z=o.zLabelVal)),z.appendArrayPointValue(h,n,u),h},z.appendArrayPointValue=function(o,n,t){var u=n._arrayAttrs;if(u)for(var h=0;h<u.length;h++){var m=u[h],y=s(m);if(o[y]===void 0){var d=l.nestedProperty(n,m).get(),T=i(d,t);T!==void 0&&(o[y]=T)}}},z.appendArrayMultiPointValues=function(o,n,t){var u=n._arrayAttrs;if(u)for(var h=0;h<u.length;h++){var m=u[h],y=s(m);if(o[y]===void 0){for(var d=l.nestedProperty(n,m).get(),T=new Array(t.length),x=0;x<t.length;x++)T[x]=i(d,t[x]);o[y]=T}}};var g={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function s(o){return g[o]||o}function i(o,n){if(Array.isArray(n)){if(Array.isArray(o)&&Array.isArray(o[n[0]]))return o[n[0]][n[1]]}else return o[n]}var r={x:!0,y:!0},f={"x unified":!0,"y unified":!0};z.isUnifiedHover=function(o){return typeof o!="string"?!1:!!f[o]},z.isXYhover=function(o){return typeof o!="string"?!1:!!r[o]}},8335:function(te,z,e){var l=e(9898),g=e(2770),s=e(4267),i=e(1828),r=i.strTranslate,f=i.strRotate,o=e(1086),n=e(3893),t=e(9918),u=e(1424),h=e(7901),m=e(8569),y=e(9298),d=e(3972),T=e(3469),x=e(6675),M=e(9017),c=e(3969),p=x.YANGLE,v=Math.PI*p/180,b=1/Math.sin(v),w=Math.cos(v),_=Math.sin(v),k=x.HOVERARROWSIZE,B=x.HOVERTEXTPAD,U={box:!0,ohlc:!0,violin:!0,candlestick:!0},L={scatter:!0,scattergl:!0,splom:!0};z.hover=function(E,I,C,K){E=i.getGraphDiv(E);var P=I.target;i.throttle(E._fullLayout._uid+x.HOVERID,x.HOVERMINTIME,function(){O(E,I,C,K,P)})},z.loneHover=function(E,I){var C=!0;Array.isArray(E)||(C=!1,E=[E]);var K=I.gd,P=ve(K),j=H(K),ae=E.map(function(Ae){var xe=Ae._x0||Ae.x0||Ae.x||0,Fe=Ae._x1||Ae.x1||Ae.x||0,Ke=Ae._y0||Ae.y0||Ae.y||0,je=Ae._y1||Ae.y1||Ae.y||0,Ve=Ae.eventData;if(Ve){var dt=Math.min(xe,Fe),bt=Math.max(xe,Fe),Tt=Math.min(Ke,je),it=Math.max(Ke,je),kt=Ae.trace;if(d.traceIs(kt,"gl3d")){var tt=K._fullLayout[kt.scene]._scene.container,Mt=tt.offsetLeft,Dt=tt.offsetTop;dt+=Mt,bt+=Mt,Tt+=Dt,it+=Dt}Ve.bbox={x0:dt+j,x1:bt+j,y0:Tt+P,y1:it+P},I.inOut_bbox&&I.inOut_bbox.push(Ve.bbox)}else Ve=!1;return{color:Ae.color||h.defaultLine,x0:Ae.x0||Ae.x||0,x1:Ae.x1||Ae.x||0,y0:Ae.y0||Ae.y||0,y1:Ae.y1||Ae.y||0,xLabel:Ae.xLabel,yLabel:Ae.yLabel,zLabel:Ae.zLabel,text:Ae.text,name:Ae.name,idealAlign:Ae.idealAlign,borderColor:Ae.borderColor,fontFamily:Ae.fontFamily,fontSize:Ae.fontSize,fontColor:Ae.fontColor,nameLength:Ae.nameLength,textAlign:Ae.textAlign,trace:Ae.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:Ae.hovertemplate||!1,hovertemplateLabels:Ae.hovertemplateLabels||!1,eventData:Ve}}),fe=!1,de=$(ae,{gd:K,hovermode:"closest",rotateLabels:fe,bgColor:I.bgColor||h.background,container:l.select(I.container),outerContainer:I.outerContainer||I.container}),Ce=de.hoverLabels,De=5,ce=0,me=0;Ce.sort(function(Ae,xe){return Ae.y0-xe.y0}).each(function(Ae,xe){var Fe=Ae.y0-Ae.by/2;Fe-De<ce?Ae.offset=ce-Fe+De:Ae.offset=0,ce=Fe+Ae.by+Ae.offset,xe===I.anchorIndex&&(me=Ae.offset)}).each(function(Ae){Ae.offset-=me});var pe=K._fullLayout._invScaleX,Ee=K._fullLayout._invScaleY;return W(Ce,fe,pe,Ee),C?Ce:Ce.node()};function O(S,E,I,C,K){I||(I="xy");var P=Array.isArray(I)?I:[I],j=S._fullLayout,ae=j._plots||[],fe=ae[I],de=j._has("cartesian");if(fe){var Ce=fe.overlays.map(function(Rt){return Rt.id});P=P.concat(Ce)}for(var De=P.length,ce=new Array(De),me=new Array(De),pe=!1,Ee=0;Ee<De;Ee++){var Ae=P[Ee];if(ae[Ae])pe=!0,ce[Ee]=ae[Ae].xaxis,me[Ee]=ae[Ae].yaxis;else if(j[Ae]&&j[Ae]._subplot){var xe=j[Ae]._subplot;ce[Ee]=xe.xaxis,me[Ee]=xe.yaxis}else{i.warn("Unrecognized subplot: "+Ae);return}}var Fe=E.hovermode||j.hovermode;if(Fe&&!pe&&(Fe="closest"),["x","y","closest","x unified","y unified"].indexOf(Fe)===-1||!S.calcdata||S.querySelector(".zoombox")||S._dragging)return m.unhoverRaw(S,E);var Ke=j.hoverdistance;Ke===-1&&(Ke=1/0);var je=j.spikedistance;je===-1&&(je=1/0);var Ve=[],dt=[],bt,Tt,it,kt,tt,Mt,Dt,St,At,ke,Te,Re,Le,Oe={hLinePoint:null,vLinePoint:null},le=!1;if(Array.isArray(E))for(Fe="array",it=0;it<E.length;it++)tt=S.calcdata[E[it].curveNumber||0],tt&&(Mt=tt[0].trace,tt[0].trace.hoverinfo!=="skip"&&(dt.push(tt),Mt.orientation==="h"&&(le=!0)));else{for(kt=0;kt<S.calcdata.length;kt++)tt=S.calcdata[kt],Mt=tt[0].trace,Mt.hoverinfo!=="skip"&&T.isTraceInSubplots(Mt,P)&&(dt.push(tt),Mt.orientation==="h"&&(le=!0));var be=!K,we,Se;if(be)"xpx"in E?we=E.xpx:we=ce[0]._length/2,"ypx"in E?Se=E.ypx:Se=me[0]._length/2;else{if(o.triggerHandler(S,"plotly_beforehover",E)===!1)return;var ze=K.getBoundingClientRect();we=E.clientX-ze.left,Se=E.clientY-ze.top,j._calcInverseTransform(S);var _e=i.apply3DTransform(j._invTransform)(we,Se);if(we=_e[0],Se=_e[1],we<0||we>ce[0]._length||Se<0||Se>me[0]._length)return m.unhoverRaw(S,E)}if(E.pointerX=we+ce[0]._offset,E.pointerY=Se+me[0]._offset,"xval"in E?bt=T.flat(P,E.xval):bt=T.p2c(ce,we),"yval"in E?Tt=T.flat(P,E.yval):Tt=T.p2c(me,Se),!g(bt[0])||!g(Tt[0]))return i.warn("Fx.hover failed",E,S),m.unhoverRaw(S,E)}var ct=1/0;function lt(Rt,zt){for(kt=0;kt<dt.length;kt++)if(tt=dt[kt],!(!tt||!tt[0]||!tt[0].trace)&&(Mt=tt[0].trace,!(Mt.visible!==!0||Mt._length===0)&&["carpet","contourcarpet"].indexOf(Mt._module.name)===-1)){if(Mt.type==="splom"?(St=0,Dt=P[St]):(Dt=T.getSubplot(Mt),St=P.indexOf(Dt)),At=Fe,T.isUnifiedHover(At)&&(At=At.charAt(0)),Re={cd:tt,trace:Mt,xa:ce[St],ya:me[St],maxHoverDistance:Ke,maxSpikeDistance:je,index:!1,distance:Math.min(ct,Ke),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:h.defaultLine,name:Mt.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},j[Dt]&&(Re.subplot=j[Dt]._subplot),j._splomScenes&&j._splomScenes[Mt.uid]&&(Re.scene=j._splomScenes[Mt.uid]),Le=Ve.length,At==="array"){var er=E[kt];"pointNumber"in er?(Re.index=er.pointNumber,At="closest"):(At="","xval"in er&&(ke=er.xval,At="x"),"yval"in er&&(Te=er.yval,At=At?"closest":"y"))}else Rt!==void 0&&zt!==void 0?(ke=Rt,Te=zt):(ke=bt[St],Te=Tt[St]);if(Ke!==0)if(Mt._module&&Mt._module.hoverPoints){var tr=Mt._module.hoverPoints(Re,ke,Te,At,{finiteRange:!0,hoverLayer:j._hoverlayer});if(tr)for(var lr,mr=0;mr<tr.length;mr++)lr=tr[mr],g(lr.x0)&&g(lr.y0)&&Ve.push(X(lr,Fe))}else i.log("Unrecognized trace type in hover:",Mt);if(Fe==="closest"&&Ve.length>Le&&(Ve.splice(0,Le),ct=Ve[0].distance),de&&je!==0&&Ve.length===0){Re.distance=je,Re.index=!1;var or=Mt._module.hoverPoints(Re,ke,Te,"closest",{hoverLayer:j._hoverlayer});if(or&&(or=or.filter(function(wr){return wr.spikeDistance<=je})),or&&or.length){var fr,hr=or.filter(function(wr){return wr.xa.showspikes&&wr.xa.spikesnap!=="hovered data"});if(hr.length){var yr=hr[0];g(yr.x0)&&g(yr.y0)&&(fr=Ye(yr),(!Oe.vLinePoint||Oe.vLinePoint.spikeDistance>fr.spikeDistance)&&(Oe.vLinePoint=fr))}var Mr=or.filter(function(wr){return wr.ya.showspikes&&wr.ya.spikesnap!=="hovered data"});if(Mr.length){var Ar=Mr[0];g(Ar.x0)&&g(Ar.y0)&&(fr=Ye(Ar),(!Oe.hLinePoint||Oe.hLinePoint.spikeDistance>fr.spikeDistance)&&(Oe.hLinePoint=fr))}}}}}lt();function $e(Rt,zt,er){for(var tr=null,lr=1/0,mr,or=0;or<Rt.length;or++)mr=Rt[or].spikeDistance,er&&or===0&&(mr=-1/0),mr<=lr&&mr<=zt&&(tr=Rt[or],lr=mr);return tr}function Ye(Rt){return Rt?{xa:Rt.xa,ya:Rt.ya,x:Rt.xSpike!==void 0?Rt.xSpike:(Rt.x0+Rt.x1)/2,y:Rt.ySpike!==void 0?Rt.ySpike:(Rt.y0+Rt.y1)/2,distance:Rt.distance,spikeDistance:Rt.spikeDistance,curveNumber:Rt.trace.index,color:Rt.color,pointNumber:Rt.index}:null}var nt={fullLayout:j,container:j._hoverlayer,event:E},wt=S._spikepoints,Et={vLinePoint:Oe.vLinePoint,hLinePoint:Oe.hLinePoint};S._spikepoints=Et;var Ht=function(){Ve.sort(function(Rt,zt){return Rt.distance-zt.distance}),Ve=Me(Ve,Fe)};Ht();var Wt=Fe.charAt(0),Gt=(Wt==="x"||Wt==="y")&&Ve[0]&&L[Ve[0].trace.type];if(de&&je!==0&&Ve.length!==0){var Ct=Ve.filter(function(Rt){return Rt.ya.showspikes}),Vt=$e(Ct,je,Gt);Oe.hLinePoint=Ye(Vt);var Bt=Ve.filter(function(Rt){return Rt.xa.showspikes}),_t=$e(Bt,je,Gt);Oe.vLinePoint=Ye(_t)}if(Ve.length===0){var jt=m.unhoverRaw(S,E);return de&&(Oe.hLinePoint!==null||Oe.vLinePoint!==null)&&ue(wt)&&J(S,Oe,nt),jt}if(de&&ue(wt)&&J(S,Oe,nt),T.isXYhover(At)&&Ve[0].length!==0&&Ve[0].trace.type!=="splom"){var Yt=Ve[0];U[Yt.trace.type]?Ve=Ve.filter(function(Rt){return Rt.trace.index===Yt.trace.index}):Ve=[Yt];var xt=Ve.length,Ot=oe("x",Yt,j),Ft=oe("y",Yt,j);lt(Ot,Ft);var Xt=[],rr={},sr=0,Ut=function(Rt){var zt=U[Rt.trace.type]?R(Rt):Rt.trace.index;if(!rr[zt])sr++,rr[zt]=sr,Xt.push(Rt);else{var er=rr[zt]-1,tr=Xt[er];er>0&&Math.abs(Rt.distance)<Math.abs(tr.distance)&&(Xt[er]=Rt)}},re;for(re=0;re<xt;re++)Ut(Ve[re]);for(re=Ve.length-1;re>xt-1;re--)Ut(Ve[re]);Ve=Xt,Ht()}var q=S._hoverdata,He=[],Ie=ve(S),Ue=H(S);for(it=0;it<Ve.length;it++){var We=Ve[it],Je=T.makeEventData(We,We.trace,We.cd);if(We.hovertemplate!==!1){var Ge=!1;We.cd[We.index]&&We.cd[We.index].ht&&(Ge=We.cd[We.index].ht),We.hovertemplate=Ge||We.trace.hovertemplate||!1}if(We.xa&&We.ya){var Be=We.x0+We.xa._offset,qe=We.x1+We.xa._offset,rt=We.y0+We.ya._offset,st=We.y1+We.ya._offset,at=Math.min(Be,qe),pt=Math.max(Be,qe),ht=Math.min(rt,st),ut=Math.max(rt,st);Je.bbox={x0:at+Ue,x1:pt+Ue,y0:ht+Ie,y1:ut+Ie}}We.eventData=[Je],He.push(Je)}S._hoverdata=He;var Pt=Fe==="y"&&(dt.length>1||Ve.length>1)||Fe==="closest"&&le&&Ve.length>1,Lt=h.combine(j.plot_bgcolor||h.background,j.paper_bgcolor),$t=$(Ve,{gd:S,hovermode:Fe,rotateLabels:Pt,bgColor:Lt,container:j._hoverlayer,outerContainer:j._paper.node(),commonLabelOpts:j.hoverlabel,hoverdistance:j.hoverdistance}),It=$t.hoverLabels;if(T.isUnifiedHover(Fe)||(N(It,Pt,j,$t.commonLabelBoundingBox),W(It,Pt,j._invScaleX,j._invScaleY)),K&&K.tagName){var Kt=d.getComponentMethod("annotations","hasClickToShow")(S,He);t(l.select(K),Kt?"pointer":"")}!K||C||!ne(S,E,q)||(q&&S.emit("plotly_unhover",{event:E,points:q}),S.emit("plotly_hover",{event:E,points:S._hoverdata,xaxes:ce,yaxes:me,xvals:bt,yvals:Tt}))}function R(S){return[S.trace.index,S.index,S.x0,S.y0,S.name,S.attr,S.xa?S.xa._id:"",S.ya?S.ya._id:""].join(",")}var Z=/<extra>([\s\S]*)<\/extra>/;function $(S,E){var I=E.gd,C=I._fullLayout,K=E.hovermode,P=E.rotateLabels,j=E.bgColor,ae=E.container,fe=E.outerContainer,de=E.commonLabelOpts||{};if(S.length===0)return[[]];var Ce=E.fontFamily||x.HOVERFONT,De=E.fontSize||x.HOVERFONTSIZE,ce=S[0],me=ce.xa,pe=ce.ya,Ee=K.charAt(0),Ae=Ee+"Label",xe=ce[Ae];if(xe===void 0&&me.type==="multicategory")for(var Fe=0;Fe<S.length&&(xe=S[Fe][Ae],xe===void 0);Fe++);var Ke=Y(I,fe),je=Ke.top,Ve=Ke.width,dt=Ke.height,bt=xe!==void 0&&ce.distance<=E.hoverdistance&&(K==="x"||K==="y");if(bt){var Tt=!0,it,kt;for(it=0;it<S.length;it++)if(Tt&&S[it].zLabel===void 0&&(Tt=!1),kt=S[it].hoverinfo||S[it].trace.hoverinfo,kt){var tt=Array.isArray(kt)?kt:kt.split("+");if(tt.indexOf("all")===-1&&tt.indexOf(K)===-1){bt=!1;break}}Tt&&(bt=!1)}var Mt=ae.selectAll("g.axistext").data(bt?[0]:[]);Mt.enter().append("g").classed("axistext",!0),Mt.exit().remove();var Dt={minX:0,maxX:0,minY:0,maxY:0};if(Mt.each(function(){var xt=l.select(this),Ot=i.ensureSingle(xt,"path","",function(ht){ht.style({"stroke-width":"1px"})}),Ft=i.ensureSingle(xt,"text","",function(ht){ht.attr("data-notex",1)}),Xt=de.bgcolor||h.defaultLine,rr=de.bordercolor||h.contrast(Xt),sr=h.contrast(Xt),Ut={family:de.font.family||Ce,size:de.font.size||De,color:de.font.color||sr};Ot.style({fill:Xt,stroke:rr}),Ft.text(xe).call(u.font,Ut).call(n.positionText,0,0).call(n.convertToTspans,I),xt.attr("transform","");var re=Y(I,Ft.node()),q,He;if(K==="x"){var Ie=me.side==="top"?"-":"";Ft.attr("text-anchor","middle").call(n.positionText,0,me.side==="top"?je-re.bottom-k-B:je-re.top+k+B),q=me._offset+(ce.x0+ce.x1)/2,He=pe._offset+(me.side==="top"?0:pe._length);var Ue=re.width/2+B;q<Ue?(q=Ue,Ot.attr("d","M-"+(Ue-k)+",0L-"+(Ue-k*2)+","+Ie+k+"H"+Ue+"v"+Ie+(B*2+re.height)+"H-"+Ue+"V"+Ie+k+"Z")):q>C.width-Ue?(q=C.width-Ue,Ot.attr("d","M"+(Ue-k)+",0L"+Ue+","+Ie+k+"v"+Ie+(B*2+re.height)+"H-"+Ue+"V"+Ie+k+"H"+(Ue-k*2)+"Z")):Ot.attr("d","M0,0L"+k+","+Ie+k+"H"+Ue+"v"+Ie+(B*2+re.height)+"H-"+Ue+"V"+Ie+k+"H-"+k+"Z"),Dt.minX=q-Ue,Dt.maxX=q+Ue,me.side==="top"?(Dt.minY=He-(B*2+re.height),Dt.maxY=He-B):(Dt.minY=He+B,Dt.maxY=He+(B*2+re.height))}else{var We,Je,Ge;pe.side==="right"?(We="start",Je=1,Ge="",q=me._offset+me._length):(We="end",Je=-1,Ge="-",q=me._offset),He=pe._offset+(ce.y0+ce.y1)/2,Ft.attr("text-anchor",We),Ot.attr("d","M0,0L"+Ge+k+","+k+"V"+(B+re.height/2)+"h"+Ge+(B*2+re.width)+"V-"+(B+re.height/2)+"H"+Ge+k+"V-"+k+"Z"),Dt.minY=He-(B+re.height/2),Dt.maxY=He+(B+re.height/2),pe.side==="right"?(Dt.minX=q+k,Dt.maxX=q+k+(B*2+re.width)):(Dt.minX=q-k-(B*2+re.width),Dt.maxX=q-k);var Be=re.height/2,qe=je-re.top-Be,rt="clip"+C._uid+"commonlabel"+pe._id,st;if(q<re.width+2*B+k){st="M-"+(k+B)+"-"+Be+"h-"+(re.width-B)+"V"+Be+"h"+(re.width-B)+"Z";var at=re.width-q+B;n.positionText(Ft,at,qe),We==="end"&&Ft.selectAll("tspan").each(function(){var ht=l.select(this),ut=u.tester.append("text").text(ht.text()).call(u.font,Ut),Pt=Y(I,ut.node());Math.round(Pt.width)<Math.round(re.width)&&ht.attr("x",at-Pt.width),ut.remove()})}else n.positionText(Ft,Je*(B+k),qe),st=null;var pt=C._topclips.selectAll("#"+rt).data(st?[0]:[]);pt.enter().append("clipPath").attr("id",rt).append("path"),pt.exit().remove(),pt.select("path").attr("d",st),u.setClipUrl(Ft,st?rt:null,I)}xt.attr("transform",r(q,He))}),T.isUnifiedHover(K)){ae.selectAll("g.hovertext").remove();var St=S.filter(function(xt){return xt.hoverinfo!=="none"});if(St.length===0)return[];var At=C.hoverlabel,ke=At.font,Te={showlegend:!0,legend:{title:{text:xe,font:ke},font:ke,bgcolor:At.bgcolor,bordercolor:At.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:C.legend?C.legend.traceorder:void 0,orientation:"v"}},Re={font:ke};M(Te,Re,I._fullData);var Le=Re.legend;Le.entries=[];for(var Oe=0;Oe<St.length;Oe++){var le=St[Oe];if(le.hoverinfo!=="none"){var be=ie(le,!0,K,C,xe),we=be[0],Se=be[1];le.name=Se,Se!==""?le.text=Se+" : "+we:le.text=we;var ze=le.cd[le.index];ze&&(ze.mc&&(le.mc=ze.mc),ze.mcc&&(le.mc=ze.mcc),ze.mlc&&(le.mlc=ze.mlc),ze.mlcc&&(le.mlc=ze.mlcc),ze.mlw&&(le.mlw=ze.mlw),ze.mrc&&(le.mrc=ze.mrc),ze.dir&&(le.dir=ze.dir)),le._distinct=!0,Le.entries.push([le])}}Le.entries.sort(function(xt,Ot){return xt[0].trace.index-Ot[0].trace.index}),Le.layer=ae,Le._inHover=!0,Le._groupTitleFont=At.grouptitlefont,c(I,Le);var _e=ae.select("g.legend"),ct=Y(I,_e.node()),lt=ct.width+2*B,$e=ct.height+2*B,Ye=St[0],nt=(Ye.x0+Ye.x1)/2,wt=(Ye.y0+Ye.y1)/2,Et=!(d.traceIs(Ye.trace,"bar-like")||d.traceIs(Ye.trace,"box-violin")),Ht,Wt;Ee==="y"?Et?(Wt=wt-B,Ht=wt+B):(Wt=Math.min.apply(null,St.map(function(xt){return Math.min(xt.y0,xt.y1)})),Ht=Math.max.apply(null,St.map(function(xt){return Math.max(xt.y0,xt.y1)}))):Wt=Ht=i.mean(St.map(function(xt){return(xt.y0+xt.y1)/2}))-$e/2;var Gt,Ct;Ee==="x"?Et?(Gt=nt+B,Ct=nt-B):(Gt=Math.max.apply(null,St.map(function(xt){return Math.max(xt.x0,xt.x1)})),Ct=Math.min.apply(null,St.map(function(xt){return Math.min(xt.x0,xt.x1)}))):Gt=Ct=i.mean(St.map(function(xt){return(xt.x0+xt.x1)/2}))-lt/2;var Vt=me._offset,Bt=pe._offset;Ht+=Bt,Gt+=Vt,Ct+=Vt-lt,Wt+=Bt-$e;var _t,jt;return Gt+lt<Ve&&Gt>=0?_t=Gt:Ct+lt<Ve&&Ct>=0?_t=Ct:Vt+lt<Ve?_t=Vt:Gt-nt<nt-Ct+lt?_t=Ve-lt:_t=0,_t+=B,Ht+$e<dt&&Ht>=0?jt=Ht:Wt+$e<dt&&Wt>=0?jt=Wt:Bt+$e<dt?jt=Bt:Ht-wt<wt-Wt+$e?jt=dt-$e:jt=0,jt+=B,_e.attr("transform",r(_t-1,jt-1)),_e}var Yt=ae.selectAll("g.hovertext").data(S,function(xt){return R(xt)});return Yt.enter().append("g").classed("hovertext",!0).each(function(){var xt=l.select(this);xt.append("rect").call(h.fill,h.addOpacity(j,.8)),xt.append("text").classed("name",!0),xt.append("path").style("stroke-width","1px"),xt.append("text").classed("nums",!0).call(u.font,Ce,De)}),Yt.exit().remove(),Yt.each(function(xt){var Ot=l.select(this).attr("transform",""),Ft=xt.color;Array.isArray(Ft)&&(Ft=Ft[xt.eventData[0].pointNumber]);var Xt=xt.bgcolor||Ft,rr=h.combine(h.opacity(Xt)?Xt:h.defaultLine,j),sr=h.combine(h.opacity(Ft)?Ft:h.defaultLine,j),Ut=xt.borderColor||h.contrast(rr),re=ie(xt,bt,K,C,xe,Ot),q=re[0],He=re[1],Ie=Ot.select("text.nums").call(u.font,xt.fontFamily||Ce,xt.fontSize||De,xt.fontColor||Ut).text(q).attr("data-notex",1).call(n.positionText,0,0).call(n.convertToTspans,I),Ue=Ot.select("text.name"),We=0,Je=0;if(He&&He!==q){Ue.call(u.font,xt.fontFamily||Ce,xt.fontSize||De,sr).text(He).attr("data-notex",1).call(n.positionText,0,0).call(n.convertToTspans,I);var Ge=Y(I,Ue.node());We=Ge.width+2*B,Je=Ge.height+2*B}else Ue.remove(),Ot.select("rect").remove();Ot.select("path").style({fill:rr,stroke:Ut});var Be=xt.xa._offset+(xt.x0+xt.x1)/2,qe=xt.ya._offset+(xt.y0+xt.y1)/2,rt=Math.abs(xt.x1-xt.x0),st=Math.abs(xt.y1-xt.y0),at=Y(I,Ie.node()),pt=at.width/C._invScaleX,ht=at.height/C._invScaleY;xt.ty0=(je-at.top)/C._invScaleY,xt.bx=pt+2*B,xt.by=Math.max(ht+2*B,Je),xt.anchor="start",xt.txwidth=pt,xt.tx2width=We,xt.offset=0;var ut=(pt+k+B+We)*C._invScaleX,Pt,Lt;if(P)xt.pos=Be,Pt=qe+st/2+ut<=dt,Lt=qe-st/2-ut>=0,(xt.idealAlign==="top"||!Pt)&&Lt?(qe-=st/2,xt.anchor="end"):Pt?(qe+=st/2,xt.anchor="start"):xt.anchor="middle",xt.crossPos=qe;else{if(xt.pos=qe,Pt=Be+rt/2+ut<=Ve,Lt=Be-rt/2-ut>=0,(xt.idealAlign==="left"||!Pt)&&Lt)Be-=rt/2,xt.anchor="end";else if(Pt)Be+=rt/2,xt.anchor="start";else{xt.anchor="middle";var $t=ut/2,It=Be+$t-Ve,Kt=Be-$t;It>0&&(Be-=It),Kt<0&&(Be+=-Kt)}xt.crossPos=Be}Ie.attr("text-anchor",xt.anchor),We&&Ue.attr("text-anchor",xt.anchor),Ot.attr("transform",r(Be,qe)+(P?f(p):""))}),{hoverLabels:Yt,commonLabelBoundingBox:Dt}}function ie(S,E,I,C,K,P){var j="",ae="";S.nameOverride!==void 0&&(S.name=S.nameOverride),S.name&&(S.trace._meta&&(S.name=i.templateString(S.name,S.trace._meta)),j=ye(S.name,S.nameLength));var fe=I.charAt(0),de=fe==="x"?"y":"x";S.zLabel!==void 0?(S.xLabel!==void 0&&(ae+="x: "+S.xLabel+"<br>"),S.yLabel!==void 0&&(ae+="y: "+S.yLabel+"<br>"),S.trace.type!=="choropleth"&&S.trace.type!=="choroplethmapbox"&&(ae+=(ae?"z: ":"")+S.zLabel)):E&&S[fe+"Label"]===K?ae=S[de+"Label"]||"":S.xLabel===void 0?S.yLabel!==void 0&&S.trace.type!=="scattercarpet"&&(ae=S.yLabel):S.yLabel===void 0?ae=S.xLabel:ae="("+S.xLabel+", "+S.yLabel+")",(S.text||S.text===0)&&!Array.isArray(S.text)&&(ae+=(ae?"<br>":"")+S.text),S.extraText!==void 0&&(ae+=(ae?"<br>":"")+S.extraText),P&&ae===""&&!S.hovertemplate&&(j===""&&P.remove(),ae=j);var Ce=S.hovertemplate||!1;if(Ce){var De=S.hovertemplateLabels||S;S[fe+"Label"]!==K&&(De[fe+"other"]=De[fe+"Val"],De[fe+"otherLabel"]=De[fe+"Label"]),ae=i.hovertemplateString(Ce,De,C._d3locale,S.eventData[0]||{},S.trace._meta),ae=ae.replace(Z,function(ce,me){return j=ye(me,S.nameLength),""})}return[ae,j]}function N(S,E,I,C){var K=E?"xa":"ya",P=E?"ya":"xa",j=0,ae=1,fe=S.size(),de=new Array(fe),Ce=0,De=C.minX,ce=C.maxX,me=C.minY,pe=C.maxY,Ee=function(ke){return ke*I._invScaleX},Ae=function(ke){return ke*I._invScaleY};S.each(function(ke){var Te=ke[K],Re=ke[P],Le=Te._id.charAt(0)==="x",Oe=Te.range;Ce===0&&Oe&&Oe[0]>Oe[1]!==Le&&(ae=-1);var le=0,be=Le?I.width:I.height;if(I.hovermode==="x"||I.hovermode==="y"){var we=F(ke,E),Se=ke.anchor,ze=Se==="end"?-1:1,_e,ct;if(Se==="middle")_e=ke.crossPos+(Le?Ae(we.y-ke.by/2):Ee(ke.bx/2+ke.tx2width/2)),ct=_e+(Le?Ae(ke.by):Ee(ke.bx));else if(Le)_e=ke.crossPos+Ae(k+we.y)-Ae(ke.by/2-k),ct=_e+Ae(ke.by);else{var lt=Ee(ze*k+we.x),$e=lt+Ee(ze*ke.bx);_e=ke.crossPos+Math.min(lt,$e),ct=ke.crossPos+Math.max(lt,$e)}Le?me!==void 0&&pe!==void 0&&Math.min(ct,pe)-Math.max(_e,me)>1&&(Re.side==="left"?(le=Re._mainLinePosition,be=I.width):be=Re._mainLinePosition):De!==void 0&&ce!==void 0&&Math.min(ct,ce)-Math.max(_e,De)>1&&(Re.side==="top"?(le=Re._mainLinePosition,be=I.height):be=Re._mainLinePosition)}de[Ce++]=[{datum:ke,traceIndex:ke.trace.index,dp:0,pos:ke.pos,posref:ke.posref,size:ke.by*(Le?b:1)/2,pmin:le,pmax:be}]}),de.sort(function(ke,Te){return ke[0].posref-Te[0].posref||ae*(Te[0].traceIndex-ke[0].traceIndex)});var xe,Fe,Ke,je,Ve,dt,bt;function Tt(ke){var Te=ke[0],Re=ke[ke.length-1];if(Fe=Te.pmin-Te.pos-Te.dp+Te.size,Ke=Re.pos+Re.dp+Re.size-Te.pmax,Fe>.01){for(Ve=ke.length-1;Ve>=0;Ve--)ke[Ve].dp+=Fe;xe=!1}if(!(Ke<.01)){if(Fe<-.01){for(Ve=ke.length-1;Ve>=0;Ve--)ke[Ve].dp-=Ke;xe=!1}if(xe){var Le=0;for(je=0;je<ke.length;je++)dt=ke[je],dt.pos+dt.dp+dt.size>Te.pmax&&Le++;for(je=ke.length-1;je>=0&&!(Le<=0);je--)dt=ke[je],dt.pos>Te.pmax-1&&(dt.del=!0,Le--);for(je=0;je<ke.length&&!(Le<=0);je++)if(dt=ke[je],dt.pos<Te.pmin+1)for(dt.del=!0,Le--,Ke=dt.size*2,Ve=ke.length-1;Ve>=0;Ve--)ke[Ve].dp-=Ke;for(je=ke.length-1;je>=0&&!(Le<=0);je--)dt=ke[je],dt.pos+dt.dp+dt.size>Te.pmax&&(dt.del=!0,Le--)}}}for(;!xe&&j<=fe;){for(j++,xe=!0,je=0;je<de.length-1;){var it=de[je],kt=de[je+1],tt=it[it.length-1],Mt=kt[0];if(Fe=tt.pos+tt.dp+tt.size-Mt.pos-Mt.dp+Mt.size,Fe>.01&&tt.pmin===Mt.pmin&&tt.pmax===Mt.pmax){for(Ve=kt.length-1;Ve>=0;Ve--)kt[Ve].dp+=Fe;for(it.push.apply(it,kt),de.splice(je+1,1),bt=0,Ve=it.length-1;Ve>=0;Ve--)bt+=it[Ve].dp;for(Ke=bt/it.length,Ve=it.length-1;Ve>=0;Ve--)it[Ve].dp-=Ke;xe=!1}else je++}de.forEach(Tt)}for(je=de.length-1;je>=0;je--){var Dt=de[je];for(Ve=Dt.length-1;Ve>=0;Ve--){var St=Dt[Ve],At=St.datum;At.offset=St.dp,At.del=St.del}}}function F(S,E){var I=0,C=S.offset;return E&&(C*=-_,I=S.offset*w),{x:I,y:C}}function G(S){var E={start:1,end:-1,middle:0}[S.anchor],I=E*(k+B),C=I+E*(S.txwidth+B),K=S.anchor==="middle";return K&&(I-=S.tx2width/2,C+=S.txwidth/2+B),{alignShift:E,textShiftX:I,text2ShiftX:C}}function W(S,E,I,C){var K=function(j){return j*I},P=function(j){return j*C};S.each(function(j){var ae=l.select(this);if(j.del)return ae.remove();var fe=ae.select("text.nums"),de=j.anchor,Ce=de==="end"?-1:1,De=G(j),ce=F(j,E),me=ce.x,pe=ce.y,Ee=de==="middle";ae.select("path").attr("d",Ee?"M-"+K(j.bx/2+j.tx2width/2)+","+P(pe-j.by/2)+"h"+K(j.bx)+"v"+P(j.by)+"h-"+K(j.bx)+"Z":"M0,0L"+K(Ce*k+me)+","+P(k+pe)+"v"+P(j.by/2-k)+"h"+K(Ce*j.bx)+"v-"+P(j.by)+"H"+K(Ce*k+me)+"V"+P(pe-k)+"Z");var Ae=me+De.textShiftX,xe=pe+j.ty0-j.by/2+B,Fe=j.textAlign||"auto";Fe!=="auto"&&(Fe==="left"&&de!=="start"?(fe.attr("text-anchor","start"),Ae=Ee?-j.bx/2-j.tx2width/2+B:-j.bx-B):Fe==="right"&&de!=="end"&&(fe.attr("text-anchor","end"),Ae=Ee?j.bx/2-j.tx2width/2-B:j.bx+B)),fe.call(n.positionText,K(Ae),P(xe)),j.tx2width&&(ae.select("text.name").call(n.positionText,K(De.text2ShiftX+De.alignShift*B+me),P(pe+j.ty0-j.by/2+B)),ae.select("rect").call(u.setRect,K(De.text2ShiftX+(De.alignShift-1)*j.tx2width/2+me),P(pe-j.by/2-1),K(j.tx2width),P(j.by+2)))})}function X(S,E){var I=S.index,C=S.trace||{},K=S.cd[0],P=S.cd[I]||{};function j(ce){return ce||g(ce)&&ce===0}var ae=Array.isArray(I)?function(ce,me){var pe=i.castOption(K,I,ce);return j(pe)?pe:i.extractOption({},C,"",me)}:function(ce,me){return i.extractOption(P,C,ce,me)};function fe(ce,me,pe){var Ee=ae(me,pe);j(Ee)&&(S[ce]=Ee)}if(fe("hoverinfo","hi","hoverinfo"),fe("bgcolor","hbg","hoverlabel.bgcolor"),fe("borderColor","hbc","hoverlabel.bordercolor"),fe("fontFamily","htf","hoverlabel.font.family"),fe("fontSize","hts","hoverlabel.font.size"),fe("fontColor","htc","hoverlabel.font.color"),fe("nameLength","hnl","hoverlabel.namelength"),fe("textAlign","hta","hoverlabel.align"),S.posref=E==="y"||E==="closest"&&C.orientation==="h"?S.xa._offset+(S.x0+S.x1)/2:S.ya._offset+(S.y0+S.y1)/2,S.x0=i.constrain(S.x0,0,S.xa._length),S.x1=i.constrain(S.x1,0,S.xa._length),S.y0=i.constrain(S.y0,0,S.ya._length),S.y1=i.constrain(S.y1,0,S.ya._length),S.xLabelVal!==void 0&&(S.xLabel="xLabel"in S?S.xLabel:y.hoverLabelText(S.xa,S.xLabelVal,C.xhoverformat),S.xVal=S.xa.c2d(S.xLabelVal)),S.yLabelVal!==void 0&&(S.yLabel="yLabel"in S?S.yLabel:y.hoverLabelText(S.ya,S.yLabelVal,C.yhoverformat),S.yVal=S.ya.c2d(S.yLabelVal)),S.zLabelVal!==void 0&&S.zLabel===void 0&&(S.zLabel=String(S.zLabelVal)),!isNaN(S.xerr)&&!(S.xa.type==="log"&&S.xerr<=0)){var de=y.tickText(S.xa,S.xa.c2l(S.xerr),"hover").text;S.xerrneg!==void 0?S.xLabel+=" +"+de+" / -"+y.tickText(S.xa,S.xa.c2l(S.xerrneg),"hover").text:S.xLabel+="  "+de,E==="x"&&(S.distance+=1)}if(!isNaN(S.yerr)&&!(S.ya.type==="log"&&S.yerr<=0)){var Ce=y.tickText(S.ya,S.ya.c2l(S.yerr),"hover").text;S.yerrneg!==void 0?S.yLabel+=" +"+Ce+" / -"+y.tickText(S.ya,S.ya.c2l(S.yerrneg),"hover").text:S.yLabel+="  "+Ce,E==="y"&&(S.distance+=1)}var De=S.hoverinfo||S.trace.hoverinfo;return De&&De!=="all"&&(De=Array.isArray(De)?De:De.split("+"),De.indexOf("x")===-1&&(S.xLabel=void 0),De.indexOf("y")===-1&&(S.yLabel=void 0),De.indexOf("z")===-1&&(S.zLabel=void 0),De.indexOf("text")===-1&&(S.text=void 0),De.indexOf("name")===-1&&(S.name=void 0)),S}function J(S,E,I){var C=I.container,K=I.fullLayout,P=K._size,j=I.event,ae=!!E.hLinePoint,fe=!!E.vLinePoint,de,Ce;if(C.selectAll(".spikeline").remove(),!!(fe||ae)){var De=h.combine(K.plot_bgcolor,K.paper_bgcolor);if(ae){var ce=E.hLinePoint,me,pe;de=ce&&ce.xa,Ce=ce&&ce.ya;var Ee=Ce.spikesnap;Ee==="cursor"?(me=j.pointerX,pe=j.pointerY):(me=de._offset+ce.x,pe=Ce._offset+ce.y);var Ae=s.readability(ce.color,De)<1.5?h.contrast(De):ce.color,xe=Ce.spikemode,Fe=Ce.spikethickness,Ke=Ce.spikecolor||Ae,je=y.getPxPosition(S,Ce),Ve,dt;if(xe.indexOf("toaxis")!==-1||xe.indexOf("across")!==-1){if(xe.indexOf("toaxis")!==-1&&(Ve=je,dt=me),xe.indexOf("across")!==-1){var bt=Ce._counterDomainMin,Tt=Ce._counterDomainMax;Ce.anchor==="free"&&(bt=Math.min(bt,Ce.position),Tt=Math.max(Tt,Ce.position)),Ve=P.l+bt*P.w,dt=P.l+Tt*P.w}C.insert("line",":first-child").attr({x1:Ve,x2:dt,y1:pe,y2:pe,"stroke-width":Fe,stroke:Ke,"stroke-dasharray":u.dashStyle(Ce.spikedash,Fe)}).classed("spikeline",!0).classed("crisp",!0),C.insert("line",":first-child").attr({x1:Ve,x2:dt,y1:pe,y2:pe,"stroke-width":Fe+2,stroke:De}).classed("spikeline",!0).classed("crisp",!0)}xe.indexOf("marker")!==-1&&C.insert("circle",":first-child").attr({cx:je+(Ce.side!=="right"?Fe:-Fe),cy:pe,r:Fe,fill:Ke}).classed("spikeline",!0)}if(fe){var it=E.vLinePoint,kt,tt;de=it&&it.xa,Ce=it&&it.ya;var Mt=de.spikesnap;Mt==="cursor"?(kt=j.pointerX,tt=j.pointerY):(kt=de._offset+it.x,tt=Ce._offset+it.y);var Dt=s.readability(it.color,De)<1.5?h.contrast(De):it.color,St=de.spikemode,At=de.spikethickness,ke=de.spikecolor||Dt,Te=y.getPxPosition(S,de),Re,Le;if(St.indexOf("toaxis")!==-1||St.indexOf("across")!==-1){if(St.indexOf("toaxis")!==-1&&(Re=Te,Le=tt),St.indexOf("across")!==-1){var Oe=de._counterDomainMin,le=de._counterDomainMax;de.anchor==="free"&&(Oe=Math.min(Oe,de.position),le=Math.max(le,de.position)),Re=P.t+(1-le)*P.h,Le=P.t+(1-Oe)*P.h}C.insert("line",":first-child").attr({x1:kt,x2:kt,y1:Re,y2:Le,"stroke-width":At,stroke:ke,"stroke-dasharray":u.dashStyle(de.spikedash,At)}).classed("spikeline",!0).classed("crisp",!0),C.insert("line",":first-child").attr({x1:kt,x2:kt,y1:Re,y2:Le,"stroke-width":At+2,stroke:De}).classed("spikeline",!0).classed("crisp",!0)}St.indexOf("marker")!==-1&&C.insert("circle",":first-child").attr({cx:kt,cy:Te-(de.side!=="top"?At:-At),r:At,fill:ke}).classed("spikeline",!0)}}}function ne(S,E,I){if(!I||I.length!==S._hoverdata.length)return!0;for(var C=I.length-1;C>=0;C--){var K=I[C],P=S._hoverdata[C];if(K.curveNumber!==P.curveNumber||String(K.pointNumber)!==String(P.pointNumber)||String(K.pointNumbers)!==String(P.pointNumbers))return!0}return!1}function ue(S,E){return!E||E.vLinePoint!==S._spikepoints.vLinePoint||E.hLinePoint!==S._spikepoints.hLinePoint}function ye(S,E){return n.plainText(S||"",{len:E,allowedTags:["br","sub","sup","b","i","em"]})}function Me(S,E){for(var I=E.charAt(0),C=[],K=[],P=[],j=0;j<S.length;j++){var ae=S[j];d.traceIs(ae.trace,"bar-like")||d.traceIs(ae.trace,"box-violin")?P.push(ae):ae.trace[I+"period"]?K.push(ae):C.push(ae)}return C.concat(K).concat(P)}function oe(S,E,I){var C=E[S+"a"],K=E[S+"Val"],P=E.cd[0];if(C.type==="category"||C.type==="multicategory")K=C._categoriesMap[K];else if(C.type==="date"){var j=E.trace[S+"periodalignment"];if(j){var ae=E.cd[E.index],fe=ae[S+"Start"];fe===void 0&&(fe=ae[S]);var de=ae[S+"End"];de===void 0&&(de=ae[S]);var Ce=de-fe;j==="end"?K+=Ce:j==="middle"&&(K+=Ce/2)}K=C.d2c(K)}return P&&P.t&&P.t.posLetter===C._id&&(I.boxmode==="group"||I.violinmode==="group")&&(K+=P.t.dPos),K}function ve(S){return S.offsetTop+S.clientTop}function H(S){return S.offsetLeft+S.clientLeft}function Y(S,E){var I=S._fullLayout,C=E.getBoundingClientRect(),K=C.left,P=C.top,j=K+C.width,ae=P+C.height,fe=i.apply3DTransform(I._invTransform)(K,P),de=i.apply3DTransform(I._invTransform)(j,ae),Ce=fe[0],De=fe[1],ce=de[0],me=de[1];return{x:Ce,y:De,width:ce-Ce,height:me-De,top:Math.min(De,me),left:Math.min(Ce,ce),right:Math.max(Ce,ce),bottom:Math.max(De,me)}}},8048:function(te,z,e){var l=e(1828),g=e(7901),s=e(3469).isUnifiedHover;te.exports=function(r,f,o,n){n=n||{};var t=f.legend;function u(h){n.font[h]||(n.font[h]=t?f.legend.font[h]:f.font[h])}f&&s(f.hovermode)&&(n.font||(n.font={}),u("size"),u("family"),u("color"),t?(n.bgcolor||(n.bgcolor=g.combine(f.legend.bgcolor,f.paper_bgcolor)),n.bordercolor||(n.bordercolor=f.legend.bordercolor)):n.bgcolor||(n.bgcolor=f.paper_bgcolor)),o("hoverlabel.bgcolor",n.bgcolor),o("hoverlabel.bordercolor",n.bordercolor),o("hoverlabel.namelength",n.namelength),l.coerceFont(o,"hoverlabel.font",n.font),o("hoverlabel.align",n.align)}},8212:function(te,z,e){var l=e(1828),g=e(528);te.exports=function(i,r){function f(o,n){return r[o]!==void 0?r[o]:l.coerce(i,r,g,o,n)}return f("clickmode"),f("hovermode")}},211:function(te,z,e){var l=e(9898),g=e(1828),s=e(8569),i=e(3469),r=e(528),f=e(8335);te.exports={moduleType:"component",name:"fx",constants:e(6675),schema:{layout:r},attributes:e(7914),layoutAttributes:r,supplyLayoutGlobalDefaults:e(2774),supplyDefaults:e(4268),supplyLayoutDefaults:e(4938),calc:e(732),getDistanceFunction:i.getDistanceFunction,getClosest:i.getClosest,inbox:i.inbox,quadrature:i.quadrature,appendArrayPointValue:i.appendArrayPointValue,castHoverOption:n,castHoverinfo:t,hover:f.hover,unhover:s.unhover,loneHover:f.loneHover,loneUnhover:o,click:e(5914)};function o(u){var h=g.isD3Selection(u)?u:l.select(u);h.selectAll("g.hovertext").remove(),h.selectAll(".spikeline").remove()}function n(u,h,m){return g.castOption(u,h,"hoverlabel."+m)}function t(u,h,m){function y(d){return g.coerceHoverinfo({hoverinfo:d},{_module:u._module},h)}return g.castOption(u,m,"hoverinfo",y)}},528:function(te,z,e){var l=e(6675),g=e(1940),s=g({editType:"none"});s.family.dflt=l.HOVERFONT,s.size.dflt=l.HOVERFONTSIZE,te.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:s,grouptitlefont:g({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},4938:function(te,z,e){var l=e(1828),g=e(528),s=e(8212),i=e(8048);te.exports=function(f,o){function n(d,T){return l.coerce(f,o,g,d,T)}var t=s(f,o);t&&(n("hoverdistance"),n("spikedistance"));var u=n("dragmode");u==="select"&&n("selectdirection");var h=o._has("mapbox"),m=o._has("geo"),y=o._basePlotModules.length;o.dragmode==="zoom"&&((h||m)&&y===1||h&&m&&y===2)&&(o.dragmode="pan"),i(f,o,n),l.coerceFont(n,"hoverlabel.grouptitlefont",o.hoverlabel.font)}},2774:function(te,z,e){var l=e(1828),g=e(8048),s=e(528);te.exports=function(r,f){function o(n,t){return l.coerce(r,f,s,n,t)}g(r,f,o)}},3312:function(te,z,e){var l=e(1828),g=e(587).counter,s=e(7670).Y,i=e(5555).idRegex,r=e(4467),f={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[g("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[i.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[i.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:s({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function o(m,y,d){var T=y[d+"axes"],x=Object.keys((m._splomAxes||{})[d]||{});if(Array.isArray(T))return T;if(x.length)return x}function n(m,y){var d=m.grid||{},T=o(y,d,"x"),x=o(y,d,"y");if(!m.grid&&!T&&!x)return;var M=Array.isArray(d.subplots)&&Array.isArray(d.subplots[0]),c=Array.isArray(T),p=Array.isArray(x),v=c&&T!==d.xaxes&&p&&x!==d.yaxes,b,w;M?(b=d.subplots.length,w=d.subplots[0].length):(p&&(b=x.length),c&&(w=T.length));var _=r.newContainer(y,"grid");function k(F,G){return l.coerce(d,_,f,F,G)}var B=k("rows",b),U=k("columns",w);if(!(B*U>1)){delete y.grid;return}if(!M&&!c&&!p){var L=k("pattern")==="independent";L&&(M=!0)}_._hasSubplotGrid=M;var O=k("roworder"),R=O==="top to bottom",Z=M?.2:.1,$=M?.3:.1,ie,N;v&&y._splomGridDflt&&(ie=y._splomGridDflt.xside,N=y._splomGridDflt.yside),_._domains={x:t("x",k,Z,ie,U),y:t("y",k,$,N,B,R)}}function t(m,y,d,T,x,M){var c=y(m+"gap",d),p=y("domain."+m);y(m+"side",T);for(var v=new Array(x),b=p[0],w=(p[1]-b)/(x-c),_=w*(1-c),k=0;k<x;k++){var B=b+w*k;v[M?x-1-k:k]=[B,B+_]}return v}function u(m,y){var d=y.grid;if(!(!d||!d._domains)){var T=m.grid||{},x=y._subplots,M=d._hasSubplotGrid,c=d.rows,p=d.columns,v=d.pattern==="independent",b,w,_,k,B,U,L,O=d._axisMap={};if(M){var R=T.subplots||[];U=d.subplots=new Array(c);var Z=1;for(b=0;b<c;b++){var $=U[b]=new Array(p),ie=R[b]||[];for(w=0;w<p;w++)if(v?(B=Z===1?"xy":"x"+Z+"y"+Z,Z++):B=ie[w],$[w]="",x.cartesian.indexOf(B)!==-1){if(L=B.indexOf("y"),_=B.slice(0,L),k=B.slice(L),O[_]!==void 0&&O[_]!==w||O[k]!==void 0&&O[k]!==b)continue;$[w]=B,O[_]=w,O[k]=b}}}else{var N=o(y,T,"x"),F=o(y,T,"y");d.xaxes=h(N,x.xaxis,p,O,"x"),d.yaxes=h(F,x.yaxis,c,O,"y")}var G=d._anchors={},W=d.roworder==="top to bottom";for(var X in O){var J=X.charAt(0),ne=d[J+"side"],ue,ye,Me;if(ne.length<8)G[X]="free";else if(J==="x"){if(ne.charAt(0)==="t"===W?(ue=0,ye=1,Me=c):(ue=c-1,ye=-1,Me=-1),M){var oe=O[X];for(b=ue;b!==Me;b+=ye)if(B=U[b][oe],!!B&&(L=B.indexOf("y"),B.slice(0,L)===X)){G[X]=B.slice(L);break}}else for(b=ue;b!==Me;b+=ye)if(k=d.yaxes[b],x.cartesian.indexOf(X+k)!==-1){G[X]=k;break}}else if(ne.charAt(0)==="l"?(ue=0,ye=1,Me=p):(ue=p-1,ye=-1,Me=-1),M){var ve=O[X];for(b=ue;b!==Me;b+=ye)if(B=U[ve][b],!!B&&(L=B.indexOf("y"),B.slice(L)===X)){G[X]=B.slice(0,L);break}}else for(b=ue;b!==Me;b+=ye)if(_=d.xaxes[b],x.cartesian.indexOf(_+X)!==-1){G[X]=_;break}}}}function h(m,y,d,T,x){var M=new Array(d),c;function p(v,b){y.indexOf(b)!==-1&&T[b]===void 0?(M[v]=b,T[b]=v):M[v]=""}if(Array.isArray(m))for(c=0;c<d;c++)p(c,m[c]);else for(p(0,x),c=1;c<d;c++)p(c,x+(c+1));return M}te.exports={moduleType:"component",name:"grid",schema:{layout:{grid:f}},layoutAttributes:f,sizeDefaults:n,contentDefaults:u}},9819:function(te,z,e){var l=e(5555),g=e(4467).templatedArray;e(4695),te.exports=g("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",l.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",l.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},5378:function(te,z,e){var l=e(2770),g=e(8163);te.exports=function(i,r,f,o){r=r||{};var n=f==="log"&&r.type==="linear",t=f==="linear"&&r.type==="log";if(n||t){for(var u=i._fullLayout.images,h=r._id.charAt(0),m,y,d=0;d<u.length;d++)if(m=u[d],y="images["+d+"].",m[h+"ref"]===r._id){var T=m[h],x=m["size"+h],M=null,c=null;if(n){M=g(T,r.range);var p=x/Math.pow(10,M)/2;c=2*Math.log(p+Math.sqrt(1+p*p))/Math.LN10}else M=Math.pow(10,T),c=M*(Math.pow(10,x/2)-Math.pow(10,-x/2));l(M)?l(c)||(c=null):(M=null,c=null),o(y+h,M),o(y+"size"+h,c)}}}},1603:function(te,z,e){var l=e(1828),g=e(9298),s=e(5501),i=e(9819),r="images";te.exports=function(n,t){var u={name:r,handleItemDefaults:f};s(n,t,u)};function f(o,n,t){function u(p,v){return l.coerce(o,n,i,p,v)}var h=u("source"),m=u("visible",!!h);if(!m)return n;u("layer"),u("xanchor"),u("yanchor"),u("sizex"),u("sizey"),u("sizing"),u("opacity");for(var y={_fullLayout:t},d=["x","y"],T=0;T<2;T++){var x=d[T],M=g.coerceRef(o,n,y,x,"paper",void 0);if(M!=="paper"){var c=g.getFromId(y,M);c._imgIndices.push(n._index)}g.coercePosition(n,y,u,M,x,0)}return n}},750:function(te,z,e){var l=e(9898),g=e(1424),s=e(9298),i=e(1675),r=e(7922);te.exports=function(o){var n=o._fullLayout,t=[],u={},h=[],m,y;for(y=0;y<n.images.length;y++){var d=n.images[y];if(d.visible)if(d.layer==="below"&&d.xref!=="paper"&&d.yref!=="paper"){m=i.ref2id(d.xref)+i.ref2id(d.yref);var T=n._plots[m];if(!T){h.push(d);continue}T.mainplot&&(m=T.mainplot.id),u[m]||(u[m]=[]),u[m].push(d)}else d.layer==="above"?t.push(d):h.push(d)}var x={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function M(k){var B=l.select(this);if(this._imgSrc!==k.source)if(B.attr("xmlns",r.svg),k.source&&k.source.slice(0,5)==="data:")B.attr("xlink:href",k.source),this._imgSrc=k.source;else{var U=new Promise((function(L){var O=new Image;this.img=O,O.setAttribute("crossOrigin","anonymous"),O.onerror=R,O.onload=function(){var Z=document.createElement("canvas");Z.width=this.width,Z.height=this.height;var $=Z.getContext("2d",{willReadFrequently:!0});$.drawImage(this,0,0);var ie=Z.toDataURL("image/png");B.attr("xlink:href",ie),L()},B.on("error",R),O.src=k.source,this._imgSrc=k.source;function R(){B.remove(),L()}}).bind(this));o._promises.push(U)}}function c(k){var B=l.select(this),U=s.getFromId(o,k.xref),L=s.getFromId(o,k.yref),O=s.getRefType(k.xref)==="domain",R=s.getRefType(k.yref)==="domain",Z=n._size,$,ie;U!==void 0?$=typeof k.xref=="string"&&O?U._length*k.sizex:Math.abs(U.l2p(k.sizex)-U.l2p(0)):$=k.sizex*Z.w,L!==void 0?ie=typeof k.yref=="string"&&R?L._length*k.sizey:Math.abs(L.l2p(k.sizey)-L.l2p(0)):ie=k.sizey*Z.h;var N=$*x.x[k.xanchor].offset,F=ie*x.y[k.yanchor].offset,G=x.x[k.xanchor].sizing+x.y[k.yanchor].sizing,W,X;switch(U!==void 0?W=typeof k.xref=="string"&&O?U._length*k.x+U._offset:U.r2p(k.x)+U._offset:W=k.x*Z.w+Z.l,W+=N,L!==void 0?X=typeof k.yref=="string"&&R?L._length*(1-k.y)+L._offset:L.r2p(k.y)+L._offset:X=Z.h-k.y*Z.h+Z.t,X+=F,k.sizing){case"fill":G+=" slice";break;case"stretch":G="none";break}B.attr({x:W,y:X,width:$,height:ie,preserveAspectRatio:G,opacity:k.opacity});var J=U&&s.getRefType(k.xref)!=="domain"?U._id:"",ne=L&&s.getRefType(k.yref)!=="domain"?L._id:"",ue=J+ne;g.setClipUrl(B,ue?"clip"+n._uid+ue:null,o)}var p=n._imageLowerLayer.selectAll("image").data(h),v=n._imageUpperLayer.selectAll("image").data(t);p.enter().append("image"),v.enter().append("image"),p.exit().remove(),v.exit().remove(),p.each(function(k){M.bind(this)(k),c.bind(this)(k)}),v.each(function(k){M.bind(this)(k),c.bind(this)(k)});var b=Object.keys(n._plots);for(y=0;y<b.length;y++){m=b[y];var w=n._plots[m];if(w.imagelayer){var _=w.imagelayer.selectAll("image").data(u[m]||[]);_.enter().append("image"),_.exit().remove(),_.each(function(k){M.bind(this)(k),c.bind(this)(k)})}}}},8804:function(te,z,e){te.exports={moduleType:"component",name:"images",layoutAttributes:e(9819),supplyLayoutDefaults:e(1603),includeBasePlot:e(6325)("images"),draw:e(750),convertCoords:e(5378)}},3030:function(te,z,e){var l=e(1940),g=e(2399);te.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:g.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:l({editType:"legend"}),grouptitlefont:l({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:l({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},4928:function(te){te.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},9017:function(te,z,e){var l=e(3972),g=e(1828),s=e(4467),i=e(9012),r=e(3030),f=e(820),o=e(130);function n(t,u,h,m){var y=u[t]||{},d=s.newContainer(h,t);function T(Me,oe){return g.coerce(y,d,r,Me,oe)}var x=g.coerceFont(T,"font",h.font);T("bgcolor",h.paper_bgcolor),T("bordercolor");var M=T("visible");if(M){for(var c,p=function(Me,oe){var ve=c._input,H=c;return g.coerce(ve,H,i,Me,oe)},v=h.font||{},b=g.coerceFont(T,"grouptitlefont",g.extendFlat({},v,{size:Math.round(v.size*1.1)})),w=0,_=!1,k="normal",B=(h.shapes||[]).filter(function(Me){return Me.showlegend}),U=m.concat(B).filter(function(Me){return t===(Me.legend||"legend")}),L=0;L<U.length;L++)if(c=U[L],!!c.visible){var O=c._isShape;(c.showlegend||c._dfltShowLegend&&!(c._module&&c._module.attributes&&c._module.attributes.showlegend&&c._module.attributes.showlegend.dflt===!1))&&(w++,c.showlegend&&(_=!0,(!O&&l.traceIs(c,"pie-like")||c._input.showlegend===!0)&&w++),g.coerceFont(p,"legendgrouptitle.font",b)),(!O&&l.traceIs(c,"bar")&&h.barmode==="stack"||["tonextx","tonexty"].indexOf(c.fill)!==-1)&&(k=o.isGrouped({traceorder:k})?"grouped+reversed":"reversed"),c.legendgroup!==void 0&&c.legendgroup!==""&&(k=o.isReversed({traceorder:k})?"reversed+grouped":"grouped")}var R=g.coerce(u,h,f,"showlegend",_&&w>(t==="legend"?1:0));if(R===!1&&(h[t]=void 0),!(R===!1&&!y.uirevision)&&(T("uirevision",h.uirevision),R!==!1)){T("borderwidth");var Z=T("orientation"),$=T("yref"),ie=T("xref"),N=Z==="h",F=$==="paper",G=ie==="paper",W,X,J,ne="left";N?(W=0,l.getComponentMethod("rangeslider","isVisible")(u.xaxis)?F?(X=1.1,J="bottom"):(X=1,J="top"):F?(X=-.1,J="top"):(X=0,J="bottom")):(X=1,J="auto",G?W=1.02:(W=1,ne="right")),g.coerce(y,d,{x:{valType:"number",editType:"legend",min:G?-2:0,max:G?3:1,dflt:W}},"x"),g.coerce(y,d,{y:{valType:"number",editType:"legend",min:F?-2:0,max:F?3:1,dflt:X}},"y"),T("traceorder",k),o.isGrouped(h[t])&&T("tracegroupgap"),T("entrywidth"),T("entrywidthmode"),T("itemsizing"),T("itemwidth"),T("itemclick"),T("itemdoubleclick"),T("groupclick"),T("xanchor",ne),T("yanchor",J),T("valign"),g.noneOrAll(y,d,["x","y"]);var ue=T("title.text");if(ue){T("title.side",N?"left":"top");var ye=g.extendFlat({},x,{size:g.bigFont(x.size)});g.coerceFont(T,"title.font",ye)}}}}te.exports=function(u,h,m){var y,d=m.slice(),T=h.shapes;if(T)for(y=0;y<T.length;y++){var x=T[y];if(x.showlegend){var M={_input:x._input,visible:x.visible,showlegend:x.showlegend,legend:x.legend};d.push(M)}}var c=["legend"];for(y=0;y<d.length;y++)g.pushUnique(c,d[y].legend);for(h._legends=[],y=0;y<c.length;y++){var p=c[y];n(p,u,h,d),h[p]&&h[p].visible&&(h[p]._id=p),h._legends.push(p)}}},3969:function(te,z,e){var l=e(9898),g=e(1828),s=e(4875),i=e(3972),r=e(1086),f=e(8569),o=e(1424),n=e(7901),t=e(3893),u=e(5167),h=e(4928),m=e(8783),y=m.LINE_SPACING,d=m.FROM_TL,T=m.FROM_BR,x=e(2424),M=e(3630),c=e(130),p=1,v=/^legend[0-9]*$/;te.exports=function(X,J){if(J)w(X,J);else{var ne=X._fullLayout,ue=ne._legends,ye=ne._infolayer.selectAll('[class^="legend"]');ye.each(function(){var H=l.select(this),Y=H.attr("class"),S=Y.split(" ")[0];S.match(v)&&ue.indexOf(S)===-1&&H.remove()});for(var Me=0;Me<ue.length;Me++){var oe=ue[Me],ve=X._fullLayout[oe];w(X,ve)}}};function b(W,X,J){if(!(X.title.side!=="top center"&&X.title.side!=="top right")){var ne=X.title.font,ue=ne.size*y,ye=0,Me=W.node(),oe=o.bBox(Me).width;X.title.side==="top center"?ye=.5*(X._width-2*J-2*h.titlePad-oe):X.title.side==="top right"&&(ye=X._width-2*J-2*h.titlePad-oe),t.positionText(W,J+h.titlePad+ye,J+ue)}}function w(W,X){var J=X||{},ne=W._fullLayout,ue=G(J),ye,Me,oe=J._inHover;if(oe?(Me=J.layer,ye="hover"):(Me=ne._infolayer,ye=ue),!!Me){ye+=ne._uid,W._legendMouseDownTime||(W._legendMouseDownTime=0);var ve;if(oe){if(!J.entries)return;ve=x(J.entries,J)}else{for(var H=(W.calcdata||[]).slice(),Y=ne.shapes,S=0;S<Y.length;S++){var E=Y[S];if(E.showlegend){var I={_isShape:!0,_fullInput:E,index:E._index,name:E.name||E.label.text||"shape "+E._index,legend:E.legend,legendgroup:E.legendgroup,legendgrouptitle:E.legendgrouptitle,legendrank:E.legendrank,legendwidth:E.legendwidth,showlegend:E.showlegend,visible:E.visible,opacity:E.opacity,mode:E.type==="line"?"lines":"markers",line:E.line,marker:{line:E.line,color:E.fillcolor,size:12,symbol:E.type==="rect"?"square":E.type==="circle"?"circle":"hexagon2"}};H.push([{trace:I}])}}ve=ne.showlegend&&x(H,J,ne._legends.length>1)}var C=ne.hiddenlabels||[];if(!oe&&(!ne.showlegend||!ve.length))return Me.selectAll("."+ue).remove(),ne._topdefs.select("#"+ye).remove(),s.autoMargin(W,ue);var K=g.ensureSingle(Me,"g",ue,function(me){oe||me.attr("pointer-events","all")}),P=g.ensureSingleById(ne._topdefs,"clipPath",ye,function(me){me.append("rect")}),j=g.ensureSingle(K,"rect","bg",function(me){me.attr("shape-rendering","crispEdges")});j.call(n.stroke,J.bordercolor).call(n.fill,J.bgcolor).style("stroke-width",J.borderwidth+"px");var ae=g.ensureSingle(K,"g","scrollbox"),fe=J.title;J._titleWidth=0,J._titleHeight=0;var de;fe.text?(de=g.ensureSingle(ae,"text",ue+"titletext"),de.attr("text-anchor","start").call(o.font,fe.font).text(fe.text),O(de,ae,W,J,p)):ae.selectAll("."+ue+"titletext").remove();var Ce=g.ensureSingle(K,"rect","scrollbar",function(me){me.attr(h.scrollBarEnterAttrs).call(n.fill,h.scrollBarColor)}),De=ae.selectAll("g.groups").data(ve);De.enter().append("g").attr("class","groups"),De.exit().remove();var ce=De.selectAll("g.traces").data(g.identity);ce.enter().append("g").attr("class","traces"),ce.exit().remove(),ce.style("opacity",function(me){var pe=me[0].trace;return i.traceIs(pe,"pie-like")?C.indexOf(me[0].label)!==-1?.5:1:pe.visible==="legendonly"?.5:1}).each(function(){l.select(this).call(B,W,J)}).call(M,W,J).each(function(){oe||l.select(this).call(L,W,ue)}),g.syncOrAsync([s.previousPromises,function(){return $(W,De,ce,J)},function(){var me=ne._size,pe=J.borderwidth,Ee=J.xref==="paper",Ae=J.yref==="paper";if(fe.text&&b(de,J,pe),!oe){var xe,Fe;Ee?xe=me.l+me.w*J.x-d[N(J)]*J._width:xe=ne.width*J.x-d[N(J)]*J._width,Ae?Fe=me.t+me.h*(1-J.y)-d[F(J)]*J._effHeight:Fe=ne.height*(1-J.y)-d[F(J)]*J._effHeight;var Ke=ie(W,ue,xe,Fe);if(Ke)return;if(ne.margin.autoexpand){var je=xe,Ve=Fe;xe=Ee?g.constrain(xe,0,ne.width-J._width):je,Fe=Ae?g.constrain(Fe,0,ne.height-J._effHeight):Ve,xe!==je&&g.log("Constrain "+ue+".x to make legend fit inside graph"),Fe!==Ve&&g.log("Constrain "+ue+".y to make legend fit inside graph")}o.setTranslate(K,xe,Fe)}if(Ce.on(".drag",null),K.on("wheel",null),oe||J._height<=J._maxHeight||W._context.staticPlot){var dt=J._effHeight;oe&&(dt=J._height),j.attr({width:J._width-pe,height:dt-pe,x:pe/2,y:pe/2}),o.setTranslate(ae,0,0),P.select("rect").attr({width:J._width-2*pe,height:dt-2*pe,x:pe,y:pe}),o.setClipUrl(ae,ye,W),o.setRect(Ce,0,0,0,0),delete J._scrollY}else{var bt=Math.max(h.scrollBarMinHeight,J._effHeight*J._effHeight/J._height),Tt=J._effHeight-bt-2*h.scrollBarMargin,it=J._height-J._effHeight,kt=Tt/it,tt=Math.min(J._scrollY||0,it);j.attr({width:J._width-2*pe+h.scrollBarWidth+h.scrollBarMargin,height:J._effHeight-pe,x:pe/2,y:pe/2}),P.select("rect").attr({width:J._width-2*pe+h.scrollBarWidth+h.scrollBarMargin,height:J._effHeight-2*pe,x:pe,y:pe+tt}),o.setClipUrl(ae,ye,W),Le(tt,bt,kt),K.on("wheel",function(){tt=g.constrain(J._scrollY+l.event.deltaY/Tt*it,0,it),Le(tt,bt,kt),tt!==0&&tt!==it&&l.event.preventDefault()});var Mt,Dt,St,At=function(Se,ze,_e){var ct=(_e-ze)/kt+Se;return g.constrain(ct,0,it)},ke=function(Se,ze,_e){var ct=(ze-_e)/kt+Se;return g.constrain(ct,0,it)},Te=l.behavior.drag().on("dragstart",function(){var Se=l.event.sourceEvent;Se.type==="touchstart"?Mt=Se.changedTouches[0].clientY:Mt=Se.clientY,St=tt}).on("drag",function(){var Se=l.event.sourceEvent;Se.buttons===2||Se.ctrlKey||(Se.type==="touchmove"?Dt=Se.changedTouches[0].clientY:Dt=Se.clientY,tt=At(St,Mt,Dt),Le(tt,bt,kt))});Ce.call(Te);var Re=l.behavior.drag().on("dragstart",function(){var Se=l.event.sourceEvent;Se.type==="touchstart"&&(Mt=Se.changedTouches[0].clientY,St=tt)}).on("drag",function(){var Se=l.event.sourceEvent;Se.type==="touchmove"&&(Dt=Se.changedTouches[0].clientY,tt=ke(St,Mt,Dt),Le(tt,bt,kt))});ae.call(Re)}function Le(Se,ze,_e){J._scrollY=W._fullLayout[ue]._scrollY=Se,o.setTranslate(ae,0,-Se),o.setRect(Ce,J._width,h.scrollBarMargin+Se*_e,h.scrollBarWidth,ze),P.select("rect").attr("y",pe+Se)}if(W._context.edits.legendPosition){var Oe,le,be,we;K.classed("cursor-move",!0),f.init({element:K.node(),gd:W,prepFn:function(){var Se=o.getTranslate(K);be=Se.x,we=Se.y},moveFn:function(Se,ze){var _e=be+Se,ct=we+ze;o.setTranslate(K,_e,ct),Oe=f.align(_e,J._width,me.l,me.l+me.w,J.xanchor),le=f.align(ct+J._height,-J._height,me.t+me.h,me.t,J.yanchor)},doneFn:function(){if(Oe!==void 0&&le!==void 0){var Se={};Se[ue+".x"]=Oe,Se[ue+".y"]=le,i.call("_guiRelayout",W,Se)}},clickFn:function(Se,ze){var _e=Me.selectAll("g.traces").filter(function(){var ct=this.getBoundingClientRect();return ze.clientX>=ct.left&&ze.clientX<=ct.right&&ze.clientY>=ct.top&&ze.clientY<=ct.bottom});_e.size()>0&&k(W,K,_e,Se,ze)}})}}],W)}}function _(W,X,J){var ne=W[0],ue=ne.width,ye=X.entrywidthmode,Me=ne.trace.legendwidth||X.entrywidth;return ye==="fraction"?X._maxWidth*Me:J+(Me||ue)}function k(W,X,J,ne,ue){var ye=J.data()[0][0].trace,Me={event:ue,node:J.node(),curveNumber:ye.index,expandedIndex:ye._expandedIndex,data:W.data,layout:W.layout,frames:W._transitionData._frames,config:W._context,fullData:W._fullData,fullLayout:W._fullLayout};ye._group&&(Me.group=ye._group),i.traceIs(ye,"pie-like")&&(Me.label=J.datum()[0].label);var oe=r.triggerHandler(W,"plotly_legendclick",Me);if(ne===1){if(oe===!1)return;X._clickTimeout=setTimeout(function(){W._fullLayout&&u(J,W,ne)},W._context.doubleClickDelay)}else if(ne===2){X._clickTimeout&&clearTimeout(X._clickTimeout),W._legendMouseDownTime=0;var ve=r.triggerHandler(W,"plotly_legenddoubleclick",Me);ve!==!1&&oe!==!1&&u(J,W,ne)}}function B(W,X,J){var ne=G(J),ue=W.data()[0][0],ye=ue.trace,Me=i.traceIs(ye,"pie-like"),oe=!J._inHover&&X._context.edits.legendText&&!Me,ve=J._maxNameLength,H,Y;ue.groupTitle?(H=ue.groupTitle.text,Y=ue.groupTitle.font):(Y=J.font,J.entries?H=ue.text:(H=Me?ue.label:ye.name,ye._meta&&(H=g.templateString(H,ye._meta))));var S=g.ensureSingle(W,"text",ne+"text");S.attr("text-anchor","start").call(o.font,Y).text(oe?U(H,ve):H);var E=J.itemwidth+h.itemGap*2;t.positionText(S,E,0),oe?S.call(t.makeEditable,{gd:X,text:H}).call(O,W,X,J).on("edit",function(I){this.text(U(I,ve)).call(O,W,X,J);var C=ue.trace._fullInput||{},K={};if(i.hasTransform(C,"groupby")){var P=i.getTransformIndices(C,"groupby"),j=P[P.length-1],ae=g.keyedContainer(C,"transforms["+j+"].styles","target","value.name");ae.set(ue.trace._group,I),K=ae.constructUpdate()}else K.name=I;return C._isShape?i.call("_guiRelayout",X,"shapes["+ye.index+"].name",K.name):i.call("_guiRestyle",X,K,ye.index)}):O(S,W,X,J)}function U(W,X){var J=Math.max(4,X);if(W&&W.trim().length>=J/2)return W;W=W||"";for(var ne=J-W.length;ne>0;ne--)W+=" ";return W}function L(W,X,J){var ne=X._context.doubleClickDelay,ue,ye=1,Me=g.ensureSingle(W,"rect",J+"toggle",function(oe){X._context.staticPlot||oe.style("cursor","pointer").attr("pointer-events","all"),oe.call(n.fill,"rgba(0,0,0,0)")});X._context.staticPlot||(Me.on("mousedown",function(){ue=new Date().getTime(),ue-X._legendMouseDownTime<ne?ye+=1:(ye=1,X._legendMouseDownTime=ue)}),Me.on("mouseup",function(){if(!(X._dragged||X._editing)){var oe=X._fullLayout[J];new Date().getTime()-X._legendMouseDownTime>ne&&(ye=Math.max(ye-1,1)),k(X,oe,W,ye,l.event)}}))}function O(W,X,J,ne,ue){ne._inHover&&W.attr("data-notex",!0),t.convertToTspans(W,J,function(){R(X,J,ne,ue)})}function R(W,X,J,ne){var ue=W.data()[0][0];if(!J._inHover&&ue&&!ue.trace.showlegend){W.remove();return}var ye=W.select("g[class*=math-group]"),Me=ye.node(),oe=G(J);J||(J=X._fullLayout[oe]);var ve=J.borderwidth,H;ne===p?H=J.title.font:ue.groupTitle?H=ue.groupTitle.font:H=J.font;var Y=H.size*y,S,E;if(Me){var I=o.bBox(Me);S=I.height,E=I.width,ne===p?o.setTranslate(ye,ve,ve+S*.75):o.setTranslate(ye,0,S*.25)}else{var C="."+oe+(ne===p?"title":"")+"text",K=W.select(C),P=t.lineCount(K),j=K.node();if(S=Y*P,E=j?o.bBox(j).width:0,ne===p)J.title.side==="left"&&(E+=h.itemGap*2),t.positionText(K,ve+h.titlePad,ve+Y);else{var ae=h.itemGap*2+J.itemwidth;ue.groupTitle&&(ae=h.itemGap,E-=J.itemwidth),t.positionText(K,ae,-Y*((P-1)/2-.3))}}ne===p?(J._titleWidth=E,J._titleHeight=S):(ue.lineHeight=Y,ue.height=Math.max(S,16)+3,ue.width=E)}function Z(W){var X=0,J=0,ne=W.title.side;return ne&&(ne.indexOf("left")!==-1&&(X=W._titleWidth),ne.indexOf("top")!==-1&&(J=W._titleHeight)),[X,J]}function $(W,X,J,ne){var ue=W._fullLayout,ye=G(ne);ne||(ne=ue[ye]);var Me=ue._size,oe=c.isVertical(ne),ve=c.isGrouped(ne),H=ne.entrywidthmode==="fraction",Y=ne.borderwidth,S=2*Y,E=h.itemGap,I=ne.itemwidth+E*2,C=2*(Y+E),K=F(ne),P=ne.y<0||ne.y===0&&K==="top",j=ne.y>1||ne.y===1&&K==="bottom",ae=ne.tracegroupgap,fe={};ne._maxHeight=Math.max(P||j?ue.height/2:Me.h,30);var de=0;ne._width=0,ne._height=0;var Ce=Z(ne);if(oe)J.each(function(St){var At=St[0].height;o.setTranslate(this,Y+Ce[0],Y+Ce[1]+ne._height+At/2+E),ne._height+=At,ne._width=Math.max(ne._width,St[0].width)}),de=I+ne._width,ne._width+=E+I+S,ne._height+=C,ve&&(X.each(function(St,At){o.setTranslate(this,0,At*ne.tracegroupgap)}),ne._height+=(ne._lgroupsLength-1)*ne.tracegroupgap);else{var De=N(ne),ce=ne.x<0||ne.x===0&&De==="right",me=ne.x>1||ne.x===1&&De==="left",pe=j||P,Ee=ue.width/2;ne._maxWidth=Math.max(ce?pe&&De==="left"?Me.l+Me.w:Ee:me?pe&&De==="right"?Me.r+Me.w:Ee:Me.w,2*I);var Ae=0,xe=0;J.each(function(St){var At=_(St,ne,I);Ae=Math.max(Ae,At),xe+=At}),de=null;var Fe=0;if(ve){var Ke=0,je=0,Ve=0;X.each(function(){var St=0,At=0;l.select(this).selectAll("g.traces").each(function(Te){var Re=_(Te,ne,I),Le=Te[0].height;o.setTranslate(this,Ce[0],Ce[1]+Y+E+Le/2+At),At+=Le,St=Math.max(St,Re),fe[Te[0].trace.legendgroup]=St});var ke=St+E;je>0&&ke+Y+je>ne._maxWidth?(Fe=Math.max(Fe,je),je=0,Ve+=Ke+ae,Ke=At):Ke=Math.max(Ke,At),o.setTranslate(this,je,Ve),je+=ke}),ne._width=Math.max(Fe,je)+Y,ne._height=Ve+Ke+C}else{var dt=J.size(),bt=xe+S+(dt-1)*E<ne._maxWidth,Tt=0,it=0,kt=0,tt=0;J.each(function(St){var At=St[0].height,ke=_(St,ne,I),Te=bt?ke:Ae;H||(Te+=E),Te+Y+it-E>=ne._maxWidth&&(Fe=Math.max(Fe,tt),it=0,kt+=Tt,ne._height+=Tt,Tt=0),o.setTranslate(this,Ce[0]+Y+it,Ce[1]+Y+kt+At/2+E),tt=it+ke+E,it+=Te,Tt=Math.max(Tt,At)}),bt?(ne._width=it+S,ne._height=Tt+C):(ne._width=Math.max(Fe,tt)+S,ne._height+=Tt+C)}}ne._width=Math.ceil(Math.max(ne._width+Ce[0],ne._titleWidth+2*(Y+h.titlePad))),ne._height=Math.ceil(Math.max(ne._height+Ce[1],ne._titleHeight+2*(Y+h.itemGap))),ne._effHeight=Math.min(ne._height,ne._maxHeight);var Mt=W._context.edits,Dt=Mt.legendText||Mt.legendPosition;J.each(function(St){var At=l.select(this).select("."+ye+"toggle"),ke=St[0].height,Te=St[0].trace.legendgroup,Re=_(St,ne,I);ve&&Te!==""&&(Re=fe[Te]);var Le=Dt?I:de||Re;!oe&&!H&&(Le+=E/2),o.setRect(At,0,-ke/2,Le,ke)})}function ie(W,X,J,ne){var ue=W._fullLayout,ye=ue[X],Me=N(ye),oe=F(ye),ve=ye.xref==="paper",H=ye.yref==="paper";W._fullLayout._reservedMargin[X]={};var Y=ye.y<.5?"b":"t",S=ye.x<.5?"l":"r",E={r:ue.width-J,l:J+ye._width,b:ue.height-ne,t:ne+ye._effHeight};if(ve&&H)return s.autoMargin(W,X,{x:ye.x,y:ye.y,l:ye._width*d[Me],r:ye._width*T[Me],b:ye._effHeight*T[oe],t:ye._effHeight*d[oe]});ve?W._fullLayout._reservedMargin[X][Y]=E[Y]:H||ye.orientation==="v"?W._fullLayout._reservedMargin[X][S]=E[S]:W._fullLayout._reservedMargin[X][Y]=E[Y]}function N(W){return g.isRightAnchor(W)?"right":g.isCenterAnchor(W)?"center":"left"}function F(W){return g.isBottomAnchor(W)?"bottom":g.isMiddleAnchor(W)?"middle":"top"}function G(W){return W._id||"legend"}},2424:function(te,z,e){var l=e(3972),g=e(130);te.exports=function(i,r,f){var o=r._inHover,n=g.isGrouped(r),t=g.isReversed(r),u={},h=[],m=!1,y={},d=0,T=0,x,M;function c(W,X,J){if(r.visible!==!1&&!(f&&W!==r._id))if(X===""||!g.isGrouped(r)){var ne="~~i"+d;h.push(ne),u[ne]=[J],d++}else h.indexOf(X)===-1?(h.push(X),m=!0,u[X]=[J]):u[X].push(J)}for(x=0;x<i.length;x++){var p=i[x],v=p[0],b=v.trace,w=b.legend,_=b.legendgroup;if(!(!o&&(!b.visible||!b.showlegend)))if(l.traceIs(b,"pie-like"))for(y[_]||(y[_]={}),M=0;M<p.length;M++){var k=p[M].label;y[_][k]||(c(w,_,{label:k,color:p[M].color,i:p[M].i,trace:b,pts:p[M].pts}),y[_][k]=!0,T=Math.max(T,(k||"").length))}else c(w,_,v),T=Math.max(T,(b.name||"").length)}if(!h.length)return[];var B=!m||!n,U=[];for(x=0;x<h.length;x++){var L=u[h[x]];B?U.push(L[0]):U.push(L)}for(B&&(U=[U]),x=0;x<U.length;x++){var O=1/0;for(M=0;M<U[x].length;M++){var R=U[x][M].trace.legendrank;O>R&&(O=R)}U[x][0]._groupMinRank=O,U[x][0]._preGroupSort=x}var Z=function(W,X){return W[0]._groupMinRank-X[0]._groupMinRank||W[0]._preGroupSort-X[0]._preGroupSort},$=function(W,X){return W.trace.legendrank-X.trace.legendrank||W._preSort-X._preSort};for(U.forEach(function(W,X){W[0]._preGroupSort=X}),U.sort(Z),x=0;x<U.length;x++){U[x].forEach(function(W,X){W._preSort=X}),U[x].sort($);var ie=U[x][0].trace,N=null;for(M=0;M<U[x].length;M++){var F=U[x][M].trace.legendgrouptitle;if(F&&F.text){N=F,o&&(F.font=r._groupTitleFont);break}}if(t&&U[x].reverse(),N){var G=!1;for(M=0;M<U[x].length;M++)if(l.traceIs(U[x][M].trace,"pie-like")){G=!0;break}U[x].unshift({i:-1,groupTitle:N,noClick:G,trace:{showlegend:ie.showlegend,legendgroup:ie.legendgroup,visible:r.groupclick==="toggleitem"?!0:ie.visible}})}for(M=0;M<U[x].length;M++)U[x][M]=[U[x][M]]}return r._lgroupsLength=U.length,r._maxNameLength=T,U}},5167:function(te,z,e){var l=e(3972),g=e(1828),s=g.pushUnique,i=!0;te.exports=function(f,o,n){var t=o._fullLayout;if(o._dragged||o._editing)return;var u=t.legend.itemclick,h=t.legend.itemdoubleclick,m=t.legend.groupclick;n===1&&u==="toggle"&&h==="toggleothers"&&i&&o.data&&o._context.showTips&&g.notifier(g._(o,"Double-click on legend to isolate one trace"),"long"),i=!1;var y;if(n===1?y=u:n===2&&(y=h),!y)return;var d=m==="togglegroup",T=t.hiddenlabels?t.hiddenlabels.slice():[],x=f.data()[0][0];if(x.groupTitle&&x.noClick)return;var M=o._fullData,c=(t.shapes||[]).filter(function(Ee){return Ee.showlegend}),p=M.concat(c),v=x.trace;v._isShape&&(v=v._fullInput);var b=v.legendgroup,w,_,k,B,U,L,O={},R=[],Z=[],$=[];function ie(Ee,Ae){var xe=R.indexOf(Ee),Fe=O.visible;return Fe||(Fe=O.visible=[]),R.indexOf(Ee)===-1&&(R.push(Ee),xe=R.length-1),Fe[xe]=Ae,xe}var N=(t.shapes||[]).map(function(Ee){return Ee._input}),F=!1;function G(Ee,Ae){N[Ee].visible=Ae,F=!0}function W(Ee,Ae){if(!(x.groupTitle&&!d)){var xe=Ee._fullInput||Ee,Fe=xe._isShape,Ke=xe.index;if(Ke===void 0&&(Ke=xe._index),l.hasTransform(xe,"groupby")){var je=Z[Ke];if(!je){var Ve=l.getTransformIndices(xe,"groupby"),dt=Ve[Ve.length-1];je=g.keyedContainer(xe,"transforms["+dt+"].styles","target","value.visible"),Z[Ke]=je}var bt=je.get(Ee._group);bt===void 0&&(bt=!0),bt!==!1&&je.set(Ee._group,Ae),$[Ke]=ie(Ke,xe.visible!==!1)}else{var Tt=xe.visible===!1?!1:Ae;Fe?G(Ke,Tt):ie(Ke,Tt)}}}var X=v.legend,J=v._fullInput,ne=J&&J._isShape;if(!ne&&l.traceIs(v,"pie-like")){var ue=x.label,ye=T.indexOf(ue);if(y==="toggle")ye===-1?T.push(ue):T.splice(ye,1);else if(y==="toggleothers"){var Me=ye!==-1,oe=[];for(w=0;w<o.calcdata.length;w++){var ve=o.calcdata[w];for(_=0;_<ve.length;_++){var H=ve[_],Y=H.label;X===ve[0].trace.legend&&ue!==Y&&(T.indexOf(Y)===-1&&(Me=!0),s(T,Y),oe.push(Y))}}if(!Me)for(var S=0;S<oe.length;S++){var E=T.indexOf(oe[S]);E!==-1&&T.splice(E,1)}}l.call("_guiRelayout",o,"hiddenlabels",T)}else{var I=b&&b.length,C=[],K;if(I)for(w=0;w<p.length;w++)K=p[w],K.visible&&K.legendgroup===b&&C.push(w);if(y==="toggle"){var P;switch(v.visible){case!0:P="legendonly";break;case!1:P=!1;break;case"legendonly":P=!0;break}if(I)if(d)for(w=0;w<p.length;w++){var j=p[w];j.visible!==!1&&j.legendgroup===b&&W(j,P)}else W(v,P);else W(v,P)}else if(y==="toggleothers"){var ae,fe,de,Ce,De,ce=!0;for(w=0;w<p.length;w++)if(De=p[w],ae=De===v,de=De.showlegend!==!0,!(ae||de)&&(fe=I&&De.legendgroup===b,!fe&&De.legend===X&&De.visible===!0&&!l.traceIs(De,"notLegendIsolatable"))){ce=!1;break}for(w=0;w<p.length;w++)if(De=p[w],!(De.visible===!1||De.legend!==X)&&!l.traceIs(De,"notLegendIsolatable"))switch(v.visible){case"legendonly":W(De,!0);break;case!0:Ce=ce?!0:"legendonly",ae=De===v,de=De.showlegend!==!0&&!De.legendgroup,fe=ae||I&&De.legendgroup===b,W(De,fe||de?!0:Ce);break}}for(w=0;w<Z.length;w++)if(k=Z[w],!!k){var me=k.constructUpdate(),pe=Object.keys(me);for(_=0;_<pe.length;_++)B=pe[_],L=O[B]=O[B]||[],L[$[w]]=me[B]}for(U=Object.keys(O),w=0;w<U.length;w++)for(B=U[w],_=0;_<R.length;_++)O[B].hasOwnProperty(_)||(O[B][_]=void 0);F?l.call("_guiUpdate",o,O,{shapes:N},R):l.call("_guiRestyle",o,O,R)}}},130:function(te,z){z.isGrouped=function(l){return(l.traceorder||"").indexOf("grouped")!==-1},z.isVertical=function(l){return l.orientation!=="h"},z.isReversed=function(l){return(l.traceorder||"").indexOf("reversed")!==-1}},2199:function(te,z,e){te.exports={moduleType:"component",name:"legend",layoutAttributes:e(3030),supplyLayoutDefaults:e(9017),draw:e(3969),style:e(3630)}},3630:function(te,z,e){var l=e(9898),g=e(3972),s=e(1828),i=s.strTranslate,r=e(1424),f=e(7901),o=e(2869).extractOpts,n=e(4098),t=e(3463),u=e(3581).castOption,h=e(4928),m=12,y=5,d=2,T=10,x=5;te.exports=function(b,w,_){var k=w._fullLayout;_||(_=k.legend);var B=_.itemsizing==="constant",U=_.itemwidth,L=(U+h.itemGap*2)/2,O=i(L,0),R=function(oe,ve,H,Y){var S;if(oe+1)S=oe;else if(ve&&ve.width>0)S=ve.width;else return 0;return B?Y:Math.min(S,H)};b.each(function(oe){var ve=l.select(this),H=s.ensureSingle(ve,"g","layers");H.style("opacity",oe[0].trace.opacity);var Y=_.valign,S=oe[0].lineHeight,E=oe[0].height;if(Y==="middle"||!S||!E)H.attr("transform",null);else{var I={top:1,bottom:-1}[Y],C=I*(.5*(S-E+3));H.attr("transform",i(0,C))}var K=H.selectAll("g.legendfill").data([oe]);K.enter().append("g").classed("legendfill",!0);var P=H.selectAll("g.legendlines").data([oe]);P.enter().append("g").classed("legendlines",!0);var j=H.selectAll("g.legendsymbols").data([oe]);j.enter().append("g").classed("legendsymbols",!0),j.selectAll("g.legendpoints").data([oe]).enter().append("g").classed("legendpoints",!0)}).each(Me).each(ie).each(F).each(N).each(W).each(ue).each(ne).each(Z).each($).each(X).each(J);function Z(oe){var ve=c(oe),H=ve.showFill,Y=ve.showLine,S=ve.showGradientLine,E=ve.showGradientFill,I=ve.anyFill,C=ve.anyLine,K=oe[0],P=K.trace,j,ae,fe=o(P),de=fe.colorscale,Ce=fe.reversescale,De=function(Fe){if(Fe.size())if(H)r.fillGroupStyle(Fe,w);else{var Ke="legendfill-"+P.uid;r.gradient(Fe,w,Ke,M(Ce),de,"fill")}},ce=function(Fe){if(Fe.size()){var Ke="legendline-"+P.uid;r.lineGroupStyle(Fe),r.gradient(Fe,w,Ke,M(Ce),de,"stroke")}},me=n.hasMarkers(P)||!I?"M5,0":C?"M5,-2":"M5,-3",pe=l.select(this),Ee=pe.select(".legendfill").selectAll("path").data(H||E?[oe]:[]);if(Ee.enter().append("path").classed("js-fill",!0),Ee.exit().remove(),Ee.attr("d",me+"h"+U+"v6h-"+U+"z").call(De),Y||S){var Ae=R(void 0,P.line,T,y);ae=s.minExtend(P,{line:{width:Ae}}),j=[s.minExtend(K,{trace:ae})]}var xe=pe.select(".legendlines").selectAll("path").data(Y||S?[j]:[]);xe.enter().append("path").classed("js-line",!0),xe.exit().remove(),xe.attr("d",me+(S?"l"+U+",0.0001":"h"+U)).call(Y?r.lineGroupStyle:ce)}function $(oe){var ve=c(oe),H=ve.anyFill,Y=ve.anyLine,S=ve.showLine,E=ve.showMarker,I=oe[0],C=I.trace,K=!E&&!Y&&!H&&n.hasText(C),P,j;function ae(Ee,Ae,xe,Fe){var Ke=s.nestedProperty(C,Ee).get(),je=s.isArrayOrTypedArray(Ke)&&Ae?Ae(Ke):Ke;if(B&&je&&Fe!==void 0&&(je=Fe),xe){if(je<xe[0])return xe[0];if(je>xe[1])return xe[1]}return je}function fe(Ee){return I._distinct&&I.index&&Ee[I.index]?Ee[I.index]:Ee[0]}if(E||K||S){var de={},Ce={};if(E){de.mc=ae("marker.color",fe),de.mx=ae("marker.symbol",fe),de.mo=ae("marker.opacity",s.mean,[.2,1]),de.mlc=ae("marker.line.color",fe),de.mlw=ae("marker.line.width",s.mean,[0,5],d),Ce.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var De=ae("marker.size",s.mean,[2,16],m);de.ms=De,Ce.marker.size=De}S&&(Ce.line={width:ae("line.width",fe,[0,10],y)}),K&&(de.tx="Aa",de.tp=ae("textposition",fe),de.ts=10,de.tc=ae("textfont.color",fe),de.tf=ae("textfont.family",fe)),P=[s.minExtend(I,de)],j=s.minExtend(C,Ce),j.selectedpoints=null,j.texttemplate=null}var ce=l.select(this).select("g.legendpoints"),me=ce.selectAll("path.scatterpts").data(E?P:[]);me.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",O),me.exit().remove(),me.call(r.pointStyle,j,w),E&&(P[0].mrc=3);var pe=ce.selectAll("g.pointtext").data(K?P:[]);pe.enter().append("g").classed("pointtext",!0).append("text").attr("transform",O),pe.exit().remove(),pe.selectAll("text").call(r.textPointStyle,j,w)}function ie(oe){var ve=oe[0].trace,H=ve.type==="waterfall";if(oe[0]._distinct&&H){var Y=oe[0].trace[oe[0].dir].marker;return oe[0].mc=Y.color,oe[0].mlw=Y.line.width,oe[0].mlc=Y.line.color,G(oe,this,"waterfall")}var S=[];ve.visible&&H&&(S=oe[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var E=l.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(S);E.enter().append("path").classed("legendwaterfall",!0).attr("transform",O).style("stroke-miterlimit",1),E.exit().remove(),E.each(function(I){var C=l.select(this),K=ve[I[0]].marker,P=R(void 0,K.line,x,d);C.attr("d",I[1]).style("stroke-width",P+"px").call(f.fill,K.color),P&&C.call(f.stroke,K.line.color)})}function N(oe){G(oe,this)}function F(oe){G(oe,this,"funnel")}function G(oe,ve,H){var Y=oe[0].trace,S=Y.marker||{},E=S.line||{},I=H?Y.visible&&Y.type===H:g.traceIs(Y,"bar"),C=l.select(ve).select("g.legendpoints").selectAll("path.legend"+H).data(I?[oe]:[]);C.enter().append("path").classed("legend"+H,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",O),C.exit().remove(),C.each(function(K){var P=l.select(this),j=K[0],ae=R(j.mlw,S.line,x,d);P.style("stroke-width",ae+"px");var fe=j.mcc;if(!_._inHover&&"mc"in j){var de=o(S),Ce=de.mid;Ce===void 0&&(Ce=(de.max+de.min)/2),fe=r.tryColorscale(S,"")(Ce)}var De=fe||j.mc||S.color,ce=S.pattern,me=ce&&r.getPatternAttr(ce.shape,0,"");if(me){var pe=r.getPatternAttr(ce.bgcolor,0,null),Ee=r.getPatternAttr(ce.fgcolor,0,null),Ae=ce.fgopacity,xe=p(ce.size,8,10),Fe=p(ce.solidity,.5,1),Ke="legend-"+Y.uid;P.call(r.pattern,"legend",w,Ke,me,xe,Fe,fe,ce.fillmode,pe,Ee,Ae)}else P.call(f.fill,De);ae&&f.stroke(P,j.mlc||E.color)})}function W(oe){var ve=oe[0].trace,H=l.select(this).select("g.legendpoints").selectAll("path.legendbox").data(ve.visible&&g.traceIs(ve,"box-violin")?[oe]:[]);H.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",O),H.exit().remove(),H.each(function(){var Y=l.select(this);if((ve.boxpoints==="all"||ve.points==="all")&&f.opacity(ve.fillcolor)===0&&f.opacity((ve.line||{}).color)===0){var S=s.minExtend(ve,{marker:{size:B?m:s.constrain(ve.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});H.call(r.pointStyle,S,w)}else{var E=R(void 0,ve.line,x,d);Y.style("stroke-width",E+"px").call(f.fill,ve.fillcolor),E&&f.stroke(Y,ve.line.color)}})}function X(oe){var ve=oe[0].trace,H=l.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(ve.visible&&ve.type==="candlestick"?[oe,oe]:[]);H.enter().append("path").classed("legendcandle",!0).attr("d",function(Y,S){return S?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",O).style("stroke-miterlimit",1),H.exit().remove(),H.each(function(Y,S){var E=l.select(this),I=ve[S?"increasing":"decreasing"],C=R(void 0,I.line,x,d);E.style("stroke-width",C+"px").call(f.fill,I.fillcolor),C&&f.stroke(E,I.line.color)})}function J(oe){var ve=oe[0].trace,H=l.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(ve.visible&&ve.type==="ohlc"?[oe,oe]:[]);H.enter().append("path").classed("legendohlc",!0).attr("d",function(Y,S){return S?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",O).style("stroke-miterlimit",1),H.exit().remove(),H.each(function(Y,S){var E=l.select(this),I=ve[S?"increasing":"decreasing"],C=R(void 0,I.line,x,d);E.style("fill","none").call(r.dashLine,I.line.dash,C),C&&f.stroke(E,I.line.color)})}function ne(oe){ye(oe,this,"pie")}function ue(oe){ye(oe,this,"funnelarea")}function ye(oe,ve,H){var Y=oe[0],S=Y.trace,E=H?S.visible&&S.type===H:g.traceIs(S,H),I=l.select(ve).select("g.legendpoints").selectAll("path.legend"+H).data(E?[oe]:[]);if(I.enter().append("path").classed("legend"+H,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",O),I.exit().remove(),I.size()){var C=S.marker||{},K=R(u(C.line.width,Y.pts),C.line,x,d),P="pieLike",j=s.minExtend(S,{marker:{line:{width:K}}},P),ae=s.minExtend(Y,{trace:j},P);t(I,ae,j,w)}}function Me(oe){var ve=oe[0].trace,H,Y=[];if(ve.visible)switch(ve.type){case"histogram2d":case"heatmap":Y=[["M-15,-2V4H15V-2Z"]],H=!0;break;case"choropleth":case"choroplethmapbox":Y=[["M-6,-6V6H6V-6Z"]],H=!0;break;case"densitymapbox":Y=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],H="radial";break;case"cone":Y=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],H=!1;break;case"streamtube":Y=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],H=!1;break;case"surface":Y=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],H=!0;break;case"mesh3d":Y=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],H=!1;break;case"volume":Y=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],H=!0;break;case"isosurface":Y=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],H=!1;break}var S=l.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(Y);S.enter().append("path").classed("legend3dandfriends",!0).attr("transform",O).style("stroke-miterlimit",1),S.exit().remove(),S.each(function(E,I){var C=l.select(this),K=o(ve),P=K.colorscale,j=K.reversescale,ae=function(De){if(De.size()){var ce="legendfill-"+ve.uid;r.gradient(De,w,ce,M(j,H==="radial"),P,"fill")}},fe;if(P){if(!H){var Ce=P.length;fe=I===0?P[j?Ce-1:0][1]:I===1?P[j?0:Ce-1][1]:P[Math.floor((Ce-1)/2)][1]}}else{var de=ve.vertexcolor||ve.facecolor||ve.color;fe=s.isArrayOrTypedArray(de)?de[I]||de[0]:de}C.attr("d",E[0]),fe?C.call(f.fill,fe):C.call(ae)})}};function M(v,b){var w=b?"radial":"horizontal";return w+(v?"":"reversed")}function c(v){var b=v[0].trace,w=b.contours,_=n.hasLines(b),k=n.hasMarkers(b),B=b.visible&&b.fill&&b.fill!=="none",U=!1,L=!1;if(w){var O=w.coloring;O==="lines"?U=!0:_=O==="none"||O==="heatmap"||w.showlines,w.type==="constraint"?B=w._operation!=="=":(O==="fill"||O==="heatmap")&&(L=!0)}return{showMarker:k,showLine:_,showFill:B,showGradientLine:U,showGradientFill:L,anyLine:_||U,anyFill:B||L}}function p(v,b,w){return v&&s.isArrayOrTypedArray(v)?b:v>w?w:v}},2068:function(te,z,e){e(3348),te.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},6023:function(te,z,e){var l=e(3972),g=e(4875),s=e(1675),i=e(4255),r=e(4031).eraseActiveShape,f=e(1828),o=f._,n=te.exports={};n.toImage={name:"toImage",title:function(v){var b=v._context.toImageButtonOptions||{},w=b.format||"png";return w==="png"?o(v,"Download plot as a png"):o(v,"Download plot")},icon:i.camera,click:function(v){var b=v._context.toImageButtonOptions,w={format:b.format||"png"};f.notifier(o(v,"Taking snapshot - this may take a few seconds"),"long"),w.format!=="svg"&&f.isIE()&&(f.notifier(o(v,"IE only supports svg.  Changing format to svg."),"long"),w.format="svg"),["filename","width","height","scale"].forEach(function(_){_ in b&&(w[_]=b[_])}),l.call("downloadImage",v,w).then(function(_){f.notifier(o(v,"Snapshot succeeded")+" - "+_,"long")}).catch(function(){f.notifier(o(v,"Sorry, there was a problem downloading your snapshot!"),"long")})}},n.sendDataToCloud={name:"sendDataToCloud",title:function(v){return o(v,"Edit in Chart Studio")},icon:i.disk,click:function(v){g.sendDataToCloud(v)}},n.editInChartStudio={name:"editInChartStudio",title:function(v){return o(v,"Edit in Chart Studio")},icon:i.pencil,click:function(v){g.sendDataToCloud(v)}},n.zoom2d={name:"zoom2d",_cat:"zoom",title:function(v){return o(v,"Zoom")},attr:"dragmode",val:"zoom",icon:i.zoombox,click:t},n.pan2d={name:"pan2d",_cat:"pan",title:function(v){return o(v,"Pan")},attr:"dragmode",val:"pan",icon:i.pan,click:t},n.select2d={name:"select2d",_cat:"select",title:function(v){return o(v,"Box Select")},attr:"dragmode",val:"select",icon:i.selectbox,click:t},n.lasso2d={name:"lasso2d",_cat:"lasso",title:function(v){return o(v,"Lasso Select")},attr:"dragmode",val:"lasso",icon:i.lasso,click:t},n.drawclosedpath={name:"drawclosedpath",title:function(v){return o(v,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:i.drawclosedpath,click:t},n.drawopenpath={name:"drawopenpath",title:function(v){return o(v,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:i.drawopenpath,click:t},n.drawline={name:"drawline",title:function(v){return o(v,"Draw line")},attr:"dragmode",val:"drawline",icon:i.drawline,click:t},n.drawrect={name:"drawrect",title:function(v){return o(v,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:i.drawrect,click:t},n.drawcircle={name:"drawcircle",title:function(v){return o(v,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:i.drawcircle,click:t},n.eraseshape={name:"eraseshape",title:function(v){return o(v,"Erase active shape")},icon:i.eraseshape,click:r},n.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(v){return o(v,"Zoom in")},attr:"zoom",val:"in",icon:i.zoom_plus,click:t},n.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(v){return o(v,"Zoom out")},attr:"zoom",val:"out",icon:i.zoom_minus,click:t},n.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(v){return o(v,"Autoscale")},attr:"zoom",val:"auto",icon:i.autoscale,click:t},n.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(v){return o(v,"Reset axes")},attr:"zoom",val:"reset",icon:i.home,click:t},n.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(v){return o(v,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:i.tooltip_basic,gravity:"ne",click:t},n.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(v){return o(v,"Compare data on hover")},attr:"hovermode",val:function(v){return v._fullLayout._isHoriz?"y":"x"},icon:i.tooltip_compare,gravity:"ne",click:t};function t(v,b){var w=b.currentTarget,_=w.getAttribute("data-attr"),k=w.getAttribute("data-val")||!0,B=v._fullLayout,U={},L=s.list(v,null,!0),O=B._cartesianSpikesEnabled,R,Z;if(_==="zoom"){var $=k==="in"?.5:2,ie=(1+$)/2,N=(1-$)/2,F;for(Z=0;Z<L.length;Z++)if(R=L[Z],!R.fixedrange)if(F=R._name,k==="auto")U[F+".autorange"]=!0;else if(k==="reset")R._rangeInitial0===void 0&&R._rangeInitial1===void 0?U[F+".autorange"]=!0:R._rangeInitial0===void 0?(U[F+".autorange"]=R._autorangeInitial,U[F+".range"]=[null,R._rangeInitial1]):R._rangeInitial1===void 0?(U[F+".range"]=[R._rangeInitial0,null],U[F+".autorange"]=R._autorangeInitial):U[F+".range"]=[R._rangeInitial0,R._rangeInitial1],R._showSpikeInitial!==void 0&&(U[F+".showspikes"]=R._showSpikeInitial,O==="on"&&!R._showSpikeInitial&&(O="off"));else{var G=[R.r2l(R.range[0]),R.r2l(R.range[1])],W=[ie*G[0]+N*G[1],ie*G[1]+N*G[0]];U[F+".range[0]"]=R.l2r(W[0]),U[F+".range[1]"]=R.l2r(W[1])}}else _==="hovermode"&&(k==="x"||k==="y")&&(k=B._isHoriz?"y":"x",w.setAttribute("data-val",k)),U[_]=k;B._cartesianSpikesEnabled=O,l.call("_guiRelayout",v,U)}n.zoom3d={name:"zoom3d",_cat:"zoom",title:function(v){return o(v,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:i.zoombox,click:u},n.pan3d={name:"pan3d",_cat:"pan",title:function(v){return o(v,"Pan")},attr:"scene.dragmode",val:"pan",icon:i.pan,click:u},n.orbitRotation={name:"orbitRotation",title:function(v){return o(v,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:i["3d_rotate"],click:u},n.tableRotation={name:"tableRotation",title:function(v){return o(v,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:i["z-axis"],click:u};function u(v,b){for(var w=b.currentTarget,_=w.getAttribute("data-attr"),k=w.getAttribute("data-val")||!0,B=v._fullLayout._subplots.gl3d||[],U={},L=_.split("."),O=0;O<B.length;O++)U[B[O]+"."+L[1]]=k;var R=k==="pan"?k:"zoom";U.dragmode=R,l.call("_guiRelayout",v,U)}n.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(v){return o(v,"Reset camera to default")},attr:"resetDefault",icon:i.home,click:h},n.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(v){return o(v,"Reset camera to last save")},attr:"resetLastSave",icon:i.movie,click:h};function h(v,b){for(var w=b.currentTarget,_=w.getAttribute("data-attr"),k=_==="resetLastSave",B=_==="resetDefault",U=v._fullLayout,L=U._subplots.gl3d||[],O={},R=0;R<L.length;R++){var Z=L[R],$=Z+".camera",ie=Z+".aspectratio",N=Z+".aspectmode",F=U[Z]._scene,G;k?(O[$+".up"]=F.viewInitial.up,O[$+".eye"]=F.viewInitial.eye,O[$+".center"]=F.viewInitial.center,G=!0):B&&(O[$+".up"]=null,O[$+".eye"]=null,O[$+".center"]=null,G=!0),G&&(O[ie+".x"]=F.viewInitial.aspectratio.x,O[ie+".y"]=F.viewInitial.aspectratio.y,O[ie+".z"]=F.viewInitial.aspectratio.z,O[N]=F.viewInitial.aspectmode)}l.call("_guiRelayout",v,O)}n.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(v){return o(v,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:i.tooltip_basic,gravity:"ne",click:y};function m(v,b){var w=b.currentTarget,_=w._previousVal,k=v._fullLayout,B=k._subplots.gl3d||[],U=["xaxis","yaxis","zaxis"],L={},O={};if(_)O=_,w._previousVal=null;else{for(var R=0;R<B.length;R++){var Z=B[R],$=k[Z],ie=Z+".hovermode";L[ie]=$.hovermode,O[ie]=!1;for(var N=0;N<3;N++){var F=U[N],G=Z+"."+F+".showspikes";O[G]=!1,L[G]=$[F].showspikes}}w._previousVal=L}return O}function y(v,b){var w=m(v,b);l.call("_guiRelayout",v,w)}n.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(v){return o(v,"Zoom in")},attr:"zoom",val:"in",icon:i.zoom_plus,click:d},n.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(v){return o(v,"Zoom out")},attr:"zoom",val:"out",icon:i.zoom_minus,click:d},n.resetGeo={name:"resetGeo",_cat:"reset",title:function(v){return o(v,"Reset")},attr:"reset",val:null,icon:i.autoscale,click:d},n.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(v){return o(v,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:i.tooltip_basic,gravity:"ne",click:x};function d(v,b){for(var w=b.currentTarget,_=w.getAttribute("data-attr"),k=w.getAttribute("data-val")||!0,B=v._fullLayout,U=B._subplots.geo||[],L=0;L<U.length;L++){var O=U[L],R=B[O];if(_==="zoom"){var Z=R.projection.scale,$=k==="in"?2*Z:.5*Z;l.call("_guiRelayout",v,O+".projection.scale",$)}}_==="reset"&&p(v,"geo")}n.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(v){return o(v,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:i.tooltip_basic,gravity:"ne",click:x},n.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(v){return o(v,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:i.tooltip_basic,gravity:"ne",click:x};function T(v){var b=v._fullLayout;return b.hovermode?!1:b._has("cartesian")?b._isHoriz?"y":"x":"closest"}function x(v){var b=T(v);l.call("_guiRelayout",v,"hovermode",b)}n.resetViewSankey={name:"resetSankeyGroup",title:function(v){return o(v,"Reset view")},icon:i.home,click:function(v){for(var b={"node.groups":[],"node.x":[],"node.y":[]},w=0;w<v._fullData.length;w++){var _=v._fullData[w]._viewInitial;b["node.groups"].push(_.node.groups.slice()),b["node.x"].push(_.node.x.slice()),b["node.y"].push(_.node.y.slice())}l.call("restyle",v,b)}},n.toggleHover={name:"toggleHover",title:function(v){return o(v,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:i.tooltip_basic,gravity:"ne",click:function(v,b){var w=m(v,b);w.hovermode=T(v),l.call("_guiRelayout",v,w)}},n.resetViews={name:"resetViews",title:function(v){return o(v,"Reset views")},icon:i.home,click:function(v,b){var w=b.currentTarget;w.setAttribute("data-attr","zoom"),w.setAttribute("data-val","reset"),t(v,b),w.setAttribute("data-attr","resetLastSave"),h(v,b),p(v,"geo"),p(v,"mapbox")}},n.toggleSpikelines={name:"toggleSpikelines",title:function(v){return o(v,"Toggle Spike Lines")},icon:i.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(v){var b=v._fullLayout,w=b._cartesianSpikesEnabled;b._cartesianSpikesEnabled=w==="on"?"off":"on",l.call("_guiRelayout",v,M(v))}};function M(v){for(var b=v._fullLayout,w=b._cartesianSpikesEnabled==="on",_=s.list(v,null,!0),k={},B=0;B<_.length;B++){var U=_[B];k[U._name+".showspikes"]=w?!0:U._showSpikeInitial}return k}n.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(v){return o(v,"Reset view")},attr:"reset",icon:i.home,click:function(v){p(v,"mapbox")}},n.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(v){return o(v,"Zoom in")},attr:"zoom",val:"in",icon:i.zoom_plus,click:c},n.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(v){return o(v,"Zoom out")},attr:"zoom",val:"out",icon:i.zoom_minus,click:c};function c(v,b){for(var w=b.currentTarget,_=w.getAttribute("data-val"),k=v._fullLayout,B=k._subplots.mapbox||[],U=1.05,L={},O=0;O<B.length;O++){var R=B[O],Z=k[R].zoom,$=_==="in"?U*Z:Z/U;L[R+".zoom"]=$}l.call("_guiRelayout",v,L)}function p(v,b){for(var w=v._fullLayout,_=w._subplots[b]||[],k={},B=0;B<_.length;B++)for(var U=_[B],L=w[U]._subplot,O=L.viewInitial,R=Object.keys(O),Z=0;Z<R.length;Z++){var $=R[Z];k[U+"."+$]=O[$]}l.call("_guiRelayout",v,k)}},3348:function(te,z,e){var l=e(6023),g=Object.keys(l),s=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],i=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(s),r=[],f=function(o){if(i.indexOf(o._cat||o.name)===-1){var n=o.name,t=(o._cat||o.name).toLowerCase();r.indexOf(n)===-1&&r.push(n),r.indexOf(t)===-1&&r.push(t)}};g.forEach(function(o){f(l[o])}),r.sort(),te.exports={DRAW_MODES:s,backButtons:i,foreButtons:r}},5750:function(te,z,e){var l=e(1828),g=e(7901),s=e(4467),i=e(2068);te.exports=function(f,o){var n=f.modebar||{},t=s.newContainer(o,"modebar");function u(m,y){return l.coerce(n,t,i,m,y)}u("orientation"),u("bgcolor",g.addOpacity(o.paper_bgcolor,.5));var h=g.contrast(g.rgb(o.modebar.bgcolor));u("color",g.addOpacity(h,.3)),u("activecolor",g.addOpacity(h,.7)),u("uirevision",o.uirevision),u("add"),u("remove")}},4168:function(te,z,e){te.exports={moduleType:"component",name:"modebar",layoutAttributes:e(2068),supplyLayoutDefaults:e(5750),manage:e(4192)}},4192:function(te,z,e){var l=e(1675),g=e(4098),s=e(3972),i=e(3469).isUnifiedHover,r=e(7676),f=e(6023),o=e(3348).DRAW_MODES,n=e(1828).extendDeep;te.exports=function(x){var M=x._fullLayout,c=x._context,p=M._modeBar;if(!c.displayModeBar&&!c.watermark){p&&(p.destroy(),delete M._modeBar);return}if(!Array.isArray(c.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(c.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var v=c.modeBarButtons,b;Array.isArray(v)&&v.length?b=d(v):!c.displayModeBar&&c.watermark?b=[]:b=t(x),p?p.update(x,b):M._modeBar=r(x,b)};function t(T){var x=T._fullLayout,M=T._fullData,c=T._context;function p(I,C){if(typeof C=="string"){if(C.toLowerCase()===I.toLowerCase())return!0}else{var K=C.name,P=C._cat||C.name;if(K===I||P===I.toLowerCase())return!0}return!1}var v=x.modebar.add;typeof v=="string"&&(v=[v]);var b=x.modebar.remove;typeof b=="string"&&(b=[b]);var w=c.modeBarButtonsToAdd.concat(v.filter(function(I){for(var C=0;C<c.modeBarButtonsToRemove.length;C++)if(p(I,c.modeBarButtonsToRemove[C]))return!1;return!0})),_=c.modeBarButtonsToRemove.concat(b.filter(function(I){for(var C=0;C<c.modeBarButtonsToAdd.length;C++)if(p(I,c.modeBarButtonsToAdd[C]))return!1;return!0})),k=x._has("cartesian"),B=x._has("gl3d"),U=x._has("geo"),L=x._has("pie"),O=x._has("funnelarea"),R=x._has("gl2d"),Z=x._has("ternary"),$=x._has("mapbox"),ie=x._has("polar"),N=x._has("smith"),F=x._has("sankey"),G=u(x),W=i(x.hovermode),X=[];function J(I){if(I.length){for(var C=[],K=0;K<I.length;K++){for(var P=I[K],j=f[P],ae=j.name.toLowerCase(),fe=(j._cat||j.name).toLowerCase(),de=!1,Ce=0;Ce<_.length;Ce++){var De=_[Ce].toLowerCase();if(De===ae||De===fe){de=!0;break}}de||C.push(f[P])}X.push(C)}}var ne=["toImage"];c.showEditInChartStudio?ne.push("editInChartStudio"):c.showSendToCloud&&ne.push("sendDataToCloud"),J(ne);var ue=[],ye=[],Me=[],oe=[];(k||R||L||O||Z)+U+B+$+ie+N>1?(ye=["toggleHover"],Me=["resetViews"]):U?(ue=["zoomInGeo","zoomOutGeo"],ye=["hoverClosestGeo"],Me=["resetGeo"]):B?(ye=["hoverClosest3d"],Me=["resetCameraDefault3d","resetCameraLastSave3d"]):$?(ue=["zoomInMapbox","zoomOutMapbox"],ye=["toggleHover"],Me=["resetViewMapbox"]):R?ye=["hoverClosestGl2d"]:L?ye=["hoverClosestPie"]:F?(ye=["hoverClosestCartesian","hoverCompareCartesian"],Me=["resetViewSankey"]):ye=["toggleHover"],k&&(ye=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(m(M)||W)&&(ye=[]),(k||R)&&!G&&(ue=["zoomIn2d","zoomOut2d","autoScale2d"],Me[0]!=="resetViews"&&(Me=["resetScale2d"])),B?oe=["zoom3d","pan3d","orbitRotation","tableRotation"]:(k||R)&&!G||Z?oe=["zoom2d","pan2d"]:$||U?oe=["pan2d"]:ie&&(oe=["zoom2d"]),h(M)&&oe.push("select2d","lasso2d");var ve=[],H=function(I){ve.indexOf(I)===-1&&ye.indexOf(I)!==-1&&ve.push(I)};if(Array.isArray(w)){for(var Y=[],S=0;S<w.length;S++){var E=w[S];typeof E=="string"?(E=E.toLowerCase(),o.indexOf(E)!==-1?(x._has("mapbox")||x._has("cartesian"))&&oe.push(E):E==="togglespikelines"?H("toggleSpikelines"):E==="togglehover"?H("toggleHover"):E==="hovercompare"?H("hoverCompareCartesian"):E==="hoverclosest"?(H("hoverClosestCartesian"),H("hoverClosestGeo"),H("hoverClosest3d"),H("hoverClosestGl2d"),H("hoverClosestPie")):E==="v1hovermode"&&(H("toggleHover"),H("hoverClosestCartesian"),H("hoverCompareCartesian"),H("hoverClosestGeo"),H("hoverClosest3d"),H("hoverClosestGl2d"),H("hoverClosestPie"))):Y.push(E)}w=Y}return J(oe),J(ue.concat(Me)),J(ve),y(X,w)}function u(T){for(var x=l.list({_fullLayout:T},null,!0),M=0;M<x.length;M++)if(!x[M].fixedrange)return!1;return!0}function h(T){for(var x=!1,M=0;M<T.length&&!x;M++){var c=T[M];!c._module||!c._module.selectPoints||(s.traceIs(c,"scatter-like")?(g.hasMarkers(c)||g.hasText(c))&&(x=!0):s.traceIs(c,"box-violin")?(c.boxpoints==="all"||c.points==="all")&&(x=!0):x=!0)}return x}function m(T){for(var x=0;x<T.length;x++)if(!s.traceIs(T[x],"noHover"))return!1;return!0}function y(T,x){if(x.length)if(Array.isArray(x[0]))for(var M=0;M<x.length;M++)T.push(x[M]);else T.push(x);return T}function d(T){for(var x=n([],T),M=0;M<x.length;M++)for(var c=x[M],p=0;p<c.length;p++){var v=c[p];if(typeof v=="string")if(f[v]!==void 0)x[M][p]=f[v];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return x}},7676:function(te,z,e){var l=e(9898),g=e(2770),s=e(1828),i=e(4255),r=e(1506).version,f=new DOMParser;function o(h){this.container=h.container,this.element=document.createElement("div"),this.update(h.graphInfo,h.buttons),this.container.appendChild(this.element)}var n=o.prototype;n.update=function(h,m){this.graphInfo=h;var y=this.graphInfo._context,d=this.graphInfo._fullLayout,T="modebar-"+d._uid;this.element.setAttribute("id",T),this._uid=T,this.element.className="modebar",y.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),d.modebar.orientation==="v"&&(this.element.className+=" vertical",m=m.reverse());var x=d.modebar,M=y.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";s.deleteRelatedStyleRule(T),s.addRelatedStyleRule(T,M+"#"+T+" .modebar-group","background-color: "+x.bgcolor),s.addRelatedStyleRule(T,"#"+T+" .modebar-btn .icon path","fill: "+x.color),s.addRelatedStyleRule(T,"#"+T+" .modebar-btn:hover .icon path","fill: "+x.activecolor),s.addRelatedStyleRule(T,"#"+T+" .modebar-btn.active .icon path","fill: "+x.activecolor);var c=!this.hasButtons(m),p=this.hasLogo!==y.displaylogo,v=this.locale!==y.locale;if(this.locale=y.locale,(c||p||v)&&(this.removeAllButtons(),this.updateButtons(m),y.watermark||y.displaylogo)){var b=this.getLogo();y.watermark&&(b.className=b.className+" watermark"),d.modebar.orientation==="v"?this.element.insertBefore(b,this.element.childNodes[0]):this.element.appendChild(b),this.hasLogo=!0}this.updateActiveButton()},n.updateButtons=function(h){var m=this;this.buttons=h,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(y){var d=m.createGroup();y.forEach(function(T){var x=T.name;if(!x)throw new Error("must provide button 'name' in button config");if(m.buttonsNames.indexOf(x)!==-1)throw new Error("button name '"+x+"' is taken");m.buttonsNames.push(x);var M=m.createButton(T);m.buttonElements.push(M),d.appendChild(M)}),m.element.appendChild(d)})},n.createGroup=function(){var h=document.createElement("div");return h.className="modebar-group",h},n.createButton=function(h){var m=this,y=document.createElement("a");y.setAttribute("rel","tooltip"),y.className="modebar-btn";var d=h.title;d===void 0?d=h.name:typeof d=="function"&&(d=d(this.graphInfo)),(d||d===0)&&y.setAttribute("data-title",d),h.attr!==void 0&&y.setAttribute("data-attr",h.attr);var T=h.val;T!==void 0&&(typeof T=="function"&&(T=T(this.graphInfo)),y.setAttribute("data-val",T));var x=h.click;if(typeof x!="function")throw new Error("must provide button 'click' function in button config");y.addEventListener("click",function(c){h.click(m.graphInfo,c),m.updateActiveButton(c.currentTarget)}),y.setAttribute("data-toggle",h.toggle||!1),h.toggle&&l.select(y).classed("active",!0);var M=h.icon;return typeof M=="function"?y.appendChild(M()):y.appendChild(this.createIcon(M||i.question)),y.setAttribute("data-gravity",h.gravity||"n"),y},n.createIcon=function(h){var m=g(h.height)?Number(h.height):h.ascent-h.descent,y="http://www.w3.org/2000/svg",d;if(h.path){d=document.createElementNS(y,"svg"),d.setAttribute("viewBox",[0,0,h.width,m].join(" ")),d.setAttribute("class","icon");var T=document.createElementNS(y,"path");T.setAttribute("d",h.path),h.transform?T.setAttribute("transform",h.transform):h.ascent!==void 0&&T.setAttribute("transform","matrix(1 0 0 -1 0 "+h.ascent+")"),d.appendChild(T)}if(h.svg){var x=f.parseFromString(h.svg,"application/xml");d=x.childNodes[0]}return d.setAttribute("height","1em"),d.setAttribute("width","1em"),d},n.updateActiveButton=function(h){var m=this.graphInfo._fullLayout,y=h!==void 0?h.getAttribute("data-attr"):null;this.buttonElements.forEach(function(d){var T=d.getAttribute("data-val")||!0,x=d.getAttribute("data-attr"),M=d.getAttribute("data-toggle")==="true",c=l.select(d);if(M)x===y&&c.classed("active",!c.classed("active"));else{var p=x===null?x:s.nestedProperty(m,x).get();c.classed("active",p===T)}})},n.hasButtons=function(h){var m=this.buttons;if(!m||h.length!==m.length)return!1;for(var y=0;y<h.length;++y){if(h[y].length!==m[y].length)return!1;for(var d=0;d<h[y].length;d++)if(h[y][d].name!==m[y][d].name)return!1}return!0};function t(h){return h+" (v"+r+")"}n.getLogo=function(){var h=this.createGroup(),m=document.createElement("a");return m.href="https://plotly.com/",m.target="_blank",m.setAttribute("data-title",t(s._(this.graphInfo,"Produced with Plotly.js"))),m.className="modebar-btn plotlyjsicon modebar-btn--logo",m.appendChild(this.createIcon(i.newplotlylogo)),h.appendChild(m),h},n.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},n.destroy=function(){s.removeElement(this.container.querySelector(".modebar")),s.deleteRelatedStyleRule(this._uid)};function u(h,m){var y=h._fullLayout,d=new o({graphInfo:h,container:y._modebardiv.node(),buttons:m});return y._privateplot&&l.select(d.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),d}te.exports=u},7113:function(te,z,e){var l=e(1940),g=e(2399),s=e(4467).templatedArray,i=s("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});te.exports={visible:{valType:"boolean",editType:"plot"},buttons:i,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:l({editType:"plot"}),bgcolor:{valType:"color",dflt:g.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:g.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},9573:function(te){te.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},8674:function(te,z,e){var l=e(1828),g=e(7901),s=e(4467),i=e(5501),r=e(7113),f=e(9573);te.exports=function(u,h,m,y,d){var T=u.rangeselector||{},x=s.newContainer(h,"rangeselector");function M(w,_){return l.coerce(T,x,r,w,_)}var c=i(T,x,{name:"buttons",handleItemDefaults:o,calendar:d}),p=M("visible",c.length>0);if(p){var v=n(h,m,y);M("x",v[0]),M("y",v[1]),l.noneOrAll(u,h,["x","y"]),M("xanchor"),M("yanchor"),l.coerceFont(M,"font",m.font);var b=M("bgcolor");M("activecolor",g.contrast(b,f.lightAmount,f.darkAmount)),M("bordercolor"),M("borderwidth")}};function o(t,u,h,m){var y=m.calendar;function d(M,c){return l.coerce(t,u,r.buttons,M,c)}var T=d("visible");if(T){var x=d("step");x!=="all"&&(y&&y!=="gregorian"&&(x==="month"||x==="year")?u.stepmode="backward":d("stepmode"),d("count")),d("label")}}function n(t,u,h){for(var m=h.filter(function(x){return u[x].anchor===t._id}),y=0,d=0;d<m.length;d++){var T=u[m[d]].domain;T&&(y=Math.max(T[1],y))}return[t.domain[0],y+f.yPad]}},1598:function(te,z,e){var l=e(9898),g=e(3972),s=e(4875),i=e(7901),r=e(1424),f=e(1828),o=f.strTranslate,n=e(3893),t=e(1675),u=e(8783),h=u.LINE_SPACING,m=u.FROM_TL,y=u.FROM_BR,d=e(9573),T=e(7917);te.exports=function(B){var U=B._fullLayout,L=U._infolayer.selectAll(".rangeselector").data(x(B),M);L.enter().append("g").classed("rangeselector",!0),L.exit().remove(),L.style({cursor:"pointer","pointer-events":"all"}),L.each(function(O){var R=l.select(this),Z=O,$=Z.rangeselector,ie=R.selectAll("g.button").data(f.filterVisible($.buttons));ie.enter().append("g").classed("button",!0),ie.exit().remove(),ie.each(function(N){var F=l.select(this),G=T(Z,N);N._isActive=c(Z,N,G),F.call(p,$,N),F.call(b,$,N,B),F.on("click",function(){B._dragged||g.call("_guiRelayout",B,G)}),F.on("mouseover",function(){N._isHovered=!0,F.call(p,$,N)}),F.on("mouseout",function(){N._isHovered=!1,F.call(p,$,N)})}),_(B,ie,$,Z._name,R)})};function x(k){for(var B=t.list(k,"x",!0),U=[],L=0;L<B.length;L++){var O=B[L];O.rangeselector&&O.rangeselector.visible&&U.push(O)}return U}function M(k){return k._id}function c(k,B,U){if(B.step==="all")return k.autorange===!0;var L=Object.keys(U);return k.range[0]===U[L[0]]&&k.range[1]===U[L[1]]}function p(k,B,U){var L=f.ensureSingle(k,"rect","selector-rect",function(O){O.attr("shape-rendering","crispEdges")});L.attr({rx:d.rx,ry:d.ry}),L.call(i.stroke,B.bordercolor).call(i.fill,v(B,U)).style("stroke-width",B.borderwidth+"px")}function v(k,B){return B._isActive||B._isHovered?k.activecolor:k.bgcolor}function b(k,B,U,L){function O(Z){n.convertToTspans(Z,L)}var R=f.ensureSingle(k,"text","selector-text",function(Z){Z.attr("text-anchor","middle")});R.call(r.font,B.font).text(w(U,L._fullLayout._meta)).call(O)}function w(k,B){return k.label?B?f.templateString(k.label,B):k.label:k.step==="all"?"all":k.count+k.step.charAt(0)}function _(k,B,U,L,O){var R=0,Z=0,$=U.borderwidth;B.each(function(){var X=l.select(this),J=X.select(".selector-text"),ne=U.font.size*h,ue=Math.max(ne*n.lineCount(J),16)+3;Z=Math.max(Z,ue)}),B.each(function(){var X=l.select(this),J=X.select(".selector-rect"),ne=X.select(".selector-text"),ue=ne.node()&&r.bBox(ne.node()).width,ye=U.font.size*h,Me=n.lineCount(ne),oe=Math.max(ue+10,d.minButtonWidth);X.attr("transform",o($+R,$)),J.attr({x:0,y:0,width:oe,height:Z}),n.positionText(ne,oe/2,Z/2-(Me-1)*ye/2+3),R+=oe+5});var ie=k._fullLayout._size,N=ie.l+ie.w*U.x,F=ie.t+ie.h*(1-U.y),G="left";f.isRightAnchor(U)&&(N-=R,G="right"),f.isCenterAnchor(U)&&(N-=R/2,G="center");var W="top";f.isBottomAnchor(U)&&(F-=Z,W="bottom"),f.isMiddleAnchor(U)&&(F-=Z/2,W="middle"),R=Math.ceil(R),Z=Math.ceil(Z),N=Math.round(N),F=Math.round(F),s.autoMargin(k,L+"-range-selector",{x:U.x,y:U.y,l:R*m[G],r:R*y[G],b:Z*y[W],t:Z*m[W]}),O.attr("transform",o(N,F))}},7917:function(te,z,e){var l=e(1041),g=e(1828).titleCase;te.exports=function(r,f){var o=r._name,n={};if(f.step==="all")n[o+".autorange"]=!0;else{var t=s(r,f);n[o+".range[0]"]=t[0],n[o+".range[1]"]=t[1]}return n};function s(i,r){var f=i.range,o=new Date(i.r2l(f[1])),n=r.step,t=l["utc"+g(n)],u=r.count,h;switch(r.stepmode){case"backward":h=i.l2r(+t.offset(o,-u));break;case"todate":var m=t.offset(o,-u);h=i.l2r(+t.ceil(m));break}var y=f[1];return[h,y]}},7218:function(te,z,e){te.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(7113)}}},layoutAttributes:e(7113),handleDefaults:e(8674),draw:e(1598)}},5148:function(te,z,e){var l=e(2399);te.exports={bgcolor:{valType:"color",dflt:l.background,editType:"plot"},bordercolor:{valType:"color",dflt:l.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},8443:function(te,z,e){var l=e(1675).list,g=e(1739).getAutoRange,s=e(3251);te.exports=function(r){for(var f=l(r,"x",!0),o=0;o<f.length;o++){var n=f[o],t=n[s.name];t&&t.visible&&t.autorange&&(t._input.autorange=!0,t._input.range=t.range=g(r,n))}}},3251:function(te){te.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},6377:function(te,z,e){var l=e(1828),g=e(4467),s=e(1675),i=e(5148),r=e(7850);te.exports=function(o,n,t){var u=o[t],h=n[t];if(!(u.rangeslider||n._requestRangeslider[h._id]))return;l.isPlainObject(u.rangeslider)||(u.rangeslider={});var m=u.rangeslider,y=g.newContainer(h,"rangeslider");function d(L,O){return l.coerce(m,y,i,L,O)}var T,x;function M(L,O){return l.coerce(T,x,r,L,O)}var c=d("visible");if(c){d("bgcolor",n.plot_bgcolor),d("bordercolor"),d("borderwidth"),d("thickness"),d("autorange",!h.isValidRange(m.range)),d("range");var p=n._subplots;if(p)for(var v=p.cartesian.filter(function(L){return L.substr(0,L.indexOf("y"))===s.name2id(t)}).map(function(L){return L.substr(L.indexOf("y"),L.length)}),b=l.simpleMap(v,s.id2name),w=0;w<b.length;w++){var _=b[w];T=m[_]||{},x=g.newContainer(y,_,"yaxis");var k=n[_],B;T.range&&k.isValidRange(T.range)&&(B="fixed");var U=M("rangemode",B);U!=="match"&&M("range",k.range.slice())}y._input=m}}},2413:function(te,z,e){var l=e(9898),g=e(3972),s=e(4875),i=e(1828),r=i.strTranslate,f=e(1424),o=e(7901),n=e(2998),t=e(3612),u=e(1675),h=e(8569),m=e(6964),y=e(3251);te.exports=function(k){for(var B=k._fullLayout,U=B._rangeSliderData,L=0;L<U.length;L++){var O=U[L][y.name];O._clipId=O._id+"-"+B._uid}function R($){return $._name}var Z=B._infolayer.selectAll("g."+y.containerClassName).data(U,R);Z.exit().each(function($){var ie=$[y.name];B._topdefs.select("#"+ie._clipId).remove()}).remove(),U.length!==0&&(Z.enter().append("g").classed(y.containerClassName,!0).attr("pointer-events","all"),Z.each(function($){var ie=l.select(this),N=$[y.name],F=B[u.id2name($.anchor)],G=N[u.id2name($.anchor)];if(N.range){var W=i.simpleMap(N.range,$.r2l),X=i.simpleMap($.range,$.r2l),J;X[0]<X[1]?J=[Math.min(W[0],X[0]),Math.max(W[1],X[1])]:J=[Math.max(W[0],X[0]),Math.min(W[1],X[1])],N.range=N._input.range=i.simpleMap(J,$.l2r)}$.cleanRange("rangeslider.range");var ne=B._size,ue=$.domain;N._width=ne.w*(ue[1]-ue[0]);var ye=Math.round(ne.l+ne.w*ue[0]),Me=Math.round(ne.t+ne.h*(1-$._counterDomainMin)+($.side==="bottom"?$._depth:0)+N._offsetShift+y.extraPad);ie.attr("transform",r(ye,Me)),N._rl=i.simpleMap(N.range,$.r2l);var oe=N._rl[0],ve=N._rl[1],H=ve-oe;if(N.p2d=function(fe){return fe/N._width*H+oe},N.d2p=function(fe){return(fe-oe)/H*N._width},$.rangebreaks){var Y=$.locateBreaks(oe,ve);if(Y.length){var S,E,I=0;for(S=0;S<Y.length;S++)E=Y[S],I+=E.max-E.min;var C=N._width/(ve-oe-I),K=[-C*oe];for(S=0;S<Y.length;S++)E=Y[S],K.push(K[K.length-1]-C*(E.max-E.min));for(N.d2p=function(fe){for(var de=K[0],Ce=0;Ce<Y.length;Ce++){var De=Y[Ce];if(fe>=De.max)de=K[Ce+1];else if(fe<De.min)break}return de+C*fe},S=0;S<Y.length;S++)E=Y[S],E.pmin=N.d2p(E.min),E.pmax=N.d2p(E.max);N.p2d=function(fe){for(var de=K[0],Ce=0;Ce<Y.length;Ce++){var De=Y[Ce];if(fe>=De.pmax)de=K[Ce+1];else if(fe<De.pmin)break}return(fe-de)/C}}}if(G.rangemode!=="match"){var P=F.r2l(G.range[0]),j=F.r2l(G.range[1]),ae=j-P;N.d2pOppAxis=function(fe){return(fe-P)/ae*N._height}}ie.call(M,k,$,N).call(c,k,$,N).call(p,k,$,N).call(b,k,$,N,G).call(w,k,$,N).call(_,k,$,N),d(ie,k,$,N),x(ie,k,$,N,F,G),$.side==="bottom"&&n.draw(k,$._id+"title",{propContainer:$,propName:$._name+".title",placeholder:B._dfltTitle.x,attributes:{x:$._offset+$._length/2,y:Me+N._height+N._offsetShift+10+1.5*$.title.font.size,"text-anchor":"middle"}})}))};function d(k,B,U,L){if(B._context.staticPlot)return;var O=k.select("rect."+y.slideBoxClassName).node(),R=k.select("rect."+y.grabAreaMinClassName).node(),Z=k.select("rect."+y.grabAreaMaxClassName).node();function $(){var ie=l.event,N=ie.target,F=ie.clientX||ie.touches[0].clientX,G=F-k.node().getBoundingClientRect().left,W=L.d2p(U._rl[0]),X=L.d2p(U._rl[1]),J=h.coverSlip();this.addEventListener("touchmove",ne),this.addEventListener("touchend",ue),J.addEventListener("mousemove",ne),J.addEventListener("mouseup",ue);function ne(ye){var Me=ye.clientX||ye.touches[0].clientX,oe=+Me-F,ve,H,Y;switch(N){case O:if(Y="ew-resize",W+oe>U._length||X+oe<0)return;ve=W+oe,H=X+oe;break;case R:if(Y="col-resize",W+oe>U._length)return;ve=W+oe,H=X;break;case Z:if(Y="col-resize",X+oe<0)return;ve=W,H=X+oe;break;default:Y="ew-resize",ve=G,H=G+oe;break}if(H<ve){var S=H;H=ve,ve=S}L._pixelMin=ve,L._pixelMax=H,m(l.select(J),Y),T(k,B,U,L)}function ue(){J.removeEventListener("mousemove",ne),J.removeEventListener("mouseup",ue),this.removeEventListener("touchmove",ne),this.removeEventListener("touchend",ue),i.removeElement(J)}}k.on("mousedown",$),k.on("touchstart",$)}function T(k,B,U,L){function O($){return U.l2r(i.constrain($,L._rl[0],L._rl[1]))}var R=O(L.p2d(L._pixelMin)),Z=O(L.p2d(L._pixelMax));window.requestAnimationFrame(function(){g.call("_guiRelayout",B,U._name+".range",[R,Z])})}function x(k,B,U,L,O,R){var Z=y.handleWidth/2;function $(ye){return i.constrain(ye,0,L._width)}function ie(ye){return i.constrain(ye,0,L._height)}function N(ye){return i.constrain(ye,-Z,L._width+Z)}var F=$(L.d2p(U._rl[0])),G=$(L.d2p(U._rl[1]));if(k.select("rect."+y.slideBoxClassName).attr("x",F).attr("width",G-F),k.select("rect."+y.maskMinClassName).attr("width",F),k.select("rect."+y.maskMaxClassName).attr("x",G).attr("width",L._width-G),R.rangemode!=="match"){var W=L._height-ie(L.d2pOppAxis(O._rl[1])),X=L._height-ie(L.d2pOppAxis(O._rl[0]));k.select("rect."+y.maskMinOppAxisClassName).attr("x",F).attr("height",W).attr("width",G-F),k.select("rect."+y.maskMaxOppAxisClassName).attr("x",F).attr("y",X).attr("height",L._height-X).attr("width",G-F),k.select("rect."+y.slideBoxClassName).attr("y",W).attr("height",X-W)}var J=.5,ne=Math.round(N(F-Z))-J,ue=Math.round(N(G-Z))+J;k.select("g."+y.grabberMinClassName).attr("transform",r(ne,J)),k.select("g."+y.grabberMaxClassName).attr("transform",r(ue,J))}function M(k,B,U,L){var O=i.ensureSingle(k,"rect",y.bgClassName,function(ie){ie.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),R=L.borderwidth%2===0?L.borderwidth:L.borderwidth-1,Z=-L._offsetShift,$=f.crispRound(B,L.borderwidth);O.attr({width:L._width+R,height:L._height+R,transform:r(Z,Z),"stroke-width":$}).call(o.stroke,L.bordercolor).call(o.fill,L.bgcolor)}function c(k,B,U,L){var O=B._fullLayout,R=i.ensureSingleById(O._topdefs,"clipPath",L._clipId,function(Z){Z.append("rect").attr({x:0,y:0})});R.select("rect").attr({width:L._width,height:L._height})}function p(k,B,U,L){var O=B.calcdata,R=k.selectAll("g."+y.rangePlotClassName).data(U._subplotsWith,i.identity);R.enter().append("g").attr("class",function($){return y.rangePlotClassName+" "+$}).call(f.setClipUrl,L._clipId,B),R.order(),R.exit().remove();var Z;R.each(function($,ie){var N=l.select(this),F=ie===0,G=u.getFromId(B,$,"y"),W=G._name,X=L[W],J={data:[],layout:{xaxis:{type:U.type,domain:[0,1],range:L.range.slice(),calendar:U.calendar},width:L._width,height:L._height,margin:{t:0,b:0,l:0,r:0}},_context:B._context};U.rangebreaks&&(J.layout.xaxis.rangebreaks=U.rangebreaks),J.layout[W]={type:G.type,domain:[0,1],range:X.rangemode!=="match"?X.range.slice():G.range.slice(),calendar:G.calendar},G.rangebreaks&&(J.layout[W].rangebreaks=G.rangebreaks),s.supplyDefaults(J);var ne=J._fullLayout.xaxis,ue=J._fullLayout[W];ne.clearCalc(),ne.setScale(),ue.clearCalc(),ue.setScale();var ye={id:$,plotgroup:N,xaxis:ne,yaxis:ue,isRangePlot:!0};F?Z=ye:(ye.mainplot="xy",ye.mainplotinfo=Z),t.rangePlot(B,ye,v(O,$))})}function v(k,B){for(var U=[],L=0;L<k.length;L++){var O=k[L],R=O[0].trace;R.xaxis+R.yaxis===B&&U.push(O)}return U}function b(k,B,U,L,O){var R=i.ensureSingle(k,"rect",y.maskMinClassName,function(N){N.attr({x:0,y:0,"shape-rendering":"crispEdges"})});R.attr("height",L._height).call(o.fill,y.maskColor);var Z=i.ensureSingle(k,"rect",y.maskMaxClassName,function(N){N.attr({y:0,"shape-rendering":"crispEdges"})});if(Z.attr("height",L._height).call(o.fill,y.maskColor),O.rangemode!=="match"){var $=i.ensureSingle(k,"rect",y.maskMinOppAxisClassName,function(N){N.attr({y:0,"shape-rendering":"crispEdges"})});$.attr("width",L._width).call(o.fill,y.maskOppAxisColor);var ie=i.ensureSingle(k,"rect",y.maskMaxOppAxisClassName,function(N){N.attr({y:0,"shape-rendering":"crispEdges"})});ie.attr("width",L._width).style("border-top",y.maskOppBorder).call(o.fill,y.maskOppAxisColor)}}function w(k,B,U,L){if(!B._context.staticPlot){var O=i.ensureSingle(k,"rect",y.slideBoxClassName,function(R){R.attr({y:0,cursor:y.slideBoxCursor,"shape-rendering":"crispEdges"})});O.attr({height:L._height,fill:y.slideBoxFill})}}function _(k,B,U,L){var O=i.ensureSingle(k,"g",y.grabberMinClassName),R=i.ensureSingle(k,"g",y.grabberMaxClassName),Z={x:0,width:y.handleWidth,rx:y.handleRadius,fill:o.background,stroke:o.defaultLine,"stroke-width":y.handleStrokeWidth,"shape-rendering":"crispEdges"},$={y:Math.round(L._height/4),height:Math.round(L._height/2)},ie=i.ensureSingle(O,"rect",y.handleMinClassName,function(X){X.attr(Z)});ie.attr($);var N=i.ensureSingle(R,"rect",y.handleMaxClassName,function(X){X.attr(Z)});N.attr($);var F={width:y.grabAreaWidth,x:0,y:0,fill:y.grabAreaFill,cursor:B._context.staticPlot?void 0:y.grabAreaCursor},G=i.ensureSingle(O,"rect",y.grabAreaMinClassName,function(X){X.attr(F)});G.attr("height",L._height);var W=i.ensureSingle(R,"rect",y.grabAreaMaxClassName,function(X){X.attr(F)});W.attr("height",L._height)}},549:function(te,z,e){var l=e(1675),g=e(3893),s=e(3251),i=e(8783).LINE_SPACING,r=s.name;function f(o){var n=o&&o[r];return n&&n.visible}z.isVisible=f,z.makeData=function(o){var n=l.list({_fullLayout:o},"x",!0),t=o.margin,u=[];if(!o._has("gl2d"))for(var h=0;h<n.length;h++){var m=n[h];if(f(m)){u.push(m);var y=m[r];y._id=r+m._id,y._height=(o.height-t.b-t.t)*y.thickness,y._offsetShift=Math.floor(y.borderwidth/2)}}o._rangeSliderData=u},z.autoMarginOpts=function(o,n){var t=o._fullLayout,u=n[r],h=n._id.charAt(0),m=0,y=0;if(n.side==="bottom"&&(m=n._depth,n.title.text!==t._dfltTitle[h])){y=1.5*n.title.font.size+10+u._offsetShift;var d=(n.title.text.match(g.BR_TAG_ALL)||[]).length;y+=d*n.title.font.size*i}return{x:0,y:n._counterDomainMin,l:0,r:0,t:0,b:u._height+m+Math.max(t.margin.b,y),pad:s.extraPad+u._offsetShift*2}}},3137:function(te,z,e){var l=e(1828),g=e(5148),s=e(7850),i=e(549);te.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:l.extendFlat({},g,{yaxis:s})}}},layoutAttributes:e(5148),handleDefaults:e(6377),calcAutorange:e(8443),draw:e(2413),isVisible:i.isVisible,makeData:i.makeData,autoMarginOpts:i.autoMarginOpts}},7850:function(te){te.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},8389:function(te,z,e){var l=e(215),g=e(2196).line,s=e(9952).P,i=e(1426).extendFlat,r=e(962).overrideAll,f=e(4467).templatedArray;e(4695),te.exports=r(f("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:i({},l.xref,{}),yref:i({},l.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:g.color,width:i({},g.width,{min:1,dflt:1}),dash:i({},s,{dflt:"dot"})}}),"arraydraw","from-root")},4122:function(te){te.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},9402:function(te,z,e){var l=e(1828),g=e(9298),s=e(5501),i=e(8389),r=e(477);te.exports=function(n,t){s(n,t,{name:"selections",handleItemDefaults:f});for(var u=t.selections,h=0;h<u.length;h++){var m=u[h];m&&m.path===void 0&&(m.x0===void 0||m.x1===void 0||m.y0===void 0||m.y1===void 0)&&(t.selections[h]=null)}};function f(o,n,t){function u(R,Z){return l.coerce(o,n,i,R,Z)}var h=u("path"),m=h?"path":"rect",y=u("type",m),d=y!=="path";d&&delete n.path,u("opacity"),u("line.color"),u("line.width"),u("line.dash");for(var T=["x","y"],x=0;x<2;x++){var M=T[x],c={_fullLayout:t},p,v,b,w=g.coerceRef(o,n,c,M);if(p=g.getFromId(c,w),p._selectionIndices.push(n._index),b=r.rangeToShapePosition(p),v=r.shapePositionToRange(p),d){var _=M+"0",k=M+"1",B=o[_],U=o[k];o[_]=v(o[_],!0),o[k]=v(o[k],!0),g.coercePosition(n,c,u,w,_),g.coercePosition(n,c,u,w,k);var L=n[_],O=n[k];L!==void 0&&O!==void 0&&(n[_]=b(L),n[k]=b(O),o[_]=B,o[k]=U)}}d&&l.noneOrAll(o,n,["x0","x1","y0","y1"])}},2485:function(te,z,e){var l=e(165).readPaths,g=e(2359),s=e(1873).clearOutlineControllers,i=e(7901),r=e(1424),f=e(4467).arrayEditor,o=e(477),n=o.getPathString;te.exports={draw:t,drawOne:h,activateLastSelection:d};function t(x){var M=x._fullLayout;s(x),M._selectionLayer.selectAll("path").remove();for(var c in M._plots){var p=M._plots[c].selectionLayer;p&&p.selectAll("path").remove()}for(var v=0;v<M.selections.length;v++)h(x,v)}function u(x){return x._context.editSelection}function h(x,M){x._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+M+'"]').remove();var c=o.makeSelectionsOptionsAndPlotinfo(x,M),p=c.options,v=c.plotinfo;if(!p._input)return;b(x._fullLayout._selectionLayer);function b(w){var _=n(x,p),k={"data-index":M,"fill-rule":"evenodd",d:_},B=p.opacity,U="rgba(0,0,0,0)",L=p.line.color||i.contrast(x._fullLayout.plot_bgcolor),O=p.line.width,R=p.line.dash;O||(O=5,R="solid");var Z=u(x)&&x._fullLayout._activeSelectionIndex===M;Z&&(U=x._fullLayout.activeselection.fillcolor,B=x._fullLayout.activeselection.opacity);for(var $=[],ie=1;ie>=0;ie--){var N=w.append("path").attr(k).style("opacity",ie?.1:B).call(i.stroke,L).call(i.fill,U).call(r.dashLine,ie?"solid":R,ie?4+O:O);if(m(N,x,p),Z){var F=f(x.layout,"selections",p);N.style({cursor:"move"});var G={element:N.node(),plotinfo:v,gd:x,editHelpers:F,isActiveSelection:!0},W=l(_,x);g(W,N,G)}else N.style("pointer-events",ie?"all":"none");$[ie]=N}var X=$[0],J=$[1];J.node().addEventListener("click",function(){return y(x,X)})}}function m(x,M,c){var p=c.xref+c.yref;r.setClipUrl(x,"clip"+M._fullLayout._uid+p,M)}function y(x,M){if(u(x)){var c=M.node(),p=+c.getAttribute("data-index");if(p>=0){if(p===x._fullLayout._activeSelectionIndex){T(x);return}x._fullLayout._activeSelectionIndex=p,x._fullLayout._deactivateSelection=T,t(x)}}}function d(x){if(u(x)){var M=x._fullLayout.selections.length-1;x._fullLayout._activeSelectionIndex=M,x._fullLayout._deactivateSelection=T,t(x)}}function T(x){if(u(x)){var M=x._fullLayout._activeSelectionIndex;M>=0&&(s(x),delete x._fullLayout._activeSelectionIndex,t(x))}}},3777:function(te,z,e){var l=e(9952).P,g=e(1426).extendFlat;te.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:g({},l,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},849:function(te){te.exports=function(e,l,g){g("newselection.mode");var s=g("newselection.line.width");s&&(g("newselection.line.color"),g("newselection.line.dash")),g("activeselection.fillcolor"),g("activeselection.opacity")}},5855:function(te,z,e){var l=e(4505),g=l.selectMode,s=e(1873),i=s.clearOutline,r=e(165),f=r.readPaths,o=r.writePaths,n=r.fixDatesForPaths;te.exports=function(u,h){if(u.length){var m=u[0][0];if(m){var y=m.getAttribute("d"),d=h.gd,T=d._fullLayout.newselection,x=h.plotinfo,M=x.xaxis,c=x.yaxis,p=h.isActiveSelection,v=h.dragmode,b=(d.layout||{}).selections||[];if(!g(v)&&p!==void 0){var w=d._fullLayout._activeSelectionIndex;if(w<b.length)switch(d._fullLayout.selections[w].type){case"rect":v="select";break;case"path":v="lasso";break}}var _=f(y,d,x,p),k={xref:M._id,yref:c._id,opacity:T.opacity,line:{color:T.line.color,width:T.line.width,dash:T.line.dash}},B;_.length===1&&(B=_[0]),B&&B.length===5&&v==="select"?(k.type="rect",k.x0=B[0][1],k.y0=B[0][2],k.x1=B[2][1],k.y1=B[2][2]):(k.type="path",M&&c&&n(_,M,c),k.path=o(_),B=null),i(d);for(var U=h.editHelpers,L=(U||{}).modifyItem,O=[],R=0;R<b.length;R++){var Z=d._fullLayout.selections[R];if(!Z){O[R]=Z;continue}if(O[R]=Z._input,p!==void 0&&R===d._fullLayout._activeSelectionIndex){var $=k;switch(Z.type){case"rect":L("x0",$.x0),L("x1",$.x1),L("y0",$.y0),L("y1",$.y1);break;case"path":L("path",$.path);break}}}return p===void 0?(O.push(k),O):U?U.getUpdateObj():{}}}}},5549:function(te,z,e){var l=e(1828).strTranslate;function g(f,o){switch(f.type){case"log":return f.p2d(o);case"date":return f.p2r(o,0,f.calendar);default:return f.p2r(o)}}function s(f,o){switch(f.type){case"log":return f.d2p(o);case"date":return f.r2p(o,0,f.calendar);default:return f.r2p(o)}}function i(f){var o=f._id.charAt(0)==="y"?1:0;return function(n){return g(f,n[o])}}function r(f){return l(f.xaxis._offset,f.yaxis._offset)}te.exports={p2r:g,r2p:s,axValue:i,getTransform:r}},7322:function(te,z,e){var l=e(2485),g=e(3937);te.exports={moduleType:"component",name:"selections",layoutAttributes:e(8389),supplyLayoutDefaults:e(9402),supplyDrawNewSelectionDefaults:e(849),includeBasePlot:e(6325)("selections"),draw:l.draw,drawOne:l.drawOne,reselect:g.reselect,prepSelect:g.prepSelect,clearOutline:g.clearOutline,clearSelectionsCache:g.clearSelectionsCache,selectOnClick:g.selectOnClick}},3937:function(te,z,e){var l=e(2142),g=e(8258),s=e(3972),i=e(1424).dashStyle,r=e(7901),f=e(211),o=e(3469).makeEventData,n=e(4505),t=n.freeMode,u=n.rectMode,h=n.drawMode,m=n.openMode,y=n.selectMode,d=e(477),T=e(1459),x=e(2359),M=e(1873).clearOutline,c=e(165),p=c.handleEllipse,v=c.readPaths,b=e(551).newShapes,w=e(5855),_=e(2485).activateLastSelection,k=e(1828),B=k.sorterAsc,U=e(1082),L=e(9990),O=e(1675).getFromId,R=e(3306),Z=e(1549).redrawReglTraces,$=e(4122),ie=$.MINSELECT,N=U.filter,F=U.tester,G=e(5549),W=G.p2r,X=G.axValue,J=G.getTransform;function ne(ke){return ke.subplot!==void 0}function ue(ke,Te,Re,Le,Oe){var le=!ne(Le),be=t(Oe),we=u(Oe),Se=m(Oe),ze=h(Oe),_e=y(Oe),ct=Oe==="drawline",lt=Oe==="drawcircle",$e=ct||lt,Ye=Le.gd,nt=Ye._fullLayout,wt=_e&&nt.newselection.mode==="immediate"&&le,Et=nt._zoomlayer,Ht=Le.element.getBoundingClientRect(),Wt=Le.plotinfo,Gt=J(Wt),Ct=Te-Ht.left,Vt=Re-Ht.top;nt._calcInverseTransform(Ye);var Bt=k.apply3DTransform(nt._invTransform)(Ct,Vt);Ct=Bt[0],Vt=Bt[1];var _t=nt._invScaleX,jt=nt._invScaleY,Yt=Ct,xt=Vt,Ot="M"+Ct+","+Vt,Ft=Le.xaxes[0],Xt=Le.yaxes[0],rr=Ft._length,sr=Xt._length,Ut=ke.altKey&&!(h(Oe)&&Se),re,q,He,Ie,Ue,We,Je;Y(ke,Ye,Le),be&&(re=N([[Ct,Vt]],$.BENDPX));var Ge=Et.selectAll("path.select-outline-"+Wt.id).data([1]),Be=ze?nt.newshape:nt.newselection;ze&&(Le.hasText=Be.label.text||Be.label.texttemplate);var qe=ze&&!Se?Be.fillcolor:"rgba(0,0,0,0)",rt=Be.line.color||(le?r.contrast(Ye._fullLayout.plot_bgcolor):"#7f7f7f");Ge.enter().append("path").attr("class","select-outline select-outline-"+Wt.id).style({opacity:ze?Be.opacity/2:1,"stroke-dasharray":i(Be.line.dash,Be.line.width),"stroke-width":Be.line.width+"px","shape-rendering":"crispEdges"}).call(r.stroke,rt).call(r.fill,qe).attr("fill-rule","evenodd").classed("cursor-move",!!ze).attr("transform",Gt).attr("d",Ot+"Z");var st=Et.append("path").attr("class","zoombox-corners").style({fill:r.background,stroke:r.defaultLine,"stroke-width":1}).attr("transform",Gt).attr("d","M0,0Z");if(ze&&Le.hasText){var at=Et.select(".label-temp");at.empty()&&(at=Et.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var pt=nt._uid+$.SELECTID,ht=[],ut=K(Ye,Le.xaxes,Le.yaxes,Le.subplot);wt&&!ke.shiftKey&&(Le._clearSubplotSelections=function(){if(le){var Lt=Ft._id,$t=Xt._id;je(Ye,Lt,$t,ut);for(var It=(Ye.layout||{}).selections||[],Kt=[],Rt=!1,zt=0;zt<It.length;zt++){var er=nt.selections[zt];er.xref!==Lt||er.yref!==$t?Kt.push(It[zt]):Rt=!0}Rt&&(Ye._fullLayout._noEmitSelectedAtStart=!0,s.call("_guiRelayout",Ye,{selections:Kt}))}});var Pt=Mt(Le);Le.moveFn=function(Lt,$t){Le._clearSubplotSelections&&(Le._clearSubplotSelections(),Le._clearSubplotSelections=void 0),Yt=Math.max(0,Math.min(rr,_t*Lt+Ct)),xt=Math.max(0,Math.min(sr,jt*$t+Vt));var It=Math.abs(Yt-Ct),Kt=Math.abs(xt-Vt);if(we){var Rt,zt,er;if(_e){var tr=nt.selectdirection;switch(tr==="any"?Kt<Math.min(It*.6,ie)?Rt="h":It<Math.min(Kt*.6,ie)?Rt="v":Rt="d":Rt=tr,Rt){case"h":zt=lt?sr/2:0,er=sr;break;case"v":zt=lt?rr/2:0,er=rr;break}}if(ze)switch(nt.newshape.drawdirection){case"vertical":Rt="h",zt=lt?sr/2:0,er=sr;break;case"horizontal":Rt="v",zt=lt?rr/2:0,er=rr;break;case"ortho":It<Kt?(Rt="h",zt=Vt,er=xt):(Rt="v",zt=Ct,er=Yt);break;default:Rt="d"}Rt==="h"?(Ie=$e?p(lt,[Yt,zt],[Yt,er]):[[Ct,zt],[Ct,er],[Yt,er],[Yt,zt]],Ie.xmin=$e?Yt:Math.min(Ct,Yt),Ie.xmax=$e?Yt:Math.max(Ct,Yt),Ie.ymin=Math.min(zt,er),Ie.ymax=Math.max(zt,er),st.attr("d","M"+Ie.xmin+","+(Vt-ie)+"h-4v"+2*ie+"h4ZM"+(Ie.xmax-1)+","+(Vt-ie)+"h4v"+2*ie+"h-4Z")):Rt==="v"?(Ie=$e?p(lt,[zt,xt],[er,xt]):[[zt,Vt],[zt,xt],[er,xt],[er,Vt]],Ie.xmin=Math.min(zt,er),Ie.xmax=Math.max(zt,er),Ie.ymin=$e?xt:Math.min(Vt,xt),Ie.ymax=$e?xt:Math.max(Vt,xt),st.attr("d","M"+(Ct-ie)+","+Ie.ymin+"v-4h"+2*ie+"v4ZM"+(Ct-ie)+","+(Ie.ymax-1)+"v4h"+2*ie+"v-4Z")):Rt==="d"&&(Ie=$e?p(lt,[Ct,Vt],[Yt,xt]):[[Ct,Vt],[Ct,xt],[Yt,xt],[Yt,Vt]],Ie.xmin=Math.min(Ct,Yt),Ie.xmax=Math.max(Ct,Yt),Ie.ymin=Math.min(Vt,xt),Ie.ymax=Math.max(Vt,xt),st.attr("d","M0,0Z"))}else be&&(re.addPt([Yt,xt]),Ie=re.filtered);if(Le.selectionDefs&&Le.selectionDefs.length?(He=me(Le.mergedPolygons,Ie,Ut),Ie.subtract=Ut,q=H(Le.selectionDefs.concat([Ie]))):(He=[Ie],q=F(Ie)),x(Ee(He,Se),Ge,Le),_e){var lr=xe(Ye,!1),mr=lr.eventData?lr.eventData.points.slice():[];lr=xe(Ye,!1,q,ut,Le),q=lr.selectionTesters,Je=lr.eventData;var or;re?or=re.filtered:or=it(He),L.throttle(pt,$.SELECTDELAY,function(){ht=Ae(q,ut);for(var fr=ht.slice(),hr=0;hr<mr.length;hr++){for(var yr=mr[hr],Mr=!1,Ar=0;Ar<fr.length;Ar++)if(fr[Ar].curveNumber===yr.curveNumber&&fr[Ar].pointNumber===yr.pointNumber){Mr=!0;break}Mr||fr.push(yr)}fr.length&&(Je||(Je={}),Je.points=fr),Pt(Je,or),Dt(Ye,Je)})}},Le.clickFn=function(Lt,$t){if(st.remove(),Ye._fullLayout._activeShapeIndex>=0){Ye._fullLayout._deactivateShape(Ye);return}if(!ze){var It=nt.clickmode;L.done(pt).then(function(){if(L.clear(pt),Lt===2){for(Ge.remove(),Ue=0;Ue<ut.length;Ue++)We=ut[Ue],We._module.selectPoints(We,!1);if(De(Ye,ut),I(Le),At(Ye),ut.length){var Kt=ut[0].xaxis,Rt=ut[0].yaxis;if(Kt&&Rt){for(var zt=[],er=Ye._fullLayout.selections,tr=0;tr<er.length;tr++){var lr=er[tr];lr&&(lr.xref!==Kt._id||lr.yref!==Rt._id)&&zt.push(lr)}zt.length<er.length&&(Ye._fullLayout._noEmitSelectedAtStart=!0,s.call("_guiRelayout",Ye,{selections:zt}))}}}else It.indexOf("select")>-1&&ye($t,Ye,Le.xaxes,Le.yaxes,Le.subplot,Le,Ge),It==="event"&&St(Ye,void 0);f.click(Ye,$t,Wt.id)}).catch(k.error)}},Le.doneFn=function(){st.remove(),L.done(pt).then(function(){L.clear(pt),!wt&&Ie&&Le.selectionDefs&&(Ie.subtract=Ut,Le.selectionDefs.push(Ie),Le.mergedPolygons.length=0,[].push.apply(Le.mergedPolygons,He)),(wt||ze)&&I(Le,wt),Le.doneFnCompleted&&Le.doneFnCompleted(ht),_e&&St(Ye,Je)}).catch(k.error)}}function ye(ke,Te,Re,Le,Oe,le,be){var we=Te._hoverdata,Se=Te._fullLayout,ze=Se.clickmode,_e=ze.indexOf("event")>-1,ct=[],lt,$e,Ye,nt,wt,Et,Ht,Wt,Gt,Ct;if(j(we)){Y(ke,Te,le),lt=K(Te,Re,Le,Oe);var Vt=ae(we,lt),Bt=Vt.pointNumbers.length>0;if(Bt?de(lt,Vt):Ce(lt)&&(Ht=fe(Vt))){for(be&&be.remove(),Ct=0;Ct<lt.length;Ct++)$e=lt[Ct],$e._module.selectPoints($e,!1);De(Te,lt),I(le),_e&&At(Te)}else{Wt=ke.shiftKey&&(Ht!==void 0?Ht:fe(Vt)),Ye=Me(Vt.pointNumber,Vt.searchInfo,Wt);var _t=le.selectionDefs.concat([Ye]);for(nt=H(_t),Ct=0;Ct<lt.length;Ct++)if(wt=lt[Ct]._module.selectPoints(lt[Ct],nt),Et=pe(wt,lt[Ct]),ct.length)for(var jt=0;jt<Et.length;jt++)ct.push(Et[jt]);else ct=Et;if(Gt={points:ct},De(Te,lt,Gt),Ye&&le&&le.selectionDefs.push(Ye),be){var Yt=le.mergedPolygons,xt=m(le.dragmode);x(Ee(Yt,xt),be,le)}_e&&St(Te,Gt)}}}function Me(ke,Te,Re){return{pointNumber:ke,searchInfo:Te,subtract:!!Re}}function oe(ke){return"pointNumber"in ke&&"searchInfo"in ke}function ve(ke){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(Te,Re,Le,Oe){var le=ke.searchInfo.cd[0].trace._expandedIndex,be=Oe.cd[0].trace._expandedIndex;return be===le&&Le===ke.pointNumber},isRect:!1,degenerate:!1,subtract:!!ke.subtract}}function H(ke){if(!ke.length)return;for(var Te=[],Re=oe(ke[0])?0:ke[0][0][0],Le=Re,Oe=oe(ke[0])?0:ke[0][0][1],le=Oe,be=0;be<ke.length;be++)if(oe(ke[be]))Te.push(ve(ke[be]));else{var we=F(ke[be]);we.subtract=!!ke[be].subtract,Te.push(we),Re=Math.min(Re,we.xmin),Le=Math.max(Le,we.xmax),Oe=Math.min(Oe,we.ymin),le=Math.max(le,we.ymax)}function Se(ze,_e,ct,lt){for(var $e=!1,Ye=0;Ye<Te.length;Ye++)Te[Ye].contains(ze,_e,ct,lt)&&($e=!Te[Ye].subtract);return $e}return{xmin:Re,xmax:Le,ymin:Oe,ymax:le,pts:[],contains:Se,isRect:!1,degenerate:!1}}function Y(ke,Te,Re){var Le=Te._fullLayout,Oe=Re.plotinfo,le=Re.dragmode,be=Le._lastSelectedSubplot&&Le._lastSelectedSubplot===Oe.id,we=(ke.shiftKey||ke.altKey)&&!(h(le)&&m(le));be&&we&&Oe.selection&&Oe.selection.selectionDefs&&!Re.selectionDefs?(Re.selectionDefs=Oe.selection.selectionDefs,Re.mergedPolygons=Oe.selection.mergedPolygons):(!we||!Oe.selection)&&I(Re),be||(M(Te),Le._lastSelectedSubplot=Oe.id)}function S(ke){return ke._fullLayout._activeShapeIndex>=0}function E(ke){return ke._fullLayout._activeSelectionIndex>=0}function I(ke,Te){var Re=ke.dragmode,Le=ke.plotinfo,Oe=ke.gd;S(Oe)&&Oe._fullLayout._deactivateShape(Oe),E(Oe)&&Oe._fullLayout._deactivateSelection(Oe);var le=Oe._fullLayout,be=le._zoomlayer,we=h(Re),Se=y(Re);if(we||Se){var ze=be.selectAll(".select-outline-"+Le.id);if(ze&&Oe._fullLayout._outlining){var _e;we&&(_e=b(ze,ke)),_e&&s.call("_guiRelayout",Oe,{shapes:_e});var ct;Se&&!ne(ke)&&(ct=w(ze,ke)),ct&&(Oe._fullLayout._noEmitSelectedAtStart=!0,s.call("_guiRelayout",Oe,{selections:ct}).then(function(){Te&&_(Oe)})),Oe._fullLayout._outlining=!1}}Le.selection={},Le.selection.selectionDefs=ke.selectionDefs=[],Le.selection.mergedPolygons=ke.mergedPolygons=[]}function C(ke){return ke._id}function K(ke,Te,Re,Le){if(!ke.calcdata)return[];var Oe=[],le=Te.map(C),be=Re.map(C),we,Se,ze;for(ze=0;ze<ke.calcdata.length;ze++)if(we=ke.calcdata[ze],Se=we[0].trace,!(Se.visible!==!0||!Se._module||!Se._module.selectPoints))if(ne({subplot:Le})&&(Se.subplot===Le||Se.geo===Le))Oe.push(P(Se._module,we,Te[0],Re[0]));else if(Se.type==="splom"){if(Se._xaxes[le[0]]&&Se._yaxes[be[0]]){var _e=P(Se._module,we,Te[0],Re[0]);_e.scene=ke._fullLayout._splomScenes[Se.uid],Oe.push(_e)}}else if(Se.type==="sankey"){var ct=P(Se._module,we,Te[0],Re[0]);Oe.push(ct)}else{if(le.indexOf(Se.xaxis)===-1||be.indexOf(Se.yaxis)===-1)continue;Oe.push(P(Se._module,we,O(ke,Se.xaxis),O(ke,Se.yaxis)))}return Oe}function P(ke,Te,Re,Le){return{_module:ke,cd:Te,xaxis:Re,yaxis:Le}}function j(ke){return ke&&Array.isArray(ke)&&ke[0].hoverOnBox!==!0}function ae(ke,Te){var Re=ke[0],Le=-1,Oe=[],le,be;for(be=0;be<Te.length;be++)if(le=Te[be],Re.fullData._expandedIndex===le.cd[0].trace._expandedIndex){if(Re.hoverOnBox===!0)break;Re.pointNumber!==void 0?Le=Re.pointNumber:Re.binNumber!==void 0&&(Le=Re.binNumber,Oe=Re.pointNumbers);break}return{pointNumber:Le,pointNumbers:Oe,searchInfo:le}}function fe(ke){var Te=ke.searchInfo.cd[0].trace,Re=ke.pointNumber,Le=ke.pointNumbers,Oe=Le.length>0,le=Oe?Le[0]:Re;return Te.selectedpoints?Te.selectedpoints.indexOf(le)>-1:!1}function de(ke,Te){var Re=[],Le,Oe,le,be;for(be=0;be<ke.length;be++)Le=ke[be],Le.cd[0].trace.selectedpoints&&Le.cd[0].trace.selectedpoints.length>0&&Re.push(Le);if(Re.length===1&&(le=Re[0]===Te.searchInfo,le&&(Oe=Te.searchInfo.cd[0].trace,Oe.selectedpoints.length===Te.pointNumbers.length))){for(be=0;be<Te.pointNumbers.length;be++)if(Oe.selectedpoints.indexOf(Te.pointNumbers[be])<0)return!1;return!0}return!1}function Ce(ke){var Te=0,Re,Le,Oe;for(Oe=0;Oe<ke.length;Oe++)if(Re=ke[Oe],Le=Re.cd[0].trace,Le.selectedpoints&&(Le.selectedpoints.length>1||(Te+=Le.selectedpoints.length,Te>1)))return!1;return Te===1}function De(ke,Te,Re){var Le;for(Le=0;Le<Te.length;Le++){var Oe=Te[Le].cd[0].trace._fullInput,le=ke._fullLayout._tracePreGUI[Oe.uid]||{};le.selectedpoints===void 0&&(le.selectedpoints=Oe._input.selectedpoints||null)}var be;if(Re){var we=Re.points||[];for(Le=0;Le<Te.length;Le++)be=Te[Le].cd[0].trace,be._input.selectedpoints=be._fullInput.selectedpoints=[],be._fullInput!==be&&(be.selectedpoints=[]);for(var Se=0;Se<we.length;Se++){var ze=we[Se],_e=ze.data,ct=ze.fullData,lt=ze.pointIndex,$e=ze.pointIndices;$e?([].push.apply(_e.selectedpoints,$e),be._fullInput!==be&&[].push.apply(ct.selectedpoints,$e)):(_e.selectedpoints.push(lt),be._fullInput!==be&&ct.selectedpoints.push(lt))}}else for(Le=0;Le<Te.length;Le++)be=Te[Le].cd[0].trace,delete be.selectedpoints,delete be._input.selectedpoints,be._fullInput!==be&&delete be._fullInput.selectedpoints;ce(ke,Te)}function ce(ke,Te){for(var Re=!1,Le=0;Le<Te.length;Le++){var Oe=Te[Le],le=Oe.cd;s.traceIs(le[0].trace,"regl")&&(Re=!0);var be=Oe._module,we=be.styleOnSelect||be.style;we&&(we(ke,le,le[0].node3),le[0].nodeRangePlot3&&we(ke,le,le[0].nodeRangePlot3))}Re&&(R(ke),Z(ke))}function me(ke,Te,Re){for(var Le=Re?l.difference:l.union,Oe=Le({regions:ke},{regions:[Te]}),le=Oe.regions.reverse(),be=0;be<le.length;be++){var we=le[be];we.subtract=bt(we,le.slice(0,be))}return le}function pe(ke,Te){if(Array.isArray(ke))for(var Re=Te.cd,Le=Te.cd[0].trace,Oe=0;Oe<ke.length;Oe++)ke[Oe]=o(ke[Oe],Le,Re);return ke}function Ee(ke,Te){for(var Re=[],Le=0;Le<ke.length;Le++){Re[Le]=[];for(var Oe=0;Oe<ke[Le].length;Oe++){Re[Le][Oe]=[],Re[Le][Oe][0]=Oe?"L":"M";for(var le=0;le<ke[Le][Oe].length;le++)Re[Le][Oe].push(ke[Le][Oe][le])}Te||Re[Le].push(["Z",Re[Le][0][1],Re[Le][0][2]])}return Re}function Ae(ke,Te){for(var Re=[],Le,Oe,le=0;le<Te.length;le++){var be=Te[le];Oe=be._module.selectPoints(be,ke),Le=pe(Oe,be),Re=Re.concat(Le)}return Re}function xe(ke,Te,Re,Le,Oe){var le=!!Le,be,we,Se;Oe&&(be=Oe.plotinfo,we=Oe.xaxes[0]._id,Se=Oe.yaxes[0]._id);var ze=[],_e=[],ct=dt(ke),lt=ke._fullLayout;if(be){var $e=lt._zoomlayer,Ye=lt.dragmode,nt=h(Ye),wt=y(Ye);if(nt||wt){var Et=O(ke,we,"x"),Ht=O(ke,Se,"y");if(Et&&Ht){var Wt=$e.selectAll(".select-outline-"+be.id);if(Wt&&ke._fullLayout._outlining&&Wt.length){for(var Gt=Wt[0][0],Ct=Gt.getAttribute("d"),Vt=v(Ct,ke,be),Bt=[],_t=0;_t<Vt.length;_t++){for(var jt=Vt[_t],Yt=[],xt=0;xt<jt.length;xt++)Yt.push([Tt(Et,jt[xt][1]),Tt(Ht,jt[xt][2])]);Yt.xref=we,Yt.yref=Se,Yt.subtract=bt(Yt,Bt),Bt.push(Yt)}ct=ct.concat(Bt)}}}}var Ot=we&&Se?[we+Se]:lt._subplots.cartesian;Fe(ke);for(var Ft={},Xt=0;Xt<Ot.length;Xt++){var rr=Ot[Xt],sr=rr.indexOf("y"),Ut=rr.slice(0,sr),re=rr.slice(sr),q=we&&Se?Re:void 0;if(q=Ve(ct,Ut,re,q),q){var He=Le;if(!le){var Ie=O(ke,Ut,"x"),Ue=O(ke,re,"y");He=K(ke,[Ie],[Ue],rr);for(var We=0;We<He.length;We++){var Je=He[We],Ge=Je.cd[0],Be=Ge.trace;if(Je._module.name==="scattergl"&&!Ge.t.xpx){var qe=Be.x,rt=Be.y,st=Be._length;Ge.t.xpx=[],Ge.t.ypx=[];for(var at=0;at<st;at++)Ge.t.xpx[at]=Ie.c2p(qe[at]),Ge.t.ypx[at]=Ue.c2p(rt[at])}Je._module.name==="splom"&&(Ft[Be.uid]||(Ft[Be.uid]=!0))}}var pt=Ae(q,He);ze=ze.concat(pt),_e=_e.concat(He)}}var ht={points:ze};De(ke,_e,ht);var ut=lt.clickmode,Pt=ut.indexOf("event")>-1&&Te;if(!be&&Te){var Lt=dt(ke,!0);if(Lt.length){var $t=Lt[0].xref,It=Lt[0].yref;if($t&&It){var Kt=it(Lt),Rt=tt([O(ke,$t,"x"),O(ke,It,"y")]);Rt(ht,Kt)}}ke._fullLayout._noEmitSelectedAtStart?ke._fullLayout._noEmitSelectedAtStart=!1:Pt&&St(ke,ht),lt._reselect=!1}if(!be&&lt._deselect){var zt=lt._deselect;we=zt.xref,Se=zt.yref,Ke(we,Se,_e)||je(ke,we,Se,Le),Pt&&(ht.points.length?St(ke,ht):At(ke)),lt._deselect=!1}return{eventData:ht,selectionTesters:Re}}function Fe(ke){var Te=ke.calcdata;if(Te)for(var Re=0;Re<Te.length;Re++){var Le=Te[Re][0],Oe=Le.trace,le=ke._fullLayout._splomScenes;if(le){var be=le[Oe.uid];be&&(be.selectBatch=[])}}}function Ke(ke,Te,Re){for(var Le=0;Le<Re.length;Le++){var Oe=Re[Le];if(Oe.xaxis&&Oe.xaxis._id===ke&&Oe.yaxis&&Oe.yaxis._id===Te)return!0}return!1}function je(ke,Te,Re,Le){Le=K(ke,[O(ke,Te,"x")],[O(ke,Re,"y")],Te+Re);for(var Oe=0;Oe<Le.length;Oe++){var le=Le[Oe];le._module.selectPoints(le,!1)}De(ke,Le)}function Ve(ke,Te,Re,Le){for(var Oe,le=0;le<ke.length;le++){var be=ke[le];if(!(Te!==be.xref||Re!==be.yref))if(Oe){var we=!!be.subtract;Oe=me(Oe,be,we),Le=H(Oe)}else Oe=[be],Le=F(be)}return Le}function dt(ke,Te){for(var Re=[],Le=ke._fullLayout,Oe=Le.selections,le=Oe.length,be=0;be<le;be++)if(!(Te&&be!==Le._activeSelectionIndex)){var we=Oe[be];if(we){var Se=we.xref,ze=we.yref,_e=O(ke,Se,"x"),ct=O(ke,ze,"y"),lt,$e,Ye,nt,wt;if(we.type==="rect"){wt=[];var Et=Tt(_e,we.x0),Ht=Tt(_e,we.x1),Wt=Tt(ct,we.y0),Gt=Tt(ct,we.y1);wt=[[Et,Wt],[Et,Gt],[Ht,Gt],[Ht,Wt]],lt=Math.min(Et,Ht),$e=Math.max(Et,Ht),Ye=Math.min(Wt,Gt),nt=Math.max(Wt,Gt),wt.xmin=lt,wt.xmax=$e,wt.ymin=Ye,wt.ymax=nt,wt.xref=Se,wt.yref=ze,wt.subtract=!1,wt.isRect=!0,Re.push(wt)}else if(we.type==="path")for(var Ct=we.path.split("Z"),Vt=[],Bt=0;Bt<Ct.length;Bt++){var _t=Ct[Bt];if(_t){_t+="Z";var jt=d.extractPathCoords(_t,T.paramIsX,"raw"),Yt=d.extractPathCoords(_t,T.paramIsY,"raw");lt=1/0,$e=-1/0,Ye=1/0,nt=-1/0,wt=[];for(var xt=0;xt<jt.length;xt++){var Ot=Tt(_e,jt[xt]),Ft=Tt(ct,Yt[xt]);wt.push([Ot,Ft]),lt=Math.min(Ot,lt),$e=Math.max(Ot,$e),Ye=Math.min(Ft,Ye),nt=Math.max(Ft,nt)}wt.xmin=lt,wt.xmax=$e,wt.ymin=Ye,wt.ymax=nt,wt.xref=Se,wt.yref=ze,wt.subtract=bt(wt,Vt),Vt.push(wt),Re.push(wt)}}}}return Re}function bt(ke,Te){for(var Re=!1,Le=0;Le<Te.length;Le++)for(var Oe=Te[Le],le=0;le<ke.length;le++)if(g(ke[le],Oe)){Re=!Re;break}return Re}function Tt(ke,Te){return ke.type==="date"&&(Te=Te.replace("_"," ")),ke.type==="log"?ke.c2p(Te):ke.r2p(Te,null,ke.calendar)}function it(ke){for(var Te=ke.length,Re=[],Le=0;Le<Te;Le++){var Oe=ke[Le];Re=Re.concat(Oe),Re=Re.concat([Oe[0]])}return kt(Re)}function kt(ke){return ke.isRect=ke.length===5&&ke[0][0]===ke[4][0]&&ke[0][1]===ke[4][1]&&ke[0][0]===ke[1][0]&&ke[2][0]===ke[3][0]&&ke[0][1]===ke[3][1]&&ke[1][1]===ke[2][1]||ke[0][1]===ke[1][1]&&ke[2][1]===ke[3][1]&&ke[0][0]===ke[3][0]&&ke[1][0]===ke[2][0],ke.isRect&&(ke.xmin=Math.min(ke[0][0],ke[2][0]),ke.xmax=Math.max(ke[0][0],ke[2][0]),ke.ymin=Math.min(ke[0][1],ke[2][1]),ke.ymax=Math.max(ke[0][1],ke[2][1])),ke}function tt(ke){return function(Te,Re){for(var Le,Oe,le=0;le<ke.length;le++){var be=ke[le],we=be._id,Se=we.charAt(0);if(Re.isRect){Le||(Le={});var ze=Re[Se+"min"],_e=Re[Se+"max"];ze!==void 0&&_e!==void 0&&(Le[we]=[W(be,ze),W(be,_e)].sort(B))}else Oe||(Oe={}),Oe[we]=Re.map(X(be))}Le&&(Te.range=Le),Oe&&(Te.lassoPoints=Oe)}}function Mt(ke){var Te=ke.plotinfo;return Te.fillRangeItems||tt(ke.xaxes.concat(ke.yaxes))}function Dt(ke,Te){ke.emit("plotly_selecting",Te)}function St(ke,Te){Te&&(Te.selections=(ke.layout||{}).selections||[]),ke.emit("plotly_selected",Te)}function At(ke){ke.emit("plotly_deselect",null)}te.exports={reselect:xe,prepSelect:ue,clearOutline:M,clearSelectionsCache:I,selectOnClick:ye}},9827:function(te,z,e){var l=e(215),g=e(1940),s=e(2196).line,i=e(9952).P,r=e(1426).extendFlat,f=e(4467).templatedArray;e(4695);var o=e(9012),n=e(5386).R,t=e(7281);te.exports=f("shape",{visible:r({},o.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:r({},o.legend,{editType:"calc+arraydraw"}),legendgroup:r({},o.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:r({},o.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:g({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:r({},o.legendrank,{editType:"calc+arraydraw"}),legendwidth:r({},o.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:r({},l.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:r({},l.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:r({},s.color,{editType:"arraydraw"}),width:r({},s.width,{editType:"calc+arraydraw"}),dash:r({},i,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:n({},{keys:Object.keys(t)}),font:g({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},5627:function(te,z,e){var l=e(1828),g=e(9298),s=e(1459),i=e(477);te.exports=function(u){var h=u._fullLayout,m=l.filterVisible(h.shapes);if(!(!m.length||!u._fullData.length))for(var y=0;y<m.length;y++){var d=m[y];d._extremes={};var T,x,M=g.getRefType(d.xref),c=g.getRefType(d.yref);if(d.xref!=="paper"&&M!=="domain"){var p=d.xsizemode==="pixel"?d.xanchor:d.x0,v=d.xsizemode==="pixel"?d.xanchor:d.x1;T=g.getFromId(u,d.xref),x=n(T,p,v,d.path,s.paramIsX),x&&(d._extremes[T._id]=g.findExtremes(T,x,r(d)))}if(d.yref!=="paper"&&c!=="domain"){var b=d.ysizemode==="pixel"?d.yanchor:d.y0,w=d.ysizemode==="pixel"?d.yanchor:d.y1;T=g.getFromId(u,d.yref),x=n(T,b,w,d.path,s.paramIsY),x&&(d._extremes[T._id]=g.findExtremes(T,x,f(d)))}}};function r(t){return o(t.line.width,t.xsizemode,t.x0,t.x1,t.path,!1)}function f(t){return o(t.line.width,t.ysizemode,t.y0,t.y1,t.path,!0)}function o(t,u,h,m,y,d){var T=t/2,x=d;if(u==="pixel"){var M=y?i.extractPathCoords(y,d?s.paramIsY:s.paramIsX):[h,m],c=l.aggNums(Math.max,null,M),p=l.aggNums(Math.min,null,M),v=p<0?Math.abs(p)+T:T,b=c>0?c+T:T;return{ppad:T,ppadplus:x?v:b,ppadminus:x?b:v}}else return{ppad:T}}function n(t,u,h,m,y){var d=t.type==="category"||t.type==="multicategory"?t.r2c:t.d2c;if(u!==void 0)return[d(u),d(h)];if(m){var T=1/0,x=-1/0,M=m.match(s.segmentRE),c,p,v,b,w;for(t.type==="date"&&(d=i.decodeDate(d)),c=0;c<M.length;c++)p=M[c],v=y[p.charAt(0)].drawn,v!==void 0&&(b=M[c].substr(1).match(s.paramRE),!(!b||b.length<v)&&(w=d(b[v]),w<T&&(T=w),w>x&&(x=w)));if(x>=T)return[T,x]}}},1459:function(te){te.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},4726:function(te,z,e){var l=e(1828),g=e(9298),s=e(5501),i=e(9827),r=e(477);te.exports=function(t,u){s(t,u,{name:"shapes",handleItemDefaults:o})};function f(n,t){return n?"bottom":t.indexOf("top")!==-1?"top":t.indexOf("bottom")!==-1?"bottom":"middle"}function o(n,t,u){function h(oe,ve){return l.coerce(n,t,i,oe,ve)}t._isShape=!0;var m=h("visible");if(m){var y=h("showlegend");y&&(h("legend"),h("legendwidth"),h("legendgroup"),h("legendgrouptitle.text"),l.coerceFont(h,"legendgrouptitle.font"),h("legendrank"));var d=h("path"),T=d?"path":"rect",x=h("type",T),M=x!=="path";M&&delete t.path,h("editable"),h("layer"),h("opacity"),h("fillcolor"),h("fillrule");var c=h("line.width");c&&(h("line.color"),h("line.dash"));for(var p=h("xsizemode"),v=h("ysizemode"),b=["x","y"],w=0;w<2;w++){var _=b[w],k=_+"anchor",B=_==="x"?p:v,U={_fullLayout:u},L,O,R,Z=g.coerceRef(n,t,U,_,void 0,"paper"),$=g.getRefType(Z);if($==="range"?(L=g.getFromId(U,Z),L._shapeIndices.push(t._index),R=r.rangeToShapePosition(L),O=r.shapePositionToRange(L)):O=R=l.identity,M){var ie=.25,N=.75,F=_+"0",G=_+"1",W=n[F],X=n[G];n[F]=O(n[F],!0),n[G]=O(n[G],!0),B==="pixel"?(h(F,0),h(G,10)):(g.coercePosition(t,U,h,Z,F,ie),g.coercePosition(t,U,h,Z,G,N)),t[F]=R(t[F]),t[G]=R(t[G]),n[F]=W,n[G]=X}if(B==="pixel"){var J=n[k];n[k]=O(n[k],!0),g.coercePosition(t,U,h,Z,k,.25),t[k]=R(t[k]),n[k]=J}}M&&l.noneOrAll(n,t,["x0","x1","y0","y1"]);var ne=x==="line",ue,ye;if(M&&(ue=h("label.texttemplate")),ue||(ye=h("label.text")),ye||ue){h("label.textangle");var Me=h("label.textposition",ne?"middle":"middle center");h("label.xanchor"),h("label.yanchor",f(ne,Me)),h("label.padding"),l.coerceFont(h,"label.font",u.font)}}}},8100:function(te,z,e){var l=e(1828),g=e(9298),s=e(3893),i=e(1424),r=e(165).readPaths,f=e(477),o=f.getPathString,n=e(7281),t=e(8783).FROM_TL;te.exports=function(y,d,T,x){if(x.selectAll(".shape-label").remove(),!!(T.label.text||T.label.texttemplate)){var M;if(T.label.texttemplate){var c={};if(T.type!=="path"){var p=g.getFromId(y,T.xref),v=g.getFromId(y,T.yref);for(var b in n){var w=n[b](T,p,v);w!==void 0&&(c[b]=w)}}M=l.texttemplateStringForShapes(T.label.texttemplate,{},y._fullLayout._d3locale,c)}else M=T.label.text;var _={"data-index":d},k=T.label.font,B={"data-notex":1},U=x.append("g").attr(_).classed("shape-label",!0),L=U.append("text").attr(B).classed("shape-label-text",!0).text(M),O,R,Z,$;if(T.path){var ie=o(y,T),N=r(ie,y);O=1/0,Z=1/0,R=-1/0,$=-1/0;for(var F=0;F<N.length;F++)for(var G=0;G<N[F].length;G++)for(var W=N[F][G],X=1;X<W.length;X+=2){var J=W[X],ne=W[X+1];O=Math.min(O,J),R=Math.max(R,J),Z=Math.min(Z,ne),$=Math.max($,ne)}}else{var ue=g.getFromId(y,T.xref),ye=g.getRefType(T.xref),Me=g.getFromId(y,T.yref),oe=g.getRefType(T.yref),ve=f.getDataToPixel(y,ue,!1,ye),H=f.getDataToPixel(y,Me,!0,oe);O=ve(T.x0),R=ve(T.x1),Z=H(T.y0),$=H(T.y1)}var Y=T.label.textangle;Y==="auto"&&(T.type==="line"?Y=u(O,Z,R,$):Y=0),L.call(function(P){return P.call(i.font,k).attr({}),s.convertToTspans(P,y),P});var S=i.bBox(L.node()),E=h(O,Z,R,$,T,Y,S),I=E.textx,C=E.texty,K=E.xanchor;L.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[K],y:C,x:I,transform:"rotate("+Y+","+I+","+C+")"}).call(s.positionText,I,C)}};function u(m,y,d,T){var x,M;return M=Math.abs(d-m),d>=m?x=y-T:x=T-y,-180/Math.PI*Math.atan2(x,M)}function h(m,y,d,T,x,M,c){var p=x.label.textposition,v=x.label.textangle,b=x.label.padding,w=x.type,_=Math.PI/180*M,k=Math.sin(_),B=Math.cos(_),U=x.label.xanchor,L=x.label.yanchor,O,R,Z,$;if(w==="line"){p==="start"?(O=m,R=y):p==="end"?(O=d,R=T):(O=(m+d)/2,R=(y+T)/2),U==="auto"&&(p==="start"?v==="auto"?d>m?U="left":d<m?U="right":U="center":d>m?U="right":d<m?U="left":U="center":p==="end"?v==="auto"?d>m?U="right":d<m?U="left":U="center":d>m?U="left":d<m?U="right":U="center":U="center");var ie={left:1,center:0,right:-1},N={bottom:-1,middle:0,top:1};if(v==="auto"){var F=N[L];Z=-b*k*F,$=b*B*F}else{var G=ie[U],W=N[L];Z=b*G,$=b*W}O=O+Z,R=R+$}else Z=b+3,p.indexOf("right")!==-1?(O=Math.max(m,d)-Z,U==="auto"&&(U="right")):p.indexOf("left")!==-1?(O=Math.min(m,d)+Z,U==="auto"&&(U="left")):(O=(m+d)/2,U==="auto"&&(U="center")),p.indexOf("top")!==-1?R=Math.min(y,T):p.indexOf("bottom")!==-1?R=Math.max(y,T):R=(y+T)/2,$=b,L==="bottom"?R=R-$:L==="top"&&(R=R+$);var X=t[L],J=x.label.font.size,ne=c.height,ue=(ne*X-J)*k,ye=-(ne*X-J)*B;return{textx:O+ue,texty:R+ye,xanchor:U}}},2359:function(te,z,e){var l=e(1828),g=l.strTranslate,s=e(8569),i=e(4505),r=i.drawMode,f=i.selectMode,o=e(3972),n=e(7901),t=e(9995),u=t.i000,h=t.i090,m=t.i180,y=t.i270,d=e(1873),T=d.clearOutlineControllers,x=e(165),M=x.pointsOnRectangle,c=x.pointsOnEllipse,p=x.writePaths,v=e(551).newShapes,b=e(551).createShapeObj,w=e(5855),_=e(8100);te.exports=function L(O,R,Z,$){$||($=0);var ie=Z.gd;function N(){L(O,R,Z,$++),(c(O[0])||Z.hasText)&&F({redrawing:!0})}function F(me){var pe={};Z.isActiveShape!==void 0&&(Z.isActiveShape=!1,pe=v(R,Z)),Z.isActiveSelection!==void 0&&(Z.isActiveSelection=!1,pe=w(R,Z),ie._fullLayout._reselect=!0),Object.keys(pe).length&&o.call((me||{}).redrawing?"relayout":"_guiRelayout",ie,pe)}var G=ie._fullLayout,W=G._zoomlayer,X=Z.dragmode,J=r(X),ne=f(X);(J||ne)&&(ie._fullLayout._outlining=!0),T(ie),R.attr("d",p(O));var ue,ye,Me,oe,ve;if(!$&&(Z.isActiveShape||Z.isActiveSelection)){ve=k([],O);var H=W.append("g").attr("class","outline-controllers");j(H),ce()}if(J&&Z.hasText){var Y=W.select(".label-temp"),S=b(R,Z,Z.dragmode);_(ie,"label-temp",S,Y)}function E(me){Me=+me.srcElement.getAttribute("data-i"),oe=+me.srcElement.getAttribute("data-j"),ue[Me][oe].moveFn=I}function I(me,pe){if(O.length){var Ee=ve[Me][oe][1],Ae=ve[Me][oe][2],xe=O[Me],Fe=xe.length;if(M(xe)){var Ke=me,je=pe;if(Z.isActiveSelection){var Ve=B(xe,oe);Ve[1]===xe[oe][1]?je=0:Ke=0}for(var dt=0;dt<Fe;dt++)if(dt!==oe){var bt=xe[dt];bt[1]===xe[oe][1]&&(bt[1]=Ee+Ke),bt[2]===xe[oe][2]&&(bt[2]=Ae+je)}if(xe[oe][1]=Ee+Ke,xe[oe][2]=Ae+je,!M(xe))for(var Tt=0;Tt<Fe;Tt++)for(var it=0;it<xe[Tt].length;it++)xe[Tt][it]=ve[Me][Tt][it]}else xe[oe][1]=Ee+me,xe[oe][2]=Ae+pe;N()}}function C(){F()}function K(){if(O.length&&O[Me]&&O[Me].length){for(var me=[],pe=0;pe<O[Me].length;pe++)pe!==oe&&me.push(O[Me][pe]);me.length>1&&!(me.length===2&&me[1][0]==="Z")&&(oe===0&&(me[0][0]="M"),O[Me]=me,N(),F())}}function P(me,pe){if(me===2){Me=+pe.srcElement.getAttribute("data-i"),oe=+pe.srcElement.getAttribute("data-j");var Ee=O[Me];!M(Ee)&&!c(Ee)&&K()}}function j(me){ue=[];for(var pe=0;pe<O.length;pe++){var Ee=O[pe],Ae=M(Ee),xe=!Ae&&c(Ee);ue[pe]=[];for(var Fe=Ee.length,Ke=0;Ke<Fe;Ke++)if(Ee[Ke][0]!=="Z"&&!(xe&&Ke!==u&&Ke!==h&&Ke!==m&&Ke!==y)){var je=Ae&&Z.isActiveSelection,Ve;je&&(Ve=B(Ee,Ke));var dt=Ee[Ke][1],bt=Ee[Ke][2],Tt=me.append(je?"rect":"circle").attr("data-i",pe).attr("data-j",Ke).style({fill:n.background,stroke:n.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(je){var it=Ve[1]-dt,kt=Ve[2]-bt,tt=kt?5:Math.max(Math.min(25,Math.abs(it)-5),5),Mt=it?5:Math.max(Math.min(25,Math.abs(kt)-5),5);Tt.classed(kt?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",tt).attr("height",Mt).attr("x",dt-tt/2).attr("y",bt-Mt/2).attr("transform",g(it/2,kt/2))}else Tt.classed("cursor-grab",!0).attr("r",5).attr("cx",dt).attr("cy",bt);ue[pe][Ke]={element:Tt.node(),gd:ie,prepFn:E,doneFn:C,clickFn:P},s.init(ue[pe][Ke])}}}function ae(me,pe){if(O.length)for(var Ee=0;Ee<O.length;Ee++)for(var Ae=0;Ae<O[Ee].length;Ae++)for(var xe=0;xe+2<O[Ee][Ae].length;xe+=2)O[Ee][Ae][xe+1]=ve[Ee][Ae][xe+1]+me,O[Ee][Ae][xe+2]=ve[Ee][Ae][xe+2]+pe}function fe(me,pe){ae(me,pe),N()}function de(me){Me=+me.srcElement.getAttribute("data-i"),Me||(Me=0),ye[Me].moveFn=fe}function Ce(){F()}function De(me){me===2&&U(ie)}function ce(){if(ye=[],!!O.length){var me=0;ye[me]={element:R[0][0],gd:ie,prepFn:de,doneFn:Ce,clickFn:De},s.init(ye[me])}}};function k(L,O){for(var R=0;R<O.length;R++){var Z=O[R];L[R]=[];for(var $=0;$<Z.length;$++){L[R][$]=[];for(var ie=0;ie<Z[$].length;ie++)L[R][$][ie]=Z[$][ie]}}return L}function B(L,O){var R=L[O][1],Z=L[O][2],$=L.length,ie,N,F;return ie=(O+1)%$,N=L[ie][1],F=L[ie][2],N===R&&F===Z&&(ie=(O+2)%$,N=L[ie][1],F=L[ie][2]),[ie,N,F]}function U(L){if(f(L._fullLayout.dragmode)){T(L);var O=L._fullLayout._activeSelectionIndex,R=(L.layout||{}).selections||[];if(O<R.length){for(var Z=[],$=0;$<R.length;$++)$!==O&&Z.push(R[$]);delete L._fullLayout._activeSelectionIndex;var ie=L._fullLayout.selections[O];L._fullLayout._deselect={xref:ie.xref,yref:ie.yref},o.call("_guiRelayout",L,{selections:Z})}}}},4031:function(te,z,e){var l=e(9898),g=e(3972),s=e(1828),i=e(9298),r=e(165).readPaths,f=e(2359),o=e(8100),n=e(1873).clearOutlineControllers,t=e(7901),u=e(1424),h=e(4467).arrayEditor,m=e(8569),y=e(6964),d=e(1459),T=e(477),x=T.getPathString;te.exports={draw:M,drawOne:v,eraseActiveShape:U,drawLabel:o};function M(L){var O=L._fullLayout;O._shapeUpperLayer.selectAll("path").remove(),O._shapeLowerLayer.selectAll("path").remove(),O._shapeUpperLayer.selectAll("text").remove(),O._shapeLowerLayer.selectAll("text").remove();for(var R in O._plots){var Z=O._plots[R].shapelayer;Z&&(Z.selectAll("path").remove(),Z.selectAll("text").remove())}for(var $=0;$<O.shapes.length;$++)O.shapes[$].visible===!0&&v(L,$)}function c(L){return!!L._fullLayout._outlining}function p(L){return!L._context.edits.shapePosition}function v(L,O){L._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+O+'"]').remove();var R=T.makeShapesOptionsAndPlotinfo(L,O),Z=R.options,$=R.plotinfo;if(!Z._input||Z.visible!==!0)return;if(Z.layer!=="below")N(L._fullLayout._shapeUpperLayer);else if(Z.xref==="paper"||Z.yref==="paper")N(L._fullLayout._shapeLowerLayer);else if($._hadPlotinfo){var ie=$.mainplotinfo||$;N(ie.shapelayer)}else N(L._fullLayout._shapeLowerLayer);function N(F){var G=x(L,Z),W={"data-index":O,"fill-rule":Z.fillrule,d:G},X=Z.opacity,J=Z.fillcolor,ne=Z.line.width?Z.line.color:"rgba(0,0,0,0)",ue=Z.line.width,ye=Z.line.dash;!ue&&Z.editable===!0&&(ue=5,ye="solid");var Me=G[G.length-1]!=="Z",oe=p(L)&&Z.editable&&L._fullLayout._activeShapeIndex===O;oe&&(J=Me?"rgba(0,0,0,0)":L._fullLayout.activeshape.fillcolor,X=L._fullLayout.activeshape.opacity);var ve=F.append("g").classed("shape-group",!0).attr({"data-index":O}),H=ve.append("path").attr(W).style("opacity",X).call(t.stroke,ne).call(t.fill,J).call(u.dashLine,ye,ue);b(ve,L,Z),o(L,O,Z,ve);var Y;if((oe||L._context.edits.shapePosition)&&(Y=h(L.layout,"shapes",Z)),oe){H.style({cursor:"move"});var S={element:H.node(),plotinfo:$,gd:L,editHelpers:Y,hasText:Z.label.text||Z.label.texttemplate,isActiveShape:!0},E=r(G,L);f(E,H,S)}else L._context.edits.shapePosition?w(L,H,Z,O,F,Y):Z.editable===!0&&H.style("pointer-events",Me||t.opacity(J)*X<=.5?"stroke":"all");H.node().addEventListener("click",function(){return k(L,H)})}}function b(L,O,R){var Z=(R.xref+R.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");u.setClipUrl(L,Z?"clip"+O._fullLayout._uid+Z:null,O)}function w(L,O,R,Z,$,ie){var N=10,F=10,G=R.xsizemode==="pixel",W=R.ysizemode==="pixel",X=R.type==="line",J=R.type==="path",ne=ie.modifyItem,ue,ye,Me,oe,ve,H,Y,S,E,I,C,K,P,j,ae,fe=l.select(O.node().parentNode),de=i.getFromId(L,R.xref),Ce=i.getRefType(R.xref),De=i.getFromId(L,R.yref),ce=i.getRefType(R.yref),me=T.getDataToPixel(L,de,!1,Ce),pe=T.getDataToPixel(L,De,!0,ce),Ee=T.getPixelToData(L,de,!1,Ce),Ae=T.getPixelToData(L,De,!0,ce),xe=je(),Fe={element:xe.node(),gd:L,prepFn:bt,doneFn:Tt,clickFn:it},Ke;m.init(Fe),xe.node().onmousemove=dt;function je(){return X?Ve():O}function Ve(){var At=10,ke=Math.max(R.line.width,At),Te=$.append("g").attr("data-index",Z).attr("drag-helper",!0);Te.append("path").attr("d",O.attr("d")).style({cursor:"move","stroke-width":ke,"stroke-opacity":"0"});var Re={"fill-opacity":"0"},Le=Math.max(ke/2,At);return Te.append("circle").attr({"data-line-point":"start-point",cx:G?me(R.xanchor)+R.x0:me(R.x0),cy:W?pe(R.yanchor)-R.y0:pe(R.y0),r:Le}).style(Re).classed("cursor-grab",!0),Te.append("circle").attr({"data-line-point":"end-point",cx:G?me(R.xanchor)+R.x1:me(R.x1),cy:W?pe(R.yanchor)-R.y1:pe(R.y1),r:Le}).style(Re).classed("cursor-grab",!0),Te}function dt(At){if(c(L)){Ke=null;return}if(X)At.target.tagName==="path"?Ke="move":Ke=At.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var ke=Fe.element.getBoundingClientRect(),Te=ke.right-ke.left,Re=ke.bottom-ke.top,Le=At.clientX-ke.left,Oe=At.clientY-ke.top,le=!J&&Te>N&&Re>F&&!At.shiftKey?m.getCursor(Le/Te,1-Oe/Re):"move";y(O,le),Ke=le.split("-")[0]}}function bt(At){c(L)||(G&&(ve=me(R.xanchor)),W&&(H=pe(R.yanchor)),R.type==="path"?ae=R.path:(ue=G?R.x0:me(R.x0),ye=W?R.y0:pe(R.y0),Me=G?R.x1:me(R.x1),oe=W?R.y1:pe(R.y1)),ue<Me?(E=ue,P="x0",I=Me,j="x1"):(E=Me,P="x1",I=ue,j="x0"),!W&&ye<oe||W&&ye>oe?(Y=ye,C="y0",S=oe,K="y1"):(Y=oe,C="y1",S=ye,K="y0"),dt(At),Mt($,R),St(O,R,L),Fe.moveFn=Ke==="move"?kt:tt,Fe.altKey=At.altKey)}function Tt(){c(L)||(y(O),Dt($),b(O,L,R),g.call("_guiRelayout",L,ie.getUpdateObj()))}function it(){c(L)||Dt($)}function kt(At,ke){if(R.type==="path"){var Te=function(Oe){return Oe},Re=Te,Le=Te;G?ne("xanchor",R.xanchor=Ee(ve+At)):(Re=function(le){return Ee(me(le)+At)},de&&de.type==="date"&&(Re=T.encodeDate(Re))),W?ne("yanchor",R.yanchor=Ae(H+ke)):(Le=function(le){return Ae(pe(le)+ke)},De&&De.type==="date"&&(Le=T.encodeDate(Le))),ne("path",R.path=_(ae,Re,Le))}else G?ne("xanchor",R.xanchor=Ee(ve+At)):(ne("x0",R.x0=Ee(ue+At)),ne("x1",R.x1=Ee(Me+At))),W?ne("yanchor",R.yanchor=Ae(H+ke)):(ne("y0",R.y0=Ae(ye+ke)),ne("y1",R.y1=Ae(oe+ke)));O.attr("d",x(L,R)),Mt($,R),o(L,Z,R,fe)}function tt(At,ke){if(J){var Te=function(Et){return Et},Re=Te,Le=Te;G?ne("xanchor",R.xanchor=Ee(ve+At)):(Re=function(Ht){return Ee(me(Ht)+At)},de&&de.type==="date"&&(Re=T.encodeDate(Re))),W?ne("yanchor",R.yanchor=Ae(H+ke)):(Le=function(Ht){return Ae(pe(Ht)+ke)},De&&De.type==="date"&&(Le=T.encodeDate(Le))),ne("path",R.path=_(ae,Re,Le))}else if(X){if(Ke==="resize-over-start-point"){var Oe=ue+At,le=W?ye-ke:ye+ke;ne("x0",R.x0=G?Oe:Ee(Oe)),ne("y0",R.y0=W?le:Ae(le))}else if(Ke==="resize-over-end-point"){var be=Me+At,we=W?oe-ke:oe+ke;ne("x1",R.x1=G?be:Ee(be)),ne("y1",R.y1=W?we:Ae(we))}}else{var Se=function(Et){return Ke.indexOf(Et)!==-1},ze=Se("n"),_e=Se("s"),ct=Se("w"),lt=Se("e"),$e=ze?Y+ke:Y,Ye=_e?S+ke:S,nt=ct?E+At:E,wt=lt?I+At:I;W&&(ze&&($e=Y-ke),_e&&(Ye=S-ke)),(!W&&Ye-$e>F||W&&$e-Ye>F)&&(ne(C,R[C]=W?$e:Ae($e)),ne(K,R[K]=W?Ye:Ae(Ye))),wt-nt>N&&(ne(P,R[P]=G?nt:Ee(nt)),ne(j,R[j]=G?wt:Ee(wt)))}O.attr("d",x(L,R)),Mt($,R),o(L,Z,R,fe)}function Mt(At,ke){(G||W)&&Te();function Te(){var Re=ke.type!=="path",Le=At.selectAll(".visual-cue").data([0]),Oe=1;Le.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":Oe}).classed("visual-cue",!0);var le=me(G?ke.xanchor:s.midRange(Re?[ke.x0,ke.x1]:T.extractPathCoords(ke.path,d.paramIsX))),be=pe(W?ke.yanchor:s.midRange(Re?[ke.y0,ke.y1]:T.extractPathCoords(ke.path,d.paramIsY)));if(le=T.roundPositionForSharpStrokeRendering(le,Oe),be=T.roundPositionForSharpStrokeRendering(be,Oe),G&&W){var we="M"+(le-1-Oe)+","+(be-1-Oe)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";Le.attr("d",we)}else if(G){var Se="M"+(le-1-Oe)+","+(be-9-Oe)+"v18 h2 v-18 Z";Le.attr("d",Se)}else{var ze="M"+(le-9-Oe)+","+(be-1-Oe)+"h18 v2 h-18 Z";Le.attr("d",ze)}}}function Dt(At){At.selectAll(".visual-cue").remove()}function St(At,ke,Te){var Re=ke.xref,Le=ke.yref,Oe=i.getFromId(Te,Re),le=i.getFromId(Te,Le),be="";Re!=="paper"&&!Oe.autorange&&(be+=Re),Le!=="paper"&&!le.autorange&&(be+=Le),u.setClipUrl(At,be?"clip"+Te._fullLayout._uid+be:null,Te)}}function _(L,O,R){return L.replace(d.segmentRE,function(Z){var $=0,ie=Z.charAt(0),N=d.paramIsX[ie],F=d.paramIsY[ie],G=d.numParams[ie],W=Z.substr(1).replace(d.paramRE,function(X){return $>=G||(N[$]?X=O(X):F[$]&&(X=R(X)),$++),X});return ie+W})}function k(L,O){if(p(L)){var R=O.node(),Z=+R.getAttribute("data-index");if(Z>=0){if(Z===L._fullLayout._activeShapeIndex){B(L);return}L._fullLayout._activeShapeIndex=Z,L._fullLayout._deactivateShape=B,M(L)}}}function B(L){if(p(L)){var O=L._fullLayout._activeShapeIndex;O>=0&&(n(L),delete L._fullLayout._activeShapeIndex,M(L))}}function U(L){if(p(L)){n(L);var O=L._fullLayout._activeShapeIndex,R=(L.layout||{}).shapes||[];if(O<R.length){for(var Z=[],$=0;$<R.length;$++)$!==O&&Z.push(R[$]);return delete L._fullLayout._activeShapeIndex,g.call("_guiRelayout",L,{shapes:Z})}}}},9241:function(te,z,e){var l=e(962).overrideAll,g=e(9012),s=e(1940),i=e(9952).P,r=e(1426).extendFlat,f=e(5386).R,o=e(7281);te.exports=l({newshape:{visible:r({},g.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:r({},g.legend,{}),legendgroup:r({},g.legendgroup,{}),legendgrouptitle:{text:r({},g.legendgrouptitle.text,{}),font:s({})},legendrank:r({},g.legendrank,{}),legendwidth:r({},g.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:r({},i,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:r({},g.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:f({newshape:!0},{keys:Object.keys(o)}),font:s({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},9995:function(te){var z=32;te.exports={CIRCLE_SIDES:z,i000:0,i090:z/4,i180:z/2,i270:z/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},5547:function(te,z,e){var l=e(7901),g=e(1828);function s(i,r){return i?"bottom":r.indexOf("top")!==-1?"top":r.indexOf("bottom")!==-1?"bottom":"middle"}te.exports=function(r,f,o){o("newshape.visible"),o("newshape.name"),o("newshape.showlegend"),o("newshape.legend"),o("newshape.legendwidth"),o("newshape.legendgroup"),o("newshape.legendgrouptitle.text"),g.coerceFont(o,"newshape.legendgrouptitle.font"),o("newshape.legendrank"),o("newshape.drawdirection"),o("newshape.layer"),o("newshape.fillcolor"),o("newshape.fillrule"),o("newshape.opacity");var n=o("newshape.line.width");if(n){var t=(r||{}).plot_bgcolor||"#FFF";o("newshape.line.color",l.contrast(t)),o("newshape.line.dash")}var u=r.dragmode==="drawline",h=o("newshape.label.text"),m=o("newshape.label.texttemplate");if(h||m){o("newshape.label.textangle");var y=o("newshape.label.textposition",u?"middle":"middle center");o("newshape.label.xanchor"),o("newshape.label.yanchor",s(u,y)),o("newshape.label.padding"),g.coerceFont(o,"newshape.label.font",f.font)}o("activeshape.fillcolor"),o("activeshape.opacity")}},165:function(te,z,e){var l=e(5616),g=e(9995),s=g.CIRCLE_SIDES,i=g.SQRT2,r=e(5549),f=r.p2r,o=r.r2p,n=[0,3,4,5,6,1,2],t=[0,3,4,1,2];z.writePaths=function(m){var y=m.length;if(!y)return"M0,0Z";for(var d="",T=0;T<y;T++)for(var x=m[T].length,M=0;M<x;M++){var c=m[T][M][0];if(c==="Z")d+="Z";else for(var p=m[T][M].length,v=0;v<p;v++){var b=v;c==="Q"||c==="S"?b=t[v]:c==="C"&&(b=n[v]),d+=m[T][M][b],v>0&&v<p-1&&(d+=",")}}return d},z.readPaths=function(m,y,d,T){var x=l(m),M=[],c=-1,p=function(){c++,M[c]=[]},v,b=0,w=0,_,k,B=function(){_=b,k=w};B();for(var U=0;U<x.length;U++){var L=[],O,R,Z,$,ie=x[U][0],N=ie;switch(ie){case"M":p(),b=+x[U][1],w=+x[U][2],L.push([N,b,w]),B();break;case"Q":case"S":O=+x[U][1],Z=+x[U][2],b=+x[U][3],w=+x[U][4],L.push([N,b,w,O,Z]);break;case"C":O=+x[U][1],Z=+x[U][2],R=+x[U][3],$=+x[U][4],b=+x[U][5],w=+x[U][6],L.push([N,b,w,O,Z,R,$]);break;case"T":case"L":b=+x[U][1],w=+x[U][2],L.push([N,b,w]);break;case"H":N="L",b=+x[U][1],L.push([N,b,w]);break;case"V":N="L",w=+x[U][1],L.push([N,b,w]);break;case"A":N="L";var F=+x[U][1],G=+x[U][2];+x[U][4]||(F=-F,G=-G);var W=b-F,X=w;for(v=1;v<=s/2;v++){var J=2*Math.PI*v/s;L.push([N,W+F*Math.cos(J),X+G*Math.sin(J)])}break;case"Z":(b!==_||w!==k)&&(b=_,w=k,L.push([N,b,w]));break}for(var ne=(d||{}).domain,ue=y._fullLayout._size,ye=d&&d.xsizemode==="pixel",Me=d&&d.ysizemode==="pixel",oe=T===!1,ve=0;ve<L.length;ve++){for(v=0;v+2<7;v+=2){var H=L[ve][v+1],Y=L[ve][v+2];H===void 0||Y===void 0||(b=H,w=Y,d&&(d.xaxis&&d.xaxis.p2r?(oe&&(H-=d.xaxis._offset),ye?H=o(d.xaxis,d.xanchor)+H:H=f(d.xaxis,H)):(oe&&(H-=ue.l),ne?H=ne.x[0]+H/ue.w:H=H/ue.w),d.yaxis&&d.yaxis.p2r?(oe&&(Y-=d.yaxis._offset),Me?Y=o(d.yaxis,d.yanchor)-Y:Y=f(d.yaxis,Y)):(oe&&(Y-=ue.t),ne?Y=ne.y[1]-Y/ue.h:Y=1-Y/ue.h)),L[ve][v+1]=H,L[ve][v+2]=Y)}M[c].push(L[ve].slice())}}return M};function u(m,y){return Math.abs(m-y)<=1e-6}function h(m,y){var d=y[1]-m[1],T=y[2]-m[2];return Math.sqrt(d*d+T*T)}z.pointsOnRectangle=function(m){var y=m.length;if(y!==5)return!1;for(var d=1;d<3;d++){var T=m[0][d]-m[1][d],x=m[3][d]-m[2][d];if(!u(T,x))return!1;var M=m[0][d]-m[3][d],c=m[1][d]-m[2][d];if(!u(M,c))return!1}return!u(m[0][1],m[1][1])&&!u(m[0][1],m[3][1])?!1:!!(h(m[0],m[1])*h(m[0],m[3]))},z.pointsOnEllipse=function(m){var y=m.length;if(y!==s+1)return!1;y=s;for(var d=0;d<y;d++){var T=(y*2-d)%y,x=(y/2+T)%y,M=(y/2+d)%y;if(!u(h(m[d],m[M]),h(m[T],m[x])))return!1}return!0},z.handleEllipse=function(m,y,d){if(!m)return[y,d];var T=z.ellipseOver({x0:y[0],y0:y[1],x1:d[0],y1:d[1]}),x=(T.x1+T.x0)/2,M=(T.y1+T.y0)/2,c=(T.x1-T.x0)/2,p=(T.y1-T.y0)/2;c||(c=p=p/i),p||(p=c=c/i);for(var v=[],b=0;b<s;b++){var w=b*2*Math.PI/s;v.push([x+c*Math.cos(w),M+p*Math.sin(w)])}return v},z.ellipseOver=function(m){var y=m.x0,d=m.y0,T=m.x1,x=m.y1,M=T-y,c=x-d;y-=M,d-=c;var p=(y+T)/2,v=(d+x)/2,b=i;return M*=b,c*=b,{x0:p-M,y0:v-c,x1:p+M,y1:v+c}},z.fixDatesForPaths=function(m,y,d){var T=y.type==="date",x=d.type==="date";if(!T&&!x)return m;for(var M=0;M<m.length;M++)for(var c=0;c<m[M].length;c++)for(var p=0;p+2<m[M][c].length;p+=2)T&&(m[M][c][p+1]=m[M][c][p+1].replace(" ","_")),x&&(m[M][c][p+2]=m[M][c][p+2].replace(" ","_"));return m}},551:function(te,z,e){var l=e(4505),g=l.drawMode,s=l.openMode,i=e(9995),r=i.i000,f=i.i090,o=i.i180,n=i.i270,t=i.cos45,u=i.sin45,h=e(5549),m=h.p2r,y=h.r2p,d=e(1873),T=d.clearOutline,x=e(165),M=x.readPaths,c=x.writePaths,p=x.ellipseOver,v=x.fixDatesForPaths;function b(_,k){if(_.length){var B=_[0][0];if(B){var U=k.gd,L=k.isActiveShape,O=k.dragmode,R=(U.layout||{}).shapes||[];if(!g(O)&&L!==void 0){var Z=U._fullLayout._activeShapeIndex;if(Z<R.length)switch(U._fullLayout.shapes[Z].type){case"rect":O="drawrect";break;case"circle":O="drawcircle";break;case"line":O="drawline";break;case"path":var $=R[Z].path||"";$[$.length-1]==="Z"?O="drawclosedpath":O="drawopenpath";break}}var ie=w(_,k,O);T(U);for(var N=k.editHelpers,F=(N||{}).modifyItem,G=[],W=0;W<R.length;W++){var X=U._fullLayout.shapes[W];if(G[W]=X._input,L!==void 0&&W===U._fullLayout._activeShapeIndex){var J=ie;switch(X.type){case"line":case"rect":case"circle":F("x0",J.x0),F("x1",J.x1),F("y0",J.y0),F("y1",J.y1);break;case"path":F("path",J.path);break}}}return L===void 0?(G.push(ie),G):N?N.getUpdateObj():{}}}}function w(_,k,B){var U=_[0][0],L=k.gd,O=U.getAttribute("d"),R=L._fullLayout.newshape,Z=k.plotinfo,$=k.isActiveShape,ie=Z.xaxis,N=Z.yaxis,F=!!Z.domain||!Z.xaxis,G=!!Z.domain||!Z.yaxis,W=s(B),X=M(O,L,Z,$),J={editable:!0,visible:R.visible,name:R.name,showlegend:R.showlegend,legend:R.legend,legendwidth:R.legendwidth,legendgroup:R.legendgroup,legendgrouptitle:{text:R.legendgrouptitle.text,font:R.legendgrouptitle.font},legendrank:R.legendrank,label:R.label,xref:F?"paper":ie._id,yref:G?"paper":N._id,layer:R.layer,opacity:R.opacity,line:{color:R.line.color,width:R.line.width,dash:R.line.dash}};W||(J.fillcolor=R.fillcolor,J.fillrule=R.fillrule);var ne;if(X.length===1&&(ne=X[0]),ne&&ne.length===5&&B==="drawrect")J.type="rect",J.x0=ne[0][1],J.y0=ne[0][2],J.x1=ne[2][1],J.y1=ne[2][2];else if(ne&&B==="drawline")J.type="line",J.x0=ne[0][1],J.y0=ne[0][2],J.x1=ne[1][1],J.y1=ne[1][2];else if(ne&&B==="drawcircle"){J.type="circle";var ue=ne[r][1],ye=ne[f][1],Me=ne[o][1],oe=ne[n][1],ve=ne[r][2],H=ne[f][2],Y=ne[o][2],S=ne[n][2],E=Z.xaxis&&(Z.xaxis.type==="date"||Z.xaxis.type==="log"),I=Z.yaxis&&(Z.yaxis.type==="date"||Z.yaxis.type==="log");E&&(ue=y(Z.xaxis,ue),ye=y(Z.xaxis,ye),Me=y(Z.xaxis,Me),oe=y(Z.xaxis,oe)),I&&(ve=y(Z.yaxis,ve),H=y(Z.yaxis,H),Y=y(Z.yaxis,Y),S=y(Z.yaxis,S));var C=(ye+oe)/2,K=(ve+Y)/2,P=(oe-ye+Me-ue)/2,j=(S-H+Y-ve)/2,ae=p({x0:C,y0:K,x1:C+P*t,y1:K+j*u});E&&(ae.x0=m(Z.xaxis,ae.x0),ae.x1=m(Z.xaxis,ae.x1)),I&&(ae.y0=m(Z.yaxis,ae.y0),ae.y1=m(Z.yaxis,ae.y1)),J.x0=ae.x0,J.y0=ae.y0,J.x1=ae.x1,J.y1=ae.y1}else J.type="path",ie&&N&&v(X,ie,N),J.path=c(X),ne=null;return J}te.exports={newShapes:b,createShapeObj:w}},1873:function(te){function z(l){var g=l._fullLayout._zoomlayer;g&&g.selectAll(".outline-controllers").remove()}function e(l){var g=l._fullLayout._zoomlayer;g&&g.selectAll(".select-outline").remove(),l._fullLayout._outlining=!1}te.exports={clearOutlineControllers:z,clearOutline:e}},477:function(te,z,e){var l=e(1459),g=e(1828),s=e(9298);z.rangeToShapePosition=function(r){return r.type==="log"?r.r2d:function(f){return f}},z.shapePositionToRange=function(r){return r.type==="log"?r.d2r:function(f){return f}},z.decodeDate=function(r){return function(f){return f.replace&&(f=f.replace("_"," ")),r(f)}},z.encodeDate=function(r){return function(f){return r(f).replace(" ","_")}},z.extractPathCoords=function(r,f,o){var n=[],t=r.match(l.segmentRE);return t.forEach(function(u){var h=f[u.charAt(0)].drawn;if(h!==void 0){var m=u.substr(1).match(l.paramRE);if(!(!m||m.length<h)){var y=m[h],d=o?y:g.cleanNumber(y);n.push(d)}}}),n},z.getDataToPixel=function(r,f,o,n){var t=r._fullLayout._size,u;if(f)if(n==="domain")u=function(m){return f._length*(o?1-m:m)+f._offset};else{var h=z.shapePositionToRange(f);u=function(m){return f._offset+f.r2p(h(m,!0))},f.type==="date"&&(u=z.decodeDate(u))}else o?u=function(m){return t.t+t.h*(1-m)}:u=function(m){return t.l+t.w*m};return u},z.getPixelToData=function(r,f,o,n){var t=r._fullLayout._size,u;if(f)if(n==="domain")u=function(m){var y=(m-f._offset)/f._length;return o?1-y:y};else{var h=z.rangeToShapePosition(f);u=function(m){return h(f.p2r(m-f._offset))}}else o?u=function(m){return 1-(m-t.t)/t.h}:u=function(m){return(m-t.l)/t.w};return u},z.roundPositionForSharpStrokeRendering=function(r,f){var o=Math.round(f%2)===1,n=Math.round(r);return o?n+.5:n},z.makeShapesOptionsAndPlotinfo=function(r,f){var o=r._fullLayout.shapes[f]||{},n=r._fullLayout._plots[o.xref+o.yref],t=!!n;return t?n._hadPlotinfo=!0:(n={},o.xref&&o.xref!=="paper"&&(n.xaxis=r._fullLayout[o.xref+"axis"]),o.yref&&o.yref!=="paper"&&(n.yaxis=r._fullLayout[o.yref+"axis"])),n.xsizemode=o.xsizemode,n.ysizemode=o.ysizemode,n.xanchor=o.xanchor,n.yanchor=o.yanchor,{options:o,plotinfo:n}},z.makeSelectionsOptionsAndPlotinfo=function(r,f){var o=r._fullLayout.selections[f]||{},n=r._fullLayout._plots[o.xref+o.yref],t=!!n;return t?n._hadPlotinfo=!0:(n={},o.xref&&(n.xaxis=r._fullLayout[o.xref+"axis"]),o.yref&&(n.yaxis=r._fullLayout[o.yref+"axis"])),{options:o,plotinfo:n}},z.getPathString=function(r,f){var o=f.type,n=s.getRefType(f.xref),t=s.getRefType(f.yref),u=s.getFromId(r,f.xref),h=s.getFromId(r,f.yref),m=r._fullLayout._size,y,d,T,x,M,c,p,v;if(u?n==="domain"?d=function(Z){return u._offset+u._length*Z}:(y=z.shapePositionToRange(u),d=function(Z){return u._offset+u.r2p(y(Z,!0))}):d=function(Z){return m.l+m.w*Z},h?t==="domain"?x=function(Z){return h._offset+h._length*(1-Z)}:(T=z.shapePositionToRange(h),x=function(Z){return h._offset+h.r2p(T(Z,!0))}):x=function(Z){return m.t+m.h*(1-Z)},o==="path")return u&&u.type==="date"&&(d=z.decodeDate(d)),h&&h.type==="date"&&(x=z.decodeDate(x)),i(f,d,x);if(f.xsizemode==="pixel"){var b=d(f.xanchor);M=b+f.x0,c=b+f.x1}else M=d(f.x0),c=d(f.x1);if(f.ysizemode==="pixel"){var w=x(f.yanchor);p=w-f.y0,v=w-f.y1}else p=x(f.y0),v=x(f.y1);if(o==="line")return"M"+M+","+p+"L"+c+","+v;if(o==="rect")return"M"+M+","+p+"H"+c+"V"+v+"H"+M+"Z";var _=(M+c)/2,k=(p+v)/2,B=Math.abs(_-M),U=Math.abs(k-p),L="A"+B+","+U,O=_+B+","+k,R=_+","+(k-U);return"M"+O+L+" 0 1,1 "+R+L+" 0 0,1 "+O+"Z"};function i(r,f,o){var n=r.path,t=r.xsizemode,u=r.ysizemode,h=r.xanchor,m=r.yanchor;return n.replace(l.segmentRE,function(y){var d=0,T=y.charAt(0),x=l.paramIsX[T],M=l.paramIsY[T],c=l.numParams[T],p=y.substr(1).replace(l.paramRE,function(v){return x[d]?t==="pixel"?v=f(h)+Number(v):v=f(v):M[d]&&(u==="pixel"?v=o(m)-Number(v):v=o(v)),d++,d>c&&(v="X"),v});return d>c&&(p=p.replace(/[\s,]*X.*/,""),g.log("Ignoring extra params in segment "+y)),T+p})}},9853:function(te,z,e){var l=e(4031);te.exports={moduleType:"component",name:"shapes",layoutAttributes:e(9827),supplyLayoutDefaults:e(4726),supplyDrawNewShapeDefaults:e(5547),includeBasePlot:e(6325)("shapes"),calcAutorange:e(5627),draw:l.draw,drawOne:l.drawOne}},7281:function(te){function z(y,d){return d?d.d2l(y):y}function e(y,d){return d?d.l2d(y):y}function l(y){return y.x0}function g(y){return y.x1}function s(y){return y.y0}function i(y){return y.y1}function r(y,d){return z(y.x1,d)-z(y.x0,d)}function f(y,d,T){return z(y.y1,T)-z(y.y0,T)}function o(y,d){return Math.abs(r(y,d))}function n(y,d,T){return Math.abs(f(y,d,T))}function t(y,d,T){return y.type!=="line"?void 0:Math.sqrt(Math.pow(r(y,d),2)+Math.pow(f(y,d,T),2))}function u(y,d){return e((z(y.x1,d)+z(y.x0,d))/2,d)}function h(y,d,T){return e((z(y.y1,T)+z(y.y0,T))/2,T)}function m(y,d,T){return y.type!=="line"?void 0:f(y,d,T)/r(y,d)}te.exports={x0:l,x1:g,y0:s,y1:i,slope:m,dx:r,dy:f,width:o,height:n,length:t,xcenter:u,ycenter:h}},5067:function(te,z,e){var l=e(1940),g=e(5025),s=e(1426).extendDeepAll,i=e(962).overrideAll,r=e(5594),f=e(4467).templatedArray,o=e(8292),n=f("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});te.exports=i(f("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:n,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:s(g({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:r.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:l({})},font:l({}),activebgcolor:{valType:"color",dflt:o.gripBgActiveColor},bgcolor:{valType:"color",dflt:o.railBgColor},bordercolor:{valType:"color",dflt:o.railBorderColor},borderwidth:{valType:"number",min:0,dflt:o.railBorderWidth},ticklen:{valType:"number",min:0,dflt:o.tickLength},tickcolor:{valType:"color",dflt:o.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:o.minorTickLength}}),"arraydraw","from-root")},8292:function(te){te.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},2343:function(te,z,e){var l=e(1828),g=e(5501),s=e(5067),i=e(8292),r=i.name,f=s.steps;te.exports=function(u,h){g(u,h,{name:r,handleItemDefaults:o})};function o(t,u,h){function m(v,b){return l.coerce(t,u,s,v,b)}for(var y=g(t,u,{name:"steps",handleItemDefaults:n}),d=0,T=0;T<y.length;T++)y[T].visible&&d++;var x;if(d<2?x=u.visible=!1:x=m("visible"),!!x){u._stepCount=d;var M=u._visibleSteps=l.filterVisible(y),c=m("active");(y[c]||{}).visible||(u.active=M[0]._index),m("x"),m("y"),l.noneOrAll(t,u,["x","y"]),m("xanchor"),m("yanchor"),m("len"),m("lenmode"),m("pad.t"),m("pad.r"),m("pad.b"),m("pad.l"),l.coerceFont(m,"font",h.font);var p=m("currentvalue.visible");p&&(m("currentvalue.xanchor"),m("currentvalue.prefix"),m("currentvalue.suffix"),m("currentvalue.offset"),l.coerceFont(m,"currentvalue.font",u.font)),m("transition.duration"),m("transition.easing"),m("bgcolor"),m("activebgcolor"),m("bordercolor"),m("borderwidth"),m("ticklen"),m("tickwidth"),m("tickcolor"),m("minorticklen")}}function n(t,u){function h(d,T){return l.coerce(t,u,f,d,T)}var m;if(t.method!=="skip"&&!Array.isArray(t.args)?m=u.visible=!1:m=h("visible"),m){h("method"),h("args");var y=h("label","step-"+u._index);h("value",y),h("execute")}}},4504:function(te,z,e){var l=e(9898),g=e(4875),s=e(7901),i=e(1424),r=e(1828),f=r.strTranslate,o=e(3893),n=e(4467).arrayEditor,t=e(8292),u=e(8783),h=u.LINE_SPACING,m=u.FROM_TL,y=u.FROM_BR;te.exports=function(F){var G=F._context.staticPlot,W=F._fullLayout,X=T(W,F),J=W._infolayer.selectAll("g."+t.containerClassName).data(X.length>0?[0]:[]);J.enter().append("g").classed(t.containerClassName,!0).style("cursor",G?null:"ew-resize");function ne(oe){oe._commandObserver&&(oe._commandObserver.remove(),delete oe._commandObserver),g.autoMargin(F,d(oe))}if(J.exit().each(function(){l.select(this).selectAll("g."+t.groupClassName).each(ne)}).remove(),X.length!==0){var ue=J.selectAll("g."+t.groupClassName).data(X,x);ue.enter().append("g").classed(t.groupClassName,!0),ue.exit().each(ne).remove();for(var ye=0;ye<X.length;ye++){var Me=X[ye];M(F,Me)}ue.each(function(oe){var ve=l.select(this);L(oe),g.manageCommandObserver(F,oe,oe._visibleSteps,function(H){var Y=ve.data()[0];Y.active!==H.index&&(Y._dragging||k(F,ve,Y,H.index,!1,!0))}),c(F,l.select(this),oe)})}};function d(N){return t.autoMarginIdRoot+N._index}function T(N,F){for(var G=N[t.name],W=[],X=0;X<G.length;X++){var J=G[X];J.visible&&(J._gd=F,W.push(J))}return W}function x(N){return N._index}function M(N,F){var G=i.tester.selectAll("g."+t.labelGroupClass).data(F._visibleSteps);G.enter().append("g").classed(t.labelGroupClass,!0);var W=0,X=0;G.each(function(S){var E=l.select(this),I=b(E,{step:S},F),C=I.node();if(C){var K=i.bBox(C);X=Math.max(X,K.height),W=Math.max(W,K.width)}}),G.remove();var J=F._dims={};J.inputAreaWidth=Math.max(t.railWidth,t.gripHeight);var ne=N._fullLayout._size;J.lx=ne.l+ne.w*F.x,J.ly=ne.t+ne.h*(1-F.y),F.lenmode==="fraction"?J.outerLength=Math.round(ne.w*F.len):J.outerLength=F.len,J.inputAreaStart=0,J.inputAreaLength=Math.round(J.outerLength-F.pad.l-F.pad.r);var ue=J.inputAreaLength-2*t.stepInset,ye=ue/(F._stepCount-1),Me=W+t.labelPadding;if(J.labelStride=Math.max(1,Math.ceil(Me/ye)),J.labelHeight=X,J.currentValueMaxWidth=0,J.currentValueHeight=0,J.currentValueTotalHeight=0,J.currentValueMaxLines=1,F.currentvalue.visible){var oe=i.tester.append("g");G.each(function(S){var E=p(oe,F,S.label),I=E.node()&&i.bBox(E.node())||{width:0,height:0},C=o.lineCount(E);J.currentValueMaxWidth=Math.max(J.currentValueMaxWidth,Math.ceil(I.width)),J.currentValueHeight=Math.max(J.currentValueHeight,Math.ceil(I.height)),J.currentValueMaxLines=Math.max(J.currentValueMaxLines,C)}),J.currentValueTotalHeight=J.currentValueHeight+F.currentvalue.offset,oe.remove()}J.height=J.currentValueTotalHeight+t.tickOffset+F.ticklen+t.labelOffset+J.labelHeight+F.pad.t+F.pad.b;var ve="left";r.isRightAnchor(F)&&(J.lx-=J.outerLength,ve="right"),r.isCenterAnchor(F)&&(J.lx-=J.outerLength/2,ve="center");var H="top";r.isBottomAnchor(F)&&(J.ly-=J.height,H="bottom"),r.isMiddleAnchor(F)&&(J.ly-=J.height/2,H="middle"),J.outerLength=Math.ceil(J.outerLength),J.height=Math.ceil(J.height),J.lx=Math.round(J.lx),J.ly=Math.round(J.ly);var Y={y:F.y,b:J.height*y[H],t:J.height*m[H]};F.lenmode==="fraction"?(Y.l=0,Y.xl=F.x-F.len*m[ve],Y.r=0,Y.xr=F.x+F.len*y[ve]):(Y.x=F.x,Y.l=J.outerLength*m[ve],Y.r=J.outerLength*y[ve]),g.autoMargin(N,d(F),Y)}function c(N,F,G){(G.steps[G.active]||{}).visible||(G.active=G._visibleSteps[0]._index),F.call(p,G).call(ie,G).call(w,G).call(U,G).call($,N,G).call(v,N,G);var W=G._dims;i.setTranslate(F,W.lx+G.pad.l,W.ly+G.pad.t),F.call(O,G,!1),F.call(p,G)}function p(N,F,G){if(F.currentvalue.visible){var W=F._dims,X,J;switch(F.currentvalue.xanchor){case"right":X=W.inputAreaLength-t.currentValueInset-W.currentValueMaxWidth,J="left";break;case"center":X=W.inputAreaLength*.5,J="middle";break;default:X=t.currentValueInset,J="left"}var ne=r.ensureSingle(N,"text",t.labelClass,function(H){H.attr({"text-anchor":J,"data-notex":1})}),ue=F.currentvalue.prefix?F.currentvalue.prefix:"";if(typeof G=="string")ue+=G;else{var ye=F.steps[F.active].label,Me=F._gd._fullLayout._meta;Me&&(ye=r.templateString(ye,Me)),ue+=ye}F.currentvalue.suffix&&(ue+=F.currentvalue.suffix),ne.call(i.font,F.currentvalue.font).text(ue).call(o.convertToTspans,F._gd);var oe=o.lineCount(ne),ve=(W.currentValueMaxLines+1-oe)*F.currentvalue.font.size*h;return o.positionText(ne,X,ve),ne}}function v(N,F,G){var W=r.ensureSingle(N,"rect",t.gripRectClass,function(X){X.call(B,F,N,G).style("pointer-events","all")});W.attr({width:t.gripWidth,height:t.gripHeight,rx:t.gripRadius,ry:t.gripRadius}).call(s.stroke,G.bordercolor).call(s.fill,G.bgcolor).style("stroke-width",G.borderwidth+"px")}function b(N,F,G){var W=r.ensureSingle(N,"text",t.labelClass,function(ne){ne.attr({"text-anchor":"middle","data-notex":1})}),X=F.step.label,J=G._gd._fullLayout._meta;return J&&(X=r.templateString(X,J)),W.call(i.font,G.font).text(X).call(o.convertToTspans,G._gd),W}function w(N,F){var G=r.ensureSingle(N,"g",t.labelsClass),W=F._dims,X=G.selectAll("g."+t.labelGroupClass).data(W.labelSteps);X.enter().append("g").classed(t.labelGroupClass,!0),X.exit().remove(),X.each(function(J){var ne=l.select(this);ne.call(b,J,F),i.setTranslate(ne,R(F,J.fraction),t.tickOffset+F.ticklen+F.font.size*h+t.labelOffset+W.currentValueTotalHeight)})}function _(N,F,G,W,X){var J=Math.round(W*(G._stepCount-1)),ne=G._visibleSteps[J]._index;ne!==G.active&&k(N,F,G,ne,!0,X)}function k(N,F,G,W,X,J){var ne=G.active;G.active=W,n(N.layout,t.name,G).applyUpdate("active",W);var ue=G.steps[G.active];F.call(O,G,J),F.call(p,G),N.emit("plotly_sliderchange",{slider:G,step:G.steps[G.active],interaction:X,previousActive:ne}),ue&&ue.method&&X&&(F._nextMethod?(F._nextMethod.step=ue,F._nextMethod.doCallback=X,F._nextMethod.doTransition=J):(F._nextMethod={step:ue,doCallback:X,doTransition:J},F._nextMethodRaf=window.requestAnimationFrame(function(){var ye=F._nextMethod.step;ye.method&&(ye.execute&&g.executeAPICommand(N,ye.method,ye.args),F._nextMethod=null,F._nextMethodRaf=null)})))}function B(N,F,G){if(F._context.staticPlot)return;var W=G.node(),X=l.select(F);function J(){return G.data()[0]}function ne(){var ue=J();F.emit("plotly_sliderstart",{slider:ue});var ye=G.select("."+t.gripRectClass);l.event.stopPropagation(),l.event.preventDefault(),ye.call(s.fill,ue.activebgcolor);var Me=Z(ue,l.mouse(W)[0]);_(F,G,ue,Me,!0),ue._dragging=!0;function oe(){var H=J(),Y=Z(H,l.mouse(W)[0]);_(F,G,H,Y,!1)}X.on("mousemove",oe),X.on("touchmove",oe);function ve(){var H=J();H._dragging=!1,ye.call(s.fill,H.bgcolor),X.on("mouseup",null),X.on("mousemove",null),X.on("touchend",null),X.on("touchmove",null),F.emit("plotly_sliderend",{slider:H,step:H.steps[H.active]})}X.on("mouseup",ve),X.on("touchend",ve)}N.on("mousedown",ne),N.on("touchstart",ne)}function U(N,F){var G=N.selectAll("rect."+t.tickRectClass).data(F._visibleSteps),W=F._dims;G.enter().append("rect").classed(t.tickRectClass,!0),G.exit().remove(),G.attr({width:F.tickwidth+"px","shape-rendering":"crispEdges"}),G.each(function(X,J){var ne=J%W.labelStride===0,ue=l.select(this);ue.attr({height:ne?F.ticklen:F.minorticklen}).call(s.fill,F.tickcolor),i.setTranslate(ue,R(F,J/(F._stepCount-1))-.5*F.tickwidth,(ne?t.tickOffset:t.minorTickOffset)+W.currentValueTotalHeight)})}function L(N){var F=N._dims;F.labelSteps=[];for(var G=N._stepCount,W=0;W<G;W+=F.labelStride)F.labelSteps.push({fraction:W/(G-1),step:N._visibleSteps[W]})}function O(N,F,G){for(var W=N.select("rect."+t.gripRectClass),X=0,J=0;J<F._stepCount;J++)if(F._visibleSteps[J]._index===F.active){X=J;break}var ne=R(F,X/(F._stepCount-1));if(!F._invokingCommand){var ue=W;G&&F.transition.duration>0&&(ue=ue.transition().duration(F.transition.duration).ease(F.transition.easing)),ue.attr("transform",f(ne-t.gripWidth*.5,F._dims.currentValueTotalHeight))}}function R(N,F){var G=N._dims;return G.inputAreaStart+t.stepInset+(G.inputAreaLength-2*t.stepInset)*Math.min(1,Math.max(0,F))}function Z(N,F){var G=N._dims;return Math.min(1,Math.max(0,(F-t.stepInset-G.inputAreaStart)/(G.inputAreaLength-2*t.stepInset-2*G.inputAreaStart)))}function $(N,F,G){var W=G._dims,X=r.ensureSingle(N,"rect",t.railTouchRectClass,function(J){J.call(B,F,N,G).style("pointer-events","all")});X.attr({width:W.inputAreaLength,height:Math.max(W.inputAreaWidth,t.tickOffset+G.ticklen+W.labelHeight)}).call(s.fill,G.bgcolor).attr("opacity",0),i.setTranslate(X,0,W.currentValueTotalHeight)}function ie(N,F){var G=F._dims,W=G.inputAreaLength-t.railInset*2,X=r.ensureSingle(N,"rect",t.railRectClass);X.attr({width:W,height:t.railWidth,rx:t.railRadius,ry:t.railRadius,"shape-rendering":"crispEdges"}).call(s.stroke,F.bordercolor).call(s.fill,F.bgcolor).style("stroke-width",F.borderwidth+"px"),i.setTranslate(X,t.railInset,(G.inputAreaWidth-t.railWidth)*.5+G.currentValueTotalHeight)}},3243:function(te,z,e){var l=e(8292);te.exports={moduleType:"component",name:l.name,layoutAttributes:e(5067),supplyLayoutDefaults:e(2343),draw:e(4504)}},2998:function(te,z,e){var l=e(9898),g=e(2770),s=e(4875),i=e(3972),r=e(1828),f=r.strTranslate,o=e(1424),n=e(7901),t=e(3893),u=e(7822),h=e(8783).OPPOSITE_SIDE,m=/ [XY][0-9]* /;function y(d,T,x){var M=x.propContainer,c=x.propName,p=x.placeholder,v=x.traceIndex,b=x.avoid||{},w=x.attributes,_=x.transform,k=x.containerGroup,B=d._fullLayout,U=1,L=!1,O=M.title,R=(O&&O.text?O.text:"").trim(),Z=O&&O.font?O.font:{},$=Z.family,ie=Z.size,N=Z.color,F;c==="title.text"?F="titleText":c.indexOf("axis")!==-1?F="axisTitleText":c.indexOf("colorbar"!==-1)&&(F="colorbarTitleText");var G=d._context.edits[F];R===""?U=0:R.replace(m," % ")===p.replace(m," % ")&&(U=.2,L=!0,G||(R="")),x._meta?R=r.templateString(R,x._meta):B._meta&&(R=r.templateString(R,B._meta));var W=R||G,X;k||(k=r.ensureSingle(B._infolayer,"g","g-"+T),X=B._hColorbarMoveTitle);var J=k.selectAll("text").data(W?[0]:[]);if(J.enter().append("text"),J.text(R).attr("class",T),J.exit().remove(),!W)return k;function ne(oe){r.syncOrAsync([ue,ye],oe)}function ue(oe){var ve;return!_&&X&&(_={}),_?(ve="",_.rotate&&(ve+="rotate("+[_.rotate,w.x,w.y]+")"),(_.offset||X)&&(ve+=f(0,(_.offset||0)-(X||0)))):ve=null,oe.attr("transform",ve),oe.style({"font-family":$,"font-size":l.round(ie,2)+"px",fill:n.rgb(N),opacity:U*n.opacity(N),"font-weight":s.fontWeight}).attr(w).call(t.convertToTspans,d),s.previousPromises(d)}function ye(oe){var ve=l.select(oe.node().parentNode);if(b&&b.selection&&b.side&&R){ve.attr("transform",null);var H=h[b.side],Y=b.side==="left"||b.side==="top"?-1:1,S=g(b.pad)?b.pad:2,E=o.bBox(ve.node()),I={t:0,b:0,l:0,r:0},C=d._fullLayout._reservedMargin;for(var K in C)for(var P in C[K]){var j=C[K][P];I[P]=Math.max(I[P],j)}var ae={left:I.l,top:I.t,right:B.width-I.r,bottom:B.height-I.b},fe=b.maxShift||Y*(ae[b.side]-E[b.side]),de=0;if(fe<0)de=fe;else{var Ce=b.offsetLeft||0,De=b.offsetTop||0;E.left-=Ce,E.right-=Ce,E.top-=De,E.bottom-=De,b.selection.each(function(){var me=o.bBox(this);r.bBoxIntersect(E,me,S)&&(de=Math.max(de,Y*(me[b.side]-E[H])+S))}),de=Math.min(fe,de),M._titleScoot=Math.abs(de)}if(de>0||fe<0){var ce={left:[-de,0],right:[de,0],top:[0,-de],bottom:[0,de]}[b.side];ve.attr("transform",f(ce[0],ce[1]))}}}J.call(ne);function Me(){U=0,L=!0,J.text(p).on("mouseover.opacity",function(){l.select(this).transition().duration(u.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){l.select(this).transition().duration(u.HIDE_PLACEHOLDER).style("opacity",0)})}return G&&(R?J.on(".opacity",null):Me(),J.call(t.makeEditable,{gd:d}).on("edit",function(oe){v!==void 0?i.call("_guiRestyle",d,c,oe,v):i.call("_guiRelayout",d,c,oe)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(ne)}).on("input",function(oe){this.text(oe||" ").call(t.positionText,w.x,w.y)})),J.classed("js-placeholder",L),k}te.exports={draw:y}},7163:function(te,z,e){var l=e(1940),g=e(2399),s=e(1426).extendFlat,i=e(962).overrideAll,r=e(5025),f=e(4467).templatedArray,o=f("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});te.exports=i(f("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:o,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:s(r({editType:"arraydraw"}),{}),font:l({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:g.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},5909:function(te){te.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"",right:"",up:"",down:""}}},4897:function(te,z,e){var l=e(1828),g=e(5501),s=e(7163),i=e(5909),r=i.name,f=s.buttons;te.exports=function(u,h){var m={name:r,handleItemDefaults:o};g(u,h,m)};function o(t,u,h){function m(T,x){return l.coerce(t,u,s,T,x)}var y=g(t,u,{name:"buttons",handleItemDefaults:n}),d=m("visible",y.length>0);d&&(m("active"),m("direction"),m("type"),m("showactive"),m("x"),m("y"),l.noneOrAll(t,u,["x","y"]),m("xanchor"),m("yanchor"),m("pad.t"),m("pad.r"),m("pad.b"),m("pad.l"),l.coerceFont(m,"font",h.font),m("bgcolor",h.paper_bgcolor),m("bordercolor"),m("borderwidth"))}function n(t,u){function h(y,d){return l.coerce(t,u,f,y,d)}var m=h("visible",t.method==="skip"||Array.isArray(t.args));m&&(h("method"),h("args"),h("args2"),h("label"),h("execute"))}},3689:function(te,z,e){var l=e(9898),g=e(4875),s=e(7901),i=e(1424),r=e(1828),f=e(3893),o=e(4467).arrayEditor,n=e(8783).LINE_SPACING,t=e(5909),u=e(5849);te.exports=function(Z){var $=Z._fullLayout,ie=r.filterVisible($[t.name]);function N(ye){g.autoMargin(Z,U(ye))}var F=$._menulayer.selectAll("g."+t.containerClassName).data(ie.length>0?[0]:[]);if(F.enter().append("g").classed(t.containerClassName,!0).style("cursor","pointer"),F.exit().each(function(){l.select(this).selectAll("g."+t.headerGroupClassName).each(N)}).remove(),ie.length!==0){var G=F.selectAll("g."+t.headerGroupClassName).data(ie,h);G.enter().append("g").classed(t.headerGroupClassName,!0);for(var W=r.ensureSingle(F,"g",t.dropdownButtonGroupClassName,function(ye){ye.style("pointer-events","all")}),X=0;X<ie.length;X++){var J=ie[X];B(Z,J)}var ne="updatemenus"+$._uid,ue=new u(Z,W,ne);G.enter().size()&&(W.node().parentNode.appendChild(W.node()),W.call(O)),G.exit().each(function(ye){W.call(O),N(ye)}).remove(),G.each(function(ye){var Me=l.select(this),oe=ye.type==="dropdown"?W:null;g.manageCommandObserver(Z,ye,ye.buttons,function(ve){d(Z,ye,ye.buttons[ve.index],Me,oe,ue,ve.index,!0)}),ye.type==="dropdown"?(T(Z,Me,W,ue,ye),y(W,ye)&&x(Z,Me,W,ue,ye)):x(Z,Me,null,null,ye)})}};function h(R){return R._index}function m(R){return+R.attr(t.menuIndexAttrName)==-1}function y(R,Z){return+R.attr(t.menuIndexAttrName)===Z._index}function d(R,Z,$,ie,N,F,G,W){Z.active=G,o(R.layout,t.name,Z).applyUpdate("active",G),Z.type==="buttons"?x(R,ie,null,null,Z):Z.type==="dropdown"&&(N.attr(t.menuIndexAttrName,"-1"),T(R,ie,N,F,Z),W||x(R,ie,N,F,Z))}function T(R,Z,$,ie,N){var F=r.ensureSingle(Z,"g",t.headerClassName,function(ye){ye.style("pointer-events","all")}),G=N._dims,W=N.active,X=N.buttons[W]||t.blankHeaderOpts,J={y:N.pad.t,yPad:0,x:N.pad.l,xPad:0,index:0},ne={width:G.headerWidth,height:G.headerHeight};F.call(p,N,X,R).call(L,N,J,ne);var ue=r.ensureSingle(Z,"text",t.headerArrowClassName,function(ye){ye.attr("text-anchor","end").call(i.font,N.font).text(t.arrowSymbol[N.direction])});ue.attr({x:G.headerWidth-t.arrowOffsetX+N.pad.l,y:G.headerHeight/2+t.textOffsetY+N.pad.t}),F.on("click",function(){$.call(O,String(y($,N)?-1:N._index)),x(R,Z,$,ie,N)}),F.on("mouseover",function(){F.call(_)}),F.on("mouseout",function(){F.call(k,N)}),i.setTranslate(Z,G.lx,G.ly)}function x(R,Z,$,ie,N){$||($=Z,$.attr("pointer-events","all"));var F=!m($)||N.type==="buttons"?N.buttons:[],G=N.type==="dropdown"?t.dropdownButtonClassName:t.buttonClassName,W=$.selectAll("g."+G).data(r.filterVisible(F)),X=W.enter().append("g").classed(G,!0),J=W.exit();N.type==="dropdown"?(X.attr("opacity","0").transition().attr("opacity","1"),J.transition().attr("opacity","0").remove()):J.remove();var ne=0,ue=0,ye=N._dims,Me=["up","down"].indexOf(N.direction)!==-1;N.type==="dropdown"&&(Me?ue=ye.headerHeight+t.gapButtonHeader:ne=ye.headerWidth+t.gapButtonHeader),N.type==="dropdown"&&N.direction==="up"&&(ue=-t.gapButtonHeader+t.gapButton-ye.openHeight),N.type==="dropdown"&&N.direction==="left"&&(ne=-t.gapButtonHeader+t.gapButton-ye.openWidth);var oe={x:ye.lx+ne+N.pad.l,y:ye.ly+ue+N.pad.t,yPad:t.gapButton,xPad:t.gapButton,index:0},ve={l:oe.x+N.borderwidth,t:oe.y+N.borderwidth};W.each(function(H,Y){var S=l.select(this);S.call(p,N,H,R).call(L,N,oe),S.on("click",function(){l.event.defaultPrevented||(H.execute&&(H.args2&&N.active===Y?(d(R,N,H,Z,$,ie,-1),g.executeAPICommand(R,H.method,H.args2)):(d(R,N,H,Z,$,ie,Y),g.executeAPICommand(R,H.method,H.args))),R.emit("plotly_buttonclicked",{menu:N,button:H,active:N.active}))}),S.on("mouseover",function(){S.call(_)}),S.on("mouseout",function(){S.call(k,N),W.call(w,N)})}),W.call(w,N),Me?(ve.w=Math.max(ye.openWidth,ye.headerWidth),ve.h=oe.y-ve.t):(ve.w=oe.x-ve.l,ve.h=Math.max(ye.openHeight,ye.headerHeight)),ve.direction=N.direction,ie&&(W.size()?M(R,Z,$,ie,N,ve):c(ie))}function M(R,Z,$,ie,N,F){var G=N.direction,W=G==="up"||G==="down",X=N._dims,J=N.active,ne,ue,ye;if(W)for(ue=0,ye=0;ye<J;ye++)ue+=X.heights[ye]+t.gapButton;else for(ne=0,ye=0;ye<J;ye++)ne+=X.widths[ye]+t.gapButton;ie.enable(F,ne,ue),ie.hbar&&ie.hbar.attr("opacity","0").transition().attr("opacity","1"),ie.vbar&&ie.vbar.attr("opacity","0").transition().attr("opacity","1")}function c(R){var Z=!!R.hbar,$=!!R.vbar;Z&&R.hbar.transition().attr("opacity","0").each("end",function(){Z=!1,$||R.disable()}),$&&R.vbar.transition().attr("opacity","0").each("end",function(){$=!1,Z||R.disable()})}function p(R,Z,$,ie){R.call(v,Z).call(b,Z,$,ie)}function v(R,Z){var $=r.ensureSingle(R,"rect",t.itemRectClassName,function(ie){ie.attr({rx:t.rx,ry:t.ry,"shape-rendering":"crispEdges"})});$.call(s.stroke,Z.bordercolor).call(s.fill,Z.bgcolor).style("stroke-width",Z.borderwidth+"px")}function b(R,Z,$,ie){var N=r.ensureSingle(R,"text",t.itemTextClassName,function(W){W.attr({"text-anchor":"start","data-notex":1})}),F=$.label,G=ie._fullLayout._meta;G&&(F=r.templateString(F,G)),N.call(i.font,Z.font).text(F).call(f.convertToTspans,ie)}function w(R,Z){var $=Z.active;R.each(function(ie,N){var F=l.select(this);N===$&&Z.showactive&&F.select("rect."+t.itemRectClassName).call(s.fill,t.activeColor)})}function _(R){R.select("rect."+t.itemRectClassName).call(s.fill,t.hoverColor)}function k(R,Z){R.select("rect."+t.itemRectClassName).call(s.fill,Z.bgcolor)}function B(R,Z){var $=Z._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},ie=i.tester.selectAll("g."+t.dropdownButtonClassName).data(r.filterVisible(Z.buttons));ie.enter().append("g").classed(t.dropdownButtonClassName,!0);var N=["up","down"].indexOf(Z.direction)!==-1;ie.each(function(ne,ue){var ye=l.select(this);ye.call(p,Z,ne,R);var Me=ye.select("."+t.itemTextClassName),oe=Me.node()&&i.bBox(Me.node()).width,ve=Math.max(oe+t.textPadX,t.minWidth),H=Z.font.size*n,Y=f.lineCount(Me),S=Math.max(H*Y,t.minHeight)+t.textOffsetY;S=Math.ceil(S),ve=Math.ceil(ve),$.widths[ue]=ve,$.heights[ue]=S,$.height1=Math.max($.height1,S),$.width1=Math.max($.width1,ve),N?($.totalWidth=Math.max($.totalWidth,ve),$.openWidth=$.totalWidth,$.totalHeight+=S+t.gapButton,$.openHeight+=S+t.gapButton):($.totalWidth+=ve+t.gapButton,$.openWidth+=ve+t.gapButton,$.totalHeight=Math.max($.totalHeight,S),$.openHeight=$.totalHeight)}),N?$.totalHeight-=t.gapButton:$.totalWidth-=t.gapButton,$.headerWidth=$.width1+t.arrowPadX,$.headerHeight=$.height1,Z.type==="dropdown"&&(N?($.width1+=t.arrowPadX,$.totalHeight=$.height1):$.totalWidth=$.width1,$.totalWidth+=t.arrowPadX),ie.remove();var F=$.totalWidth+Z.pad.l+Z.pad.r,G=$.totalHeight+Z.pad.t+Z.pad.b,W=R._fullLayout._size;$.lx=W.l+W.w*Z.x,$.ly=W.t+W.h*(1-Z.y);var X="left";r.isRightAnchor(Z)&&($.lx-=F,X="right"),r.isCenterAnchor(Z)&&($.lx-=F/2,X="center");var J="top";r.isBottomAnchor(Z)&&($.ly-=G,J="bottom"),r.isMiddleAnchor(Z)&&($.ly-=G/2,J="middle"),$.totalWidth=Math.ceil($.totalWidth),$.totalHeight=Math.ceil($.totalHeight),$.lx=Math.round($.lx),$.ly=Math.round($.ly),g.autoMargin(R,U(Z),{x:Z.x,y:Z.y,l:F*({right:1,center:.5}[X]||0),r:F*({left:1,center:.5}[X]||0),b:G*({top:1,middle:.5}[J]||0),t:G*({bottom:1,middle:.5}[J]||0)})}function U(R){return t.autoMarginIdRoot+R._index}function L(R,Z,$,ie){ie=ie||{};var N=R.select("."+t.itemRectClassName),F=R.select("."+t.itemTextClassName),G=Z.borderwidth,W=$.index,X=Z._dims;i.setTranslate(R,G+$.x,G+$.y);var J=["up","down"].indexOf(Z.direction)!==-1,ne=ie.height||(J?X.heights[W]:X.height1);N.attr({x:0,y:0,width:ie.width||(J?X.width1:X.widths[W]),height:ne});var ue=Z.font.size*n,ye=f.lineCount(F),Me=(ye-1)*ue/2;f.positionText(F,t.textOffsetX,ne/2-Me+t.textOffsetY),J?$.y+=X.heights[W]+$.yPad:$.x+=X.widths[W]+$.xPad,$.index++}function O(R,Z){R.attr(t.menuIndexAttrName,Z||"-1").selectAll("g."+t.dropdownButtonClassName).remove()}},763:function(te,z,e){var l=e(5909);te.exports={moduleType:"component",name:l.name,layoutAttributes:e(7163),supplyLayoutDefaults:e(4897),draw:e(3689)}},5849:function(te,z,e){te.exports=r;var l=e(9898),g=e(7901),s=e(1424),i=e(1828);function r(f,o,n){this.gd=f,this.container=o,this.id=n,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}r.barWidth=2,r.barLength=20,r.barRadius=2,r.barPad=1,r.barColor="#808BA4",r.prototype.enable=function(o,n,t){var u=this.gd._fullLayout,h=u.width,m=u.height;this.position=o;var y=this.position.l,d=this.position.w,T=this.position.t,x=this.position.h,M=this.position.direction,c=M==="down",p=M==="left",v=M==="right",b=M==="up",w=d,_=x,k,B,U,L;!c&&!p&&!v&&!b&&(this.position.direction="down",c=!0);var O=c||b;O?(k=y,B=k+w,c?(U=T,L=Math.min(U+_,m),_=L-U):(L=T+_,U=Math.max(L-_,0),_=L-U)):(U=T,L=U+_,p?(B=y+w,k=Math.max(B-w,0),w=B-k):(k=y,B=Math.min(k+w,h),w=B-k)),this._box={l:k,t:U,w,h:_};var R=d>w,Z=r.barLength+2*r.barPad,$=r.barWidth+2*r.barPad,ie=y,N=T+x;N+$>m&&(N=m-$);var F=this.container.selectAll("rect.scrollbar-horizontal").data(R?[0]:[]);F.exit().on(".drag",null).remove(),F.enter().append("rect").classed("scrollbar-horizontal",!0).call(g.fill,r.barColor),R?(this.hbar=F.attr({rx:r.barRadius,ry:r.barRadius,x:ie,y:N,width:Z,height:$}),this._hbarXMin=ie+Z/2,this._hbarTranslateMax=w-Z):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var G=x>_,W=r.barWidth+2*r.barPad,X=r.barLength+2*r.barPad,J=y+d,ne=T;J+W>h&&(J=h-W);var ue=this.container.selectAll("rect.scrollbar-vertical").data(G?[0]:[]);ue.exit().on(".drag",null).remove(),ue.enter().append("rect").classed("scrollbar-vertical",!0).call(g.fill,r.barColor),G?(this.vbar=ue.attr({rx:r.barRadius,ry:r.barRadius,x:J,y:ne,width:W,height:X}),this._vbarYMin=ne+X/2,this._vbarTranslateMax=_-X):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var ye=this.id,Me=k-.5,oe=G?B+W+.5:B+.5,ve=U-.5,H=R?L+$+.5:L+.5,Y=u._topdefs.selectAll("#"+ye).data(R||G?[0]:[]);if(Y.exit().remove(),Y.enter().append("clipPath").attr("id",ye).append("rect"),R||G?(this._clipRect=Y.select("rect").attr({x:Math.floor(Me),y:Math.floor(ve),width:Math.ceil(oe)-Math.floor(Me),height:Math.ceil(H)-Math.floor(ve)}),this.container.call(s.setClipUrl,ye,this.gd),this.bg.attr({x:y,y:T,width:d,height:x})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(s.setClipUrl,null),delete this._clipRect),R||G){var S=l.behavior.drag().on("dragstart",function(){l.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(S);var E=l.behavior.drag().on("dragstart",function(){l.event.sourceEvent.preventDefault(),l.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));R&&this.hbar.on(".drag",null).call(E),G&&this.vbar.on(".drag",null).call(E)}this.setTranslate(n,t)},r.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(s.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},r.prototype._onBoxDrag=function(){var o=this.translateX,n=this.translateY;this.hbar&&(o-=l.event.dx),this.vbar&&(n-=l.event.dy),this.setTranslate(o,n)},r.prototype._onBoxWheel=function(){var o=this.translateX,n=this.translateY;this.hbar&&(o+=l.event.deltaY),this.vbar&&(n+=l.event.deltaY),this.setTranslate(o,n)},r.prototype._onBarDrag=function(){var o=this.translateX,n=this.translateY;if(this.hbar){var t=o+this._hbarXMin,u=t+this._hbarTranslateMax,h=i.constrain(l.event.x,t,u),m=(h-t)/(u-t),y=this.position.w-this._box.w;o=m*y}if(this.vbar){var d=n+this._vbarYMin,T=d+this._vbarTranslateMax,x=i.constrain(l.event.y,d,T),M=(x-d)/(T-d),c=this.position.h-this._box.h;n=M*c}this.setTranslate(o,n)},r.prototype.setTranslate=function(o,n){var t=this.position.w-this._box.w,u=this.position.h-this._box.h;if(o=i.constrain(o||0,0,t),n=i.constrain(n||0,0,u),this.translateX=o,this.translateY=n,this.container.call(s.setTranslate,this._box.l-this.position.l-o,this._box.t-this.position.t-n),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+o-.5),y:Math.floor(this.position.t+n-.5)}),this.hbar){var h=o/t;this.hbar.call(s.setTranslate,o+h*this._hbarTranslateMax,n)}if(this.vbar){var m=n/u;this.vbar.call(s.setTranslate,o,n+m*this._vbarTranslateMax)}}},8783:function(te){te.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},4695:function(te){te.exports={axisRefDescription:function(z,e,l){return["If set to a",z,"axis id (e.g. *"+z+"* or","*"+z+"2*), the `"+z+"` position refers to a",z,"coordinate. If set to *paper*, the `"+z+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+l+"). If set to a",z,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+z+"2 domain* refers to the domain of the second",z," axis and a",z,"position of 0.5 refers to the","point between the",e,"and the",l,"of the domain of the","second",z,"axis."].join(" ")}}},1562:function(te){te.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},4808:function(te){te.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},7822:function(te){te.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},606:function(te){te.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:""}},7922:function(te,z){z.xmlns="http://www.w3.org/2000/xmlns/",z.svg="http://www.w3.org/2000/svg",z.xlink="http://www.w3.org/1999/xlink",z.svgAttrs={xmlns:z.svg,"xmlns:xlink":z.xlink}},8729:function(te,z,e){z.version=e(1506).version,e(7417),e(8847);for(var l=e(3972),g=z.register=l.register,s=e(641),i=Object.keys(s),r=0;r<i.length;r++){var f=i[r];f.charAt(0)!=="_"&&(z[f]=s[f]),g({moduleType:"apiMethod",name:f,fn:s[f]})}g(e(7368)),g([e(2745),e(2468),e(7322),e(9853),e(8804),e(763),e(3243),e(3137),e(7218),e(3312),e(7369),e(1081),e(2311),e(2199),e(211),e(4168)]),g([e(2177),e(7815)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(g(window.PlotlyLocales),delete window.PlotlyLocales),z.Icons=e(4255);var o=e(211),n=e(4875);z.Plots={resize:n.resize,graphJson:n.graphJson,sendDataToCloud:n.sendDataToCloud},z.Fx={hover:o.hover,unhover:o.unhover,loneHover:o.loneHover,loneUnhover:o.loneUnhover},z.Snapshot=e(4511),z.PlotSchema=e(6281)},4255:function(te){te.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},9863:function(te,z){z.isLeftAnchor=function(l){return l.xanchor==="left"||l.xanchor==="auto"&&l.x<=.3333333333333333},z.isCenterAnchor=function(l){return l.xanchor==="center"||l.xanchor==="auto"&&l.x>.3333333333333333&&l.x<.6666666666666666},z.isRightAnchor=function(l){return l.xanchor==="right"||l.xanchor==="auto"&&l.x>=.6666666666666666},z.isTopAnchor=function(l){return l.yanchor==="top"||l.yanchor==="auto"&&l.y>=.6666666666666666},z.isMiddleAnchor=function(l){return l.yanchor==="middle"||l.yanchor==="auto"&&l.y>.3333333333333333&&l.y<.6666666666666666},z.isBottomAnchor=function(l){return l.yanchor==="bottom"||l.yanchor==="auto"&&l.y<=.3333333333333333}},6348:function(te,z,e){var l=e(4872),g=l.mod,s=l.modHalf,i=Math.PI,r=2*i;function f(M){return M/180*i}function o(M){return M/i*180}function n(M){return Math.abs(M[1]-M[0])>r-1e-14}function t(M,c){return s(c-M,r)}function u(M,c){return Math.abs(t(M,c))}function h(M,c){if(n(c))return!0;var p,v;c[0]<c[1]?(p=c[0],v=c[1]):(p=c[1],v=c[0]),p=g(p,r),v=g(v,r),p>v&&(v+=r);var b=g(M,r),w=b+r;return b>=p&&b<=v||w>=p&&w<=v}function m(M,c,p,v){if(!h(c,v))return!1;var b,w;return p[0]<p[1]?(b=p[0],w=p[1]):(b=p[1],w=p[0]),M>=b&&M<=w}function y(M,c,p,v,b,w,_){b=b||0,w=w||0;var k=n([p,v]),B,U,L,O,R;k?(B=0,U=i,L=r):p<v?(B=p,L=v):(B=v,L=p),M<c?(O=M,R=c):(O=c,R=M);function Z(F,G){return[F*Math.cos(G)+b,w-F*Math.sin(G)]}var $=Math.abs(L-B)<=i?0:1;function ie(F,G,W){return"A"+[F,F]+" "+[0,$,W]+" "+Z(F,G)}var N;return k?O===null?N="M"+Z(R,B)+ie(R,U,0)+ie(R,L,0)+"Z":N="M"+Z(O,B)+ie(O,U,0)+ie(O,L,0)+"ZM"+Z(R,B)+ie(R,U,1)+ie(R,L,1)+"Z":O===null?(N="M"+Z(R,B)+ie(R,L,0),_&&(N+="L0,0Z")):N="M"+Z(O,B)+"L"+Z(R,B)+ie(R,L,0)+"L"+Z(O,L)+ie(O,B,1)+"Z",N}function d(M,c,p,v,b){return y(null,M,c,p,v,b,0)}function T(M,c,p,v,b){return y(null,M,c,p,v,b,1)}function x(M,c,p,v,b,w){return y(M,c,p,v,b,w,1)}te.exports={deg2rad:f,rad2deg:o,angleDelta:t,angleDist:u,isFullCircle:n,isAngleInsideSector:h,isPtInsideSector:m,pathArc:d,pathSector:T,pathAnnulus:x}},3627:function(te,z){var e=Array.isArray,l=ArrayBuffer,g=DataView;function s(o){return l.isView(o)&&!(o instanceof g)}z.isTypedArray=s;function i(o){return e(o)||s(o)}z.isArrayOrTypedArray=i;function r(o){return!i(o[0])}z.isArray1D=r,z.ensureArray=function(o,n){return e(o)||(o=[]),o.length=n,o},z.concat=function(){var o=[],n=!0,t=0,u,h,m,y,d,T,x,M;for(m=0;m<arguments.length;m++)y=arguments[m],T=y.length,T&&(h?o.push(y):(h=y,d=T),e(y)?u=!1:(n=!1,t?u!==y.constructor&&(u=!1):u=y.constructor),t+=T);if(!t)return[];if(!o.length)return h;if(n)return h.concat.apply(h,o);if(u){for(x=new u(t),x.set(h),m=0;m<o.length;m++)y=o[m],x.set(y,d),d+=y.length;return x}for(x=new Array(t),M=0;M<h.length;M++)x[M]=h[M];for(m=0;m<o.length;m++){for(y=o[m],M=0;M<y.length;M++)x[d+M]=y[M];d+=M}return x},z.maxRowLength=function(o){return f(o,Math.max,0)},z.minRowLength=function(o){return f(o,Math.min,1/0)};function f(o,n,t){if(i(o))if(i(o[0])){for(var u=t,h=0;h<o.length;h++)u=n(u,o[h].length);return u}else return o.length;return 0}},5218:function(te,z,e){var l=e(2770),g=e(606).BADNUM,s=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;te.exports=function(r){return typeof r=="string"&&(r=r.replace(s,"")),l(r)?Number(r):g}},3306:function(te){te.exports=function(e){var l=e._fullLayout;l._glcanvas&&l._glcanvas.size()&&l._glcanvas.each(function(g){g.regl&&g.regl.clear({color:!0,depth:!0})})}},6367:function(te){te.exports=function(e){e._responsiveChartHandler&&(window.removeEventListener("resize",e._responsiveChartHandler),delete e._responsiveChartHandler)}},6554:function(te,z,e){var l=e(2770),g=e(4267),s=e(9012),i=e(3282),r=e(7901),f=e(7822).DESELECTDIM,o=e(5487),n=e(587).counter,t=e(4872).modHalf,u=e(3627).isArrayOrTypedArray;z.valObjectMeta={data_array:{coerceFunction:function(m,y,d){u(m)?y.set(m):d!==void 0&&y.set(d)}},enumerated:{coerceFunction:function(m,y,d,T){T.coerceNumber&&(m=+m),T.values.indexOf(m)===-1?y.set(d):y.set(m)},validateFunction:function(m,y){y.coerceNumber&&(m=+m);for(var d=y.values,T=0;T<d.length;T++){var x=String(d[T]);if(x.charAt(0)==="/"&&x.charAt(x.length-1)==="/"){var M=new RegExp(x.substr(1,x.length-2));if(M.test(m))return!0}else if(m===d[T])return!0}return!1}},boolean:{coerceFunction:function(m,y,d){m===!0||m===!1?y.set(m):y.set(d)}},number:{coerceFunction:function(m,y,d,T){!l(m)||T.min!==void 0&&m<T.min||T.max!==void 0&&m>T.max?y.set(d):y.set(+m)}},integer:{coerceFunction:function(m,y,d,T){m%1||!l(m)||T.min!==void 0&&m<T.min||T.max!==void 0&&m>T.max?y.set(d):y.set(+m)}},string:{coerceFunction:function(m,y,d,T){if(typeof m!="string"){var x=typeof m=="number";T.strict===!0||!x?y.set(d):y.set(String(m))}else T.noBlank&&!m?y.set(d):y.set(m)}},color:{coerceFunction:function(m,y,d){g(m).isValid()?y.set(m):y.set(d)}},colorlist:{coerceFunction:function(m,y,d){function T(x){return g(x).isValid()}!Array.isArray(m)||!m.length?y.set(d):m.every(T)?y.set(m):y.set(d)}},colorscale:{coerceFunction:function(m,y,d){y.set(i.get(m,d))}},angle:{coerceFunction:function(m,y,d){m==="auto"?y.set("auto"):l(m)?y.set(t(+m,360)):y.set(d)}},subplotid:{coerceFunction:function(m,y,d,T){var x=T.regex||n(d);if(typeof m=="string"&&x.test(m)){y.set(m);return}y.set(d)},validateFunction:function(m,y){var d=y.dflt;return m===d?!0:typeof m!="string"?!1:!!n(d).test(m)}},flaglist:{coerceFunction:function(m,y,d,T){if((T.extras||[]).indexOf(m)!==-1){y.set(m);return}if(typeof m!="string"){y.set(d);return}for(var x=m.split("+"),M=0;M<x.length;){var c=x[M];T.flags.indexOf(c)===-1||x.indexOf(c)<M?x.splice(M,1):M++}x.length?y.set(x.join("+")):y.set(d)}},any:{coerceFunction:function(m,y,d){m===void 0?y.set(d):y.set(m)}},info_array:{coerceFunction:function(m,y,d,T){function x(Z,$,ie){var N,F={set:function(G){N=G}};return ie===void 0&&(ie=$.dflt),z.valObjectMeta[$.valType].coerceFunction(Z,F,ie,$),N}var M=T.dimensions===2||T.dimensions==="1-2"&&Array.isArray(m)&&Array.isArray(m[0]);if(!Array.isArray(m)){y.set(d);return}var c=T.items,p=[],v=Array.isArray(c),b=v&&M&&Array.isArray(c[0]),w=M&&v&&!b,_=v&&!w?c.length:m.length,k,B,U,L,O,R;if(d=Array.isArray(d)?d:[],M)for(k=0;k<_;k++)for(p[k]=[],U=Array.isArray(m[k])?m[k]:[],w?O=c.length:v?O=c[k].length:O=U.length,B=0;B<O;B++)w?L=c[B]:v?L=c[k][B]:L=c,R=x(U[B],L,(d[k]||[])[B]),R!==void 0&&(p[k][B]=R);else for(k=0;k<_;k++)R=x(m[k],v?c[k]:c,d[k]),R!==void 0&&(p[k]=R);y.set(p)},validateFunction:function(m,y){if(!Array.isArray(m))return!1;var d=y.items,T=Array.isArray(d),x=y.dimensions===2;if(!y.freeLength&&m.length!==d.length)return!1;for(var M=0;M<m.length;M++)if(x){if(!Array.isArray(m[M])||!y.freeLength&&m[M].length!==d[M].length)return!1;for(var c=0;c<m[M].length;c++)if(!h(m[M][c],T?d[M][c]:d))return!1}else if(!h(m[M],T?d[M]:d))return!1;return!0}}},z.coerce=function(m,y,d,T,x){var M=o(d,T).get(),c=o(m,T),p=o(y,T),v=c.get(),b=y._template;if(v===void 0&&b&&(v=o(b,T).get(),b=0),x===void 0&&(x=M.dflt),M.arrayOk&&u(v))return p.set(v),v;var w=z.valObjectMeta[M.valType].coerceFunction;w(v,p,x,M);var _=p.get();return b&&_===x&&!h(v,M)&&(v=o(b,T).get(),w(v,p,x,M),_=p.get()),_},z.coerce2=function(m,y,d,T,x){var M=o(m,T),c=z.coerce(m,y,d,T,x),p=M.get();return p!=null?c:!1},z.coerceFont=function(m,y,d){var T={};return d=d||{},T.family=m(y+".family",d.family),T.size=m(y+".size",d.size),T.color=m(y+".color",d.color),T},z.coercePattern=function(m,y,d,T){var x=m(y+".shape");if(x){m(y+".solidity"),m(y+".size");var M=m(y+".fillmode"),c=M==="overlay";if(!T){var p=m(y+".bgcolor",c?d:void 0);m(y+".fgcolor",c?r.contrast(p):d)}m(y+".fgopacity",c?.5:1)}},z.coerceHoverinfo=function(m,y,d){var T=y._module.attributes,x=T.hoverinfo?T:s,M=x.hoverinfo,c;if(d._dataLength===1){var p=M.dflt==="all"?M.flags.slice():M.dflt.split("+");p.splice(p.indexOf("name"),1),c=p.join("+")}return z.coerce(m,y,x,"hoverinfo",c)},z.coerceSelectionMarkerOpacity=function(m,y){if(m.marker){var d=m.marker.opacity;if(d!==void 0){var T,x;!u(d)&&!m.selected&&!m.unselected&&(T=d,x=f*d),y("selected.marker.opacity",T),y("unselected.marker.opacity",x)}}};function h(m,y){var d=z.valObjectMeta[y.valType];if(y.arrayOk&&u(m))return!0;if(d.validateFunction)return d.validateFunction(m,y);var T={},x=T,M={set:function(c){x=c}};return d.coerceFunction(m,M,T,y),x!==T}z.validate=h},1631:function(te,z,e){var l=e(4096).i$,g=e(2770),s=e(7769),i=e(4872).mod,r=e(606),f=r.BADNUM,o=r.ONEDAY,n=r.ONEHOUR,t=r.ONEMIN,u=r.ONESEC,h=r.EPOCHJD,m=e(3972),y=e(4096).g0,d=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,T=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,x=new Date().getFullYear()-70;function M(N){return N&&m.componentsRegistry.calendars&&typeof N=="string"&&N!=="gregorian"}z.dateTick0=function(N,F){var G=c(N,!!F);if(F<2)return G;var W=z.dateTime2ms(G,N);return W+=o*(F-1),z.ms2DateTime(W,0,N)};function c(N,F){return M(N)?F?m.getComponentMethod("calendars","CANONICAL_SUNDAY")[N]:m.getComponentMethod("calendars","CANONICAL_TICK")[N]:F?"2000-01-02":"2000-01-01"}z.dfltRange=function(N){return M(N)?m.getComponentMethod("calendars","DFLTRANGE")[N]:["2000-01-01","2001-01-01"]},z.isJSDate=function(N){return typeof N=="object"&&N!==null&&typeof N.getTime=="function"};var p,v;z.dateTime2ms=function(N,F){if(z.isJSDate(N)){var G=N.getTimezoneOffset()*t,W=(N.getUTCMinutes()-N.getMinutes())*t+(N.getUTCSeconds()-N.getSeconds())*u+(N.getUTCMilliseconds()-N.getMilliseconds());if(W){var X=3*t;G=G-X/2+i(W-G+X/2,X)}return N=Number(N)-G,N>=p&&N<=v?N:f}if(typeof N!="string"&&typeof N!="number")return f;N=String(N);var J=M(F),ne=N.charAt(0);J&&(ne==="G"||ne==="g")&&(N=N.substr(1),F="");var ue=J&&F.substr(0,7)==="chinese",ye=N.match(ue?T:d);if(!ye)return f;var Me=ye[1],oe=ye[3]||"1",ve=Number(ye[5]||1),H=Number(ye[7]||0),Y=Number(ye[9]||0),S=Number(ye[11]||0);if(J){if(Me.length===2)return f;Me=Number(Me);var E;try{var I=m.getComponentMethod("calendars","getCal")(F);if(ue){var C=oe.charAt(oe.length-1)==="i";oe=parseInt(oe,10),E=I.newDate(Me,I.toMonthIndex(Me,oe,C),ve)}else E=I.newDate(Me,Number(oe),ve)}catch{return f}return E?(E.toJD()-h)*o+H*n+Y*t+S*u:f}Me.length===2?Me=(Number(Me)+2e3-x)%100+x:Me=Number(Me),oe-=1;var K=new Date(Date.UTC(2e3,oe,ve,H,Y));return K.setUTCFullYear(Me),K.getUTCMonth()!==oe||K.getUTCDate()!==ve?f:K.getTime()+S*u},p=z.MIN_MS=z.dateTime2ms("-9999"),v=z.MAX_MS=z.dateTime2ms("9999-12-31 23:59:59.9999"),z.isDateTime=function(N,F){return z.dateTime2ms(N,F)!==f};function b(N,F){return String(N+Math.pow(10,F)).substr(1)}var w=90*o,_=3*n,k=5*t;z.ms2DateTime=function(N,F,G){if(typeof N!="number"||!(N>=p&&N<=v))return f;F||(F=0);var W=Math.floor(i(N+.05,1)*10),X=Math.round(N-W/10),J,ne,ue,ye,Me,oe;if(M(G)){var ve=Math.floor(X/o)+h,H=Math.floor(i(N,o));try{J=m.getComponentMethod("calendars","getCal")(G).fromJD(ve).formatDate("yyyy-mm-dd")}catch{J=y("G%Y-%m-%d")(new Date(X))}if(J.charAt(0)==="-")for(;J.length<11;)J="-0"+J.substr(1);else for(;J.length<10;)J="0"+J;ne=F<w?Math.floor(H/n):0,ue=F<w?Math.floor(H%n/t):0,ye=F<_?Math.floor(H%t/u):0,Me=F<k?H%u*10+W:0}else oe=new Date(X),J=y("%Y-%m-%d")(oe),ne=F<w?oe.getUTCHours():0,ue=F<w?oe.getUTCMinutes():0,ye=F<_?oe.getUTCSeconds():0,Me=F<k?oe.getUTCMilliseconds()*10+W:0;return B(J,ne,ue,ye,Me)},z.ms2DateTimeLocal=function(N){if(!(N>=p+o&&N<=v-o))return f;var F=Math.floor(i(N+.05,1)*10),G=new Date(Math.round(N-F/10)),W=l("%Y-%m-%d")(G),X=G.getHours(),J=G.getMinutes(),ne=G.getSeconds(),ue=G.getUTCMilliseconds()*10+F;return B(W,X,J,ne,ue)};function B(N,F,G,W,X){if((F||G||W||X)&&(N+=" "+b(F,2)+":"+b(G,2),(W||X)&&(N+=":"+b(W,2),X))){for(var J=4;X%10===0;)J-=1,X/=10;N+="."+b(X,J)}return N}z.cleanDate=function(N,F,G){if(N===f)return F;if(z.isJSDate(N)||typeof N=="number"&&isFinite(N)){if(M(G))return s.error("JS Dates and milliseconds are incompatible with world calendars",N),F;if(N=z.ms2DateTimeLocal(+N),!N&&F!==void 0)return F}else if(!z.isDateTime(N,G))return s.error("unrecognized date",N),F;return N};var U=/%\d?f/g,L=/%h/g,O={1:"1",2:"1",3:"2",4:"2"};function R(N,F,G,W){N=N.replace(U,function(J){var ne=Math.min(+J.charAt(1)||6,6),ue=(F/1e3%1+2).toFixed(ne).substr(2).replace(/0+$/,"")||"0";return ue});var X=new Date(Math.floor(F+.05));if(N=N.replace(L,function(){return O[G("%q")(X)]}),M(W))try{N=m.getComponentMethod("calendars","worldCalFmt")(N,F,W)}catch{return"Invalid"}return G(N)(X)}var Z=[59,59.9,59.99,59.999,59.9999];function $(N,F){var G=i(N+.05,o),W=b(Math.floor(G/n),2)+":"+b(i(Math.floor(G/t),60),2);if(F!=="M"){g(F)||(F=0);var X=Math.min(i(N/u,60),Z[F]),J=(100+X).toFixed(F).substr(1);F>0&&(J=J.replace(/0+$/,"").replace(/[\.]$/,"")),W+=":"+J}return W}z.formatDate=function(N,F,G,W,X,J){if(X=M(X)&&X,!F)if(G==="y")F=J.year;else if(G==="m")F=J.month;else if(G==="d")F=J.dayMonth+`
`+J.year;else return $(N,G)+`
`+R(J.dayMonthYear,N,W,X);return R(F,N,W,X)};var ie=3*o;z.incrementMonth=function(N,F,G){G=M(G)&&G;var W=i(N,o);if(N=Math.round(N-W),G)try{var X=Math.round(N/o)+h,J=m.getComponentMethod("calendars","getCal")(G),ne=J.fromJD(X);return F%12?J.add(ne,F,"m"):J.add(ne,F/12,"y"),(ne.toJD()-h)*o+W}catch{s.error("invalid ms "+N+" in calendar "+G)}var ue=new Date(N+ie);return ue.setUTCMonth(ue.getUTCMonth()+F)+W-ie},z.findExactDates=function(N,F){for(var G=0,W=0,X=0,J=0,ne,ue,ye=M(F)&&m.getComponentMethod("calendars","getCal")(F),Me=0;Me<N.length;Me++){if(ue=N[Me],!g(ue)){J++;continue}if(!(ue%o))if(ye)try{ne=ye.fromJD(ue/o+h),ne.day()===1?ne.month()===1?G++:W++:X++}catch{}else ne=new Date(ue),ne.getUTCDate()===1?ne.getUTCMonth()===0?G++:W++:X++}W+=G,X+=W;var oe=N.length-J;return{exactYears:G/oe,exactMonths:W/oe,exactDays:X/oe}}},4401:function(te,z,e){var l=e(9898),g=e(7769),s=e(5657),i=e(9576);function r(x){var M;if(typeof x=="string"){if(M=document.getElementById(x),M===null)throw new Error("No DOM element with id '"+x+"' exists on the page.");return M}else if(x==null)throw new Error("DOM element provided is null or undefined");return x}function f(x){var M=l.select(x);return M.node()instanceof HTMLElement&&M.size()&&M.classed("js-plotly-plot")}function o(x){var M=x&&x.parentNode;M&&M.removeChild(x)}function n(x,M){t("global",x,M)}function t(x,M,c){var p="plotly.js-style-"+x,v=document.getElementById(p);v||(v=document.createElement("style"),v.setAttribute("id",p),v.appendChild(document.createTextNode("")),document.head.appendChild(v));var b=v.sheet;b.insertRule?b.insertRule(M+"{"+c+"}",0):b.addRule?b.addRule(M,c,0):g.warn("addStyleRule failed")}function u(x){var M="plotly.js-style-"+x,c=document.getElementById(M);c&&o(c)}function h(x){var M=y(x),c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return M.forEach(function(p){var v=m(p);if(v){var b=s.convertCssMatrix(v);c=i.multiply(c,c,b)}}),c}function m(x){var M=window.getComputedStyle(x,null),c=M.getPropertyValue("-webkit-transform")||M.getPropertyValue("-moz-transform")||M.getPropertyValue("-ms-transform")||M.getPropertyValue("-o-transform")||M.getPropertyValue("transform");return c==="none"?null:c.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(p){return+p})}function y(x){for(var M=[];d(x);)M.push(x),x=x.parentNode;return M}function d(x){return x&&(x instanceof Element||x instanceof HTMLElement)}function T(x,M){return x&&M&&x.top===M.top&&x.left===M.left&&x.right===M.right&&x.bottom===M.bottom}te.exports={getGraphDiv:r,isPlotDiv:f,removeElement:o,addStyleRule:n,addRelatedStyleRule:t,deleteRelatedStyleRule:u,getFullTransformMatrix:h,getElementTransformMatrix:m,getElementAndAncestors:y,equalDomRects:T}},1086:function(te,z,e){var l=e(5398).EventEmitter,g={init:function(s){if(s._ev instanceof l)return s;var i=new l,r=new l;return s._ev=i,s._internalEv=r,s.on=i.on.bind(i),s.once=i.once.bind(i),s.removeListener=i.removeListener.bind(i),s.removeAllListeners=i.removeAllListeners.bind(i),s._internalOn=r.on.bind(r),s._internalOnce=r.once.bind(r),s._removeInternalListener=r.removeListener.bind(r),s._removeAllInternalListeners=r.removeAllListeners.bind(r),s.emit=function(f,o){typeof jQuery<"u"&&jQuery(s).trigger(f,o),i.emit(f,o),r.emit(f,o)},s},triggerHandler:function(s,i,r){var f,o;typeof jQuery<"u"&&(f=jQuery(s).triggerHandler(i,r));var n=s._ev;if(!n)return f;var t=n._events[i];if(!t)return f;function u(m){if(m.listener){if(n.removeListener(i,m.listener),!m.fired)return m.fired=!0,m.listener.apply(n,[r])}else return m.apply(n,[r])}t=Array.isArray(t)?t:[t];var h;for(h=0;h<t.length-1;h++)u(t[h]);return o=u(t[h]),f!==void 0?f:o},purge:function(s){return delete s._ev,delete s.on,delete s.once,delete s.removeListener,delete s.removeAllListeners,delete s.emit,delete s._ev,delete s._internalEv,delete s._internalOn,delete s._internalOnce,delete s._removeInternalListener,delete s._removeAllInternalListeners,s}};te.exports=g},1426:function(te,z,e){var l=e(1965),g=Array.isArray;function s(r,f){var o,n;for(o=0;o<r.length;o++){if(n=r[o],n!==null&&typeof n=="object")return!1;n!==void 0&&(f[o]=n)}return!0}z.extendFlat=function(){return i(arguments,!1,!1,!1)},z.extendDeep=function(){return i(arguments,!0,!1,!1)},z.extendDeepAll=function(){return i(arguments,!0,!0,!1)},z.extendDeepNoArrays=function(){return i(arguments,!0,!1,!0)};function i(r,f,o,n){var t=r[0],u=r.length,h,m,y,d,T,x,M;if(u===2&&g(t)&&g(r[1])&&t.length===0){if(M=s(r[1],t),M)return t;t.splice(0,t.length)}for(var c=1;c<u;c++){h=r[c];for(m in h)y=t[m],d=h[m],n&&g(d)?t[m]=d:f&&d&&(l(d)||(T=g(d)))?(T?(T=!1,x=y&&g(y)?y:[]):x=y&&l(y)?y:{},t[m]=i([x,d],f,o,n)):(typeof d<"u"||o)&&(t[m]=d)}return t}},5744:function(te){te.exports=function(e){for(var l={},g=[],s=0,i=0;i<e.length;i++){var r=e[i];l[r]!==1&&(l[r]=1,g[s++]=r)}return g}},6756:function(te){te.exports=function(s){for(var i=l(s)?e:z,r=[],f=0;f<s.length;f++){var o=s[f];i(o)&&r.push(o)}return r};function z(g){return g.visible===!0}function e(g){var s=g[0].trace;return s.visible===!0&&s._length!==0}function l(g){return Array.isArray(g)&&Array.isArray(g[0])&&g[0][0]&&g[0][0].trace}},7642:function(te,z,e){var l=e(4872).mod;z.segmentsIntersect=g;function g(o,n,t,u,h,m,y,d){var T=t-o,x=h-o,M=y-h,c=u-n,p=m-n,v=d-m,b=T*v-M*c;if(b===0)return null;var w=(x*v-M*p)/b,_=(x*c-T*p)/b;return _<0||_>1||w<0||w>1?null:{x:o+T*w,y:n+c*w}}z.segmentDistance=function(n,t,u,h,m,y,d,T){if(g(n,t,u,h,m,y,d,T))return 0;var x=u-n,M=h-t,c=d-m,p=T-y,v=x*x+M*M,b=c*c+p*p,w=Math.min(s(x,M,v,m-n,y-t),s(x,M,v,d-n,T-t),s(c,p,b,n-m,t-y),s(c,p,b,u-m,h-y));return Math.sqrt(w)};function s(o,n,t,u,h){var m=u*o+h*n;if(m<0)return u*u+h*h;if(m>t){var y=u-o,d=h-n;return y*y+d*d}else{var T=u*n-h*o;return T*T/t}}var i,r,f;z.getTextLocation=function(n,t,u,h){if((n!==r||h!==f)&&(i={},r=n,f=h),i[u])return i[u];var m=n.getPointAtLength(l(u-h/2,t)),y=n.getPointAtLength(l(u+h/2,t)),d=Math.atan((y.y-m.y)/(y.x-m.x)),T=n.getPointAtLength(l(u,t)),x=(T.x*4+m.x+y.x)/6,M=(T.y*4+m.y+y.y)/6,c={x,y:M,theta:d};return i[u]=c,c},z.clearLocationCache=function(){r=null},z.getVisibleSegment=function(n,t,u){var h=t.left,m=t.right,y=t.top,d=t.bottom,T=0,x=n.getTotalLength(),M=x,c,p;function v(w){var _=n.getPointAtLength(w);w===0?c=_:w===x&&(p=_);var k=_.x<h?h-_.x:_.x>m?_.x-m:0,B=_.y<y?y-_.y:_.y>d?_.y-d:0;return Math.sqrt(k*k+B*B)}for(var b=v(T);b;){if(T+=b+u,T>M)return;b=v(T)}for(b=v(M);b;){if(M-=b+u,T>M)return;b=v(M)}return{min:T,max:M,len:M-T,total:x,isClosed:T===0&&M===x&&Math.abs(c.x-p.x)<.1&&Math.abs(c.y-p.y)<.1}},z.findPointOnPath=function(n,t,u,h){h=h||{};for(var m=h.pathLength||n.getTotalLength(),y=h.tolerance||.001,d=h.iterationLimit||30,T=n.getPointAtLength(0)[u]>n.getPointAtLength(m)[u]?-1:1,x=0,M=0,c=m,p,v,b;x<d;){if(p=(M+c)/2,v=n.getPointAtLength(p),b=v[u]-t,Math.abs(b)<y)return v;T*b>0?c=p:M=p,x++}return v}},3389:function(te){te.exports=function(e){return e}},9240:function(te){te.exports=function(e,l){if(!l)return e;var g=1/Math.abs(l),s=g>1?(g*e+g*l)/g:e+l,i=String(s).length;if(i>16){var r=String(l).length,f=String(e).length;if(i>=f+r){var o=parseFloat(s).toPrecision(12);o.indexOf("e+")===-1&&(s=+o)}}return s}},1828:function(te,z,e){var l=e(9898),g=e(4096).g0,s=e(721).WU,i=e(2770),r=e(606),f=r.FP_SAFE,o=-f,n=r.BADNUM,t=te.exports={};t.adjustFormat=function(E){return!E||/^\d[.]\df/.test(E)||/[.]\d%/.test(E)?E:E==="0.f"?"~f":/^\d%/.test(E)?"~%":/^\ds/.test(E)?"~s":!/^[~,.0$]/.test(E)&&/[&fps]/.test(E)?"~"+E:E};var u={};t.warnBadFormat=function(S){var E=String(S);u[E]||(u[E]=1,t.warn('encountered bad format: "'+E+'"'))},t.noFormat=function(S){return String(S)},t.numberFormat=function(S){var E;try{E=s(t.adjustFormat(S))}catch{return t.warnBadFormat(S),t.noFormat}return E},t.nestedProperty=e(5487),t.keyedContainer=e(6636),t.relativeAttr=e(6962),t.isPlainObject=e(1965),t.toLogRange=e(8163),t.relinkPrivateKeys=e(1332);var h=e(3627);t.isTypedArray=h.isTypedArray,t.isArrayOrTypedArray=h.isArrayOrTypedArray,t.isArray1D=h.isArray1D,t.ensureArray=h.ensureArray,t.concat=h.concat,t.maxRowLength=h.maxRowLength,t.minRowLength=h.minRowLength;var m=e(4872);t.mod=m.mod,t.modHalf=m.modHalf;var y=e(6554);t.valObjectMeta=y.valObjectMeta,t.coerce=y.coerce,t.coerce2=y.coerce2,t.coerceFont=y.coerceFont,t.coercePattern=y.coercePattern,t.coerceHoverinfo=y.coerceHoverinfo,t.coerceSelectionMarkerOpacity=y.coerceSelectionMarkerOpacity,t.validate=y.validate;var d=e(1631);t.dateTime2ms=d.dateTime2ms,t.isDateTime=d.isDateTime,t.ms2DateTime=d.ms2DateTime,t.ms2DateTimeLocal=d.ms2DateTimeLocal,t.cleanDate=d.cleanDate,t.isJSDate=d.isJSDate,t.formatDate=d.formatDate,t.incrementMonth=d.incrementMonth,t.dateTick0=d.dateTick0,t.dfltRange=d.dfltRange,t.findExactDates=d.findExactDates,t.MIN_MS=d.MIN_MS,t.MAX_MS=d.MAX_MS;var T=e(5888);t.findBin=T.findBin,t.sorterAsc=T.sorterAsc,t.sorterDes=T.sorterDes,t.distinctVals=T.distinctVals,t.roundUp=T.roundUp,t.sort=T.sort,t.findIndexOfMin=T.findIndexOfMin,t.sortObjectKeys=e(8607);var x=e(38);t.aggNums=x.aggNums,t.len=x.len,t.mean=x.mean,t.median=x.median,t.midRange=x.midRange,t.variance=x.variance,t.stdev=x.stdev,t.interp=x.interp;var M=e(5657);t.init2dArray=M.init2dArray,t.transposeRagged=M.transposeRagged,t.dot=M.dot,t.translationMatrix=M.translationMatrix,t.rotationMatrix=M.rotationMatrix,t.rotationXYMatrix=M.rotationXYMatrix,t.apply3DTransform=M.apply3DTransform,t.apply2DTransform=M.apply2DTransform,t.apply2DTransform2=M.apply2DTransform2,t.convertCssMatrix=M.convertCssMatrix,t.inverseTransformMatrix=M.inverseTransformMatrix;var c=e(6348);t.deg2rad=c.deg2rad,t.rad2deg=c.rad2deg,t.angleDelta=c.angleDelta,t.angleDist=c.angleDist,t.isFullCircle=c.isFullCircle,t.isAngleInsideSector=c.isAngleInsideSector,t.isPtInsideSector=c.isPtInsideSector,t.pathArc=c.pathArc,t.pathSector=c.pathSector,t.pathAnnulus=c.pathAnnulus;var p=e(9863);t.isLeftAnchor=p.isLeftAnchor,t.isCenterAnchor=p.isCenterAnchor,t.isRightAnchor=p.isRightAnchor,t.isTopAnchor=p.isTopAnchor,t.isMiddleAnchor=p.isMiddleAnchor,t.isBottomAnchor=p.isBottomAnchor;var v=e(7642);t.segmentsIntersect=v.segmentsIntersect,t.segmentDistance=v.segmentDistance,t.getTextLocation=v.getTextLocation,t.clearLocationCache=v.clearLocationCache,t.getVisibleSegment=v.getVisibleSegment,t.findPointOnPath=v.findPointOnPath;var b=e(1426);t.extendFlat=b.extendFlat,t.extendDeep=b.extendDeep,t.extendDeepAll=b.extendDeepAll,t.extendDeepNoArrays=b.extendDeepNoArrays;var w=e(7769);t.log=w.log,t.warn=w.warn,t.error=w.error;var _=e(587);t.counterRegex=_.counter;var k=e(9990);t.throttle=k.throttle,t.throttleDone=k.done,t.clearThrottle=k.clear;var B=e(4401);t.getGraphDiv=B.getGraphDiv,t.isPlotDiv=B.isPlotDiv,t.removeElement=B.removeElement,t.addStyleRule=B.addStyleRule,t.addRelatedStyleRule=B.addRelatedStyleRule,t.deleteRelatedStyleRule=B.deleteRelatedStyleRule,t.getFullTransformMatrix=B.getFullTransformMatrix,t.getElementTransformMatrix=B.getElementTransformMatrix,t.getElementAndAncestors=B.getElementAndAncestors,t.equalDomRects=B.equalDomRects,t.clearResponsive=e(6367),t.preserveDrawingBuffer=e(5142),t.makeTraceGroups=e(7310),t._=e(5867),t.notifier=e(5046),t.filterUnique=e(5744),t.filterVisible=e(6756),t.pushUnique=e(5138),t.increment=e(9240),t.cleanNumber=e(5218),t.ensureNumber=function(E){return i(E)?(E=Number(E),E>f||E<o?n:E):n},t.isIndex=function(S,E){return E!==void 0&&S>=E?!1:i(S)&&S>=0&&S%1===0},t.noop=e(4213),t.identity=e(3389),t.repeat=function(S,E){for(var I=new Array(E),C=0;C<E;C++)I[C]=S;return I},t.swapAttrs=function(S,E,I,C){I||(I="x"),C||(C="y");for(var K=0;K<E.length;K++){var P=E[K],j=t.nestedProperty(S,P.replace("?",I)),ae=t.nestedProperty(S,P.replace("?",C)),fe=j.get();j.set(ae.get()),ae.set(fe)}},t.raiseToTop=function(E){E.parentNode.appendChild(E)},t.cancelTransition=function(S){return S.transition().duration(0)},t.constrain=function(S,E,I){return E>I?Math.max(I,Math.min(E,S)):Math.max(E,Math.min(I,S))},t.bBoxIntersect=function(S,E,I){return I=I||0,S.left<=E.right+I&&E.left<=S.right+I&&S.top<=E.bottom+I&&E.top<=S.bottom+I},t.simpleMap=function(S,E,I,C,K){for(var P=S.length,j=new Array(P),ae=0;ae<P;ae++)j[ae]=E(S[ae],I,C,K);return j},t.randstr=function S(E,I,C,K){if(C||(C=16),I===void 0&&(I=24),I<=0)return"0";var P=Math.log(Math.pow(2,I))/Math.log(C),j="",ae,fe,de;for(ae=2;P===1/0;ae*=2)P=Math.log(Math.pow(2,I/ae))/Math.log(C)*ae;var Ce=P-Math.floor(P);for(ae=0;ae<Math.floor(P);ae++)de=Math.floor(Math.random()*C).toString(C),j=de+j;Ce&&(fe=Math.pow(C,Ce),de=Math.floor(Math.random()*fe).toString(C),j=de+j);var De=parseInt(j,C);return E&&E[j]||De!==1/0&&De>=Math.pow(2,I)?K>10?(t.warn("randstr failed uniqueness"),j):S(E,I,C,(K||0)+1):j},t.OptionControl=function(S,E){S||(S={}),E||(E="opt");var I={};return I.optionList=[],I._newoption=function(C){C[E]=S,I[C.name]=C,I.optionList.push(C)},I["_"+E]=S,I},t.smooth=function(S,E){if(E=Math.round(E)||0,E<2)return S;var I=S.length,C=2*I,K=2*E-1,P=new Array(K),j=new Array(I),ae,fe,de,Ce;for(ae=0;ae<K;ae++)P[ae]=(1-Math.cos(Math.PI*(ae+1)/E))/(2*E);for(ae=0;ae<I;ae++){for(Ce=0,fe=0;fe<K;fe++)de=ae+fe+1-E,de<-I?de-=C*Math.round(de/C):de>=C&&(de-=C*Math.floor(de/C)),de<0?de=-1-de:de>=I&&(de=C-1-de),Ce+=S[de]*P[fe];j[ae]=Ce}return j},t.syncOrAsync=function(S,E,I){var C,K;function P(){return t.syncOrAsync(S,E,I)}for(;S.length;)if(K=S.splice(0,1)[0],C=K(E),C&&C.then)return C.then(P);return I&&I(E)},t.stripTrailingSlash=function(S){return S.substr(-1)==="/"?S.substr(0,S.length-1):S},t.noneOrAll=function(S,E,I){if(S){var C=!1,K=!0,P,j;for(P=0;P<I.length;P++)j=S[I[P]],j!=null?C=!0:K=!1;if(C&&!K)for(P=0;P<I.length;P++)S[I[P]]=E[I[P]]}},t.mergeArray=function(S,E,I,C){var K=typeof C=="function";if(t.isArrayOrTypedArray(S))for(var P=Math.min(S.length,E.length),j=0;j<P;j++){var ae=S[j];E[j][I]=K?C(ae):ae}},t.mergeArrayCastPositive=function(S,E,I){return t.mergeArray(S,E,I,function(C){var K=+C;return isFinite(K)&&K>0?K:0})},t.fillArray=function(S,E,I,C){if(C=C||t.identity,t.isArrayOrTypedArray(S))for(var K=0;K<E.length;K++)E[K][I]=C(S[K])},t.castOption=function(S,E,I,C){C=C||t.identity;var K=t.nestedProperty(S,I).get();return t.isArrayOrTypedArray(K)?Array.isArray(E)&&t.isArrayOrTypedArray(K[E[0]])?C(K[E[0]][E[1]]):C(K[E]):K},t.extractOption=function(S,E,I,C){if(I in S)return S[I];var K=t.nestedProperty(E,C).get();if(!Array.isArray(K))return K};function U(S){var E={};for(var I in S)for(var C=S[I],K=0;K<C.length;K++)E[C[K]]=+I;return E}t.tagSelected=function(S,E,I){var C=E.selectedpoints,K=E._indexToPoints,P;K&&(P=U(K));function j(De){return De!==void 0&&De<S.length}for(var ae=0;ae<C.length;ae++){var fe=C[ae];if(t.isIndex(fe)||t.isArrayOrTypedArray(fe)&&t.isIndex(fe[0])&&t.isIndex(fe[1])){var de=P?P[fe]:fe,Ce=I?I[de]:de;j(Ce)&&(S[Ce].selected=1)}}},t.selIndices2selPoints=function(S){var E=S.selectedpoints,I=S._indexToPoints;if(I){for(var C=U(I),K=[],P=0;P<E.length;P++){var j=E[P];if(t.isIndex(j)){var ae=C[j];t.isIndex(ae)&&K.push(ae)}}return K}else return E},t.getTargetArray=function(S,E){var I=E.target;if(typeof I=="string"&&I){var C=t.nestedProperty(S,I).get();return Array.isArray(C)?C:!1}else if(Array.isArray(I))return I;return!1};function L(S,E,I){var C={};typeof E!="object"&&(E={});var K=I==="pieLike"?-1:3,P=Object.keys(S),j,ae,fe;for(j=0;j<P.length;j++)ae=P[j],fe=S[ae],!(ae.charAt(0)==="_"||typeof fe=="function")&&(ae==="module"?C[ae]=fe:Array.isArray(fe)?ae==="colorscale"||K===-1?C[ae]=fe.slice():C[ae]=fe.slice(0,K):t.isTypedArray(fe)?K===-1?C[ae]=fe.subarray():C[ae]=fe.subarray(0,K):fe&&typeof fe=="object"?C[ae]=L(S[ae],E[ae],I):C[ae]=fe);for(P=Object.keys(E),j=0;j<P.length;j++)ae=P[j],fe=E[ae],(typeof fe!="object"||!(ae in C)||typeof C[ae]!="object")&&(C[ae]=fe);return C}t.minExtend=L,t.titleCase=function(S){return S.charAt(0).toUpperCase()+S.substr(1)},t.containsAny=function(S,E){for(var I=0;I<E.length;I++)if(S.indexOf(E[I])!==-1)return!0;return!1},t.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var O=/Version\/[\d\.]+.*Safari/;t.isSafari=function(){return O.test(window.navigator.userAgent)};var R=/iPad|iPhone|iPod/;t.isIOS=function(){return R.test(window.navigator.userAgent)};var Z=/Firefox\/(\d+)\.\d+/;t.getFirefoxVersion=function(){var S=Z.exec(window.navigator.userAgent);if(S&&S.length===2){var E=parseInt(S[1]);if(!isNaN(E))return E}return null},t.isD3Selection=function(S){return S instanceof l.selection},t.ensureSingle=function(S,E,I,C){var K=S.select(E+(I?"."+I:""));if(K.size())return K;var P=S.append(E);return I&&P.classed(I,!0),C&&P.call(C),P},t.ensureSingleById=function(S,E,I,C){var K=S.select(E+"#"+I);if(K.size())return K;var P=S.append(E).attr("id",I);return C&&P.call(C),P},t.objectFromPath=function(S,E){for(var I=S.split("."),C,K=C={},P=0;P<I.length;P++){var j=I[P],ae=null,fe=I[P].match(/(.*)\[([0-9]+)\]/);fe?(j=fe[1],ae=fe[2],C=C[j]=[],P===I.length-1?C[ae]=E:C[ae]={},C=C[ae]):(P===I.length-1?C[j]=E:C[j]={},C=C[j])}return K};var $=/^([^\[\.]+)\.(.+)?/,ie=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function N(S){return S.slice(0,2)==="__"}t.expandObjectPaths=function(S){var E,I,C,K,P,j,ae;if(typeof S=="object"&&!Array.isArray(S)){for(I in S)if(S.hasOwnProperty(I))if(E=I.match($)){if(K=S[I],C=E[1],N(C))continue;delete S[I],S[C]=t.extendDeepNoArrays(S[C]||{},t.objectFromPath(I,t.expandObjectPaths(K))[C])}else if(E=I.match(ie)){if(K=S[I],C=E[1],N(C))continue;if(P=parseInt(E[2]),delete S[I],S[C]=S[C]||[],E[3]===".")ae=E[4],j=S[C][P]=S[C][P]||{},t.extendDeepNoArrays(j,t.objectFromPath(ae,t.expandObjectPaths(K)));else{if(N(C))continue;S[C][P]=t.expandObjectPaths(K)}}else{if(N(I))continue;S[I]=t.expandObjectPaths(S[I])}}return S},t.numSeparate=function(S,E,I){if(I||(I=!1),typeof E!="string"||E.length===0)throw new Error("Separator string required for formatting!");typeof S=="number"&&(S=String(S));var C=/(\d+)(\d{3})/,K=E.charAt(0),P=E.charAt(1),j=S.split("."),ae=j[0],fe=j.length>1?K+j[1]:"";if(P&&(j.length>1||ae.length>4||I))for(;C.test(ae);)ae=ae.replace(C,"$1"+P+"$2");return ae+fe},t.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var F=/^\w*$/;t.templateString=function(S,E){var I={};return S.replace(t.TEMPLATE_STRING_REGEX,function(C,K){var P;return F.test(K)?P=E[K]:(I[K]=I[K]||t.nestedProperty(E,K).get,P=I[K]()),t.isValidTextValue(P)?P:""})};var G={max:10,count:0,name:"hovertemplate"};t.hovertemplateString=function(){return ye.apply(G,arguments)};var W={max:10,count:0,name:"texttemplate"};t.texttemplateString=function(){return ye.apply(W,arguments)};var X=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function J(S){var E=S.match(X);return E?{key:E[1],op:E[2],number:Number(E[3])}:{key:S,op:null,number:null}}var ne={max:10,count:0,name:"texttemplate",parseMultDiv:!0};t.texttemplateStringForShapes=function(){return ye.apply(ne,arguments)};var ue=/^[:|\|]/;function ye(S,E,I){var C=this,K=arguments;E||(E={});var P={};return S.replace(t.TEMPLATE_STRING_REGEX,function(j,ae,fe){var de=ae==="xother"||ae==="yother",Ce=ae==="_xother"||ae==="_yother",De=ae==="_xother_"||ae==="_yother_",ce=ae==="xother_"||ae==="yother_",me=de||Ce||ce||De,pe=ae;(Ce||De)&&(pe=pe.substring(1)),(ce||De)&&(pe=pe.substring(0,pe.length-1));var Ee=null,Ae=null;if(C.parseMultDiv){var xe=J(pe);pe=xe.key,Ee=xe.op,Ae=xe.number}var Fe;if(me){if(Fe=E[pe],Fe===void 0)return""}else{var Ke,je;for(je=3;je<K.length;je++)if(Ke=K[je],!!Ke){if(Ke.hasOwnProperty(pe)){Fe=Ke[pe];break}if(F.test(pe)||(Fe=t.nestedProperty(Ke,pe).get(),Fe=P[pe]||t.nestedProperty(Ke,pe).get(),Fe&&(P[pe]=Fe)),Fe!==void 0)break}}if(Fe!==void 0&&(Ee==="*"&&(Fe*=Ae),Ee==="/"&&(Fe/=Ae)),Fe===void 0&&C)return C.count<C.max&&(t.warn("Variable '"+pe+"' in "+C.name+" could not be found!"),Fe=j),C.count===C.max&&t.warn("Too many "+C.name+" warnings - additional warnings will be suppressed"),C.count++,j;if(fe){var Ve;if(fe[0]===":"&&(Ve=I?I.numberFormat:t.numberFormat,Fe=Ve(fe.replace(ue,""))(Fe)),fe[0]==="|"){Ve=I?I.timeFormat:g;var dt=t.dateTime2ms(Fe);Fe=t.formatDate(dt,fe.replace(ue,""),!1,Ve)}}else{var bt=pe+"Label";E.hasOwnProperty(bt)&&(Fe=E[bt])}return me&&(Fe="("+Fe+")",(Ce||De)&&(Fe=" "+Fe),(ce||De)&&(Fe=Fe+" ")),Fe})}var Me=48,oe=57;t.subplotSort=function(S,E){for(var I=Math.min(S.length,E.length)+1,C=0,K=0,P=0;P<I;P++){var j=S.charCodeAt(P)||0,ae=E.charCodeAt(P)||0,fe=j>=Me&&j<=oe,de=ae>=Me&&ae<=oe;if(fe&&(C=10*C+j-Me),de&&(K=10*K+ae-Me),!fe||!de){if(C!==K)return C-K;if(j!==ae)return j-ae}}return K-C};var ve=2e9;t.seedPseudoRandom=function(){ve=2e9},t.pseudoRandom=function(){var S=ve;return ve=(69069*ve+1)%4294967296,Math.abs(ve-S)<429496729?t.pseudoRandom():ve/4294967296},t.fillText=function(S,E,I){var C=Array.isArray(I)?function(j){I.push(j)}:function(j){I.text=j},K=t.extractOption(S,E,"htx","hovertext");if(t.isValidTextValue(K))return C(K);var P=t.extractOption(S,E,"tx","text");if(t.isValidTextValue(P))return C(P)},t.isValidTextValue=function(S){return S||S===0},t.formatPercent=function(S,E){E=E||0;for(var I=(Math.round(100*S*Math.pow(10,E))*Math.pow(.1,E)).toFixed(E)+"%",C=0;C<E;C++)I.indexOf(".")!==-1&&(I=I.replace("0%","%"),I=I.replace(".%","%"));return I},t.isHidden=function(S){var E=window.getComputedStyle(S).display;return!E||E==="none"},t.strTranslate=function(S,E){return S||E?"translate("+S+","+E+")":""},t.strRotate=function(S){return S?"rotate("+S+")":""},t.strScale=function(S){return S!==1?"scale("+S+")":""},t.getTextTransform=function(S){var E=S.noCenter,I=S.textX,C=S.textY,K=S.targetX,P=S.targetY,j=S.anchorX||0,ae=S.anchorY||0,fe=S.rotate,de=S.scale;return de?de>1&&(de=1):de=0,t.strTranslate(K-de*(I+j),P-de*(C+ae))+t.strScale(de)+(fe?"rotate("+fe+(E?"":" "+I+" "+C)+")":"")},t.setTransormAndDisplay=function(S,E){S.attr("transform",t.getTextTransform(E)),S.style("display",E.scale?null:"none")},t.ensureUniformFontSize=function(S,E){var I=t.extendFlat({},E);return I.size=Math.max(E.size,S._fullLayout.uniformtext.minsize||0),I},t.join2=function(S,E,I){var C=S.length;return C>1?S.slice(0,-1).join(E)+I+S[C-1]:S.join(E)},t.bigFont=function(S){return Math.round(1.2*S)};var H=t.getFirefoxVersion(),Y=H!==null&&H<86;t.getPositionFromD3Event=function(){return Y?[l.event.layerX,l.event.layerY]:[l.event.offsetX,l.event.offsetY]}},1965:function(te){te.exports=function(e){return window&&window.process&&window.process.versions?Object.prototype.toString.call(e)==="[object Object]":Object.prototype.toString.call(e)==="[object Object]"&&Object.getPrototypeOf(e).hasOwnProperty("hasOwnProperty")}},6636:function(te,z,e){var l=e(5487),g=/^\w*$/,s=0,i=1,r=2,f=3,o=4;te.exports=function(t,u,h,m){h=h||"name",m=m||"value";var y,d,T,x={};u&&u.length?(T=l(t,u),d=T.get()):d=t,u=u||"";var M={};if(d)for(y=0;y<d.length;y++)M[d[y][h]]=y;var c=g.test(m),p={set:function(v,b){var w=b===null?o:s;if(!d){if(!T||w===o)return;d=[],T.set(d)}var _=M[v];if(_===void 0){if(w===o)return;w=w|f,_=d.length,M[v]=_}else b!==(c?d[_][m]:l(d[_],m).get())&&(w=w|r);var k=d[_]=d[_]||{};return k[h]=v,c?k[m]=b:l(k,m).set(b),b!==null&&(w=w&~o),x[_]=x[_]|w,p},get:function(v){if(d){var b=M[v];if(b!==void 0)return c?d[b][m]:l(d[b],m).get()}},rename:function(v,b){var w=M[v];return w===void 0||(x[w]=x[w]|i,M[b]=w,delete M[v],d[w][h]=b),p},remove:function(v){var b=M[v];if(b===void 0)return p;var w=d[b];if(Object.keys(w).length>2)return x[b]=x[b]|r,p.set(v,null);if(c){for(y=b;y<d.length;y++)x[y]=x[y]|f;for(y=b;y<d.length;y++)M[d[y][h]]--;d.splice(b,1),delete M[v]}else l(w,m).set(null),x[b]=x[b]|r|o;return p},constructUpdate:function(){for(var v,b,w={},_=Object.keys(x),k=0;k<_.length;k++)b=_[k],v=u+"["+b+"]",d[b]?(x[b]&i&&(w[v+"."+h]=d[b][h]),x[b]&r&&(c?w[v+"."+m]=x[b]&o?null:d[b][m]:w[v+"."+m]=x[b]&o?null:l(d[b],m).get())):w[v]=null;return w}};return p}},5867:function(te,z,e){var l=e(3972);te.exports=function(s,i){for(var r=s._context.locale,f=0;f<2;f++){for(var o=s._context.locales,n=0;n<2;n++){var t=(o[r]||{}).dictionary;if(t){var u=t[i];if(u)return u}o=l.localeRegistry}var h=r.split("-")[0];if(h===r)break;r=h}return i}},7769:function(te,z,e){var l=e(2075).dfltConfig,g=e(5046),s=te.exports={};s.log=function(){var i;if(l.logging>1){var r=["LOG:"];for(i=0;i<arguments.length;i++)r.push(arguments[i]);console.trace.apply(console,r)}if(l.notifyOnLogging>1){var f=[];for(i=0;i<arguments.length;i++)f.push(arguments[i]);g(f.join("<br>"),"long")}},s.warn=function(){var i;if(l.logging>0){var r=["WARN:"];for(i=0;i<arguments.length;i++)r.push(arguments[i]);console.trace.apply(console,r)}if(l.notifyOnLogging>0){var f=[];for(i=0;i<arguments.length;i++)f.push(arguments[i]);g(f.join("<br>"),"stick")}},s.error=function(){var i;if(l.logging>0){var r=["ERROR:"];for(i=0;i<arguments.length;i++)r.push(arguments[i]);console.error.apply(console,r)}if(l.notifyOnLogging>0){var f=[];for(i=0;i<arguments.length;i++)f.push(arguments[i]);g(f.join("<br>"),"stick")}}},7310:function(te,z,e){var l=e(9898);te.exports=function(s,i,r){var f=s.selectAll("g."+r.replace(/\s/g,".")).data(i,function(n){return n[0].trace.uid});f.exit().remove(),f.enter().append("g").attr("class",r),f.order();var o=s.classed("rangeplot")?"nodeRangePlot3":"node3";return f.each(function(n){n[0][o]=l.select(this)}),f}},5657:function(te,z,e){var l=e(9576);z.init2dArray=function(g,s){for(var i=new Array(g),r=0;r<g;r++)i[r]=new Array(s);return i},z.transposeRagged=function(g){var s=0,i=g.length,r,f;for(r=0;r<i;r++)s=Math.max(s,g[r].length);var o=new Array(s);for(r=0;r<s;r++)for(o[r]=new Array(i),f=0;f<i;f++)o[r][f]=g[f][r];return o},z.dot=function(g,s){if(!(g.length&&s.length)||g.length!==s.length)return null;var i=g.length,r,f;if(g[0].length)for(r=new Array(i),f=0;f<i;f++)r[f]=z.dot(g[f],s);else if(s[0].length){var o=z.transposeRagged(s);for(r=new Array(o.length),f=0;f<o.length;f++)r[f]=z.dot(g,o[f])}else for(r=0,f=0;f<i;f++)r+=g[f]*s[f];return r},z.translationMatrix=function(g,s){return[[1,0,g],[0,1,s],[0,0,1]]},z.rotationMatrix=function(g){var s=g*Math.PI/180;return[[Math.cos(s),-Math.sin(s),0],[Math.sin(s),Math.cos(s),0],[0,0,1]]},z.rotationXYMatrix=function(g,s,i){return z.dot(z.dot(z.translationMatrix(s,i),z.rotationMatrix(g)),z.translationMatrix(-s,-i))},z.apply3DTransform=function(g){return function(){var s=arguments,i=arguments.length===1?s[0]:[s[0],s[1],s[2]||0];return z.dot(g,[i[0],i[1],i[2],1]).slice(0,3)}},z.apply2DTransform=function(g){return function(){var s=arguments;s.length===3&&(s=s[0]);var i=arguments.length===1?s[0]:[s[0],s[1]];return z.dot(g,[i[0],i[1],1]).slice(0,2)}},z.apply2DTransform2=function(g){var s=z.apply2DTransform(g);return function(i){return s(i.slice(0,2)).concat(s(i.slice(2,4)))}},z.convertCssMatrix=function(g){if(g){var s=g.length;if(s===16)return g;if(s===6)return[g[0],g[1],0,0,g[2],g[3],0,0,0,0,1,0,g[4],g[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},z.inverseTransformMatrix=function(g){var s=[];return l.invert(s,g),[[s[0],s[1],s[2],s[3]],[s[4],s[5],s[6],s[7]],[s[8],s[9],s[10],s[11]],[s[12],s[13],s[14],s[15]]]}},4872:function(te){function z(l,g){var s=l%g;return s<0?s+g:s}function e(l,g){return Math.abs(l)>g/2?l-Math.round(l/g)*g:l}te.exports={mod:z,modHalf:e}},5487:function(te,z,e){var l=e(2770),g=e(3627).isArrayOrTypedArray;te.exports=function(m,y){if(l(y))y=String(y);else if(typeof y!="string"||y.substr(y.length-4)==="[-1]")throw"bad property string";var d=y.split("."),T,x,M,c;for(c=0;c<d.length;c++)if(String(d[c]).slice(0,2)==="__")throw"bad property string";for(c=0;c<d.length;){if(T=String(d[c]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),T){if(T[1])d[c]=T[1];else if(c===0)d.splice(0,1);else throw"bad property string";for(x=T[2].substr(1,T[2].length-2).split("]["),M=0;M<x.length;M++)c++,d.splice(c,0,Number(x[M]))}c++}return typeof m!="object"?u(m,y,d):{set:f(m,d,y),get:s(m,d),astr:y,parts:d,obj:m}};function s(h,m){return function(){var y=h,d,T,x,M,c;for(M=0;M<m.length-1;M++){if(d=m[M],d===-1){for(T=!0,x=[],c=0;c<y.length;c++)x[c]=s(y[c],m.slice(M+1))(),x[c]!==x[0]&&(T=!1);return T?x[0]:x}if(typeof d=="number"&&!g(y)||(y=y[d],typeof y!="object"||y===null))return}if(!(typeof y!="object"||y===null)&&(x=y[m[M]],x!==null))return x}}var i=/(^|\.)args\[/;function r(h,m){return h===void 0||h===null&&!m.match(i)}function f(h,m,y){return function(d){var T=h,x="",M=r(d,y),c,p;for(p=0;p<m.length-1;p++){if(c=m[p],typeof c=="number"&&!g(T))throw"array index but container is not an array";if(c===-1){if(M=!n(T,m.slice(p+1),d,y),M)break;return}if(!t(T,c,m[p+1],M))break;if(T=T[c],typeof T!="object"||T===null)throw"container is not an object";x=o(x,c)}if(M){if(p===m.length-1&&(delete T[m[p]],Array.isArray(T)&&+m[p]===T.length-1))for(;T.length&&T[T.length-1]===void 0;)T.pop()}else T[m[p]]=d}}function o(h,m){var y=m;return l(m)?y="["+m+"]":h&&(y="."+m),h+y}function n(h,m,y,d){var T=g(y),x=!0,M=y,c=d.replace("-1",0),p=T?!1:r(y,c),v=m[0],b;for(b=0;b<h.length;b++)c=d.replace("-1",b),T&&(M=y[b%y.length],p=r(M,c)),p&&(x=!1),t(h,b,v,p)&&f(h[b],m,d.replace("-1",b))(M);return x}function t(h,m,y,d){if(h[m]===void 0){if(d)return!1;typeof y=="number"?h[m]=[]:h[m]={}}return!0}function u(h,m,y){return{set:function(){throw"bad container"},get:function(){},astr:m,parts:y,obj:h}}},4213:function(te){te.exports=function(){}},5046:function(te,z,e){var l=e(9898),g=e(2770),s=[];te.exports=function(i,r){if(s.indexOf(i)!==-1)return;s.push(i);var f=1e3;g(r)?f=r:r==="long"&&(f=3e3);var o=l.select("body").selectAll(".plotly-notifier").data([0]);o.enter().append("div").classed("plotly-notifier",!0);var n=o.selectAll(".notifier-note").data(s);function t(u){u.duration(700).style("opacity",0).each("end",function(h){var m=s.indexOf(h);m!==-1&&s.splice(m,1),l.select(this).remove()})}n.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(u){var h=l.select(this);h.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){h.transition().call(t)});for(var m=h.append("p"),y=u.split(/<br\s*\/?>/g),d=0;d<y.length;d++)d&&m.append("br"),m.append("span").text(y[d]);r==="stick"?h.transition().duration(350).style("opacity",1):h.transition().duration(700).style("opacity",1).transition().delay(f).call(t)})}},9918:function(te,z,e){var l=e(6964),g="data-savedcursor",s="!!";te.exports=function(r,f){var o=r.attr(g);if(f){if(!o){for(var n=(r.attr("class")||"").split(" "),t=0;t<n.length;t++){var u=n[t];u.indexOf("cursor-")===0&&r.attr(g,u.substr(7)).classed(u,!1)}r.attr(g)||r.attr(g,s)}l(r,f)}else o&&(r.attr(g,null),o===s?l(r):l(r,o))}},1082:function(te,z,e){var l=e(5657).dot,g=e(606).BADNUM,s=te.exports={};s.tester=function(r){var f=r.slice(),o=f[0][0],n=o,t=f[0][1],u=t,h;for((f[f.length-1][0]!==f[0][0]||f[f.length-1][1]!==f[0][1])&&f.push(f[0]),h=1;h<f.length;h++)o=Math.min(o,f[h][0]),n=Math.max(n,f[h][0]),t=Math.min(t,f[h][1]),u=Math.max(u,f[h][1]);var m=!1,y;f.length===5&&(f[0][0]===f[1][0]?f[2][0]===f[3][0]&&f[0][1]===f[3][1]&&f[1][1]===f[2][1]&&(m=!0,y=function(c){return c[0]===f[0][0]}):f[0][1]===f[1][1]&&f[2][1]===f[3][1]&&f[0][0]===f[3][0]&&f[1][0]===f[2][0]&&(m=!0,y=function(c){return c[1]===f[0][1]}));function d(c,p){var v=c[0],b=c[1];return!(v===g||v<o||v>n||b===g||b<t||b>u||p&&y(c))}function T(c,p){var v=c[0],b=c[1];if(v===g||v<o||v>n||b===g||b<t||b>u)return!1;var w=f.length,_=f[0][0],k=f[0][1],B=0,U,L,O,R,Z;for(U=1;U<w;U++)if(L=_,O=k,_=f[U][0],k=f[U][1],R=Math.min(L,_),!(v<R||v>Math.max(L,_)||b>Math.max(O,k)))if(b<Math.min(O,k))v!==R&&B++;else{if(_===L?Z=b:Z=O+(v-L)*(k-O)/(_-L),b===Z)return!(U===1&&p);b<=Z&&v!==R&&B++}return B%2===1}var x=!0,M=f[0];for(h=1;h<f.length;h++)if(M[0]!==f[h][0]||M[1]!==f[h][1]){x=!1;break}return{xmin:o,xmax:n,ymin:t,ymax:u,pts:f,contains:m?d:T,isRect:m,degenerate:x}},s.isSegmentBent=function(r,f,o,n){var t=r[f],u=[r[o][0]-t[0],r[o][1]-t[1]],h=l(u,u),m=Math.sqrt(h),y=[-u[1]/m,u[0]/m],d,T,x;for(d=f+1;d<o;d++)if(T=[r[d][0]-t[0],r[d][1]-t[1]],x=l(T,u),x<0||x>h||Math.abs(l(T,y))>n)return!0;return!1},s.filter=function(r,f){var o=[r[0]],n=0,t=0;function u(m){r.push(m);var y=o.length,d=n;o.splice(t+1);for(var T=d+1;T<r.length;T++)(T===r.length-1||s.isSegmentBent(r,d,T+1,f))&&(o.push(r[T]),o.length<y-2&&(n=T,t=o.length-1),d=T)}if(r.length>1){var h=r.pop();u(h)}return{addPt:u,raw:r,filtered:o}}},5142:function(te,z,e){var l=e(2770),g=e(5791);te.exports=function(r){var f;if(r&&r.hasOwnProperty("userAgent")?f=r.userAgent:f=s(),typeof f!="string")return!0;var o=g({ua:{headers:{"user-agent":f}},tablet:!0,featureDetect:!1});if(!o)for(var n=f.split(" "),t=1;t<n.length;t++){var u=n[t];if(u.indexOf("Safari")!==-1)for(var h=t-1;h>-1;h--){var m=n[h];if(m.substr(0,8)==="Version/"){var y=m.substr(8).split(".")[0];if(l(y)&&(y=+y),y>=13)return!0}}}return o};function s(){var i;return typeof navigator<"u"&&(i=navigator.userAgent),i&&i.headers&&typeof i.headers["user-agent"]=="string"&&(i=i.headers["user-agent"]),i}},5138:function(te){te.exports=function(e,l){if(l instanceof RegExp){for(var g=l.toString(),s=0;s<e.length;s++)if(e[s]instanceof RegExp&&e[s].toString()===g)return e;e.push(l)}else(l||l===0)&&e.indexOf(l)===-1&&e.push(l);return e}},847:function(te,z,e){var l=e(1828),g=e(2075).dfltConfig;function s(r,f){for(var o=[],n,t=0;t<f.length;t++)n=f[t],n===r?o[t]=n:typeof n=="object"?o[t]=Array.isArray(n)?l.extendDeep([],n):l.extendDeepAll({},n):o[t]=n;return o}var i={};i.add=function(r,f,o,n,t){var u,h;if(r.undoQueue=r.undoQueue||{index:0,queue:[],sequence:!1},h=r.undoQueue.index,r.autoplay){r.undoQueue.inSequence||(r.autoplay=!1);return}!r.undoQueue.sequence||r.undoQueue.beginSequence?(u={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},r.undoQueue.queue.splice(h,r.undoQueue.queue.length-h,u),r.undoQueue.index+=1):u=r.undoQueue.queue[h-1],r.undoQueue.beginSequence=!1,u&&(u.undo.calls.unshift(f),u.undo.args.unshift(o),u.redo.calls.push(n),u.redo.args.push(t)),r.undoQueue.queue.length>g.queueLength&&(r.undoQueue.queue.shift(),r.undoQueue.index--)},i.startSequence=function(r){r.undoQueue=r.undoQueue||{index:0,queue:[],sequence:!1},r.undoQueue.sequence=!0,r.undoQueue.beginSequence=!0},i.stopSequence=function(r){r.undoQueue=r.undoQueue||{index:0,queue:[],sequence:!1},r.undoQueue.sequence=!1,r.undoQueue.beginSequence=!1},i.undo=function(f){var o,n;if(!(f.undoQueue===void 0||isNaN(f.undoQueue.index)||f.undoQueue.index<=0)){for(f.undoQueue.index--,o=f.undoQueue.queue[f.undoQueue.index],f.undoQueue.inSequence=!0,n=0;n<o.undo.calls.length;n++)i.plotDo(f,o.undo.calls[n],o.undo.args[n]);f.undoQueue.inSequence=!1,f.autoplay=!1}},i.redo=function(f){var o,n;if(!(f.undoQueue===void 0||isNaN(f.undoQueue.index)||f.undoQueue.index>=f.undoQueue.queue.length)){for(o=f.undoQueue.queue[f.undoQueue.index],f.undoQueue.inSequence=!0,n=0;n<o.redo.calls.length;n++)i.plotDo(f,o.redo.calls[n],o.redo.args[n]);f.undoQueue.inSequence=!1,f.autoplay=!1,f.undoQueue.index++}},i.plotDo=function(r,f,o){r.autoplay=!0,o=s(r,o),f.apply(null,o)},te.exports=i},587:function(te,z){z.counter=function(e,l,g,s){var i=(l||"")+(g?"":"$"),r=s===!1?"":"^";return e==="xy"?new RegExp(r+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+i):new RegExp(r+e+"([2-9]|[1-9][0-9]+)?"+i)}},6962:function(te){var z=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;te.exports=function(l,g){for(;g;){var s=l.match(z);if(s)l=s[1];else if(l.match(e))l="";else throw new Error("bad relativeAttr call:"+[l,g]);if(g.charAt(0)==="^")g=g.slice(1);else break}return l&&g.charAt(0)!=="["?l+"."+g:l+g}},1332:function(te,z,e){var l=e(3627).isArrayOrTypedArray,g=e(1965);te.exports=function s(i,r){for(var f in r){var o=r[f],n=i[f];if(n!==o)if(f.charAt(0)==="_"||typeof o=="function"){if(f in i)continue;i[f]=o}else if(l(o)&&l(n)&&g(o[0])){if(f==="customdata"||f==="ids")continue;for(var t=Math.min(o.length,n.length),u=0;u<t;u++)n[u]!==o[u]&&g(o[u])&&g(n[u])&&s(n[u],o[u])}else g(o)&&g(n)&&(s(n,o),Object.keys(n).length||delete i[f])}}},5888:function(te,z,e){var l=e(2770),g=e(7769),s=e(3389),i=e(606).BADNUM,r=1e-9;z.findBin=function(u,h,m){if(l(h.start))return m?Math.ceil((u-h.start)/h.size-r)-1:Math.floor((u-h.start)/h.size+r);var y=0,d=h.length,T=0,x=d>1?(h[d-1]-h[0])/(d-1):1,M,c;for(x>=0?c=m?f:o:c=m?t:n,u+=x*r*(m?-1:1)*(x>=0?1:-1);y<d&&T++<100;)M=Math.floor((y+d)/2),c(h[M],u)?y=M+1:d=M;return T>90&&g.log("Long binary search..."),y-1};function f(u,h){return u<h}function o(u,h){return u<=h}function n(u,h){return u>h}function t(u,h){return u>=h}z.sorterAsc=function(u,h){return u-h},z.sorterDes=function(u,h){return h-u},z.distinctVals=function(u){var h=u.slice();h.sort(z.sorterAsc);var m;for(m=h.length-1;m>-1&&h[m]===i;m--);for(var y=h[m]-h[0]||1,d=y/(m||1)/1e4,T=[],x,M=0;M<=m;M++){var c=h[M],p=c-x;x===void 0?(T.push(c),x=c):p>d&&(y=Math.min(y,p),T.push(c),x=c)}return{vals:T,minDiff:y}},z.roundUp=function(u,h,m){for(var y=0,d=h.length-1,T,x=0,M=m?0:1,c=m?1:0,p=m?Math.ceil:Math.floor;y<d&&x++<100;)T=p((y+d)/2),h[T]<=u?y=T+M:d=T-c;return h[y]},z.sort=function(u,h){for(var m=0,y=0,d=1;d<u.length;d++){var T=h(u[d],u[d-1]);if(T<0?m=1:T>0&&(y=1),m&&y)return u.sort(h)}return y?u:u.reverse()},z.findIndexOfMin=function(u,h){h=h||s;for(var m=1/0,y,d=0;d<u.length;d++){var T=h(u[d]);T<m&&(m=T,y=d)}return y}},6964:function(te){te.exports=function(e,l){(e.attr("class")||"").split(" ").forEach(function(g){g.indexOf("cursor-")===0&&e.classed(g,!1)}),l&&e.classed("cursor-"+l,!0)}},8607:function(te){te.exports=function(e){return Object.keys(e).sort()}},38:function(te,z,e){var l=e(2770),g=e(3627).isArrayOrTypedArray;z.aggNums=function(s,i,r,f){var o,n;if((!f||f>r.length)&&(f=r.length),l(i)||(i=!1),g(r[0])){for(n=new Array(f),o=0;o<f;o++)n[o]=z.aggNums(s,i,r[o]);r=n}for(o=0;o<f;o++)l(i)?l(r[o])&&(i=s(+i,+r[o])):i=r[o];return i},z.len=function(s){return z.aggNums(function(i){return i+1},0,s)},z.mean=function(s,i){return i||(i=z.len(s)),z.aggNums(function(r,f){return r+f},0,s)/i},z.midRange=function(s){if(!(s===void 0||s.length===0))return(z.aggNums(Math.max,null,s)+z.aggNums(Math.min,null,s))/2},z.variance=function(s,i,r){return i||(i=z.len(s)),l(r)||(r=z.mean(s,i)),z.aggNums(function(f,o){return f+Math.pow(o-r,2)},0,s)/i},z.stdev=function(s,i,r){return Math.sqrt(z.variance(s,i,r))},z.median=function(s){var i=s.slice().sort();return z.interp(i,.5)},z.interp=function(s,i){if(!l(i))throw"n should be a finite number";if(i=i*s.length-.5,i<0)return s[0];if(i>s.length-1)return s[s.length-1];var r=i%1;return r*s[Math.ceil(i)]+(1-r)*s[Math.floor(i)]}},3893:function(te,z,e){var l=e(9898),g=e(1828),s=g.strTranslate,i=e(7922),r=e(8783).LINE_SPACING,f=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;z.convertToTspans=function(G,W,X){var J=G.text(),ne=!G.attr("data-notex")&&W&&W._context.typesetMath&&typeof MathJax<"u"&&J.match(f),ue=l.select(G.node().parentNode);if(ue.empty())return;var ye=G.attr("class")?G.attr("class").split(" ")[0]:"text";ye+="-math",ue.selectAll("svg."+ye).remove(),ue.selectAll("g."+ye+"-group").remove(),G.style("display",null).attr({"data-unformatted":J,"data-math":"N"});function Me(){ue.empty()||(ye=G.attr("class")+"-math",ue.select("svg."+ye).remove()),G.text("").style("white-space","pre");var oe=$(G.node(),J);oe&&G.style("pointer-events","all"),z.positionText(G),X&&X.call(G)}return ne?(W&&W._promises||[]).push(new Promise(function(oe){G.style("display","none");var ve=parseInt(G.node().style.fontSize,10),H={fontSize:ve};h(ne[2],H,function(Y,S,E){ue.selectAll("svg."+ye).remove(),ue.selectAll("g."+ye+"-group").remove();var I=Y&&Y.select("svg");if(!I||!I.node()){Me(),oe();return}var C=ue.append("g").classed(ye+"-group",!0).attr({"pointer-events":"none","data-unformatted":J,"data-math":"Y"});C.node().appendChild(I.node()),S&&S.node()&&I.node().insertBefore(S.node().cloneNode(!0),I.node().firstChild);var K=E.width,P=E.height;I.attr({class:ye,height:P,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var j=G.node().style.fill||"black",ae=I.select("g");ae.attr({fill:j,stroke:j});var fe=ae.node().getBoundingClientRect(),de=fe.width,Ce=fe.height;(de>K||Ce>P)&&(I.style("overflow","hidden"),fe=I.node().getBoundingClientRect(),de=fe.width,Ce=fe.height);var De=+G.attr("x"),ce=+G.attr("y"),me=ve||G.node().getBoundingClientRect().height,pe=-me/4;if(ye[0]==="y")C.attr({transform:"rotate("+[-90,De,ce]+")"+s(-de/2,pe-Ce/2)});else if(ye[0]==="l")ce=pe-Ce/2;else if(ye[0]==="a"&&ye.indexOf("atitle")!==0)De=0,ce=pe;else{var Ee=G.attr("text-anchor");De=De-de*(Ee==="middle"?.5:Ee==="end"?1:0),ce=ce+pe-Ce/2}I.attr({x:De,y:ce}),X&&X.call(G,C),oe(C)})})):Me(),G};var o=/(<|&lt;|&#60;)/g,n=/(>|&gt;|&#62;)/g;function t(G){return G.replace(o,"\\lt ").replace(n,"\\gt ")}var u=[["$","$"],["\\(","\\)"]];function h(G,W,X){var J=parseInt((MathJax.version||"").split(".")[0]);if(J!==2&&J!==3){g.warn("No MathJax version:",MathJax.version);return}var ne,ue,ye,Me,oe=function(){return ue=g.extendDeepAll({},MathJax.Hub.config),ye=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:u},displayAlign:"left"})},ve=function(){ue=g.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=u},H=function(){if(ne=MathJax.Hub.config.menuSettings.renderer,ne!=="SVG")return MathJax.Hub.setRenderer("SVG")},Y=function(){ne=MathJax.config.startup.output,ne!=="svg"&&(MathJax.config.startup.output="svg")},S=function(){var j="math-output-"+g.randstr({},64);Me=l.select("body").append("div").attr({id:j}).style({visibility:"hidden",position:"absolute","font-size":W.fontSize+"px"}).text(t(G));var ae=Me.node();return J===2?MathJax.Hub.Typeset(ae):MathJax.typeset([ae])},E=function(){var j=Me.select(J===2?".MathJax_SVG":".MathJax"),ae=!j.empty()&&Me.select("svg").node();if(!ae)g.log("There was an error in the tex syntax.",G),X();else{var fe=ae.getBoundingClientRect(),de;J===2?de=l.select("body").select("#MathJax_SVG_glyphs"):de=j.select("defs"),X(j,de,fe)}Me.remove()},I=function(){if(ne!=="SVG")return MathJax.Hub.setRenderer(ne)},C=function(){ne!=="svg"&&(MathJax.config.startup.output=ne)},K=function(){return ye!==void 0&&(MathJax.Hub.processSectionDelay=ye),MathJax.Hub.Config(ue)},P=function(){MathJax.config=ue};J===2?MathJax.Hub.Queue(oe,H,S,E,I,K):J===3&&(ve(),Y(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){S(),E(),C(),P()}))}var m={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},y={sub:"0.3em",sup:"-0.6em"},d={sub:"-0.21em",sup:"0.42em"},T="",x=["http:","https:","mailto:","",void 0,":"],M=z.NEWLINES=/(\r\n?|\n)/g,c=/(<[^<>]*>)/,p=/<(\/?)([^ >]*)(\s+(.*))?>/i,v=/<br(\s+.*)?>/i;z.BR_TAG_ALL=/<br(\s+.*)?>/gi;var b=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,w=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,_=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,k=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function B(G,W){if(!G)return null;var X=G.match(W),J=X&&(X[3]||X[4]);return J&&R(J)}var U=/(^|;)\s*color:/;z.plainText=function(G,W){W=W||{};for(var X=W.len!==void 0&&W.len!==-1?W.len:1/0,J=W.allowedTags!==void 0?W.allowedTags:["br"],ne="...",ue=ne.length,ye=G.split(c),Me=[],oe="",ve=0,H=0;H<ye.length;H++){var Y=ye[H],S=Y.match(p),E=S&&S[2].toLowerCase();if(E)J.indexOf(E)!==-1&&(Me.push(Y),oe=E);else{var I=Y.length;if(ve+I<X)Me.push(Y),ve+=I;else if(ve<X){var C=X-ve;oe&&(oe!=="br"||C<=ue||I<=ue)&&Me.pop(),X>ue?Me.push(Y.substr(0,C-ue)+ne):Me.push(Y.substr(0,C));break}oe=""}}return Me.join("")};var L={mu:"",amp:"&",lt:"<",gt:">",nbsp:"",times:"",plusmn:"",deg:""},O=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function R(G){return G.replace(O,function(W,X){var J;return X.charAt(0)==="#"?J=Z(X.charAt(1)==="x"?parseInt(X.substr(2),16):parseInt(X.substr(1),10)):J=L[X],J||W})}z.convertEntities=R;function Z(G){if(!(G>1114111)){var W=String.fromCodePoint;if(W)return W(G);var X=String.fromCharCode;return G<=65535?X(G):X((G>>10)+55232,G%1024+56320)}}function $(G,W){W=W.replace(M," ");var X=!1,J=[],ne,ue=-1;function ye(){ue++;var Ce=document.createElementNS(i.svg,"tspan");l.select(Ce).attr({class:"line",dy:ue*r+"em"}),G.appendChild(Ce),ne=Ce;var De=J;if(J=[{node:Ce}],De.length>1)for(var ce=1;ce<De.length;ce++)Me(De[ce])}function Me(Ce){var De=Ce.type,ce={},me;if(De==="a"){me="a";var pe=Ce.target,Ee=Ce.href,Ae=Ce.popup;Ee&&(ce={"xlink:xlink:show":pe==="_blank"||pe.charAt(0)!=="_"?"new":"replace",target:pe,"xlink:xlink:href":Ee},Ae&&(ce.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Ae+'");return false;'))}else me="tspan";Ce.style&&(ce.style=Ce.style);var xe=document.createElementNS(i.svg,me);if(De==="sup"||De==="sub"){oe(ne,T),ne.appendChild(xe);var Fe=document.createElementNS(i.svg,"tspan");oe(Fe,T),l.select(Fe).attr("dy",d[De]),ce.dy=y[De],ne.appendChild(xe),ne.appendChild(Fe)}else ne.appendChild(xe);l.select(xe).attr(ce),ne=Ce.node=xe,J.push(Ce)}function oe(Ce,De){Ce.appendChild(document.createTextNode(De))}function ve(Ce){if(J.length===1){g.log("Ignoring unexpected end tag </"+Ce+">.",W);return}var De=J.pop();Ce!==De.type&&g.log("Start tag <"+De.type+"> doesnt match end tag <"+Ce+">. Pretending it did match.",W),ne=J[J.length-1].node}var H=v.test(W);H?ye():(ne=G,J=[{node:G}]);for(var Y=W.split(c),S=0;S<Y.length;S++){var E=Y[S],I=E.match(p),C=I&&I[2].toLowerCase(),K=m[C];if(C==="br")ye();else if(K===void 0)oe(ne,R(E));else if(I[1])ve(C);else{var P=I[4],j={type:C},ae=B(P,b);if(ae?(ae=ae.replace(U,"$1 fill:"),K&&(ae+=";"+K)):K&&(ae=K),ae&&(j.style=ae),C==="a"){X=!0;var fe=B(P,w);if(fe){var de=ie(fe);de&&(j.href=de,j.target=B(P,_)||"_blank",j.popup=B(P,k))}}Me(j)}}return X}function ie(G){var W=encodeURI(decodeURI(G)),X=document.createElement("a"),J=document.createElement("a");X.href=G,J.href=W;var ne=X.protocol,ue=J.protocol;return x.indexOf(ne)!==-1&&x.indexOf(ue)!==-1?W:""}z.sanitizeHTML=function(W){W=W.replace(M," ");for(var X=document.createElement("p"),J=X,ne=[],ue=W.split(c),ye=0;ye<ue.length;ye++){var Me=ue[ye],oe=Me.match(p),ve=oe&&oe[2].toLowerCase();if(ve in m)if(oe[1])ne.length&&(J=ne.pop());else{var H=oe[4],Y=B(H,b),S=Y?{style:Y}:{};if(ve==="a"){var E=B(H,w);if(E){var I=ie(E);if(I){S.href=I;var C=B(H,_);C&&(S.target=C)}}}var K=document.createElement(ve);J.appendChild(K),l.select(K).attr(S),J=K,ne.push(K)}else J.appendChild(document.createTextNode(R(Me)))}var P="innerHTML";return X[P]},z.lineCount=function(W){return W.selectAll("tspan.line").size()||1},z.positionText=function(W,X,J){return W.each(function(){var ne=l.select(this);function ue(oe,ve){return ve===void 0?(ve=ne.attr(oe),ve===null&&(ne.attr(oe,0),ve=0)):ne.attr(oe,ve),ve}var ye=ue("x",X),Me=ue("y",J);this.nodeName==="text"&&ne.selectAll("tspan.line").attr({x:ye,y:Me})})};function N(G,W,X){var J=X.horizontalAlign,ne=X.verticalAlign||"top",ue=G.node().getBoundingClientRect(),ye=W.node().getBoundingClientRect(),Me,oe,ve;return ne==="bottom"?oe=function(){return ue.bottom-Me.height}:ne==="middle"?oe=function(){return ue.top+(ue.height-Me.height)/2}:oe=function(){return ue.top},J==="right"?ve=function(){return ue.right-Me.width}:J==="center"?ve=function(){return ue.left+(ue.width-Me.width)/2}:ve=function(){return ue.left},function(){Me=this.node().getBoundingClientRect();var H=ve()-ye.left,Y=oe()-ye.top,S=X.gd||{};if(X.gd){S._fullLayout._calcInverseTransform(S);var E=g.apply3DTransform(S._fullLayout._invTransform)(H,Y);H=E[0],Y=E[1]}return this.style({top:Y+"px",left:H+"px","z-index":1e3}),this}}var F="1px ";z.makeTextShadow=function(G){var W=F,X=F,J=F;return W+X+J+G+", -"+W+"-"+X+J+G+", "+W+"-"+X+J+G+", -"+W+X+J+G},z.makeEditable=function(G,W){var X=W.gd,J=W.delegate,ne=l.dispatch("edit","input","cancel"),ue=J||G;if(G.style({"pointer-events":J?"none":"all"}),G.size()!==1)throw new Error("boo");function ye(){oe(),G.style({opacity:0});var ve=ue.attr("class"),H;ve?H="."+ve.split(" ")[0]+"-math-group":H="[class*=-math-group]",H&&l.select(G.node().parentNode).select(H).style({opacity:0})}function Me(ve){var H=ve.node(),Y=document.createRange();Y.selectNodeContents(H);var S=window.getSelection();S.removeAllRanges(),S.addRange(Y),H.focus()}function oe(){var ve=l.select(X),H=ve.select(".svg-container"),Y=H.append("div"),S=G.node().style,E=parseFloat(S.fontSize||12),I=W.text;I===void 0&&(I=G.attr("data-unformatted")),Y.classed("plugin-editable editable",!0).style({position:"absolute","font-family":S.fontFamily||"Arial","font-size":E,color:W.fill||S.fill||"black",opacity:1,"background-color":W.background||"transparent",outline:"#ffffff33 1px solid",margin:[-E/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(I).call(N(G,H,W)).on("blur",function(){X._editing=!1,G.text(this.textContent).style({opacity:1});var C=l.select(this).attr("class"),K;C?K="."+C.split(" ")[0]+"-math-group":K="[class*=-math-group]",K&&l.select(G.node().parentNode).select(K).style({opacity:0});var P=this.textContent;l.select(this).transition().duration(0).remove(),l.select(document).on("mouseup",null),ne.edit.call(G,P)}).on("focus",function(){var C=this;X._editing=!0,l.select(document).on("mouseup",function(){if(l.event.target===C)return!1;document.activeElement===Y.node()&&Y.node().blur()})}).on("keyup",function(){l.event.which===27?(X._editing=!1,G.style({opacity:1}),l.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),ne.cancel.call(G,this.textContent)):(ne.input.call(G,this.textContent),l.select(this).call(N(G,H,W)))}).on("keydown",function(){l.event.which===13&&this.blur()}).call(Me)}return W.immediate?ye():ue.on("click",ye),l.rebind(G,ne,"on")}},9990:function(te,z){var e={};z.throttle=function(s,i,r){var f=e[s],o=Date.now();if(!f){for(var n in e)e[n].ts<o-6e4&&delete e[n];f=e[s]={ts:0,timer:null}}l(f);function t(){r(),f.ts=Date.now(),f.onDone&&(f.onDone(),f.onDone=null)}if(o>f.ts+i){t();return}f.timer=setTimeout(function(){t(),f.timer=null},i)},z.done=function(g){var s=e[g];return!s||!s.timer?Promise.resolve():new Promise(function(i){var r=s.onDone;s.onDone=function(){r&&r(),i(),s.onDone=null}})},z.clear=function(g){if(g)l(e[g]),delete e[g];else for(var s in e)z.clear(s)};function l(g){g&&g.timer!==null&&(clearTimeout(g.timer),g.timer=null)}},8163:function(te,z,e){var l=e(2770);te.exports=function(s,i){if(s>0)return Math.log(s)/Math.LN10;var r=Math.log(Math.min(i[0],i[1]))/Math.LN10;return l(r)||(r=Math.log(Math.max(i[0],i[1]))/Math.LN10-6),r}},7815:function(te){te.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},2177:function(te){te.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},4458:function(te,z,e){var l=e(3972);te.exports=function(s){for(var i=l.layoutArrayContainers,r=l.layoutArrayRegexes,f=s.split("[")[0],o,n,t=0;t<r.length;t++)if(n=s.match(r[t]),n&&n.index===0){o=n[0];break}if(o||(o=i[i.indexOf(f)]),!o)return!1;var u=s.substr(o.length);return u?(n=u.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),n?{array:o,index:Number(n[1]),property:n[3]||""}:!1):{array:o,index:"",property:""}}},962:function(te,z,e){var l=e(1426).extendFlat,g=e(1965),s={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},i={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},r=s.flags.slice().concat(["fullReplot"]),f=i.flags.slice().concat("layoutReplot");te.exports={traces:s,layout:i,traceFlags:function(){return o(r)},layoutFlags:function(){return o(f)},update:function(u,h){var m=h.editType;if(m&&m!=="none")for(var y=m.split("+"),d=0;d<y.length;d++)u[y[d]]=!0},overrideAll:n};function o(u){for(var h={},m=0;m<u.length;m++)h[u[m]]=!1;return h}function n(u,h,m){var y=l({},u);for(var d in y){var T=y[d];g(T)&&(y[d]=t(T,h,m,d))}return m==="from-root"&&(y.editType=h),y}function t(u,h,m,y){if(u.valType){var d=l({},u);if(d.editType=h,Array.isArray(u.items)){d.items=new Array(u.items.length);for(var T=0;T<u.items.length;T++)d.items[T]=t(u.items[T],h)}return d}else return n(u,h,y.charAt(0)==="_"?"nested":"from-root")}},8377:function(te,z,e){var l=e(2770),g=e(7812),s=e(3972),i=e(1828),r=e(4875),f=e(1675),o=e(7901),n=f.cleanId,t=f.getFromTrace,u=s.traceIs;z.clearPromiseQueue=function(v){Array.isArray(v._promises)&&v._promises.length>0&&i.log("Clearing previous rejected promises from queue."),v._promises=[]},z.cleanLayout=function(v){var b,w;v||(v={}),v.xaxis1&&(v.xaxis||(v.xaxis=v.xaxis1),delete v.xaxis1),v.yaxis1&&(v.yaxis||(v.yaxis=v.yaxis1),delete v.yaxis1),v.scene1&&(v.scene||(v.scene=v.scene1),delete v.scene1);var _=(r.subplotsRegistry.cartesian||{}).attrRegex,k=(r.subplotsRegistry.polar||{}).attrRegex,B=(r.subplotsRegistry.ternary||{}).attrRegex,U=(r.subplotsRegistry.gl3d||{}).attrRegex,L=Object.keys(v);for(b=0;b<L.length;b++){var O=L[b];if(_&&_.test(O)){var R=v[O];R.anchor&&R.anchor!=="free"&&(R.anchor=n(R.anchor)),R.overlaying&&(R.overlaying=n(R.overlaying)),R.type||(R.isdate?R.type="date":R.islog?R.type="log":R.isdate===!1&&R.islog===!1&&(R.type="linear")),(R.autorange==="withzero"||R.autorange==="tozero")&&(R.autorange=!0,R.rangemode="tozero"),delete R.islog,delete R.isdate,delete R.categories,x(R,"domain")&&delete R.domain,R.autotick!==void 0&&(R.tickmode===void 0&&(R.tickmode=R.autotick?"auto":"linear"),delete R.autotick),m(R)}else if(k&&k.test(O)){var Z=v[O];m(Z.radialaxis)}else if(B&&B.test(O)){var $=v[O];m($.aaxis),m($.baxis),m($.caxis)}else if(U&&U.test(O)){var ie=v[O],N=ie.cameraposition;if(Array.isArray(N)&&N[0].length===4){var F=N[0],G=N[1],W=N[2],X=g([],F),J=[];for(w=0;w<3;++w)J[w]=G[w]+W*X[2+4*w];ie.camera={eye:{x:J[0],y:J[1],z:J[2]},center:{x:G[0],y:G[1],z:G[2]},up:{x:0,y:0,z:1}},delete ie.cameraposition}m(ie.xaxis),m(ie.yaxis),m(ie.zaxis)}}var ne=Array.isArray(v.annotations)?v.annotations.length:0;for(b=0;b<ne;b++){var ue=v.annotations[b];i.isPlainObject(ue)&&(ue.ref&&(ue.ref==="paper"?(ue.xref="paper",ue.yref="paper"):ue.ref==="data"&&(ue.xref="x",ue.yref="y"),delete ue.ref),h(ue,"xref"),h(ue,"yref"))}var ye=Array.isArray(v.shapes)?v.shapes.length:0;for(b=0;b<ye;b++){var Me=v.shapes[b];i.isPlainObject(Me)&&(h(Me,"xref"),h(Me,"yref"))}var oe=Array.isArray(v.images)?v.images.length:0;for(b=0;b<oe;b++){var ve=v.images[b];i.isPlainObject(ve)&&(h(ve,"xref"),h(ve,"yref"))}var H=v.legend;return H&&(H.x>3?(H.x=1.02,H.xanchor="left"):H.x<-2&&(H.x=-.02,H.xanchor="right"),H.y>3?(H.y=1.02,H.yanchor="bottom"):H.y<-2&&(H.y=-.02,H.yanchor="top")),m(v),v.dragmode==="rotate"&&(v.dragmode="orbit"),o.clean(v),v.template&&v.template.layout&&z.cleanLayout(v.template.layout),v};function h(v,b){var w=v[b],_=b.charAt(0);w&&w!=="paper"&&(v[b]=n(w,_,!0))}function m(v){v&&((typeof v.title=="string"||typeof v.title=="number")&&(v.title={text:v.title}),b("titlefont","font"),b("titleposition","position"),b("titleside","side"),b("titleoffset","offset"));function b(w,_){var k=v[w],B=v.title&&v.title[_];k&&!B&&(v.title||(v.title={}),v.title[_]=v[w],delete v[w])}}z.cleanData=function(v){for(var b=0;b<v.length;b++){var w=v[b],_;if(w.type==="histogramy"&&"xbins"in w&&!("ybins"in w)&&(w.ybins=w.xbins,delete w.xbins),w.error_y&&"opacity"in w.error_y){var k=o.defaults,B=w.error_y.color||(u(w,"bar")?o.defaultLine:k[b%k.length]);w.error_y.color=o.addOpacity(o.rgb(B),o.opacity(B)*w.error_y.opacity),delete w.error_y.opacity}if("bardir"in w&&(w.bardir==="h"&&(u(w,"bar")||w.type.substr(0,9)==="histogram")&&(w.orientation="h",z.swapXYData(w)),delete w.bardir),w.type==="histogramy"&&z.swapXYData(w),(w.type==="histogramx"||w.type==="histogramy")&&(w.type="histogram"),"scl"in w&&!("colorscale"in w)&&(w.colorscale=w.scl,delete w.scl),"reversescl"in w&&!("reversescale"in w)&&(w.reversescale=w.reversescl,delete w.reversescl),w.xaxis&&(w.xaxis=n(w.xaxis,"x")),w.yaxis&&(w.yaxis=n(w.yaxis,"y")),u(w,"gl3d")&&w.scene&&(w.scene=r.subplotsRegistry.gl3d.cleanId(w.scene)),!u(w,"pie-like")&&!u(w,"bar-like"))if(Array.isArray(w.textposition))for(_=0;_<w.textposition.length;_++)w.textposition[_]=T(w.textposition[_]);else w.textposition&&(w.textposition=T(w.textposition));var U=s.getModule(w);if(U&&U.colorbar){var L=U.colorbar.container,O=L?w[L]:w;O&&O.colorscale&&(O.colorscale==="YIGnBu"&&(O.colorscale="YlGnBu"),O.colorscale==="YIOrRd"&&(O.colorscale="YlOrRd"))}if(w.type==="surface"&&i.isPlainObject(w.contours)){var R=["x","y","z"];for(_=0;_<R.length;_++){var Z=w.contours[R[_]];i.isPlainObject(Z)&&(Z.highlightColor&&(Z.highlightcolor=Z.highlightColor,delete Z.highlightColor),Z.highlightWidth&&(Z.highlightwidth=Z.highlightWidth,delete Z.highlightWidth))}}if(w.type==="candlestick"||w.type==="ohlc"){var $=(w.increasing||{}).showlegend!==!1,ie=(w.decreasing||{}).showlegend!==!1,N=y(w.increasing),F=y(w.decreasing);if(N!==!1&&F!==!1){var G=d(N,F,$,ie);G&&(w.name=G)}else(N||F)&&!w.name&&(w.name=N||F)}if(Array.isArray(w.transforms)){var W=w.transforms;for(_=0;_<W.length;_++){var X=W[_];if(i.isPlainObject(X))switch(X.type){case"filter":X.filtersrc&&(X.target=X.filtersrc,delete X.filtersrc),X.calendar&&(X.valuecalendar||(X.valuecalendar=X.calendar),delete X.calendar);break;case"groupby":if(X.styles=X.styles||X.style,X.styles&&!Array.isArray(X.styles)){var J=X.styles,ne=Object.keys(J);X.styles=[];for(var ue=0;ue<ne.length;ue++)X.styles.push({target:ne[ue],value:J[ne[ue]]})}break}}}x(w,"line")&&delete w.line,"marker"in w&&(x(w.marker,"line")&&delete w.marker.line,x(w,"marker")&&delete w.marker),o.clean(w),w.autobinx&&(delete w.autobinx,delete w.xbins),w.autobiny&&(delete w.autobiny,delete w.ybins),m(w),w.colorbar&&m(w.colorbar),w.marker&&w.marker.colorbar&&m(w.marker.colorbar),w.line&&w.line.colorbar&&m(w.line.colorbar),w.aaxis&&m(w.aaxis),w.baxis&&m(w.baxis)}};function y(v){if(!i.isPlainObject(v))return!1;var b=v.name;return delete v.name,delete v.showlegend,(typeof b=="string"||typeof b=="number")&&String(b)}function d(v,b,w,_){if(w&&!_)return v;if(_&&!w||!v.trim())return b;if(!b.trim())return v;var k=Math.min(v.length,b.length),B;for(B=0;B<k&&v.charAt(B)===b.charAt(B);B++);var U=v.substr(0,B);return U.trim()}function T(v){var b="middle",w="center";return typeof v=="string"&&(v.indexOf("top")!==-1?b="top":v.indexOf("bottom")!==-1&&(b="bottom"),v.indexOf("left")!==-1?w="left":v.indexOf("right")!==-1&&(w="right")),b+" "+w}function x(v,b){return b in v&&typeof v[b]=="object"&&Object.keys(v[b]).length===0}z.swapXYData=function(v){var b;if(i.swapAttrs(v,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(v.z)&&Array.isArray(v.z[0])&&(v.transpose?delete v.transpose:v.transpose=!0),v.error_x&&v.error_y){var w=v.error_y,_="copy_ystyle"in w?w.copy_ystyle:!(w.color||w.thickness||w.width);i.swapAttrs(v,["error_?.copy_ystyle"]),_&&i.swapAttrs(v,["error_?.color","error_?.thickness","error_?.width"])}if(typeof v.hoverinfo=="string"){var k=v.hoverinfo.split("+");for(b=0;b<k.length;b++)k[b]==="x"?k[b]="y":k[b]==="y"&&(k[b]="x");v.hoverinfo=k.join("+")}},z.coerceTraceIndices=function(v,b){if(l(b))return[b];if(!Array.isArray(b)||!b.length)return v.data.map(function(k,B){return B});if(Array.isArray(b)){for(var w=[],_=0;_<b.length;_++)i.isIndex(b[_],v.data.length)?w.push(b[_]):i.warn("trace index (",b[_],") is not a number or is out of bounds");return w}return b},z.manageArrayContainers=function(v,b,w){var _=v.obj,k=v.parts,B=k.length,U=k[B-1],L=l(U);if(L&&b===null){var O=k.slice(0,B-1).join("."),R=i.nestedProperty(_,O).get();R.splice(U,1)}else L&&v.get()===void 0&&v.get()===void 0&&(w[v.astr]=null),v.set(b)};var M=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function c(v){var b=v.search(M);if(b>0)return v.substr(0,b)}z.hasParent=function(v,b){for(var w=c(b);w;){if(w in v)return!0;w=c(w)}return!1};var p=["x","y","z"];z.clearAxisTypes=function(v,b,w){for(var _=0;_<b.length;_++)for(var k=v._fullData[_],B=0;B<3;B++){var U=t(v,k,p[B]);if(U&&U.type!=="log"){var L=U._name,O=U._id.substr(1);if(O.substr(0,5)==="scene"){if(w[O]!==void 0)continue;L=O+"."+L}var R=L+".type";w[L]===void 0&&w[R]===void 0&&i.nestedProperty(v.layout,R).set(null)}}}},641:function(te,z,e){var l=e(2391);z._doPlot=l._doPlot,z.newPlot=l.newPlot,z.restyle=l.restyle,z.relayout=l.relayout,z.redraw=l.redraw,z.update=l.update,z._guiRestyle=l._guiRestyle,z._guiRelayout=l._guiRelayout,z._guiUpdate=l._guiUpdate,z._storeDirectGUIEdit=l._storeDirectGUIEdit,z.react=l.react,z.extendTraces=l.extendTraces,z.prependTraces=l.prependTraces,z.addTraces=l.addTraces,z.deleteTraces=l.deleteTraces,z.moveTraces=l.moveTraces,z.purge=l.purge,z.addFrames=l.addFrames,z.deleteFrames=l.deleteFrames,z.animate=l.animate,z.setPlotConfig=l.setPlotConfig;var g=e(4401).getGraphDiv,s=e(4031).eraseActiveShape;z.deleteActiveShape=function(r){return s(g(r))},z.toImage=e(403),z.validate=e(4936),z.downloadImage=e(7239);var i=e(6318);z.makeTemplate=i.makeTemplate,z.validateTemplate=i.validateTemplate},6611:function(te,z,e){var l=e(1965),g=e(4213),s=e(7769),i=e(5888).sorterAsc,r=e(3972);z.containerArrayMatch=e(4458);var f=z.isAddVal=function(t){return t==="add"||l(t)},o=z.isRemoveVal=function(t){return t===null||t==="remove"};z.applyContainerArrayChanges=function(t,u,h,m,y){var d=u.astr,T=r.getComponentMethod(d,"supplyLayoutDefaults"),x=r.getComponentMethod(d,"draw"),M=r.getComponentMethod(d,"drawOne"),c=m.replot||m.recalc||T===g||x===g,p=t.layout,v=t._fullLayout;if(h[""]){Object.keys(h).length>1&&s.warn("Full array edits are incompatible with other edits",d);var b=h[""][""];if(o(b))u.set(null);else if(Array.isArray(b))u.set(b);else return s.warn("Unrecognized full array edit value",d,b),!0;return c?!1:(T(p,v),x(t),!0)}var w=Object.keys(h).map(Number).sort(i),_=u.get(),k=_||[],B=y(v,d).get(),U=[],L=-1,O=k.length,R,Z,$,ie,N,F,G,W;for(R=0;R<w.length;R++){if($=w[R],ie=h[$],N=Object.keys(ie),F=ie[""],G=f(F),$<0||$>k.length-(G?0:1)){s.warn("index out of range",d,$);continue}if(F!==void 0)N.length>1&&s.warn("Insertion & removal are incompatible with edits to the same index.",d,$),o(F)?U.push($):G?(F==="add"&&(F={}),k.splice($,0,F),B&&B.splice($,0,{})):s.warn("Unrecognized full object edit value",d,$,F),L===-1&&(L=$);else for(Z=0;Z<N.length;Z++)W=d+"["+$+"].",y(k[$],N[Z],W).set(ie[N[Z]])}for(R=U.length-1;R>=0;R--)k.splice(U[R],1),B&&B.splice(U[R],1);if(k.length?_||u.set(k):u.set(null),c)return!1;if(T(p,v),M!==g){var X;if(L===-1)X=w;else{for(O=Math.max(k.length,O),X=[],R=0;R<w.length&&($=w[R],!($>=L));R++)X.push($);for(R=L;R<O;R++)X.push(R)}for(R=0;R<X.length;R++)M(t,X[R])}else x(t);return!0}},2391:function(te,z,e){var l=e(9898),g=e(2770),s=e(7035),i=e(1828),r=i.nestedProperty,f=e(1086),o=e(847),n=e(3972),t=e(6281),u=e(4875),h=e(9298),m=e(3608),y=e(3838),d=e(1424),T=e(7901),x=e(4305).initInteractions,M=e(7922),c=e(7322).clearOutline,p=e(2075).dfltConfig,v=e(6611),b=e(8377),w=e(1549),_=e(962),k=e(5555).AX_NAME_PATTERN,B=0,U=5;function L(le,be,we,Se){var ze;if(le=i.getGraphDiv(le),f.init(le),i.isPlainObject(be)){var _e=be;be=_e.data,we=_e.layout,Se=_e.config,ze=_e.frames}var ct=f.triggerHandler(le,"plotly_beforeplot",[be,we,Se]);if(ct===!1)return Promise.reject();!be&&!we&&!i.isPlotDiv(le)&&i.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",le);function lt(){if(ze)return z.addFrames(le,ze)}ie(le,Se),we||(we={}),l.select(le).classed("js-plotly-plot",!0),d.makeTester(),Array.isArray(le._promises)||(le._promises=[]);var $e=(le.data||[]).length===0&&Array.isArray(be);Array.isArray(be)&&(b.cleanData(be),$e?le.data=be:le.data.push.apply(le.data,be),le.empty=!1),(!le.layout||$e)&&(le.layout=b.cleanLayout(we)),u.supplyDefaults(le);var Ye=le._fullLayout,nt=Ye._has("cartesian");Ye._replotting=!0,($e||Ye._shouldCreateBgLayer)&&(Oe(le),Ye._shouldCreateBgLayer&&delete Ye._shouldCreateBgLayer),d.initGradients(le),d.initPatterns(le),$e&&h.saveShowSpikeInitial(le);var wt=!le.calcdata||le.calcdata.length!==(le._fullData||[]).length;wt&&u.doCalcdata(le);for(var Et=0;Et<le.calcdata.length;Et++)le.calcdata[Et][0].trace=le._fullData[Et];le._context.responsive?le._responsiveChartHandler||(le._responsiveChartHandler=function(){i.isHidden(le)||u.resize(le)},window.addEventListener("resize",le._responsiveChartHandler)):i.clearResponsive(le);var Ht=i.extendFlat({},Ye._size),Wt=0;function Gt(){for(var Ft=Ye._basePlotModules,Xt=0;Xt<Ft.length;Xt++)Ft[Xt].drawFramework&&Ft[Xt].drawFramework(le);!Ye._glcanvas&&Ye._has("gl")&&(Ye._glcanvas=Ye._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(re){return re.key}),Ye._glcanvas.enter().append("canvas").attr("class",function(re){return"gl-canvas gl-canvas-"+re.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var rr=le._context.plotGlPixelRatio;if(Ye._glcanvas){Ye._glcanvas.attr("width",Ye.width*rr).attr("height",Ye.height*rr).style("width",Ye.width+"px").style("height",Ye.height+"px");var sr=Ye._glcanvas.data()[0].regl;if(sr&&(Math.floor(Ye.width*rr)!==sr._gl.drawingBufferWidth||Math.floor(Ye.height*rr)!==sr._gl.drawingBufferHeight)){var Ut="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(Wt)i.error(Ut);else return i.log(Ut+" Clearing graph and plotting again."),u.cleanPlot([],{},le._fullData,Ye),u.supplyDefaults(le),Ye=le._fullLayout,u.doCalcdata(le),Wt++,Gt()}}return Ye.modebar.orientation==="h"?Ye._modebardiv.style("height",null).style("width","100%"):Ye._modebardiv.style("width",null).style("height",Ye.height+"px"),u.previousPromises(le)}function Ct(){if(u.clearAutoMarginIds(le),w.drawMarginPushers(le),h.allowAutoMargin(le),le._fullLayout.title.text&&le._fullLayout.title.automargin&&u.allowAutoMargin(le,"title.automargin"),Ye._has("pie"))for(var Ft=le._fullData,Xt=0;Xt<Ft.length;Xt++){var rr=Ft[Xt];rr.type==="pie"&&rr.automargin&&u.allowAutoMargin(le,"pie."+rr.uid+".automargin")}return u.doAutoMargin(le),u.previousPromises(le)}function Vt(){if(u.didMarginChange(Ht,Ye._size))return i.syncOrAsync([Ct,w.layoutStyles],le)}function Bt(){if(!wt){_t();return}return i.syncOrAsync([n.getComponentMethod("shapes","calcAutorange"),n.getComponentMethod("annotations","calcAutorange"),_t],le)}function _t(){le._transitioning||(w.doAutoRangeAndConstraints(le),$e&&h.saveRangeInitial(le),n.getComponentMethod("rangeslider","calcAutorange")(le))}function jt(){return h.draw(le,$e?"":"redraw")}var Yt=[u.previousPromises,lt,Gt,Ct,Vt];nt&&Yt.push(Bt),Yt.push(w.layoutStyles),nt&&Yt.push(jt,function(Xt){Xt._fullLayout._insideTickLabelsAutorange&&fe(Xt,Xt._fullLayout._insideTickLabelsAutorange).then(function(){Xt._fullLayout._insideTickLabelsAutorange=void 0})}),Yt.push(w.drawData,w.finalDraw,x,u.addLinks,u.rehover,u.redrag,u.reselect,u.doAutoMargin,xt,u.previousPromises);function xt(Ft){Ft._fullLayout._insideTickLabelsAutorange&&$e&&h.saveRangeInitial(Ft,!0)}var Ot=i.syncOrAsync(Yt,le);return(!Ot||!Ot.then)&&(Ot=Promise.resolve()),Ot.then(function(){return O(le),le})}function O(le){var be=le._fullLayout;be._redrawFromAutoMarginCount?be._redrawFromAutoMarginCount--:le.emit("plotly_afterplot")}function R(le){return i.extendFlat(p,le)}function Z(le,be){try{le._fullLayout._paper.style("background",be)}catch(we){i.error(we)}}function $(le,be){var we=T.combine(be,"white");Z(le,we)}function ie(le,be){if(!le._context){le._context=i.extendDeep({},p);var we=l.select("base");le._context._baseUrl=we.size()&&we.attr("href")?window.location.href.split("#")[0]:""}var Se=le._context,ze,_e,ct;if(be){for(_e=Object.keys(be),ze=0;ze<_e.length;ze++)ct=_e[ze],!(ct==="editable"||ct==="edits")&&ct in Se&&(ct==="setBackground"&&be[ct]==="opaque"?Se[ct]=$:Se[ct]=be[ct]);be.plot3dPixelRatio&&!Se.plotGlPixelRatio&&(Se.plotGlPixelRatio=Se.plot3dPixelRatio);var lt=be.editable;if(lt!==void 0)for(Se.editable=lt,_e=Object.keys(Se.edits),ze=0;ze<_e.length;ze++)Se.edits[_e[ze]]=lt;if(be.edits)for(_e=Object.keys(be.edits),ze=0;ze<_e.length;ze++)ct=_e[ze],ct in Se.edits&&(Se.edits[ct]=be.edits[ct]);Se._exportedPlot=be._exportedPlot}Se.staticPlot&&(Se.editable=!1,Se.edits={},Se.autosizable=!1,Se.scrollZoom=!1,Se.doubleClick=!1,Se.showTips=!1,Se.showLink=!1,Se.displayModeBar=!1),Se.displayModeBar==="hover"&&!s&&(Se.displayModeBar=!0),(Se.setBackground==="transparent"||typeof Se.setBackground!="function")&&(Se.setBackground=Z),Se._hasZeroHeight=Se._hasZeroHeight||le.clientHeight===0,Se._hasZeroWidth=Se._hasZeroWidth||le.clientWidth===0;var $e=Se.scrollZoom,Ye=Se._scrollZoom={};if($e===!0)Ye.cartesian=1,Ye.gl3d=1,Ye.geo=1,Ye.mapbox=1;else if(typeof $e=="string"){var nt=$e.split("+");for(ze=0;ze<nt.length;ze++)Ye[nt[ze]]=1}else $e!==!1&&(Ye.gl3d=1,Ye.geo=1,Ye.mapbox=1)}function N(le){if(le=i.getGraphDiv(le),!i.isPlotDiv(le))throw new Error("This element is not a Plotly plot: "+le);return b.cleanData(le.data),b.cleanLayout(le.layout),le.calcdata=void 0,z._doPlot(le).then(function(){return le.emit("plotly_redraw"),le})}function F(le,be,we,Se){return le=i.getGraphDiv(le),u.cleanPlot([],{},le._fullData||[],le._fullLayout||{}),u.purge(le),z._doPlot(le,be,we,Se)}function G(le,be){var we=be+1,Se=[],ze,_e;for(ze=0;ze<le.length;ze++)_e=le[ze],_e<0?Se.push(we+_e):Se.push(_e);return Se}function W(le,be,we){var Se,ze;for(Se=0;Se<be.length;Se++){if(ze=be[Se],ze!==parseInt(ze,10))throw new Error("all values in "+we+" must be integers");if(ze>=le.data.length||ze<-le.data.length)throw new Error(we+" must be valid indices for gd.data.");if(be.indexOf(ze,Se+1)>-1||ze>=0&&be.indexOf(-le.data.length+ze)>-1||ze<0&&be.indexOf(le.data.length+ze)>-1)throw new Error("each index in "+we+" must be unique.")}}function X(le,be,we){if(!Array.isArray(le.data))throw new Error("gd.data must be an array.");if(typeof be>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(be)||(be=[be]),W(le,be,"currentIndices"),typeof we<"u"&&!Array.isArray(we)&&(we=[we]),typeof we<"u"&&W(le,we,"newIndices"),typeof we<"u"&&be.length!==we.length)throw new Error("current and new indices must be of equal length.")}function J(le,be,we){var Se,ze;if(!Array.isArray(le.data))throw new Error("gd.data must be an array.");if(typeof be>"u")throw new Error("traces must be defined.");for(Array.isArray(be)||(be=[be]),Se=0;Se<be.length;Se++)if(ze=be[Se],typeof ze!="object"||Array.isArray(ze)||ze===null)throw new Error("all values in traces array must be non-array objects");if(typeof we<"u"&&!Array.isArray(we)&&(we=[we]),typeof we<"u"&&we.length!==be.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function ne(le,be,we,Se){var ze=i.isPlainObject(Se);if(!Array.isArray(le.data))throw new Error("gd.data must be an array");if(!i.isPlainObject(be))throw new Error("update must be a key:value object");if(typeof we>"u")throw new Error("indices must be an integer or array of integers");W(le,we,"indices");for(var _e in be){if(!Array.isArray(be[_e])||be[_e].length!==we.length)throw new Error("attribute "+_e+" must be an array of length equal to indices array length");if(ze&&(!(_e in Se)||!Array.isArray(Se[_e])||Se[_e].length!==be[_e].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function ue(le,be,we,Se){var ze=i.isPlainObject(Se),_e=[],ct,lt,$e,Ye,nt;Array.isArray(we)||(we=[we]),we=G(we,le.data.length-1);for(var wt in be)for(var Et=0;Et<we.length;Et++){if(ct=le.data[we[Et]],$e=r(ct,wt),lt=$e.get(),Ye=be[wt][Et],!i.isArrayOrTypedArray(Ye))throw new Error("attribute: "+wt+" index: "+Et+" must be an array");if(!i.isArrayOrTypedArray(lt))throw new Error("cannot extend missing or non-array attribute: "+wt);if(lt.constructor!==Ye.constructor)throw new Error("cannot extend array with an array of a different type: "+wt);nt=ze?Se[wt][Et]:Se,g(nt)||(nt=-1),_e.push({prop:$e,target:lt,insert:Ye,maxp:Math.floor(nt)})}return _e}function ye(le,be,we,Se,ze){ne(le,be,we,Se);for(var _e=ue(le,be,we,Se),ct={},lt={},$e=0;$e<_e.length;$e++){var Ye=_e[$e].prop,nt=_e[$e].maxp,wt=ze(_e[$e].target,_e[$e].insert,nt);Ye.set(wt[0]),Array.isArray(ct[Ye.astr])||(ct[Ye.astr]=[]),ct[Ye.astr].push(wt[1]),Array.isArray(lt[Ye.astr])||(lt[Ye.astr]=[]),lt[Ye.astr].push(_e[$e].target.length)}return{update:ct,maxPoints:lt}}function Me(le,be){var we=new le.constructor(le.length+be.length);return we.set(le),we.set(be,le.length),we}function oe(le,be,we,Se){le=i.getGraphDiv(le);function ze($e,Ye,nt){var wt,Et;if(i.isTypedArray($e))if(nt<0){var Ht=new $e.constructor(0),Wt=Me($e,Ye);nt<0?(wt=Wt,Et=Ht):(wt=Ht,Et=Wt)}else if(wt=new $e.constructor(nt),Et=new $e.constructor($e.length+Ye.length-nt),nt===Ye.length)wt.set(Ye),Et.set($e);else if(nt<Ye.length){var Gt=Ye.length-nt;wt.set(Ye.subarray(Gt)),Et.set($e),Et.set(Ye.subarray(0,Gt),$e.length)}else{var Ct=nt-Ye.length,Vt=$e.length-Ct;wt.set($e.subarray(Vt)),wt.set(Ye,Ct),Et.set($e.subarray(0,Vt))}else wt=$e.concat(Ye),Et=nt>=0&&nt<wt.length?wt.splice(0,wt.length-nt):[];return[wt,Et]}var _e=ye(le,be,we,Se,ze),ct=z.redraw(le),lt=[le,_e.update,we,_e.maxPoints];return o.add(le,z.prependTraces,lt,oe,arguments),ct}function ve(le,be,we,Se){le=i.getGraphDiv(le);function ze($e,Ye,nt){var wt,Et;if(i.isTypedArray($e))if(nt<=0){var Ht=new $e.constructor(0),Wt=Me(Ye,$e);nt<0?(wt=Wt,Et=Ht):(wt=Ht,Et=Wt)}else if(wt=new $e.constructor(nt),Et=new $e.constructor($e.length+Ye.length-nt),nt===Ye.length)wt.set(Ye),Et.set($e);else if(nt<Ye.length){var Gt=Ye.length-nt;wt.set(Ye.subarray(0,Gt)),Et.set(Ye.subarray(Gt)),Et.set($e,Gt)}else{var Ct=nt-Ye.length;wt.set(Ye),wt.set($e.subarray(0,Ct),Ye.length),Et.set($e.subarray(Ct))}else wt=Ye.concat($e),Et=nt>=0&&nt<wt.length?wt.splice(nt,wt.length):[];return[wt,Et]}var _e=ye(le,be,we,Se,ze),ct=z.redraw(le),lt=[le,_e.update,we,_e.maxPoints];return o.add(le,z.extendTraces,lt,ve,arguments),ct}function H(le,be,we){le=i.getGraphDiv(le);var Se=[],ze=z.deleteTraces,_e=H,ct=[le,Se],lt=[le,be],$e,Ye;for(J(le,be,we),Array.isArray(be)||(be=[be]),be=be.map(function(nt){return i.extendFlat({},nt)}),b.cleanData(be),$e=0;$e<be.length;$e++)le.data.push(be[$e]);for($e=0;$e<be.length;$e++)Se.push(-be.length+$e);if(typeof we>"u")return Ye=z.redraw(le),o.add(le,ze,ct,_e,lt),Ye;Array.isArray(we)||(we=[we]);try{X(le,Se,we)}catch(nt){throw le.data.splice(le.data.length-be.length,be.length),nt}return o.startSequence(le),o.add(le,ze,ct,_e,lt),Ye=z.moveTraces(le,Se,we),o.stopSequence(le),Ye}function Y(le,be){le=i.getGraphDiv(le);var we=[],Se=z.addTraces,ze=Y,_e=[le,we,be],ct=[le,be],lt,$e;if(typeof be>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(be)||(be=[be]),W(le,be,"indices"),be=G(be,le.data.length-1),be.sort(i.sorterDes),lt=0;lt<be.length;lt+=1)$e=le.data.splice(be[lt],1)[0],we.push($e);var Ye=z.redraw(le);return o.add(le,Se,_e,ze,ct),Ye}function S(le,be,we){le=i.getGraphDiv(le);var Se=[],ze=[],_e=S,ct=S,lt=[le,we,be],$e=[le,be,we],Ye;if(X(le,be,we),be=Array.isArray(be)?be:[be],typeof we>"u")for(we=[],Ye=0;Ye<be.length;Ye++)we.push(-be.length+Ye);for(we=Array.isArray(we)?we:[we],be=G(be,le.data.length-1),we=G(we,le.data.length-1),Ye=0;Ye<le.data.length;Ye++)be.indexOf(Ye)===-1&&Se.push(le.data[Ye]);for(Ye=0;Ye<be.length;Ye++)ze.push({newIndex:we[Ye],trace:le.data[be[Ye]]});for(ze.sort(function(wt,Et){return wt.newIndex-Et.newIndex}),Ye=0;Ye<ze.length;Ye+=1)Se.splice(ze[Ye].newIndex,0,ze[Ye].trace);le.data=Se;var nt=z.redraw(le);return o.add(le,_e,lt,ct,$e),nt}function E(le,be,we,Se){le=i.getGraphDiv(le),b.clearPromiseQueue(le);var ze={};if(typeof be=="string")ze[be]=we;else if(i.isPlainObject(be))ze=i.extendFlat({},be),Se===void 0&&(Se=we);else return i.warn("Restyle fail.",be,we,Se),Promise.reject();Object.keys(ze).length&&(le.changed=!0);var _e=b.coerceTraceIndices(le,Se),ct=j(le,ze,_e),lt=ct.flags;lt.calc&&(le.calcdata=void 0),lt.clearAxisTypes&&b.clearAxisTypes(le,_e,{});var $e=[];lt.fullReplot?$e.push(z._doPlot):($e.push(u.previousPromises),u.supplyDefaults(le),lt.markerSize&&(u.doCalcdata(le),Ce($e)),lt.style&&$e.push(w.doTraceStyle),lt.colorbars&&$e.push(w.doColorBars),$e.push(O)),$e.push(u.rehover,u.redrag,u.reselect),o.add(le,E,[le,ct.undoit,ct.traces],E,[le,ct.redoit,ct.traces]);var Ye=i.syncOrAsync($e,le);return(!Ye||!Ye.then)&&(Ye=Promise.resolve()),Ye.then(function(){return le.emit("plotly_restyle",ct.eventData),le})}function I(le){return le===void 0?null:le}function C(le,be){return be?function(we,Se,ze){var _e=r(we,Se),ct=_e.set;return _e.set=function(lt){var $e=(ze||"")+Se;K($e,_e.get(),lt,le),ct(lt)},_e}:r}function K(le,be,we,Se){if(Array.isArray(be)||Array.isArray(we))for(var ze=Array.isArray(be)?be:[],_e=Array.isArray(we)?we:[],ct=Math.max(ze.length,_e.length),lt=0;lt<ct;lt++)K(le+"["+lt+"]",ze[lt],_e[lt],Se);else if(i.isPlainObject(be)||i.isPlainObject(we)){var $e=i.isPlainObject(be)?be:{},Ye=i.isPlainObject(we)?we:{},nt=i.extendFlat({},$e,Ye);for(var wt in nt)K(le+"."+wt,$e[wt],Ye[wt],Se)}else Se[le]===void 0&&(Se[le]=I(be))}function P(le,be,we){for(var Se in we){var ze=r(le,Se);K(Se,ze.get(),we[Se],be)}}function j(le,be,we){var Se=le._fullLayout,ze=le._fullData,_e=le.data,ct=Se._guiEditing,lt=C(Se._preGUI,ct),$e=i.extendDeepAll({},be),Ye;ae(be);var nt=_.traceFlags(),wt={},Et={},Ht;function Wt(){return we.map(function(){})}function Gt(It){var Kt=h.id2name(It);Ht.indexOf(Kt)===-1&&Ht.push(Kt)}function Ct(It){return"LAYOUT"+It+".autorange"}function Vt(It){return"LAYOUT"+It+".range"}function Bt(It){for(var Kt=It;Kt<ze.length;Kt++)if(ze[Kt]._input===_e[It])return ze[Kt]}function _t(It,Kt,Rt){if(Array.isArray(It)){It.forEach(function(lr){_t(lr,Kt,Rt)});return}if(!(It in be||b.hasParent(be,It))){var zt;if(It.substr(0,6)==="LAYOUT")zt=lt(le.layout,It.replace("LAYOUT",""));else{var er=we[Rt],tr=Se._tracePreGUI[Bt(er)._fullInput.uid];zt=C(tr,ct)(_e[er],It)}It in Et||(Et[It]=Wt()),Et[It][Rt]===void 0&&(Et[It][Rt]=I(zt.get())),Kt!==void 0&&zt.set(Kt)}}function jt(It){return function(Kt){return ze[Kt][It]}}function Yt(It){return function(Kt,Rt){return Kt===!1?ze[we[Rt]][It]:null}}for(var xt in be){if(b.hasParent(be,xt))throw new Error("cannot set "+xt+" and a parent attribute simultaneously");var Ot=be[xt],Ft,Xt,rr,sr,Ut,re;if((xt==="autobinx"||xt==="autobiny")&&(xt=xt.charAt(xt.length-1)+"bins",Array.isArray(Ot)?Ot=Ot.map(Yt(xt)):Ot===!1?Ot=we.map(jt(xt)):Ot=null),wt[xt]=Ot,xt.substr(0,6)==="LAYOUT"){rr=lt(le.layout,xt.replace("LAYOUT","")),Et[xt]=[I(rr.get())],rr.set(Array.isArray(Ot)?Ot[0]:Ot),nt.calc=!0;continue}for(Et[xt]=Wt(),Ye=0;Ye<we.length;Ye++){Ft=_e[we[Ye]],Xt=Bt(we[Ye]);var q=Se._tracePreGUI[Xt._fullInput.uid];if(rr=C(q,ct)(Ft,xt),sr=rr.get(),Ut=Array.isArray(Ot)?Ot[Ye%Ot.length]:Ot,Ut!==void 0){var He=rr.parts[rr.parts.length-1],Ie=xt.substr(0,xt.length-He.length-1),Ue=Ie?Ie+".":"",We=Ie?r(Xt,Ie).get():Xt;if(re=t.getTraceValObject(Xt,rr.parts),re&&re.impliedEdits&&Ut!==null)for(var Je in re.impliedEdits)_t(i.relativeAttr(xt,Je),re.impliedEdits[Je],Ye);else if((He==="thicknessmode"||He==="lenmode")&&sr!==Ut&&(Ut==="fraction"||Ut==="pixels")&&We){var Ge=Se._size,Be=We.orient,qe=Be==="top"||Be==="bottom";if(He==="thicknessmode"){var rt=qe?Ge.h:Ge.w;_t(Ue+"thickness",We.thickness*(Ut==="fraction"?1/rt:rt),Ye)}else{var st=qe?Ge.w:Ge.h;_t(Ue+"len",We.len*(Ut==="fraction"?1/st:st),Ye)}}else if(xt==="type"&&(Ut==="pie"!=(sr==="pie")||Ut==="funnelarea"!=(sr==="funnelarea"))){var at="x",pt="y";(Ut==="bar"||sr==="bar")&&Ft.orientation==="h"&&(at="y",pt="x"),i.swapAttrs(Ft,["?","?src"],"labels",at),i.swapAttrs(Ft,["d?","?0"],"label",at),i.swapAttrs(Ft,["?","?src"],"values",pt),sr==="pie"||sr==="funnelarea"?(r(Ft,"marker.color").set(r(Ft,"marker.colors").get()),Se._pielayer.selectAll("g.trace").remove()):n.traceIs(Ft,"cartesian")&&r(Ft,"marker.colors").set(r(Ft,"marker.color").get())}Et[xt][Ye]=I(sr);var ht=["swapxy","swapxyaxes","orientation","orientationaxes"];if(ht.indexOf(xt)!==-1){if(xt==="orientation"){rr.set(Ut);var ut=Ft.x&&!Ft.y?"h":"v";if((rr.get()||ut)===Xt.orientation)continue}else xt==="orientationaxes"&&(Ft.orientation={v:"h",h:"v"}[Xt.orientation]);b.swapXYData(Ft),nt.calc=nt.clearAxisTypes=!0}else u.dataArrayContainers.indexOf(rr.parts[0])!==-1?(b.manageArrayContainers(rr,Ut,Et),nt.calc=!0):(re?re.arrayOk&&!n.traceIs(Xt,"regl")&&(i.isArrayOrTypedArray(Ut)||i.isArrayOrTypedArray(sr))?nt.calc=!0:_.update(nt,re):nt.calc=!0,rr.set(Ut))}}if(["swapxyaxes","orientationaxes"].indexOf(xt)!==-1&&h.swap(le,we),xt==="orientationaxes"){var Pt=r(le.layout,"hovermode"),Lt=Pt.get();Lt==="x"?Pt.set("y"):Lt==="y"?Pt.set("x"):Lt==="x unified"?Pt.set("y unified"):Lt==="y unified"&&Pt.set("x unified")}if(["orientation","type"].indexOf(xt)!==-1){for(Ht=[],Ye=0;Ye<we.length;Ye++){var $t=_e[we[Ye]];n.traceIs($t,"cartesian")&&(Gt($t.xaxis||"x"),Gt($t.yaxis||"y"))}_t(Ht.map(Ct),!0,0),_t(Ht.map(Vt),[0,1],0)}}return(nt.calc||nt.plot)&&(nt.fullReplot=!0),{flags:nt,undoit:Et,redoit:wt,traces:we,eventData:i.extendDeepNoArrays([],[$e,we])}}function ae(le){var be=i.counterRegex("axis",".title",!1,!1),we=/colorbar\.title$/,Se=Object.keys(le),ze,_e,ct;for(ze=0;ze<Se.length;ze++)_e=Se[ze],ct=le[_e],(_e==="title"||be.test(_e)||we.test(_e))&&(typeof ct=="string"||typeof ct=="number")?lt(_e,_e.replace("title","title.text")):_e.indexOf("titlefont")>-1&&_e.indexOf("grouptitlefont")===-1?lt(_e,_e.replace("titlefont","title.font")):_e.indexOf("titleposition")>-1?lt(_e,_e.replace("titleposition","title.position")):_e.indexOf("titleside")>-1?lt(_e,_e.replace("titleside","title.side")):_e.indexOf("titleoffset")>-1&&lt(_e,_e.replace("titleoffset","title.offset"));function lt($e,Ye){le[Ye]=le[$e],delete le[$e]}}function fe(le,be,we){le=i.getGraphDiv(le),b.clearPromiseQueue(le);var Se={};if(typeof be=="string")Se[be]=we;else if(i.isPlainObject(be))Se=i.extendFlat({},be);else return i.warn("Relayout fail.",be,we),Promise.reject();Object.keys(Se).length&&(le.changed=!0);var ze=pe(le,Se),_e=ze.flags;_e.calc&&(le.calcdata=void 0);var ct=[u.previousPromises];_e.layoutReplot?ct.push(w.layoutReplot):Object.keys(Se).length&&(de(le,_e,ze)||u.supplyDefaults(le),_e.legend&&ct.push(w.doLegend),_e.layoutstyle&&ct.push(w.layoutStyles),_e.axrange&&Ce(ct,ze.rangesAltered),_e.ticks&&ct.push(w.doTicksRelayout),_e.modebar&&ct.push(w.doModeBar),_e.camera&&ct.push(w.doCamera),_e.colorbars&&ct.push(w.doColorBars),ct.push(O)),ct.push(u.rehover,u.redrag,u.reselect),o.add(le,fe,[le,ze.undoit],fe,[le,ze.redoit]);var lt=i.syncOrAsync(ct,le);return(!lt||!lt.then)&&(lt=Promise.resolve(le)),lt.then(function(){return le.emit("plotly_relayout",ze.eventData),le})}function de(le,be,we){var Se=le._fullLayout;if(!be.axrange)return!1;for(var ze in be)if(ze!=="axrange"&&be[ze])return!1;var _e,ct,lt=function(Ht,Wt){return i.coerce(_e,ct,y,Ht,Wt)},$e={};for(var Ye in we.rangesAltered){var nt=h.id2name(Ye);if(_e=le.layout[nt],ct=Se[nt],m(_e,ct,lt,$e),ct._matchGroup){for(var wt in ct._matchGroup)if(wt!==Ye){var Et=Se[h.id2name(wt)];Et.autorange=ct.autorange,Et.range=ct.range.slice(),Et._input.range=ct.range.slice()}}}return!0}function Ce(le,be){var we=be?function(Se){var ze=[],_e=!0;for(var ct in be){var lt=h.getFromId(Se,ct);if(ze.push(ct),(lt.ticklabelposition||"").indexOf("inside")!==-1&&lt._anchorAxis&&ze.push(lt._anchorAxis._id),lt._matchGroup)for(var $e in lt._matchGroup)be[$e]||ze.push($e)}return h.draw(Se,ze,{skipTitle:_e})}:function(Se){return h.draw(Se,"redraw")};le.push(c,w.doAutoRangeAndConstraints,we,w.drawData,w.finalDraw)}var De=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,ce=/^[xyz]axis[0-9]*\.autorange$/,me=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function pe(le,be){var we=le.layout,Se=le._fullLayout,ze=Se._guiEditing,_e=C(Se._preGUI,ze),ct=Object.keys(be),lt=h.list(le),$e=i.extendDeepAll({},be),Ye={},nt,wt,Et;for(ae(be),ct=Object.keys(be),wt=0;wt<ct.length;wt++)if(ct[wt].indexOf("allaxes")===0){for(Et=0;Et<lt.length;Et++){var Ht=lt[Et]._id.substr(1),Wt=Ht.indexOf("scene")!==-1?Ht+".":"",Gt=ct[wt].replace("allaxes",Wt+lt[Et]._name);be[Gt]||(be[Gt]=be[ct[wt]])}delete be[ct[wt]]}var Ct=_.layoutFlags(),Vt={},Bt={};function _t(tr,lr){if(Array.isArray(tr)){tr.forEach(function(or){_t(or,lr)});return}if(!(tr in be||b.hasParent(be,tr))){var mr=_e(we,tr);tr in Bt||(Bt[tr]=I(mr.get())),lr!==void 0&&mr.set(lr)}}var jt={},Yt;function xt(tr){var lr=h.name2id(tr.split(".")[0]);return jt[lr]=1,lr}for(var Ot in be){if(b.hasParent(be,Ot))throw new Error("cannot set "+Ot+" and a parent attribute simultaneously");for(var Ft=_e(we,Ot),Xt=be[Ot],rr=Ft.parts.length,sr=rr-1;sr>0&&typeof Ft.parts[sr]!="string";)sr--;var Ut=Ft.parts[sr],re=Ft.parts[sr-1]+"."+Ut,q=Ft.parts.slice(0,sr).join("."),He=r(le.layout,q).get(),Ie=r(Se,q).get(),Ue=Ft.get();if(Xt!==void 0){Vt[Ot]=Xt,Bt[Ot]=Ut==="reverse"?Xt:I(Ue);var We=t.getLayoutValObject(Se,Ft.parts);if(We&&We.impliedEdits&&Xt!==null)for(var Je in We.impliedEdits)_t(i.relativeAttr(Ot,Je),We.impliedEdits[Je]);if(["width","height"].indexOf(Ot)!==-1)if(Xt){_t("autosize",null);var Ge=Ot==="height"?"width":"height";_t(Ge,Se[Ge])}else Se[Ot]=le._initialAutoSize[Ot];else if(Ot==="autosize")_t("width",Xt?null:Se.width),_t("height",Xt?null:Se.height);else if(re.match(De))xt(re),r(Se,q+"._inputRange").set(null);else if(re.match(ce)){xt(re),r(Se,q+"._inputRange").set(null);var Be=r(Se,q).get();Be._inputDomain&&(Be._input.domain=Be._inputDomain.slice())}else re.match(me)&&r(Se,q+"._inputDomain").set(null);if(Ut==="type"){Yt=He;var qe=Ie.type==="linear"&&Xt==="log",rt=Ie.type==="log"&&Xt==="linear";if(qe||rt){if(!Yt||!Yt.range)_t(q+".autorange",!0);else if(Ie.autorange)qe&&(Yt.range=Yt.range[1]>Yt.range[0]?[1,2]:[2,1]);else{var st=Yt.range[0],at=Yt.range[1];qe?(st<=0&&at<=0&&_t(q+".autorange",!0),st<=0?st=at/1e6:at<=0&&(at=st/1e6),_t(q+".range[0]",Math.log(st)/Math.LN10),_t(q+".range[1]",Math.log(at)/Math.LN10)):(_t(q+".range[0]",Math.pow(10,st)),_t(q+".range[1]",Math.pow(10,at)))}Array.isArray(Se._subplots.polar)&&Se._subplots.polar.length&&Se[Ft.parts[0]]&&Ft.parts[1]==="radialaxis"&&delete Se[Ft.parts[0]]._subplot.viewInitial["radialaxis.range"],n.getComponentMethod("annotations","convertCoords")(le,Ie,Xt,_t),n.getComponentMethod("images","convertCoords")(le,Ie,Xt,_t)}else _t(q+".autorange",!0),_t(q+".range",null);r(Se,q+"._inputRange").set(null)}else if(Ut.match(k)){var pt=r(Se,Ot).get(),ht=(Xt||{}).type;(!ht||ht==="-")&&(ht="linear"),n.getComponentMethod("annotations","convertCoords")(le,pt,ht,_t),n.getComponentMethod("images","convertCoords")(le,pt,ht,_t)}var ut=v.containerArrayMatch(Ot);if(ut){nt=ut.array,wt=ut.index;var Pt=ut.property,Lt=We||{editType:"calc"};wt!==""&&Pt===""&&(v.isAddVal(Xt)?Bt[Ot]=null:v.isRemoveVal(Xt)?Bt[Ot]=(r(we,nt).get()||[])[wt]:i.warn("unrecognized full object value",be)),_.update(Ct,Lt),Ye[nt]||(Ye[nt]={});var $t=Ye[nt][wt];$t||($t=Ye[nt][wt]={}),$t[Pt]=Xt,delete be[Ot]}else Ut==="reverse"?(He.range?He.range.reverse():(_t(q+".autorange",!0),He.range=[1,0]),Ie.autorange?Ct.calc=!0:Ct.plot=!0):(Ot==="dragmode"&&(Xt===!1&&Ue!==!1||Xt!==!1&&Ue===!1)||Se._has("scatter-like")&&Se._has("regl")&&Ot==="dragmode"&&(Xt==="lasso"||Xt==="select")&&!(Ue==="lasso"||Ue==="select")||Se._has("gl2d")?Ct.plot=!0:We?_.update(Ct,We):Ct.calc=!0,Ft.set(Xt))}}for(nt in Ye){var It=v.applyContainerArrayChanges(le,_e(we,nt),Ye[nt],Ct,_e);It||(Ct.plot=!0)}for(var Kt in jt){Yt=h.getFromId(le,Kt);var Rt=Yt&&Yt._constraintGroup;if(Rt){Ct.calc=!0;for(var zt in Rt)jt[zt]||(h.getFromId(le,zt)._constraintShrinkable=!0)}}(Ee(le)||be.height||be.width)&&(Ct.plot=!0);var er=Se.shapes;for(wt=0;wt<er.length;wt++)if(er[wt].showlegend){Ct.calc=!0;break}return(Ct.plot||Ct.calc)&&(Ct.layoutReplot=!0),{flags:Ct,rangesAltered:jt,undoit:Bt,redoit:Vt,eventData:$e}}function Ee(le){var be=le._fullLayout,we=be.width,Se=be.height;return le.layout.autosize&&u.plotAutoSize(le,le.layout,be),be.width!==we||be.height!==Se}function Ae(le,be,we,Se){le=i.getGraphDiv(le),b.clearPromiseQueue(le),i.isPlainObject(be)||(be={}),i.isPlainObject(we)||(we={}),Object.keys(be).length&&(le.changed=!0),Object.keys(we).length&&(le.changed=!0);var ze=b.coerceTraceIndices(le,Se),_e=j(le,i.extendFlat({},be),ze),ct=_e.flags,lt=pe(le,i.extendFlat({},we)),$e=lt.flags;(ct.calc||$e.calc)&&(le.calcdata=void 0),ct.clearAxisTypes&&b.clearAxisTypes(le,ze,we);var Ye=[];$e.layoutReplot?Ye.push(w.layoutReplot):ct.fullReplot?Ye.push(z._doPlot):(Ye.push(u.previousPromises),de(le,$e,lt)||u.supplyDefaults(le),ct.style&&Ye.push(w.doTraceStyle),(ct.colorbars||$e.colorbars)&&Ye.push(w.doColorBars),$e.legend&&Ye.push(w.doLegend),$e.layoutstyle&&Ye.push(w.layoutStyles),$e.axrange&&Ce(Ye,lt.rangesAltered),$e.ticks&&Ye.push(w.doTicksRelayout),$e.modebar&&Ye.push(w.doModeBar),$e.camera&&Ye.push(w.doCamera),Ye.push(O)),Ye.push(u.rehover,u.redrag,u.reselect),o.add(le,Ae,[le,_e.undoit,lt.undoit,_e.traces],Ae,[le,_e.redoit,lt.redoit,_e.traces]);var nt=i.syncOrAsync(Ye,le);return(!nt||!nt.then)&&(nt=Promise.resolve(le)),nt.then(function(){return le.emit("plotly_update",{data:_e.eventData,layout:lt.eventData}),le})}function xe(le){return function(we){we._fullLayout._guiEditing=!0;var Se=le.apply(null,arguments);return we._fullLayout._guiEditing=!1,Se}}var Fe=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],Ke=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function je(le,be){for(var we=0;we<be.length;we++){var Se=be[we],ze=le.match(Se.pattern);if(ze){var _e=ze[1]||"";return{head:_e,tail:le.substr(_e.length+1),attr:Se.attr}}}}function Ve(le,be){var we=r(be,le).get();if(we!==void 0)return we;var Se=le.split(".");for(Se.pop();Se.length>1;)if(Se.pop(),we=r(be,Se.join(".")+".uirevision").get(),we!==void 0)return we;return be.uirevision}function dt(le,be){for(var we=0;we<be.length;we++)if(be[we]._fullInput.uid===le)return we;return-1}function bt(le,be,we){for(var Se=0;Se<be.length;Se++)if(be[Se].uid===le)return Se;return!be[we]||be[we].uid?-1:we}function Tt(le,be){var we=i.isPlainObject(le),Se=Array.isArray(le);return we||Se?(we&&i.isPlainObject(be)||Se&&Array.isArray(be))&&JSON.stringify(le)===JSON.stringify(be):le===be}function it(le,be,we,Se){var ze=Se._preGUI,_e,ct,lt,$e,Ye,nt,wt,Et,Ht,Wt,Gt=[],Ct={},Vt={};for(_e in ze){if(Ye=je(_e,Fe),Ye){if(Ht=Ye.head,Wt=Ye.tail,ct=Ye.attr||Ht+".uirevision",lt=r(Se,ct).get(),$e=lt&&Ve(ct,be),$e&&$e===lt){if(nt=ze[_e],nt===null&&(nt=void 0),wt=r(be,_e),Et=wt.get(),Tt(Et,nt)){Et===void 0&&Wt==="autorange"&&Gt.push(Ht),wt.set(I(r(Se,_e).get()));continue}else if(Wt==="autorange"||Wt.substr(0,6)==="range["){var Bt=ze[Ht+".range[0]"],_t=ze[Ht+".range[1]"],jt=ze[Ht+".autorange"];if(jt||jt===null&&Bt===null&&_t===null){if(!(Ht in Ct)){var Yt=r(be,Ht).get();Ct[Ht]=Yt&&(Yt.autorange||Yt.autorange!==!1&&(!Yt.range||Yt.range.length!==2))}if(Ct[Ht]){wt.set(I(r(Se,_e).get()));continue}}}}}else i.warn("unrecognized GUI edit: "+_e);delete ze[_e],Ye&&Ye.tail.substr(0,6)==="range["&&(Vt[Ye.head]=1)}for(var xt=0;xt<Gt.length;xt++){var Ot=Gt[xt];if(Vt[Ot]){var Ft=r(be,Ot).get();Ft&&delete Ft.autorange}}var Xt=Se._tracePreGUI;for(var rr in Xt){var sr=Xt[rr],Ut=null,re;for(_e in sr){if(!Ut){var q=dt(rr,we);if(q<0){delete Xt[rr];break}var He=we[q];re=He._fullInput;var Ie=bt(rr,le,re.index);if(Ie<0){delete Xt[rr];break}Ut=le[Ie]}if(Ye=je(_e,Ke),Ye){if(Ye.attr?(lt=r(Se,Ye.attr).get(),$e=lt&&Ve(Ye.attr,be)):(lt=re.uirevision,$e=Ut.uirevision,$e===void 0&&($e=be.uirevision)),$e&&$e===lt&&(nt=sr[_e],nt===null&&(nt=void 0),wt=r(Ut,_e),Et=wt.get(),Tt(Et,nt))){wt.set(I(r(re,_e).get()));continue}}else i.warn("unrecognized GUI edit: "+_e+" in trace uid "+rr);delete sr[_e]}}}function kt(le,be,we,Se){var ze,_e;function ct(){return z.addFrames(le,ze)}le=i.getGraphDiv(le),b.clearPromiseQueue(le);var lt=le._fullData,$e=le._fullLayout;if(!i.isPlotDiv(le)||!lt||!$e)_e=z.newPlot(le,be,we,Se);else{if(i.isPlainObject(be)){var Ye=be;be=Ye.data,we=Ye.layout,Se=Ye.config,ze=Ye.frames}var nt=!1;if(Se){var wt=i.extendDeep({},le._context);le._context=void 0,ie(le,Se),nt=St(wt,le._context)}le.data=be||[],b.cleanData(le.data),le.layout=we||{},b.cleanLayout(le.layout),it(le.data,le.layout,lt,$e),u.supplyDefaults(le,{skipUpdateCalc:!0});var Et=le._fullData,Ht=le._fullLayout,Wt=Ht.datarevision===void 0,Gt=Ht.transition,Ct=Mt(le,$e,Ht,Wt,Gt),Vt=Ct.newDataRevision,Bt=tt(le,lt,Et,Wt,Gt,Vt);if(Ee(le)&&(Ct.layoutReplot=!0),Bt.calc||Ct.calc){le.calcdata=void 0;for(var _t=Object.getOwnPropertyNames(Ht),jt=0;jt<_t.length;jt++){var Yt=_t[jt],xt=Yt.substring(0,5);if(xt==="xaxis"||xt==="yaxis"){var Ot=Ht[Yt]._emptyCategories;Ot&&Ot()}}}else u.supplyDefaultsUpdateCalc(le.calcdata,Et);var Ft=[];if(ze&&(le._transitionData={},u.createTransitionData(le),Ft.push(ct)),Ht.transition&&!nt&&(Bt.anim||Ct.anim))Ct.ticks&&Ft.push(w.doTicksRelayout),u.doCalcdata(le),w.doAutoRangeAndConstraints(le),Ft.push(function(){return u.transitionFromReact(le,Bt,Ct,$e)});else if(Bt.fullReplot||Ct.layoutReplot||nt)le._fullLayout._skipDefaults=!0,Ft.push(z._doPlot);else{for(var Xt in Ct.arrays){var rr=Ct.arrays[Xt];if(rr.length){var sr=n.getComponentMethod(Xt,"drawOne");if(sr!==i.noop)for(var Ut=0;Ut<rr.length;Ut++)sr(le,rr[Ut]);else{var re=n.getComponentMethod(Xt,"draw");if(re===i.noop)throw new Error("cannot draw components: "+Xt);re(le)}}}Ft.push(u.previousPromises),Bt.style&&Ft.push(w.doTraceStyle),(Bt.colorbars||Ct.colorbars)&&Ft.push(w.doColorBars),Ct.legend&&Ft.push(w.doLegend),Ct.layoutstyle&&Ft.push(w.layoutStyles),Ct.axrange&&Ce(Ft),Ct.ticks&&Ft.push(w.doTicksRelayout),Ct.modebar&&Ft.push(w.doModeBar),Ct.camera&&Ft.push(w.doCamera),Ft.push(O)}Ft.push(u.rehover,u.redrag,u.reselect),_e=i.syncOrAsync(Ft,le),(!_e||!_e.then)&&(_e=Promise.resolve(le))}return _e.then(function(){return le.emit("plotly_react",{data:be,layout:we}),le})}function tt(le,be,we,Se,ze,_e){var ct=be.length===we.length;if(!ze&&!ct)return{fullReplot:!0,calc:!0};var lt=_.traceFlags();lt.arrays={},lt.nChanges=0,lt.nChangesAnim=0;var $e,Ye;function nt(Ht){var Wt=t.getTraceValObject(Ye,Ht);return!Ye._module.animatable&&Wt.anim&&(Wt.anim=!1),Wt}var wt={getValObject:nt,flags:lt,immutable:Se,transition:ze,newDataRevision:_e,gd:le},Et={};for($e=0;$e<be.length;$e++)if(we[$e]){if(Ye=we[$e]._fullInput,u.hasMakesDataTransform(Ye)&&(Ye=we[$e]),Et[Ye.uid])continue;Et[Ye.uid]=1,Dt(be[$e]._fullInput,Ye,[],wt)}return(lt.calc||lt.plot)&&(lt.fullReplot=!0),ze&&lt.nChanges&&lt.nChangesAnim&&(lt.anim=lt.nChanges===lt.nChangesAnim&&ct?"all":"some"),lt}function Mt(le,be,we,Se,ze){var _e=_.layoutFlags();_e.arrays={},_e.rangesAltered={},_e.nChanges=0,_e.nChangesAnim=0;function ct($e){return t.getLayoutValObject(we,$e)}var lt={getValObject:ct,flags:_e,immutable:Se,transition:ze,gd:le};return Dt(be,we,[],lt),(_e.plot||_e.calc)&&(_e.layoutReplot=!0),ze&&_e.nChanges&&_e.nChangesAnim&&(_e.anim=_e.nChanges===_e.nChangesAnim?"all":"some"),_e}function Dt(le,be,we,Se){var ze,_e,ct,lt=Se.getValObject,$e=Se.flags,Ye=Se.immutable,nt=Se.inArray,wt=Se.arrayIndex;function Et(){var q=ze.editType;if(nt&&q.indexOf("arraydraw")!==-1){i.pushUnique($e.arrays[nt],wt);return}_.update($e,ze),q!=="none"&&$e.nChanges++,Se.transition&&ze.anim&&$e.nChangesAnim++,(De.test(ct)||ce.test(ct))&&($e.rangesAltered[we[0]]=1),me.test(ct)&&r(be,"_inputDomain").set(null),_e==="datarevision"&&($e.newDataRevision=1)}function Ht(q){return q.valType==="data_array"||q.arrayOk}for(_e in le){if($e.calc&&!Se.transition)return;var Wt=le[_e],Gt=be[_e],Ct=we.concat(_e);if(ct=Ct.join("."),!(_e.charAt(0)==="_"||typeof Wt=="function"||Wt===Gt)){if((_e==="tick0"||_e==="dtick")&&we[0]!=="geo"){var Vt=be.tickmode;if(Vt==="auto"||Vt==="array"||!Vt)continue}if(!(_e==="range"&&be.autorange)&&!((_e==="zmin"||_e==="zmax")&&be.type==="contourcarpet")&&(ze=lt(Ct),!!ze&&!(ze._compareAsJSON&&JSON.stringify(Wt)===JSON.stringify(Gt)))){var Bt=ze.valType,_t,jt=Ht(ze),Yt=Array.isArray(Wt),xt=Array.isArray(Gt);if(Yt&&xt){var Ot="_input_"+_e,Ft=le[Ot],Xt=be[Ot];if(Array.isArray(Ft)&&Ft===Xt)continue}if(Gt===void 0)jt&&Yt?$e.calc=!0:Et();else if(ze._isLinkedToArray){var rr=[],sr=!1;nt||($e.arrays[_e]=rr);var Ut=Math.min(Wt.length,Gt.length),re=Math.max(Wt.length,Gt.length);if(Ut!==re)if(ze.editType==="arraydraw")sr=!0;else{Et();continue}for(_t=0;_t<Ut;_t++)Dt(Wt[_t],Gt[_t],Ct.concat(_t),i.extendFlat({inArray:_e,arrayIndex:_t},Se));if(sr)for(_t=Ut;_t<re;_t++)rr.push(_t)}else!Bt&&i.isPlainObject(Wt)?Dt(Wt,Gt,Ct,Se):jt?Yt&&xt?(Ye&&($e.calc=!0),(Ye||Se.newDataRevision)&&Et()):Yt!==xt?$e.calc=!0:Et():Yt&&xt?(Wt.length!==Gt.length||String(Wt)!==String(Gt))&&Et():Et()}}}for(_e in be)if(!(_e in le||_e.charAt(0)==="_"||typeof be[_e]=="function"))if(ze=lt(we.concat(_e)),Ht(ze)&&Array.isArray(be[_e])){$e.calc=!0;return}else Et()}function St(le,be){var we;for(we in le)if(we.charAt(0)!=="_"){var Se=le[we],ze=be[we];if(Se!==ze)if(i.isPlainObject(Se)&&i.isPlainObject(ze)){if(St(Se,ze))return!0}else if(Array.isArray(Se)&&Array.isArray(ze)){if(Se.length!==ze.length)return!0;for(var _e=0;_e<Se.length;_e++)if(Se[_e]!==ze[_e])if(i.isPlainObject(Se[_e])&&i.isPlainObject(ze[_e])){if(St(Se[_e],ze[_e]))return!0}else return!0}else return!0}}function At(le,be,we){if(le=i.getGraphDiv(le),!i.isPlotDiv(le))throw new Error("This element is not a Plotly plot: "+le+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var Se=le._transitionData;Se._frameQueue||(Se._frameQueue=[]),we=u.supplyAnimationDefaults(we);var ze=we.transition,_e=we.frame;Se._frameWaitingCnt===void 0&&(Se._frameWaitingCnt=0);function ct(Ye){return Array.isArray(ze)?Ye>=ze.length?ze[0]:ze[Ye]:ze}function lt(Ye){return Array.isArray(_e)?Ye>=_e.length?_e[0]:_e[Ye]:_e}function $e(Ye,nt){var wt=0;return function(){if(Ye&&++wt===nt)return Ye()}}return new Promise(function(Ye,nt){function wt(){if(Se._frameQueue.length!==0){for(;Se._frameQueue.length;){var Ut=Se._frameQueue.pop();Ut.onInterrupt&&Ut.onInterrupt()}le.emit("plotly_animationinterrupted",[])}}function Et(Ut){if(Ut.length!==0){for(var re=0;re<Ut.length;re++){var q;Ut[re].type==="byname"?q=u.computeFrame(le,Ut[re].name):q=Ut[re].data;var He=lt(re),Ie=ct(re);Ie.duration=Math.min(Ie.duration,He.duration);var Ue={frame:q,name:Ut[re].name,frameOpts:He,transitionOpts:Ie};re===Ut.length-1&&(Ue.onComplete=$e(Ye,2),Ue.onInterrupt=nt),Se._frameQueue.push(Ue)}we.mode==="immediate"&&(Se._lastFrameAt=-1/0),Se._animationRaf||Gt()}}function Ht(){le.emit("plotly_animated"),window.cancelAnimationFrame(Se._animationRaf),Se._animationRaf=null}function Wt(){Se._currentFrame&&Se._currentFrame.onComplete&&Se._currentFrame.onComplete();var Ut=Se._currentFrame=Se._frameQueue.shift();if(Ut){var re=Ut.name?Ut.name.toString():null;le._fullLayout._currentFrame=re,Se._lastFrameAt=Date.now(),Se._timeToNext=Ut.frameOpts.duration,u.transition(le,Ut.frame.data,Ut.frame.layout,b.coerceTraceIndices(le,Ut.frame.traces),Ut.frameOpts,Ut.transitionOpts).then(function(){Ut.onComplete&&Ut.onComplete()}),le.emit("plotly_animatingframe",{name:re,frame:Ut.frame,animation:{frame:Ut.frameOpts,transition:Ut.transitionOpts}})}else Ht()}function Gt(){le.emit("plotly_animating"),Se._lastFrameAt=-1/0,Se._timeToNext=0,Se._runningTransitions=0,Se._currentFrame=null;var Ut=function(){Se._animationRaf=window.requestAnimationFrame(Ut),Date.now()-Se._lastFrameAt>Se._timeToNext&&Wt()};Ut()}var Ct=0;function Vt(Ut){return Array.isArray(ze)?Ct>=ze.length?Ut.transitionOpts=ze[Ct]:Ut.transitionOpts=ze[0]:Ut.transitionOpts=ze,Ct++,Ut}var Bt,_t,jt=[],Yt=be==null,xt=Array.isArray(be),Ot=!Yt&&!xt&&i.isPlainObject(be);if(Ot)jt.push({type:"object",data:Vt(i.extendFlat({},be))});else if(Yt||["string","number"].indexOf(typeof be)!==-1)for(Bt=0;Bt<Se._frames.length;Bt++)_t=Se._frames[Bt],_t&&(Yt||String(_t.group)===String(be))&&jt.push({type:"byname",name:String(_t.name),data:Vt({name:_t.name})});else if(xt)for(Bt=0;Bt<be.length;Bt++){var Ft=be[Bt];["number","string"].indexOf(typeof Ft)!==-1?(Ft=String(Ft),jt.push({type:"byname",name:Ft,data:Vt({name:Ft})})):i.isPlainObject(Ft)&&jt.push({type:"object",data:Vt(i.extendFlat({},Ft))})}for(Bt=0;Bt<jt.length;Bt++)if(_t=jt[Bt],_t.type==="byname"&&!Se._frameHash[_t.data.name]){i.warn('animate failure: frame not found: "'+_t.data.name+'"'),nt();return}["next","immediate"].indexOf(we.mode)!==-1&&wt(),we.direction==="reverse"&&jt.reverse();var Xt=le._fullLayout._currentFrame;if(Xt&&we.fromcurrent){var rr=-1;for(Bt=0;Bt<jt.length;Bt++)if(_t=jt[Bt],_t.type==="byname"&&_t.name===Xt){rr=Bt;break}if(rr>0&&rr<jt.length-1){var sr=[];for(Bt=0;Bt<jt.length;Bt++)_t=jt[Bt],(jt[Bt].type!=="byname"||Bt>rr)&&sr.push(_t);jt=sr}}jt.length>0?Et(jt):(le.emit("plotly_animated"),Ye())})}function ke(le,be,we){if(le=i.getGraphDiv(le),be==null)return Promise.resolve();if(!i.isPlotDiv(le))throw new Error("This element is not a Plotly plot: "+le+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var Se,ze,_e,ct,lt=le._transitionData._frames,$e=le._transitionData._frameHash;if(!Array.isArray(be))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+be);var Ye=lt.length+be.length*2,nt=[],wt={};for(Se=be.length-1;Se>=0;Se--)if(i.isPlainObject(be[Se])){var Et=be[Se].name,Ht=($e[Et]||wt[Et]||{}).name,Wt=be[Se].name,Gt=$e[Ht]||wt[Ht];Ht&&Wt&&typeof Wt=="number"&&Gt&&B<U&&(B++,i.warn('addFrames: overwriting frame "'+($e[Ht]||wt[Ht]).name+'" with a frame whose name of type "number" also equates to "'+Ht+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),B===U&&i.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),wt[Et]={name:Et},nt.push({frame:u.supplyFrameDefaults(be[Se]),index:we&&we[Se]!==void 0&&we[Se]!==null?we[Se]:Ye+Se})}nt.sort(function(Ot,Ft){return Ot.index>Ft.index?-1:Ot.index<Ft.index?1:0});var Ct=[],Vt=[],Bt=lt.length;for(Se=nt.length-1;Se>=0;Se--){if(ze=nt[Se].frame,typeof ze.name=="number"&&i.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!ze.name)for(;$e[ze.name="frame "+le._transitionData._counter++];);if($e[ze.name]){for(_e=0;_e<lt.length&&(lt[_e]||{}).name!==ze.name;_e++);Ct.push({type:"replace",index:_e,value:ze}),Vt.unshift({type:"replace",index:_e,value:lt[_e]})}else ct=Math.max(0,Math.min(nt[Se].index,Bt)),Ct.push({type:"insert",index:ct,value:ze}),Vt.unshift({type:"delete",index:ct}),Bt++}var _t=u.modifyFrames,jt=u.modifyFrames,Yt=[le,Vt],xt=[le,Ct];return o&&o.add(le,_t,Yt,jt,xt),u.modifyFrames(le,Ct)}function Te(le,be){if(le=i.getGraphDiv(le),!i.isPlotDiv(le))throw new Error("This element is not a Plotly plot: "+le);var we,Se,ze=le._transitionData._frames,_e=[],ct=[];if(!be)for(be=[],we=0;we<ze.length;we++)be.push(we);for(be=be.slice(),be.sort(),we=be.length-1;we>=0;we--)Se=be[we],_e.push({type:"delete",index:Se}),ct.unshift({type:"insert",index:Se,value:ze[Se]});var lt=u.modifyFrames,$e=u.modifyFrames,Ye=[le,ct],nt=[le,_e];return o&&o.add(le,lt,Ye,$e,nt),u.modifyFrames(le,_e)}function Re(le){le=i.getGraphDiv(le);var be=le._fullLayout||{},we=le._fullData||[];return u.cleanPlot([],{},we,be),u.purge(le),f.purge(le),be._container&&be._container.remove(),delete le._context,le}function Le(le){var be=le._fullLayout,we=le.getBoundingClientRect();if(!i.equalDomRects(we,be._lastBBox)){var Se=be._invTransform=i.inverseTransformMatrix(i.getFullTransformMatrix(le));be._invScaleX=Math.sqrt(Se[0][0]*Se[0][0]+Se[0][1]*Se[0][1]+Se[0][2]*Se[0][2]),be._invScaleY=Math.sqrt(Se[1][0]*Se[1][0]+Se[1][1]*Se[1][1]+Se[1][2]*Se[1][2]),be._lastBBox=we}}function Oe(le){var be=l.select(le),we=le._fullLayout;if(we._calcInverseTransform=Le,we._calcInverseTransform(le),we._container=be.selectAll(".plot-container").data([0]),we._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),we._paperdiv=we._container.selectAll(".svg-container").data([0]),we._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),we._glcontainer=we._paperdiv.selectAll(".gl-container").data([{}]),we._glcontainer.enter().append("div").classed("gl-container",!0),we._paperdiv.selectAll(".main-svg").remove(),we._paperdiv.select(".modebar-container").remove(),we._paper=we._paperdiv.insert("svg",":first-child").classed("main-svg",!0),we._toppaper=we._paperdiv.append("svg").classed("main-svg",!0),we._modebardiv=we._paperdiv.append("div"),delete we._modeBar,we._hoverpaper=we._paperdiv.append("svg").classed("main-svg",!0),!we._uid){var Se={};l.selectAll("defs").each(function(){this.id&&(Se[this.id.split("-")[1]]=1)}),we._uid=i.randstr(Se)}we._paperdiv.selectAll(".main-svg").attr(M.svgAttrs),we._defs=we._paper.append("defs").attr("id","defs-"+we._uid),we._clips=we._defs.append("g").classed("clips",!0),we._topdefs=we._toppaper.append("defs").attr("id","topdefs-"+we._uid),we._topclips=we._topdefs.append("g").classed("clips",!0),we._bgLayer=we._paper.append("g").classed("bglayer",!0),we._draggers=we._paper.append("g").classed("draglayer",!0);var ze=we._paper.append("g").classed("layer-below",!0);we._imageLowerLayer=ze.append("g").classed("imagelayer",!0),we._shapeLowerLayer=ze.append("g").classed("shapelayer",!0),we._cartesianlayer=we._paper.append("g").classed("cartesianlayer",!0),we._polarlayer=we._paper.append("g").classed("polarlayer",!0),we._smithlayer=we._paper.append("g").classed("smithlayer",!0),we._ternarylayer=we._paper.append("g").classed("ternarylayer",!0),we._geolayer=we._paper.append("g").classed("geolayer",!0),we._funnelarealayer=we._paper.append("g").classed("funnelarealayer",!0),we._pielayer=we._paper.append("g").classed("pielayer",!0),we._iciclelayer=we._paper.append("g").classed("iciclelayer",!0),we._treemaplayer=we._paper.append("g").classed("treemaplayer",!0),we._sunburstlayer=we._paper.append("g").classed("sunburstlayer",!0),we._indicatorlayer=we._toppaper.append("g").classed("indicatorlayer",!0),we._glimages=we._paper.append("g").classed("glimages",!0);var _e=we._toppaper.append("g").classed("layer-above",!0);we._imageUpperLayer=_e.append("g").classed("imagelayer",!0),we._shapeUpperLayer=_e.append("g").classed("shapelayer",!0),we._selectionLayer=we._toppaper.append("g").classed("selectionlayer",!0),we._infolayer=we._toppaper.append("g").classed("infolayer",!0),we._menulayer=we._toppaper.append("g").classed("menulayer",!0),we._zoomlayer=we._toppaper.append("g").classed("zoomlayer",!0),we._hoverlayer=we._hoverpaper.append("g").classed("hoverlayer",!0),we._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),le.emit("plotly_framework")}z.animate=At,z.addFrames=ke,z.deleteFrames=Te,z.addTraces=H,z.deleteTraces=Y,z.extendTraces=oe,z.moveTraces=S,z.prependTraces=ve,z.newPlot=F,z._doPlot=L,z.purge=Re,z.react=kt,z.redraw=N,z.relayout=fe,z.restyle=E,z.setPlotConfig=R,z.update=Ae,z._guiRelayout=xe(fe),z._guiRestyle=xe(E),z._guiUpdate=xe(Ae),z._storeDirectGUIEdit=P},2075:function(te){var z={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};function l(g,s){for(var i in g){var r=g[i];r.valType?s[i]=r.dflt:(s[i]||(s[i]={}),l(r,s[i]))}}l(z,e),te.exports={configAttributes:z,dfltConfig:e}},6281:function(te,z,e){var l=e(3972),g=e(1828),s=e(9012),i=e(820),r=e(1391),f=e(5594),o=e(2075).configAttributes,n=e(962),t=g.extendDeepAll,u=g.isPlainObject,h=g.isArrayOrTypedArray,m=g.nestedProperty,y=g.valObjectMeta,d="_isSubplotObj",T="_isLinkedToArray",x="_arrayAttrRegexps",M="_deprecated",c=[d,T,x,M];z.IS_SUBPLOT_OBJ=d,z.IS_LINKED_TO_ARRAY=T,z.DEPRECATED=M,z.UNDERSCORE_ATTRS=c,z.get=function(){var ie={};l.allTypes.forEach(function(F){ie[F]=w(F)});var N={};return Object.keys(l.transformsRegistry).forEach(function(F){N[F]=k(F)}),{defs:{valObjects:y,metaKeys:c.concat(["description","role","editType","impliedEdits"]),editType:{traces:n.traces,layout:n.layout},impliedEdits:{}},traces:ie,layout:_(),transforms:N,frames:B(),animation:U(f),config:U(o)}},z.crawl=function(ie,N,F,G){var W=F||0;G=G||"",Object.keys(ie).forEach(function(X){var J=ie[X];if(c.indexOf(X)===-1){var ne=(G?G+".":"")+X;N(J,X,ie,W,ne),!z.isValObject(J)&&u(J)&&X!=="impliedEdits"&&z.crawl(J,N,W+1,ne)}})},z.isValObject=function(ie){return ie&&ie.valType!==void 0},z.findArrayAttributes=function(ie){var N=[],F=[],G=[],W,X;function J(ve,H,Y,S){F=F.slice(0,S).concat([H]),G=G.slice(0,S).concat([ve&&ve._isLinkedToArray]);var E=ve&&(ve.valType==="data_array"||ve.arrayOk===!0)&&!(F[S-1]==="colorbar"&&(H==="ticktext"||H==="tickvals"));E&&ne(W,0,"")}function ne(ve,H,Y){var S=ve[F[H]],E=Y+F[H];if(H===F.length-1)h(S)&&N.push(X+E);else if(G[H]){if(Array.isArray(S))for(var I=0;I<S.length;I++)u(S[I])&&ne(S[I],H+1,E+"["+I+"].")}else u(S)&&ne(S,H+1,E+".")}W=ie,X="",z.crawl(s,J),ie._module&&ie._module.attributes&&z.crawl(ie._module.attributes,J);var ue=ie.transforms;if(ue)for(var ye=0;ye<ue.length;ye++){var Me=ue[ye],oe=Me._module;oe&&(X="transforms["+ye+"].",W=Me,z.crawl(oe.attributes,J))}return N},z.getTraceValObject=function(ie,N){var F=N[0],G=1,W,X;if(F==="transforms"){if(N.length===1)return s.transforms;var J=ie.transforms;if(!Array.isArray(J)||!J.length)return!1;var ne=N[1];if(!b(ne)||ne>=J.length)return!1;W=(l.transformsRegistry[J[ne].type]||{}).attributes,X=W&&W[N[2]],G=3}else{var ue=ie._module;if(ue||(ue=(l.modules[ie.type||s.type.dflt]||{})._module),!ue)return!1;if(W=ue.attributes,X=W&&W[F],!X){var ye=ue.basePlotModule;ye&&ye.attributes&&(X=ye.attributes[F])}X||(X=s[F])}return v(X,N,G)},z.getLayoutValObject=function(ie,N){var F=p(ie,N[0]);return v(F,N,1)};function p(ie,N){var F,G,W,X,J=ie._basePlotModules;if(J){var ne;for(F=0;F<J.length;F++){if(W=J[F],W.attrRegex&&W.attrRegex.test(N)){if(W.layoutAttrOverrides)return W.layoutAttrOverrides;!ne&&W.layoutAttributes&&(ne=W.layoutAttributes)}var ue=W.baseLayoutAttrOverrides;if(ue&&N in ue)return ue[N]}if(ne)return ne}var ye=ie._modules;if(ye){for(F=0;F<ye.length;F++)if(X=ye[F].layoutAttributes,X&&N in X)return X[N]}for(G in l.componentsRegistry){if(W=l.componentsRegistry[G],W.name==="colorscale"&&N.indexOf("coloraxis")===0)return W.layoutAttributes[N];if(!W.schema&&N===W.name)return W.layoutAttributes}return N in i?i[N]:!1}function v(ie,N,F){if(!ie)return!1;if(ie._isLinkedToArray){if(b(N[F]))F++;else if(F<N.length)return!1}for(;F<N.length;F++){var G=ie[N[F]];if(u(G))ie=G;else break;if(F===N.length-1)break;if(ie._isLinkedToArray){if(F++,!b(N[F]))return!1}else if(ie.valType==="info_array"){F++;var W=N[F];if(!b(W))return!1;var X=ie.items;if(Array.isArray(X)){if(W>=X.length)return!1;if(ie.dimensions===2){if(F++,N.length===F)return ie;var J=N[F];if(!b(J))return!1;ie=X[W][J]}else ie=X[W]}else ie=X}}return ie}function b(ie){return ie===Math.round(ie)&&ie>=0}function w(ie){var N,F;N=l.modules[ie]._module,F=N.basePlotModule;var G={};G.type=null;var W=t({},s),X=t({},N.attributes);z.crawl(X,function(ue,ye,Me,oe,ve){m(W,ve).set(void 0),ue===void 0&&m(X,ve).set(void 0)}),t(G,W),l.traceIs(ie,"noOpacity")&&delete G.opacity,l.traceIs(ie,"showLegend")||(delete G.showlegend,delete G.legendgroup),l.traceIs(ie,"noHover")&&(delete G.hoverinfo,delete G.hoverlabel),N.selectPoints||delete G.selectedpoints,t(G,X),F.attributes&&t(G,F.attributes),G.type=ie;var J={meta:N.meta||{},categories:N.categories||{},animatable:!!N.animatable,type:ie,attributes:U(G)};if(N.layoutAttributes){var ne={};t(ne,N.layoutAttributes),J.layoutAttributes=U(ne)}return N.animatable||z.crawl(J,function(ue){z.isValObject(ue)&&"anim"in ue&&delete ue.anim}),J}function _(){var ie={},N,F;t(ie,i);for(N in l.subplotsRegistry)if(F=l.subplotsRegistry[N],!!F.layoutAttributes)if(Array.isArray(F.attr))for(var G=0;G<F.attr.length;G++)Z(ie,F,F.attr[G]);else{var W=F.attr==="subplot"?F.name:F.attr;Z(ie,F,W)}for(N in l.componentsRegistry){F=l.componentsRegistry[N];var X=F.schema;if(X&&(X.subplots||X.layout)){var J=X.subplots;if(J&&J.xaxis&&!J.yaxis)for(var ne in J.xaxis)delete ie.yaxis[ne];delete ie.xaxis.shift,delete ie.xaxis.autoshift}else F.name==="colorscale"?t(ie,F.layoutAttributes):F.layoutAttributes&&$(ie,F.layoutAttributes,F.name)}return{layoutAttributes:U(ie)}}function k(ie){var N=l.transformsRegistry[ie],F=t({},N.attributes);return Object.keys(l.componentsRegistry).forEach(function(G){var W=l.componentsRegistry[G];W.schema&&W.schema.transforms&&W.schema.transforms[ie]&&Object.keys(W.schema.transforms[ie]).forEach(function(X){$(F,W.schema.transforms[ie][X],X)})}),{attributes:U(F)}}function B(){var ie={frames:t({},r)};return U(ie),ie.frames}function U(ie){return L(ie),O(ie),R(ie),ie}function L(ie){function N(G){return{valType:"string",editType:"none"}}function F(G,W,X){z.isValObject(G)?(G.arrayOk===!0||G.valType==="data_array")&&(X[W+"src"]=N()):u(G)&&(G.role="object")}z.crawl(ie,F)}function O(ie){function N(F,G,W){if(F){var X=F[T];X&&(delete F[T],W[G]={items:{}},W[G].items[X]=F,W[G].role="object")}}z.crawl(ie,N)}function R(ie){function N(F){for(var G in F)if(u(F[G]))N(F[G]);else if(Array.isArray(F[G]))for(var W=0;W<F[G].length;W++)N(F[G][W]);else F[G]instanceof RegExp&&(F[G]=F[G].toString())}N(ie)}function Z(ie,N,F){var G=m(ie,F),W=t({},N.layoutAttributes);W[d]=!0,G.set(W)}function $(ie,N,F){var G=m(ie,F);G.set(t(G.get()||{},N))}},4467:function(te,z,e){var l=e(1828),g=e(9012),s="templateitemname",i={name:{valType:"string",editType:"none"}};i[s]={valType:"string",editType:"calc"},z.templatedArray=function(o,n){return n._isLinkedToArray=o,n.name=i.name,n[s]=i[s],n},z.traceTemplater=function(o){var n={},t,u;for(t in o)u=o[t],Array.isArray(u)&&u.length&&(n[t]=0);function h(m){t=l.coerce(m,{},g,"type");var y={type:t,_template:null};if(t in n){u=o[t];var d=n[t]%u.length;n[t]++,y._template=u[d]}return y}return{newTrace:h}},z.newContainer=function(o,n,t){var u=o._template,h=u&&(u[n]||t&&u[t]);l.isPlainObject(h)||(h=null);var m=o[n]={_template:h};return m},z.arrayTemplater=function(o,n,t){var u=o._template,h=u&&u[f(n)],m=u&&u[n];(!Array.isArray(m)||!m.length)&&(m=[]);var y={};function d(x){var M={name:x.name,_input:x},c=M[s]=x[s];if(!r(c))return M._template=h,M;for(var p=0;p<m.length;p++){var v=m[p];if(v.name===c)return y[c]=1,M._template=v,M}return M[t]=x[t]||!1,M._template=!1,M}function T(){for(var x=[],M=0;M<m.length;M++){var c=m[M],p=c.name;if(r(p)&&!y[p]){var v={_template:c,name:p,_input:{_templateitemname:p}};v[s]=c[s],x.push(v),y[p]=1}}return x}return{newItem:d,defaultItems:T}};function r(o){return o&&typeof o=="string"}function f(o){var n=o.length-1;return o.charAt(n)!=="s"&&l.warn("bad argument to arrayDefaultKey: "+o),o.substr(0,o.length-1)+"defaults"}z.arrayDefaultKey=f,z.arrayEditor=function(o,n,t){var u=(l.nestedProperty(o,n).get()||[]).length,h=t._index,m=h>=u&&(t._input||{})._templateitemname;m&&(h=u);var y=n+"["+h+"]",d;function T(){d={},m&&(d[y]={},d[y][s]=m)}T();function x(v,b){d[v]=b}function M(v,b){m?l.nestedProperty(d[y],v).set(b):d[y+"."+v]=b}function c(){var v=d;return T(),v}function p(v,b){v&&M(v,b);var w=c();for(var _ in w)l.nestedProperty(o,_).set(w[_])}return{modifyBase:x,modifyItem:M,getUpdateObj:c,applyUpdate:p}}},1549:function(te,z,e){var l=e(9898),g=e(3972),s=e(4875),i=e(1828),r=e(3893),f=e(3306),o=e(7901),n=e(1424),t=e(2998),u=e(4168),h=e(9298),m=e(8783),y=e(9082),d=y.enforce,T=y.clean,x=e(1739).doAutoRange,M="start",c="middle",p="end";z.layoutStyles=function(F){return i.syncOrAsync([s.doAutoMargin,b],F)};function v(F,G,W){for(var X=0;X<W.length;X++){var J=W[X][0],ne=W[X][1];if(!(J[0]>=F[1]||J[1]<=F[0])&&ne[0]<G[1]&&ne[1]>G[0])return!0}return!1}function b(F){var G=F._fullLayout,W=G._size,X=W.p,J=h.list(F,"",!0),ne,ue,ye,Me,oe,ve;if(G._paperdiv.style({width:F._context.responsive&&G.autosize&&!F._context._hasZeroWidth&&!F.layout.width?"100%":G.width+"px",height:F._context.responsive&&G.autosize&&!F._context._hasZeroHeight&&!F.layout.height?"100%":G.height+"px"}).selectAll(".main-svg").call(n.setSize,G.width,G.height),F._context.setBackground(F,G.paper_bgcolor),z.drawMainTitle(F),u.manage(F),!G._has("cartesian"))return s.previousPromises(F);function H(Re,Le,Oe){var le=Re._lw/2;if(Re._id.charAt(0)==="x"){if(Le){if(Oe==="top")return Le._offset-X-le}else return W.t+W.h*(1-(Re.position||0))+le%1;return Le._offset+Le._length+X+le}if(Le){if(Oe==="right")return Le._offset+Le._length+X+le}else return W.l+W.w*(Re.position||0)+le%1;return Le._offset-X-le}for(ne=0;ne<J.length;ne++){Me=J[ne];var Y=Me._anchorAxis;Me._linepositions={},Me._lw=n.crispRound(F,Me.linewidth,1),Me._mainLinePosition=H(Me,Y,Me.side),Me._mainMirrorPosition=Me.mirror&&Y?H(Me,Y,m.OPPOSITE_SIDE[Me.side]):null}var S=[],E=[],I=[],C=o.opacity(G.paper_bgcolor)===1&&o.opacity(G.plot_bgcolor)===1&&G.paper_bgcolor===G.plot_bgcolor;for(ue in G._plots)if(ye=G._plots[ue],ye.mainplot)ye.bg&&ye.bg.remove(),ye.bg=void 0;else{var K=ye.xaxis.domain,P=ye.yaxis.domain,j=ye.plotgroup;if(v(K,P,I)){var ae=j.node(),fe=ye.bg=i.ensureSingle(j,"rect","bg");ae.insertBefore(fe.node(),ae.childNodes[0]),E.push(ue)}else j.select("rect.bg").remove(),I.push([K,P]),C||(S.push(ue),E.push(ue))}var de=G._bgLayer.selectAll(".bg").data(S);for(de.enter().append("rect").classed("bg",!0),de.exit().remove(),de.each(function(Re){G._plots[Re].bg=l.select(this)}),ne=0;ne<E.length;ne++)ye=G._plots[E[ne]],oe=ye.xaxis,ve=ye.yaxis,ye.bg&&oe._offset!==void 0&&ve._offset!==void 0&&ye.bg.call(n.setRect,oe._offset-X,ve._offset-X,oe._length+2*X,ve._length+2*X).call(o.fill,G.plot_bgcolor).style("stroke-width",0);if(!G._hasOnlyLargeSploms)for(ue in G._plots){ye=G._plots[ue],oe=ye.xaxis,ve=ye.yaxis;var Ce=ye.clipId="clip"+G._uid+ue+"plot",De=i.ensureSingleById(G._clips,"clipPath",Ce,function(Re){Re.classed("plotclip",!0).append("rect")});ye.clipRect=De.select("rect").attr({width:oe._length,height:ve._length}),n.setTranslate(ye.plot,oe._offset,ve._offset);var ce,me;ye._hasClipOnAxisFalse?(ce=null,me=Ce):(ce=Ce,me=null),n.setClipUrl(ye.plot,ce,F),ye.layerClipId=me}var pe,Ee,Ae,xe,Fe,Ke,je,Ve,dt,bt,Tt,it,kt;function tt(Re){return"M"+pe+","+Re+"H"+Ee}function Mt(Re){return"M"+oe._offset+","+Re+"h"+oe._length}function Dt(Re){return"M"+Re+","+Ve+"V"+je}function St(Re){return ve._shift!==void 0&&(Re+=ve._shift),"M"+Re+","+ve._offset+"v"+ve._length}function At(Re,Le,Oe){if(!Re.showline||ue!==Re._mainSubplot)return"";if(!Re._anchorAxis)return Oe(Re._mainLinePosition);var le=Le(Re._mainLinePosition);return Re.mirror&&(le+=Le(Re._mainMirrorPosition)),le}for(ue in G._plots){ye=G._plots[ue],oe=ye.xaxis,ve=ye.yaxis;var ke="M0,0";w(oe,ue)&&(Fe=k(oe,"left",ve,J),pe=oe._offset-(Fe?X+Fe:0),Ke=k(oe,"right",ve,J),Ee=oe._offset+oe._length+(Ke?X+Ke:0),Ae=H(oe,ve,"bottom"),xe=H(oe,ve,"top"),kt=!oe._anchorAxis||ue!==oe._mainSubplot,kt&&(oe.mirror==="allticks"||oe.mirror==="all")&&(oe._linepositions[ue]=[Ae,xe]),ke=At(oe,tt,Mt),kt&&oe.showline&&(oe.mirror==="all"||oe.mirror==="allticks")&&(ke+=tt(Ae)+tt(xe)),ye.xlines.style("stroke-width",oe._lw+"px").call(o.stroke,oe.showline?oe.linecolor:"rgba(0,0,0,0)")),ye.xlines.attr("d",ke);var Te="M0,0";w(ve,ue)&&(Tt=k(ve,"bottom",oe,J),je=ve._offset+ve._length+(Tt?X:0),it=k(ve,"top",oe,J),Ve=ve._offset-(it?X:0),dt=H(ve,oe,"left"),bt=H(ve,oe,"right"),kt=!ve._anchorAxis||ue!==ve._mainSubplot,kt&&(ve.mirror==="allticks"||ve.mirror==="all")&&(ve._linepositions[ue]=[dt,bt]),Te=At(ve,Dt,St),kt&&ve.showline&&(ve.mirror==="all"||ve.mirror==="allticks")&&(Te+=Dt(dt)+Dt(bt)),ye.ylines.style("stroke-width",ve._lw+"px").call(o.stroke,ve.showline?ve.linecolor:"rgba(0,0,0,0)")),ye.ylines.attr("d",Te)}return h.makeClipPaths(F),s.previousPromises(F)}function w(F,G){return(F.ticks||F.showline)&&(G===F._mainSubplot||F.mirror==="all"||F.mirror==="allticks")}function _(F,G,W){if(!W.showline||!W._lw)return!1;if(W.mirror==="all"||W.mirror==="allticks")return!0;var X=W._anchorAxis;if(!X)return!1;var J=m.FROM_BL[G];return W.side===G?X.domain[J]===F.domain[J]:W.mirror&&X.domain[1-J]===F.domain[1-J]}function k(F,G,W,X){if(_(F,G,W))return W._lw;for(var J=0;J<X.length;J++){var ne=X[J];if(ne._mainAxis===W._mainAxis&&_(F,G,ne))return ne._lw}return 0}z.drawMainTitle=function(F){var G=F._fullLayout.title,W=F._fullLayout,X=ie(W),J=N(W),ne=Z(W,J),ue=R(W,X);if(t.draw(F,"gtitle",{propContainer:W,propName:"title.text",placeholder:W._dfltTitle.plot,attributes:{x:ue,y:ne,"text-anchor":X,dy:J}}),G.text&&G.automargin){var ye=l.selectAll(".gtitle"),Me=n.bBox(ye.node()).height,oe=L(F,G,Me);oe>0&&(O(F,ne,oe,Me),ye.attr({x:ue,y:ne,"text-anchor":X,dy:$(G.yanchor)}).call(r.positionText,ue,ne))}};function B(F,G,W,X,J){var ne=G.yref==="paper"?F._fullLayout._size.h:F._fullLayout.height,ue=i.isTopAnchor(G)?X:X-J,ye=W==="b"?ne-ue:ue;return i.isTopAnchor(G)&&W==="t"||i.isBottomAnchor(G)&&W==="b"?!1:ye<J}function U(F,G,W,X,J){var ne=0;return W==="middle"&&(ne+=J/2),F==="t"?(W==="top"&&(ne+=J),ne+=X-G*X):(W==="bottom"&&(ne+=J),ne+=G*X),ne}function L(F,G,W){var X=G.y,J=G.yanchor,ne=X>.5?"t":"b",ue=F._fullLayout.margin[ne],ye=0;return G.yref==="paper"?ye=W+G.pad.t+G.pad.b:G.yref==="container"&&(ye=U(ne,X,J,F._fullLayout.height,W)+G.pad.t+G.pad.b),ye>ue?ye:0}function O(F,G,W,X){var J="title.automargin",ne=F._fullLayout.title,ue=ne.y>.5?"t":"b",ye={x:ne.x,y:ne.y,t:0,b:0},Me={};ne.yref==="paper"&&B(F,ne,ue,G,X)?ye[ue]=W:ne.yref==="container"&&(Me[ue]=W,F._fullLayout._reservedMargin[J]=Me),s.allowAutoMargin(F,J),s.autoMargin(F,J,ye)}function R(F,G){var W=F.title,X=F._size,J=0;switch(G===M?J=W.pad.l:G===p&&(J=-W.pad.r),W.xref){case"paper":return X.l+X.w*W.x+J;case"container":default:return F.width*W.x+J}}function Z(F,G){var W=F.title,X=F._size,J=0;if(G==="0em"||!G?J=-W.pad.b:G===m.CAP_SHIFT+"em"&&(J=W.pad.t),W.y==="auto")return X.t/2;switch(W.yref){case"paper":return X.t+X.h-X.h*W.y+J;case"container":default:return F.height-F.height*W.y+J}}function $(F){return F==="top"?m.CAP_SHIFT+.3+"em":F==="bottom"?"-0.3em":m.MID_SHIFT+"em"}function ie(F){var G=F.title,W=c;return i.isRightAnchor(G)?W=p:i.isLeftAnchor(G)&&(W=M),W}function N(F){var G=F.title,W="0em";return i.isTopAnchor(G)?W=m.CAP_SHIFT+"em":i.isMiddleAnchor(G)&&(W=m.MID_SHIFT+"em"),W}z.doTraceStyle=function(F){var G=F.calcdata,W=[],X;for(X=0;X<G.length;X++){var J=G[X],ne=J[0]||{},ue=ne.trace||{},ye=ue._module||{},Me=ye.arraysToCalcdata;Me&&Me(J,ue);var oe=ye.editStyle;oe&&W.push({fn:oe,cd0:ne})}if(W.length){for(X=0;X<W.length;X++){var ve=W[X];ve.fn(F,ve.cd0)}f(F),z.redrawReglTraces(F)}return s.style(F),g.getComponentMethod("legend","draw")(F),s.previousPromises(F)},z.doColorBars=function(F){return g.getComponentMethod("colorbar","draw")(F),s.previousPromises(F)},z.layoutReplot=function(F){var G=F.layout;return F.layout=void 0,g.call("_doPlot",F,"",G)},z.doLegend=function(F){return g.getComponentMethod("legend","draw")(F),s.previousPromises(F)},z.doTicksRelayout=function(F){return h.draw(F,"redraw"),F._fullLayout._hasOnlyLargeSploms&&(g.subplotsRegistry.splom.updateGrid(F),f(F),z.redrawReglTraces(F)),z.drawMainTitle(F),s.previousPromises(F)},z.doModeBar=function(F){var G=F._fullLayout;u.manage(F);for(var W=0;W<G._basePlotModules.length;W++){var X=G._basePlotModules[W].updateFx;X&&X(F)}return s.previousPromises(F)},z.doCamera=function(F){for(var G=F._fullLayout,W=G._subplots.gl3d,X=0;X<W.length;X++){var J=G[W[X]],ne=J._scene;ne.setViewport(J)}},z.drawData=function(F){var G=F._fullLayout;f(F);for(var W=G._basePlotModules,X=0;X<W.length;X++)W[X].plot(F);return z.redrawReglTraces(F),s.style(F),g.getComponentMethod("selections","draw")(F),g.getComponentMethod("shapes","draw")(F),g.getComponentMethod("annotations","draw")(F),g.getComponentMethod("images","draw")(F),G._replotting=!1,s.previousPromises(F)},z.redrawReglTraces=function(F){var G=F._fullLayout;if(G._has("regl")){var W=F._fullData,X=[],J=[],ne,ue;for(G._hasOnlyLargeSploms&&G._splomGrid.draw(),ne=0;ne<W.length;ne++){var ye=W[ne];ye.visible===!0&&ye._length!==0&&(ye.type==="splom"?G._splomScenes[ye.uid].draw():ye.type==="scattergl"?i.pushUnique(X,ye.xaxis+ye.yaxis):ye.type==="scatterpolargl"&&i.pushUnique(J,ye.subplot))}for(ne=0;ne<X.length;ne++)ue=G._plots[X[ne]],ue._scene&&ue._scene.draw();for(ne=0;ne<J.length;ne++)ue=G[J[ne]]._subplot,ue._scene&&ue._scene.draw()}},z.doAutoRangeAndConstraints=function(F){for(var G=h.list(F,"",!0),W,X={},J=0;J<G.length;J++)if(W=G[J],!X[W._id]){X[W._id]=1,T(F,W),x(F,W);var ne=W._matchGroup;if(ne)for(var ue in ne){var ye=h.getFromId(F,ue);x(F,ye,W.range),X[ue]=1}}d(F)},z.finalDraw=function(F){g.getComponentMethod("rangeslider","draw")(F),g.getComponentMethod("rangeselector","draw")(F)},z.drawMarginPushers=function(F){g.getComponentMethod("legend","draw")(F),g.getComponentMethod("rangeselector","draw")(F),g.getComponentMethod("sliders","draw")(F),g.getComponentMethod("updatemenus","draw")(F),g.getComponentMethod("colorbar","draw")(F)}},6318:function(te,z,e){var l=e(1828),g=l.isPlainObject,s=e(6281),i=e(4875),r=e(9012),f=e(4467),o=e(2075).dfltConfig;z.makeTemplate=function(x){x=l.isPlainObject(x)?x:l.getGraphDiv(x),x=l.extendDeep({_context:o},{data:x.data,layout:x.layout}),i.supplyDefaults(x);var M=x.data||[],c=x.layout||{};c._basePlotModules=x._fullLayout._basePlotModules,c._modules=x._fullLayout._modules;var p={data:{},layout:{}};M.forEach(function(R){var Z={};u(R,Z,m.bind(null,R));var $=l.coerce(R,{},r,"type"),ie=p.data[$];ie||(ie=p.data[$]=[]),ie.push(Z)}),u(c,p.layout,h.bind(null,c)),delete p.layout.template;var v=c.template;if(g(v)){var b=v.layout,w,_,k,B,U,L;g(b)&&n(b,p.layout);var O=v.data;if(g(O)){for(_ in p.data)if(k=O[_],Array.isArray(k)){for(U=p.data[_],L=U.length,B=k.length,w=0;w<L;w++)n(k[w%B],U[w]);for(w=L;w<B;w++)U.push(l.extendDeep({},k[w]))}for(_ in O)_ in p.data||(p.data[_]=l.extendDeep([],O[_]))}}return p};function n(x,M){x=l.extendDeep({},x);var c=Object.keys(x).sort(),p,v;function b(U,L,O){if(g(L)&&g(U))n(U,L);else if(Array.isArray(L)&&Array.isArray(U)){var R=f.arrayTemplater({_template:x},O);for(v=0;v<L.length;v++){var Z=L[v],$=R.newItem(Z)._template;$&&n($,Z)}var ie=R.defaultItems();for(v=0;v<ie.length;v++)L.push(ie[v]._template);for(v=0;v<L.length;v++)delete L[v].templateitemname}}for(p=0;p<c.length;p++){var w=c[p],_=x[w];if(w in M?b(_,M[w],w):M[w]=_,t(w)===w)for(var k in M){var B=t(k);k!==B&&B===w&&!(k in x)&&b(_,M[k],w)}}}function t(x){return x.replace(/[0-9]+$/,"")}function u(x,M,c,p,v){var b=v&&c(v);for(var w in x){var _=x[w],k=y(x,w,p),B=y(x,w,v),U=c(B);if(!U){var L=t(w);L!==w&&(B=y(x,L,v),U=c(B))}if(!(b&&b===U)&&!(!U||U._noTemplating||U.valType==="data_array"||U.arrayOk&&Array.isArray(_)))if(!U.valType&&g(_))u(_,M,c,k,B);else if(U._isLinkedToArray&&Array.isArray(_))for(var O=!1,R=0,Z={},$=0;$<_.length;$++){var ie=_[$];if(g(ie)){var N=ie.name;if(N)Z[N]||(u(ie,M,c,y(_,R,k),y(_,R,B)),R++,Z[N]=1);else if(!O){var F=f.arrayDefaultKey(w),G=y(x,F,p),W=y(_,R,k);u(ie,M,c,W,y(_,R,B));var X=l.nestedProperty(M,W),J=l.nestedProperty(M,G);J.set(X.get()),X.set(null),O=!0}}}else{var ne=l.nestedProperty(M,k);ne.set(_)}}}function h(x,M){return s.getLayoutValObject(x,l.nestedProperty({},M).parts)}function m(x,M){return s.getTraceValObject(x,l.nestedProperty({},M).parts)}function y(x,M,c){var p;return c?Array.isArray(x)?p=c+"["+M+"]":p=c+"."+M:p=M,p}z.validateTemplate=function(x,M){var c=l.extendDeep({},{_context:o,data:x.data,layout:x.layout}),p=c.layout||{};g(M)||(M=p.template||{});var v=M.layout,b=M.data,w=[];c.layout=p,c.layout.template=M,i.supplyDefaults(c);var _=c._fullLayout,k=c._fullData,B={};function U(G,W){for(var X in G)if(X.charAt(0)!=="_"&&g(G[X])){var J=t(X),ne=[],ue;for(ue=0;ue<W.length;ue++)ne.push(y(G,X,W[ue])),J!==X&&ne.push(y(G,J,W[ue]));for(ue=0;ue<ne.length;ue++)B[ne[ue]]=1;U(G[X],ne)}}function L(G,W){for(var X in G)if(X.indexOf("defaults")===-1&&g(G[X])){var J=y(G,X,W);B[J]?L(G[X],J):w.push({code:"unused",path:J})}}if(g(v)?(U(_,["layout"]),L(v,"layout")):w.push({code:"layout"}),!g(b))w.push({code:"data"});else{for(var O={},R,Z=0;Z<k.length;Z++){var $=k[Z];R=$.type,O[R]=(O[R]||0)+1,$._fullInput._template||w.push({code:"missing",index:$._fullInput.index,traceType:R})}for(R in b){var ie=b[R].length,N=O[R]||0;ie>N?w.push({code:"unused",traceType:R,templateCount:ie,dataCount:N}):N>ie&&w.push({code:"reused",traceType:R,templateCount:ie,dataCount:N})}}function F(G,W){for(var X in G)if(X.charAt(0)!=="_"){var J=G[X],ne=y(G,X,W);g(J)?(Array.isArray(G)&&J._template===!1&&J.templateitemname&&w.push({code:"missing",path:ne,templateitemname:J.templateitemname}),F(J,ne)):Array.isArray(J)&&d(J)&&F(J,ne)}}if(F({data:k,layout:_},""),w.length)return w.map(T)};function d(x){for(var M=0;M<x.length;M++)if(g(x[M]))return!0}function T(x){var M;switch(x.code){case"data":M="The template has no key data.";break;case"layout":M="The template has no key layout.";break;case"missing":x.path?M="There are no templates for item "+x.path+" with name "+x.templateitemname:M="There are no templates for trace "+x.index+", of type "+x.traceType+".";break;case"unused":x.path?M="The template item at "+x.path+" was not used in constructing the plot.":x.dataCount?M="Some of the templates of type "+x.traceType+" were not used. The template has "+x.templateCount+" traces, the data only has "+x.dataCount+" of this type.":M="The template has "+x.templateCount+" traces of type "+x.traceType+" but there are none in the data.";break;case"reused":M="Some of the templates of type "+x.traceType+" were used more than once. The template has "+x.templateCount+" traces, the data has "+x.dataCount+" of this type.";break}return x.msg=M,x}},403:function(te,z,e){var l=e(2770),g=e(2391),s=e(4875),i=e(1828),r=e(5095),f=e(5900),o=e(942),n=e(1506).version,t={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function u(h,m){m=m||{};var y,d,T,x;i.isPlainObject(h)?(y=h.data||[],d=h.layout||{},T=h.config||{},x={}):(h=i.getGraphDiv(h),y=i.extendDeep([],h.data),d=i.extendDeep({},h.layout),T=h._context,x=h._fullLayout||{});function M(N){return!(N in m)||i.validate(m[N],t[N])}if(!M("width")&&m.width!==null||!M("height")&&m.height!==null)throw new Error("Height and width should be pixel values.");if(!M("format"))throw new Error("Export format is not "+i.join2(t.format.values,", "," or ")+".");var c={};function p(N,F){return i.coerce(m,c,t,N,F)}var v=p("format"),b=p("width"),w=p("height"),_=p("scale"),k=p("setBackground"),B=p("imageDataOnly"),U=document.createElement("div");U.style.position="absolute",U.style.left="-5000px",document.body.appendChild(U);var L=i.extendFlat({},d);b?L.width=b:m.width===null&&l(x.width)&&(L.width=x.width),w?L.height=w:m.height===null&&l(x.height)&&(L.height=x.height);var O=i.extendFlat({},T,{_exportedPlot:!0,staticPlot:!0,setBackground:k}),R=r.getRedrawFunc(U);function Z(){return new Promise(function(N){setTimeout(N,r.getDelay(U._fullLayout))})}function $(){return new Promise(function(N,F){var G=f(U,v,_),W=U._fullLayout.width,X=U._fullLayout.height;function J(){g.purge(U),document.body.removeChild(U)}if(v==="full-json"){var ne=s.graphJson(U,!1,"keepdata","object",!0,!0);return ne.version=n,ne=JSON.stringify(ne),J(),N(B?ne:r.encodeJSON(ne))}if(J(),v==="svg")return N(B?G:r.encodeSVG(G));var ue=document.createElement("canvas");ue.id=i.randstr(),o({format:v,width:W,height:X,scale:_,canvas:ue,svg:G,promise:!0}).then(N).catch(F)})}function ie(N){return B?N.replace(r.IMAGE_URL_PREFIX,""):N}return new Promise(function(N,F){g.newPlot(U,y,L,O).then(R).then(Z).then($).then(function(G){N(ie(G))}).catch(function(G){F(G)})})}te.exports=u},4936:function(te,z,e){var l=e(1828),g=e(4875),s=e(6281),i=e(2075).dfltConfig,r=l.isPlainObject,f=Array.isArray,o=l.isArrayOrTypedArray;te.exports=function(p,v){p===void 0&&(p=[]),v===void 0&&(v={});var b=s.get(),w=[],_={_context:l.extendFlat({},i)},k,B;f(p)?(_.data=l.extendDeep([],p),k=p):(_.data=[],k=[],w.push(m("array","data"))),r(v)?(_.layout=l.extendDeep({},v),B=v):(_.layout={},B={},arguments.length>1&&w.push(m("object","layout"))),g.supplyDefaults(_);for(var U=_._fullData,L=k.length,O=0;O<L;O++){var R=k[O],Z=["data",O];if(!r(R)){w.push(m("object",Z));continue}var $=U[O],ie=$.type,N=b.traces[ie].attributes;N.type={valType:"enumerated",values:[ie]},$.visible===!1&&R.visible!==!1&&w.push(m("invisible",Z)),n(R,$,N,w,Z);var F=R.transforms,G=$.transforms;if(F){f(F)||w.push(m("array",Z,["transforms"])),Z.push("transforms");for(var W=0;W<F.length;W++){var X=["transforms",W],J=F[W].type;if(!r(F[W])){w.push(m("object",Z,X));continue}var ne=b.transforms[J]?b.transforms[J].attributes:{};ne.type={valType:"enumerated",values:Object.keys(b.transforms)},n(F[W],G[W],ne,w,Z,X)}}}var ue=_._fullLayout,ye=t(b,U);return n(B,ue,ye,w,"layout"),w.length===0?void 0:w};function n(c,p,v,b,w,_){_=_||[];for(var k=Object.keys(c),B=0;B<k.length;B++){var U=k[B];if(U!=="transforms"){var L=_.slice();L.push(U);var O=c[U],R=p[U],Z=d(v,U),$=(Z||{}).valType,ie=$==="info_array",N=$==="colorscale",F=(Z||{}).items;if(!y(v,U))b.push(m("schema",w,L));else if(r(O)&&r(R)&&$!=="any")n(O,R,Z,b,w,L);else if(ie&&f(O)){O.length>R.length&&b.push(m("unused",w,L.concat(R.length)));var G=R.length,W=Array.isArray(F);W&&(G=Math.min(G,F.length));var X,J,ne,ue,ye;if(Z.dimensions===2)for(J=0;J<G;J++)if(f(O[J])){O[J].length>R[J].length&&b.push(m("unused",w,L.concat(J,R[J].length)));var Me=R[J].length;for(X=0;X<(W?Math.min(Me,F[J].length):Me);X++)ne=W?F[J][X]:F,ue=O[J][X],ye=R[J][X],l.validate(ue,ne)?ye!==ue&&ye!==+ue&&b.push(m("dynamic",w,L.concat(J,X),ue,ye)):b.push(m("value",w,L.concat(J,X),ue))}else b.push(m("array",w,L.concat(J),O[J]));else for(J=0;J<G;J++)ne=W?F[J]:F,ue=O[J],ye=R[J],l.validate(ue,ne)?ye!==ue&&ye!==+ue&&b.push(m("dynamic",w,L.concat(J),ue,ye)):b.push(m("value",w,L.concat(J),ue))}else if(Z.items&&!ie&&f(O)){var oe=F[Object.keys(F)[0]],ve=[],H,Y;for(H=0;H<R.length;H++){var S=R[H]._index||H;if(Y=L.slice(),Y.push(S),r(O[S])&&r(R[H])){ve.push(S);var E=O[S],I=R[H];r(E)&&E.visible!==!1&&I.visible===!1?b.push(m("invisible",w,Y)):n(E,I,oe,b,w,Y)}}for(H=0;H<O.length;H++)Y=L.slice(),Y.push(H),r(O[H])?ve.indexOf(H)===-1&&b.push(m("unused",w,Y)):b.push(m("object",w,Y,O[H]))}else!r(O)&&r(R)?b.push(m("object",w,L,O)):!o(O)&&o(R)&&!ie&&!N?b.push(m("array",w,L,O)):U in p?l.validate(O,Z)?Z.valType==="enumerated"&&(Z.coerceNumber&&O!==+R||O!==R)&&b.push(m("dynamic",w,L,O,R)):b.push(m("value",w,L,O)):b.push(m("unused",w,L,O))}}return b}function t(c,p){for(var v=c.layout.layoutAttributes,b=0;b<p.length;b++){var w=p[b],_=c.traces[w.type],k=_.layoutAttributes;k&&(w.subplot?l.extendFlat(v[_.attributes.subplot.dflt],k):l.extendFlat(v,k))}return v}var u={object:function(c,p){var v;return c==="layout"&&p===""?v="The layout argument":c[0]==="data"&&p===""?v="Trace "+c[1]+" in the data argument":v=h(c)+"key "+p,v+" must be linked to an object container"},array:function(c,p){var v;return c==="data"?v="The data argument":v=h(c)+"key "+p,v+" must be linked to an array container"},schema:function(c,p){return h(c)+"key "+p+" is not part of the schema"},unused:function(c,p,v){var b=r(v)?"container":"key";return h(c)+b+" "+p+" did not get coerced"},dynamic:function(c,p,v,b){return[h(c)+"key",p,"(set to '"+v+"')","got reset to","'"+b+"'","during defaults."].join(" ")},invisible:function(c,p){return(p?h(c)+"item "+p:"Trace "+c[1])+" got defaulted to be not visible"},value:function(c,p,v){return[h(c)+"key "+p,"is set to an invalid value ("+v+")"].join(" ")}};function h(c){return f(c)?"In data trace "+c[1]+", ":"In "+c+", "}function m(c,p,v,b,w){v=v||"";var _,k;f(p)?(_=p[0],k=p[1]):(_=p,k=null);var B=M(v),U=u[c](p,B,b,w);return l.log(U),{code:c,container:_,trace:k,path:v,astr:B,msg:U}}function y(c,p){var v=x(p),b=v.keyMinusId,w=v.id;return b in c&&c[b]._isSubplotObj&&w?!0:p in c}function d(c,p){if(p in c)return c[p];var v=x(p);return c[v.keyMinusId]}var T=l.counterRegex("([a-z]+)");function x(c){var p=c.match(T);return{keyMinusId:p&&p[1],id:p&&p[2]}}function M(c){if(!f(c))return String(c);for(var p="",v=0;v<c.length;v++){var b=c[v];typeof b=="number"?p=p.substr(0,p.length-1)+"["+b+"]":p+=b,v<c.length-1&&(p+=".")}return p}},5594:function(te){te.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},5501:function(te,z,e){var l=e(1828),g=e(4467);te.exports=function(i,r,f){var o=f.name,n=f.inclusionAttr||"visible",t=r[o],u=l.isArrayOrTypedArray(i[o])?i[o]:[],h=r[o]=[],m=g.arrayTemplater(r,o,n),y,d;for(y=0;y<u.length;y++){var T=u[y];l.isPlainObject(T)?d=m.newItem(T):(d=m.newItem({}),d[n]=!1),d._index=y,d[n]!==!1&&f.handleItemDefaults(T,d,r,f),h.push(d)}var x=m.defaultItems();for(y=0;y<x.length;y++)d=x[y],d._index=h.length,f.handleItemDefaults({},d,r,f,{}),h.push(d);if(l.isArrayOrTypedArray(t)){var M=Math.min(t.length,h.length);for(y=0;y<M;y++)l.relinkPrivateKeys(h[y],t[y])}return h}},9012:function(te,z,e){var l=e(1940),g=e(7914);te.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:l({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:g.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},2973:function(te,z,e){var l=e(2770),g=e(1828),s=g.dateTime2ms,i=g.incrementMonth,r=e(606),f=r.ONEAVGMONTH;te.exports=function(n,t,u,h){if(t.type!=="date")return{vals:h};var m=n[u+"periodalignment"];if(!m)return{vals:h};var y=n[u+"period"],d;if(l(y)){if(y=+y,y<=0)return{vals:h}}else if(typeof y=="string"&&y.charAt(0)==="M"){var T=+y.substring(1);if(T>0&&Math.round(T)===T)d=T;else return{vals:h}}for(var x=t.calendar,M=m==="start",c=m==="end",p=n[u+"period0"],v=s(p,x)||0,b=[],w=[],_=[],k=h.length,B=0;B<k;B++){var U=h[B],L,O,R;if(d){for(L=Math.round((U-v)/(d*f)),R=i(v,d*L,x);R>U;)R=i(R,-d,x);for(;R<=U;)R=i(R,d,x);O=i(R,-d,x)}else{for(L=Math.round((U-v)/y),R=v+L*y;R>U;)R-=y;for(;R<=U;)R+=y;O=R-y}b[B]=M?O:c?R:(O+R)/2,w[B]=O,_[B]=R}return{vals:b,starts:w,ends:_}}},9502:function(te){te.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},1739:function(te,z,e){var l=e(9898),g=e(2770),s=e(1828),i=e(606).FP_SAFE,r=e(3972),f=e(1424),o=e(1675),n=o.getFromId,t=o.isLinked;te.exports={applyAutorangeOptions:L,getAutoRange:u,makePadFn:m,doAutoRange:x,findExtremes:M,concatExtremes:T};function u(O,R){var Z,$,ie=[],N=O._fullLayout,F=m(N,R,0),G=m(N,R,1),W=T(O,R),X=W.min,J=W.max;if(X.length===0||J.length===0)return s.simpleMap(R.range,R.r2l);var ne=X[0].val,ue=J[0].val;for(Z=1;Z<X.length&&ne===ue;Z++)ne=Math.min(ne,X[Z].val);for(Z=1;Z<J.length&&ne===ue;Z++)ue=Math.max(ue,J[Z].val);var ye=R.autorange,Me=ye==="reversed"||ye==="min reversed"||ye==="max reversed";if(!Me&&R.range){var oe=s.simpleMap(R.range,R.r2l);Me=oe[1]<oe[0]}R.autorange==="reversed"&&(R.autorange=!0);var ve=R.rangemode,H=ve==="tozero",Y=ve==="nonnegative",S=R._length,E=S/10,I=0,C,K,P,j,ae,fe;for(Z=0;Z<X.length;Z++)for(C=X[Z],$=0;$<J.length;$++)K=J[$],fe=K.val-C.val-h(R,C.val,K.val),fe>0&&(ae=S-F(C)-G(K),ae>E?fe/ae>I&&(P=C,j=K,I=fe/ae):fe/S>I&&(P={val:C.val,nopad:1},j={val:K.val,nopad:1},I=fe/S));function de(pe,Ee){return Math.max(pe,G(Ee))}if(ne===ue){var Ce=ne-1,De=ne+1;if(H)if(ne===0)ie=[0,1];else{var ce=(ne>0?J:X).reduce(de,0),me=ne/(1-Math.min(.5,ce/S));ie=ne>0?[0,me]:[me,0]}else Y?ie=[Math.max(0,Ce),Math.max(1,De)]:ie=[Ce,De]}else H?(P.val>=0&&(P={val:0,nopad:1}),j.val<=0&&(j={val:0,nopad:1})):Y&&(P.val-I*F(P)<0&&(P={val:0,nopad:1}),j.val<=0&&(j={val:1,nopad:1})),I=(j.val-P.val-h(R,C.val,K.val))/(S-F(P)-G(j)),ie=[P.val-I*F(P),j.val+I*G(j)];return ie=L(ie,R),R.limitRange&&R.limitRange(),Me&&ie.reverse(),s.simpleMap(ie,R.l2r||Number)}function h(O,R,Z){var $=0;if(O.rangebreaks)for(var ie=O.locateBreaks(R,Z),N=0;N<ie.length;N++){var F=ie[N];$+=F.max-F.min}return $}function m(O,R,Z){var $=.05*R._length,ie=R._anchorAxis||{};if((R.ticklabelposition||"").indexOf("inside")!==-1||(ie.ticklabelposition||"").indexOf("inside")!==-1){var N=R.isReversed();if(!N){var F=s.simpleMap(R.range,R.r2l);N=F[1]<F[0]}N&&(Z=!Z)}var G=0;return t(O,R._id)||(G=d(O,R,Z)),$=Math.max(G,$),R.constrain==="domain"&&R._inputDomain&&($*=(R._inputDomain[1]-R._inputDomain[0])/(R.domain[1]-R.domain[0])),function(X){return X.nopad?0:X.pad+(X.extrapad?$:G)}}var y=3;function d(O,R,Z){var $=0,ie=R._id.charAt(0)==="x";for(var N in O._plots){var F=O._plots[N];if(!(R._id!==F.xaxis._id&&R._id!==F.yaxis._id)){var G=(ie?F.yaxis:F.xaxis)||{};if((G.ticklabelposition||"").indexOf("inside")!==-1&&(!Z&&(G.side==="left"||G.side==="bottom")||Z&&(G.side==="top"||G.side==="right"))){if(G._vals){var W=s.deg2rad(G._tickAngles[G._id+"tick"]||0),X=Math.abs(Math.cos(W)),J=Math.abs(Math.sin(W));if(!G._vals[0].bb){var ne=G._id+"tick",ue=G._selections[ne];ue.each(function(Y){var S=l.select(this),E=S.select(".text-math-group");E.empty()&&(Y.bb=f.bBox(S.node()))})}for(var ye=0;ye<G._vals.length;ye++){var Me=G._vals[ye],oe=Me.bb;if(oe){var ve=2*y+oe.width,H=2*y+oe.height;$=Math.max($,ie?Math.max(ve*X,H*J):Math.max(H*X,ve*J))}}}G.ticks==="inside"&&G.ticklabelposition==="inside"&&($+=G.ticklen||0)}}}return $}function T(O,R,Z){var $=R._id,ie=O._fullData,N=O._fullLayout,F=[],G=[],W,X,J;function ne(ve,H){for(W=0;W<H.length;W++){var Y=ve[H[W]],S=(Y._extremes||{})[$];if(Y.visible===!0&&S){for(X=0;X<S.min.length;X++)J=S.min[X],c(F,J.val,J.pad,{extrapad:J.extrapad});for(X=0;X<S.max.length;X++)J=S.max[X],p(G,J.val,J.pad,{extrapad:J.extrapad})}}}if(ne(ie,R._traceIndices),ne(N.annotations||[],R._annIndices||[]),ne(N.shapes||[],R._shapeIndices||[]),R._matchGroup&&!Z){for(var ue in R._matchGroup)if(ue!==R._id){var ye=n(O,ue),Me=T(O,ye,!0),oe=R._length/ye._length;for(X=0;X<Me.min.length;X++)J=Me.min[X],c(F,J.val,J.pad*oe,{extrapad:J.extrapad});for(X=0;X<Me.max.length;X++)J=Me.max[X],p(G,J.val,J.pad*oe,{extrapad:J.extrapad})}}return{min:F,max:G}}function x(O,R,Z){if(R.setScale(),R.autorange){R.range=Z?Z.slice():u(O,R),R._r=R.range.slice(),R._rl=s.simpleMap(R._r,R.r2l);var $=R._input,ie={};ie[R._attr+".range"]=R.range,ie[R._attr+".autorange"]=R.autorange,r.call("_storeDirectGUIEdit",O.layout,O._fullLayout._preGUI,ie),$.range=R.range.slice(),$.autorange=R.autorange}var N=R._anchorAxis;if(N&&N.rangeslider){var F=N.rangeslider[R._name];F&&F.rangemode==="auto"&&(F.range=u(O,R)),N._input.rangeslider[R._name]=s.extendFlat({},F)}}function M(O,R,Z){Z||(Z={}),O._m||O.setScale();var $=[],ie=[],N=R.length,F=Z.padded||!1,G=Z.tozero&&(O.type==="linear"||O.type==="-"),W=O.type==="log",X=!1,J=Z.vpadLinearized||!1,ne,ue,ye,Me,oe,ve,H,Y,S;function E(de){if(Array.isArray(de))return X=!0,function(De){return Math.max(Number(de[De]||0),0)};var Ce=Math.max(Number(de||0),0);return function(){return Ce}}var I=E((O._m>0?Z.ppadplus:Z.ppadminus)||Z.ppad||0),C=E((O._m>0?Z.ppadminus:Z.ppadplus)||Z.ppad||0),K=E(Z.vpadplus||Z.vpad),P=E(Z.vpadminus||Z.vpad);if(!X){if(Y=1/0,S=-1/0,W)for(ne=0;ne<N;ne++)ue=R[ne],ue<Y&&ue>0&&(Y=ue),ue>S&&ue<i&&(S=ue);else for(ne=0;ne<N;ne++)ue=R[ne],ue<Y&&ue>-i&&(Y=ue),ue>S&&ue<i&&(S=ue);R=[Y,S],N=2}var j={tozero:G,extrapad:F};function ae(de){ye=R[de],g(ye)&&(ve=I(de),H=C(de),J?(Me=O.c2l(ye)-P(de),oe=O.c2l(ye)+K(de)):(Y=ye-P(de),S=ye+K(de),W&&Y<S/10&&(Y=S/10),Me=O.c2l(Y),oe=O.c2l(S)),G&&(Me=Math.min(0,Me),oe=Math.max(0,oe)),b(Me)&&c($,Me,H,j),b(oe)&&p(ie,oe,ve,j))}var fe=Math.min(6,N);for(ne=0;ne<fe;ne++)ae(ne);for(ne=N-1;ne>=fe;ne--)ae(ne);return{min:$,max:ie,opts:Z}}function c(O,R,Z,$){v(O,R,Z,$,w)}function p(O,R,Z,$){v(O,R,Z,$,_)}function v(O,R,Z,$,ie){for(var N=$.tozero,F=$.extrapad,G=!0,W=0;W<O.length&&G;W++){var X=O[W];if(ie(X.val,R)&&X.pad>=Z&&(X.extrapad||!F)){G=!1;break}else ie(R,X.val)&&X.pad<=Z&&(F||!X.extrapad)&&(O.splice(W,1),W--)}if(G){var J=N&&R===0;O.push({val:R,pad:J?0:Z,extrapad:J?!1:F})}}function b(O){return g(O)&&Math.abs(O)<i}function w(O,R){return O<=R}function _(O,R){return O>=R}function k(O,R){var Z=R.autorangeoptions;return Z&&Z.minallowed!==void 0&&U(R,Z.minallowed,Z.maxallowed)?Z.minallowed:Z&&Z.clipmin!==void 0&&U(R,Z.clipmin,Z.clipmax)?Math.max(O,R.d2l(Z.clipmin)):O}function B(O,R){var Z=R.autorangeoptions;return Z&&Z.maxallowed!==void 0&&U(R,Z.minallowed,Z.maxallowed)?Z.maxallowed:Z&&Z.clipmax!==void 0&&U(R,Z.clipmin,Z.clipmax)?Math.min(O,R.d2l(Z.clipmax)):O}function U(O,R,Z){return R!==void 0&&Z!==void 0?(R=O.d2l(R),Z=O.d2l(Z),R<Z):!0}function L(O,R){if(!R||!R.autorangeoptions)return O;var Z=O[0],$=O[1],ie=R.autorangeoptions.include;if(ie!==void 0){var N=R.d2l(Z),F=R.d2l($);s.isArrayOrTypedArray(ie)||(ie=[ie]);for(var G=0;G<ie.length;G++){var W=R.d2l(ie[G]);N>=W&&(N=W,Z=W),F<=W&&(F=W,$=W)}}return Z=k(Z,R),$=B($,R),[Z,$]}},3074:function(te){te.exports=function(e,l,g){var s,i;if(g){var r=l==="reversed"||l==="min reversed"||l==="max reversed";s=g[r?1:0],i=g[r?0:1]}var f=e("autorangeoptions.minallowed",i===null?s:void 0),o=e("autorangeoptions.maxallowed",s===null?i:void 0);f===void 0&&e("autorangeoptions.clipmin"),o===void 0&&e("autorangeoptions.clipmax"),e("autorangeoptions.include")}},9298:function(te,z,e){var l=e(9898),g=e(2770),s=e(4875),i=e(3972),r=e(1828),f=r.strTranslate,o=e(3893),n=e(2998),t=e(7901),u=e(1424),h=e(3838),m=e(6287),y=e(606),d=y.ONEMAXYEAR,T=y.ONEAVGYEAR,x=y.ONEMINYEAR,M=y.ONEMAXQUARTER,c=y.ONEAVGQUARTER,p=y.ONEMINQUARTER,v=y.ONEMAXMONTH,b=y.ONEAVGMONTH,w=y.ONEMINMONTH,_=y.ONEWEEK,k=y.ONEDAY,B=k/2,U=y.ONEHOUR,L=y.ONEMIN,O=y.ONESEC,R=y.MINUS_SIGN,Z=y.BADNUM,$={K:"zeroline"},ie={K:"gridline",L:"path"},N={K:"minor-gridline",L:"path"},F={K:"tick",L:"path"},G={K:"tick",L:"text"},W={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},X=e(8783),J=X.MID_SHIFT,ne=X.CAP_SHIFT,ue=X.LINE_SPACING,ye=X.OPPOSITE_SIDE,Me=3,oe=te.exports={};oe.setConvert=e(1994);var ve=e(4322),H=e(1675),Y=H.idSort,S=H.isLinked;oe.id2name=H.id2name,oe.name2id=H.name2id,oe.cleanId=H.cleanId,oe.list=H.list,oe.listIds=H.listIds,oe.getFromId=H.getFromId,oe.getFromTrace=H.getFromTrace;var E=e(1739);oe.getAutoRange=E.getAutoRange,oe.findExtremes=E.findExtremes;var I=1e-4;function C(re){var q=(re[1]-re[0])*I;return[re[0]-q,re[1]+q]}oe.coerceRef=function(re,q,He,Ie,Ue,We){var Je=Ie.charAt(Ie.length-1),Ge=He._fullLayout._subplots[Je+"axis"],Be=Ie+"ref",qe={};return Ue||(Ue=Ge[0]||(typeof We=="string"?We:We[0])),We||(We=Ue),Ge=Ge.concat(Ge.map(function(rt){return rt+" domain"})),qe[Be]={valType:"enumerated",values:Ge.concat(We?typeof We=="string"?[We]:We:[]),dflt:Ue},r.coerce(re,q,qe,Be)},oe.getRefType=function(re){return re===void 0?re:re==="paper"?"paper":re==="pixel"?"pixel":/( domain)$/.test(re)?"domain":"range"},oe.coercePosition=function(re,q,He,Ie,Ue,We){var Je,Ge,Be=oe.getRefType(Ie);if(Be!=="range")Je=r.ensureNumber,Ge=He(Ue,We);else{var qe=oe.getFromId(q,Ie);We=qe.fraction2r(We),Ge=He(Ue,We),Je=qe.cleanPos}re[Ue]=Je(Ge)},oe.cleanPosition=function(re,q,He){var Ie=He==="paper"||He==="pixel"?r.ensureNumber:oe.getFromId(q,He).cleanPos;return Ie(re)},oe.redrawComponents=function(re,q){q=q||oe.listIds(re);var He=re._fullLayout;function Ie(Ue,We,Je,Ge){for(var Be=i.getComponentMethod(Ue,We),qe={},rt=0;rt<q.length;rt++)for(var st=He[oe.id2name(q[rt])],at=st[Je],pt=0;pt<at.length;pt++){var ht=at[pt];if(!qe[ht]&&(Be(re,ht),qe[ht]=1,Ge))return}}Ie("annotations","drawOne","_annIndices"),Ie("shapes","drawOne","_shapeIndices"),Ie("images","draw","_imgIndices",!0),Ie("selections","drawOne","_selectionIndices")};var K=oe.getDataConversions=function(re,q,He,Ie){var Ue,We=He==="x"||He==="y"||He==="z"?He:Ie;if(Array.isArray(We)){if(Ue={type:ve(Ie,void 0,{autotypenumbers:re._fullLayout.autotypenumbers}),_categories:[]},oe.setConvert(Ue),Ue.type==="category")for(var Je=0;Je<Ie.length;Je++)Ue.d2c(Ie[Je])}else Ue=oe.getFromTrace(re,q,We);return Ue?{d2c:Ue.d2c,c2d:Ue.c2d}:We==="ids"?{d2c:j,c2d:j}:{d2c:P,c2d:P}};function P(re){return+re}function j(re){return String(re)}oe.getDataToCoordFunc=function(re,q,He,Ie){return K(re,q,He,Ie).d2c},oe.counterLetter=function(re){var q=re.charAt(0);if(q==="x")return"y";if(q==="y")return"x"},oe.minDtick=function(re,q,He,Ie){["log","category","multicategory"].indexOf(re.type)!==-1||!Ie?re._minDtick=0:re._minDtick===void 0?(re._minDtick=q,re._forceTick0=He):re._minDtick&&((re._minDtick/q+1e-6)%1<2e-6&&((He-re._forceTick0)/q%1+1.000001)%1<2e-6?(re._minDtick=q,re._forceTick0=He):((q/re._minDtick+1e-6)%1>2e-6||((He-re._forceTick0)/re._minDtick%1+1.000001)%1>2e-6)&&(re._minDtick=0))},oe.saveRangeInitial=function(re,q){for(var He=oe.list(re,"",!0),Ie=!1,Ue=0;Ue<He.length;Ue++){var We=He[Ue],Je=We._rangeInitial0===void 0&&We._rangeInitial1===void 0,Ge=Je||We.range[0]!==We._rangeInitial0||We.range[1]!==We._rangeInitial1,Be=We.autorange;(Je&&Be!==!0||q&&Ge)&&(We._rangeInitial0=Be==="min"||Be==="max reversed"?void 0:We.range[0],We._rangeInitial1=Be==="max"||Be==="min reversed"?void 0:We.range[1],We._autorangeInitial=Be,Ie=!0)}return Ie},oe.saveShowSpikeInitial=function(re,q){for(var He=oe.list(re,"",!0),Ie=!1,Ue="on",We=0;We<He.length;We++){var Je=He[We],Ge=Je._showSpikeInitial===void 0,Be=Ge||Je.showspikes!==Je._showspikes;(Ge||q&&Be)&&(Je._showSpikeInitial=Je.showspikes,Ie=!0),Ue==="on"&&!Je.showspikes&&(Ue="off")}return re._fullLayout._cartesianSpikesEnabled=Ue,Ie},oe.autoBin=function(re,q,He,Ie,Ue,We){var Je=r.aggNums(Math.min,null,re),Ge=r.aggNums(Math.max,null,re);if(q.type==="category"||q.type==="multicategory")return{start:Je-.5,end:Ge+.5,size:Math.max(1,Math.round(We)||1),_dataSpan:Ge-Je};Ue||(Ue=q.calendar);var Be;if(q.type==="log"?Be={type:"linear",range:[Je,Ge]}:Be={type:q.type,range:r.simpleMap([Je,Ge],q.c2r,0,Ue),calendar:Ue},oe.setConvert(Be),We=We&&m.dtick(We,Be.type),We)Be.dtick=We,Be.tick0=m.tick0(void 0,Be.type,Ue);else{var qe;if(He)qe=(Ge-Je)/He;else{var rt=r.distinctVals(re),st=Math.pow(10,Math.floor(Math.log(rt.minDiff)/Math.LN10)),at=st*r.roundUp(rt.minDiff/st,[.9,1.9,4.9,9.9],!0);qe=Math.max(at,2*r.stdev(re)/Math.pow(re.length,Ie?.25:.4)),g(qe)||(qe=1)}oe.autoTicks(Be,qe)}var pt=Be.dtick,ht=oe.tickIncrement(oe.tickFirst(Be),pt,"reverse",Ue),ut,Pt;if(typeof pt=="number")ht=ae(ht,re,Be,Je,Ge),Pt=1+Math.floor((Ge-ht)/pt),ut=ht+Pt*pt;else for(Be.dtick.charAt(0)==="M"&&(ht=fe(ht,re,pt,Je,Ue)),ut=ht,Pt=0;ut<=Ge;)ut=oe.tickIncrement(ut,pt,!1,Ue),Pt++;return{start:q.c2r(ht,0,Ue),end:q.c2r(ut,0,Ue),size:pt,_dataSpan:Ge-Je}};function ae(re,q,He,Ie,Ue){var We=0,Je=0,Ge=0,Be=0;function qe(pt){return(1+(pt-re)*100/He.dtick)%100<2}for(var rt=0;rt<q.length;rt++)q[rt]%1===0?Ge++:g(q[rt])||Be++,qe(q[rt])&&We++,qe(q[rt]+He.dtick/2)&&Je++;var st=q.length-Be;if(Ge===st&&He.type!=="date")He.dtick<1?re=Ie-.5*He.dtick:(re-=.5,re+He.dtick<Ie&&(re+=He.dtick));else if(Je<st*.1&&(We>st*.3||qe(Ie)||qe(Ue))){var at=He.dtick/2;re+=re+at<Ie?at:-at}return re}function fe(re,q,He,Ie,Ue){var We=r.findExactDates(q,Ue),Je=.8;if(We.exactDays>Je){var Ge=Number(He.substr(1));We.exactYears>Je&&Ge%12===0?re=oe.tickIncrement(re,"M6","reverse")+k*1.5:We.exactMonths>Je?re=oe.tickIncrement(re,"M1","reverse")+k*15.5:re-=B;var Be=oe.tickIncrement(re,He);if(Be<=Ie)return Be}return re}oe.prepMinorTicks=function(re,q,He){if(!q.minor.dtick){delete re.dtick;var Ie=q.dtick&&g(q._tmin),Ue;if(Ie){var We=oe.tickIncrement(q._tmin,q.dtick,!0);Ue=[q._tmin,We*.99+q._tmin*.01]}else{var Je=r.simpleMap(q.range,q.r2l);Ue=[Je[0],.8*Je[0]+.2*Je[1]]}if(re.range=r.simpleMap(Ue,q.l2r),re._isMinor=!0,oe.prepTicks(re,He),Ie){var Ge=g(q.dtick),Be=g(re.dtick),qe=Ge?q.dtick:+q.dtick.substring(1),rt=Be?re.dtick:+re.dtick.substring(1);Ge&&Be?de(qe,rt)?qe===2*_&&rt===2*k&&(re.dtick=_):qe===2*_&&rt===3*k?re.dtick=_:qe===_&&!(q._input.minor||{}).nticks?re.dtick=k:Ce(qe/rt,2.5)?re.dtick=qe/2:re.dtick=qe:String(q.dtick).charAt(0)==="M"?Be?re.dtick="M1":de(qe,rt)?qe>=12&&rt===2&&(re.dtick="M3"):re.dtick=q.dtick:String(re.dtick).charAt(0)==="L"?String(q.dtick).charAt(0)==="L"?de(qe,rt)||(re.dtick=Ce(qe/rt,2.5)?q.dtick/2:q.dtick):re.dtick="D1":re.dtick==="D2"&&+q.dtick>1&&(re.dtick=1)}re.range=q.range}q.minor._tick0Init===void 0&&(re.tick0=q.tick0)};function de(re,q){return Math.abs((re/q+.5)%1-.5)<.001}function Ce(re,q){return Math.abs(re/q-1)<.001}oe.prepTicks=function(re,q){var He=r.simpleMap(re.range,re.r2l,void 0,void 0,q);if(re.tickmode==="auto"||!re.dtick){var Ie=re.nticks,Ue;Ie||(re.type==="category"||re.type==="multicategory"?(Ue=re.tickfont?r.bigFont(re.tickfont.size||12):15,Ie=re._length/Ue):(Ue=re._id.charAt(0)==="y"?40:80,Ie=r.constrain(re._length/Ue,4,9)+1),re._name==="radialaxis"&&(Ie*=2)),re.minor&&re.minor.tickmode!=="array"||re.tickmode==="array"&&(Ie*=100),re._roughDTick=Math.abs(He[1]-He[0])/Ie,oe.autoTicks(re,re._roughDTick),re._minDtick>0&&re.dtick<re._minDtick*2&&(re.dtick=re._minDtick,re.tick0=re.l2r(re._forceTick0))}re.ticklabelmode==="period"&&ce(re),re.tick0||(re.tick0=re.type==="date"?"2000-01-01":0),re.type==="date"&&re.dtick<.1&&(re.dtick=.1),it(re)};function De(re){return+re.substring(1)}function ce(re){var q;function He(){return!(g(re.dtick)||re.dtick.charAt(0)!=="M")}var Ie=He(),Ue=oe.getTickFormat(re);if(Ue){var We=re._dtickInit!==re.dtick;/%[fLQsSMX]/.test(Ue)||(/%[HI]/.test(Ue)?(q=U,We&&!Ie&&re.dtick<U&&(re.dtick=U)):/%p/.test(Ue)?(q=B,We&&!Ie&&re.dtick<B&&(re.dtick=B)):/%[Aadejuwx]/.test(Ue)?(q=k,We&&!Ie&&re.dtick<k&&(re.dtick=k)):/%[UVW]/.test(Ue)?(q=_,We&&!Ie&&re.dtick<_&&(re.dtick=_)):/%[Bbm]/.test(Ue)?(q=b,We&&(Ie?De(re.dtick)<1:re.dtick<w)&&(re.dtick="M1")):/%[q]/.test(Ue)?(q=c,We&&(Ie?De(re.dtick)<3:re.dtick<p)&&(re.dtick="M3")):/%[Yy]/.test(Ue)&&(q=T,We&&(Ie?De(re.dtick)<12:re.dtick<x)&&(re.dtick="M12")))}Ie=He(),Ie&&re.tick0===re._dowTick0&&(re.tick0=re._rawTick0),re._definedDelta=q}function me(re,q,He){for(var Ie=0;Ie<re.length;Ie++){var Ue=re[Ie].value,We=Ie,Je=Ie+1;Ie<re.length-1?(We=Ie,Je=Ie+1):Ie>0?(We=Ie-1,Je=Ie):(We=Ie,Je=Ie);var Ge=re[We].value,Be=re[Je].value,qe=Math.abs(Be-Ge),rt=He||qe,st=0;rt>=x?qe>=x&&qe<=d?st=qe:st=T:He===c&&rt>=p?qe>=p&&qe<=M?st=qe:st=c:rt>=w?qe>=w&&qe<=v?st=qe:st=b:He===_&&rt>=_?st=_:rt>=k?st=k:He===B&&rt>=B?st=B:He===U&&rt>=U&&(st=U);var at;st>=qe&&(st=qe,at=!0);var pt=Ue+st;if(q.rangebreaks&&st>0){for(var ht=84,ut=0,Pt=0;Pt<ht;Pt++){var Lt=(Pt+.5)/ht;q.maskBreaks(Ue*(1-Lt)+Lt*pt)!==Z&&ut++}st*=ut/ht,st||(re[Ie].drop=!0),at&&qe>_&&(st=qe)}(st>0||Ie===0)&&(re[Ie].periodX=Ue+st/2)}}oe.calcTicks=function(q,He){for(var Ie=q.type,Ue=q.calendar,We=q.ticklabelstep,Je=q.ticklabelmode==="period",Ge=r.simpleMap(q.range,q.r2l,void 0,void 0,He),Be=Ge[1]<Ge[0],qe=Math.min(Ge[0],Ge[1]),rt=Math.max(Ge[0],Ge[1]),st=Math.max(1e3,q._length||0),at=[],pt=[],ht=[],ut=[],Pt=q.minor&&(q.minor.ticks||q.minor.showgrid),Lt=1;Lt>=(Pt?0:1);Lt--){var $t=!Lt;Lt?(q._dtickInit=q.dtick,q._tick0Init=q.tick0):(q.minor._dtickInit=q.minor.dtick,q.minor._tick0Init=q.minor.tick0);var It=Lt?q:r.extendFlat({},q,q.minor);if($t?oe.prepMinorTicks(It,q,He):oe.prepTicks(It,He),It.tickmode==="array"){Lt?(ht=[],at=Ae(q)):(ut=[],pt=Ae(q));continue}if(It.tickmode==="sync"){ht=[],at=Ee(q);continue}var Kt=C(Ge),Rt=Kt[0],zt=Kt[1],er=g(It.dtick),tr=Ie==="log"&&!(er||It.dtick.charAt(0)==="L"),lr=oe.tickFirst(It,He);if(Lt){if(q._tmin=lr,lr<Rt!==Be)break;(Ie==="category"||Ie==="multicategory")&&(zt=Be?Math.max(-.5,zt):Math.min(q._categories.length-.5,zt))}var mr=null,or=lr,fr;if(Lt){var hr;er?hr=q.dtick:Ie==="date"?typeof q.dtick=="string"&&q.dtick.charAt(0)==="M"&&(hr=b*q.dtick.substring(1)):hr=q._roughDTick,fr=Math.round((q.r2l(or)-q.r2l(q.tick0))/hr)-1}var yr=It.dtick;for(It.rangebreaks&&It._tick0Init!==It.tick0&&(or=Ft(or,q),Be||(or=oe.tickIncrement(or,yr,!Be,Ue))),Lt&&Je&&(or=oe.tickIncrement(or,yr,!Be,Ue),fr--);Be?or>=zt:or<=zt;or=oe.tickIncrement(or,yr,Be,Ue)){if(Lt&&fr++,It.rangebreaks&&!Be){if(or<Rt)continue;if(It.maskBreaks(or)===Z&&Ft(or,It)>=rt)break}if(ht.length>st||or===mr)break;mr=or;var Mr={value:or};Lt?(tr&&or!==(or|0)&&(Mr.simpleLabel=!0),We>1&&fr%We&&(Mr.skipLabel=!0),ht.push(Mr)):(Mr.minor=!0,ut.push(Mr))}}if(Pt){var Ar=q.minor.ticks==="inside"&&q.ticks==="outside"||q.minor.ticks==="outside"&&q.ticks==="inside";if(!Ar){for(var wr=ht.map(function(Aa){return Aa.value}),Zr=[],Br=0;Br<ut.length;Br++){var Xr=ut[Br],Lr=Xr.value;if(wr.indexOf(Lr)===-1){for(var Fr=!1,_r=0;!Fr&&_r<ht.length;_r++)1e7+ht[_r].value===1e7+Lr&&(Fr=!0);Fr||Zr.push(Xr)}}ut=Zr}}Je&&me(ht,q,q._definedDelta);var Tr;if(q.rangebreaks){var jr=q._id.charAt(0)==="y",ca=1;q.tickmode==="auto"&&(ca=q.tickfont?q.tickfont.size:12);var aa=NaN;for(Tr=ht.length-1;Tr>-1;Tr--){if(ht[Tr].drop){ht.splice(Tr,1);continue}ht[Tr].value=Ft(ht[Tr].value,q);var qr=q.c2p(ht[Tr].value);(jr?aa>qr-ca:aa<qr+ca)?ht.splice(Be?Tr+1:Tr,1):aa=qr}}Ot(q)&&Math.abs(Ge[1]-Ge[0])===360&&ht.pop(),q._tmax=(ht[ht.length-1]||{}).value,q._prevDateHead="",q._inCalcTicks=!0;var Ma,Da=function(Aa){Aa.text="",q._prevDateHead=Ma};ht=ht.concat(ut);var Jr,ea;for(Tr=0;Tr<ht.length;Tr++){var Ua=ht[Tr].minor,pa=ht[Tr].value;Ua?pt.push({x:pa,minor:!0}):(Ma=q._prevDateHead,Jr=oe.tickText(q,pa,!1,ht[Tr].simpleLabel),ea=ht[Tr].periodX,ea!==void 0&&(Jr.periodX=ea,(ea>rt||ea<qe)&&(ea>rt&&(Jr.periodX=rt),ea<qe&&(Jr.periodX=qe),Da(Jr))),ht[Tr].skipLabel&&Da(Jr),at.push(Jr))}return at=at.concat(pt),q._inCalcTicks=!1,Je&&at.length&&(at[0].noTick=!0),at};function pe(re,q){return re.rangebreaks&&(q=q.filter(function(He){return re.maskBreaks(He.x)!==Z})),q}function Ee(re){var q=re._mainAxis,He=[];if(q._vals){for(var Ie=0;Ie<q._vals.length;Ie++)if(!q._vals[Ie].noTick){var Ue=q.l2p(q._vals[Ie].x),We=re.p2l(Ue),Je=oe.tickText(re,We);q._vals[Ie].minor&&(Je.minor=!0,Je.text=""),He.push(Je)}}return He=pe(re,He),He}function Ae(re){var q=r.simpleMap(re.range,re.r2l),He=C(q),Ie=Math.min(He[0],He[1]),Ue=Math.max(He[0],He[1]),We=re.type==="category"?re.d2l_noadd:re.d2l;re.type==="log"&&String(re.dtick).charAt(0)!=="L"&&(re.dtick="L"+Math.pow(10,Math.floor(Math.min(re.range[0],re.range[1]))-1));for(var Je=[],Ge=0;Ge<=1;Ge++)if(!(Ge&&!re.minor)){var Be=Ge?re.minor.tickvals:re.tickvals,qe=Ge?[]:re.ticktext;if(Be){Array.isArray(qe)||(qe=[]);for(var rt=0;rt<Be.length;rt++){var st=We(Be[rt]);if(st>Ie&&st<Ue){var at=qe[rt]===void 0?oe.tickText(re,st):kt(re,st,String(qe[rt]));Ge&&(at.minor=!0,at.text=""),Je.push(at)}}}}return Je=pe(re,Je),Je}var xe=[2,5,10],Fe=[1,2,3,6,12],Ke=[1,2,5,10,15,30],je=[1,2,3,7,14],Ve=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],dt=[-.301,0,.301,.699,1],bt=[15,30,45,90,180];function Tt(re,q,He){return q*r.roundUp(re/q,He)}oe.autoTicks=function(re,q,He){var Ie;function Ue(st){return Math.pow(st,Math.floor(Math.log(q)/Math.LN10))}if(re.type==="date"){re.tick0=r.dateTick0(re.calendar,0);var We=2*q;if(We>T)q/=T,Ie=Ue(10),re.dtick="M"+12*Tt(q,Ie,xe);else if(We>b)q/=b,re.dtick="M"+Tt(q,1,Fe);else if(We>k){if(re.dtick=Tt(q,k,re._hasDayOfWeekBreaks?[1,2,7,14]:je),!He){var Je=oe.getTickFormat(re),Ge=re.ticklabelmode==="period";Ge&&(re._rawTick0=re.tick0),/%[uVW]/.test(Je)?re.tick0=r.dateTick0(re.calendar,2):re.tick0=r.dateTick0(re.calendar,1),Ge&&(re._dowTick0=re.tick0)}}else We>U?re.dtick=Tt(q,U,Fe):We>L?re.dtick=Tt(q,L,Ke):We>O?re.dtick=Tt(q,O,Ke):(Ie=Ue(10),re.dtick=Tt(q,Ie,xe))}else if(re.type==="log"){re.tick0=0;var Be=r.simpleMap(re.range,re.r2l);if(re._isMinor&&(q*=1.5),q>.7)re.dtick=Math.ceil(q);else if(Math.abs(Be[1]-Be[0])<1){var qe=1.5*Math.abs((Be[1]-Be[0])/q);q=Math.abs(Math.pow(10,Be[1])-Math.pow(10,Be[0]))/qe,Ie=Ue(10),re.dtick="L"+Tt(q,Ie,xe)}else re.dtick=q>.3?"D2":"D1"}else re.type==="category"||re.type==="multicategory"?(re.tick0=0,re.dtick=Math.ceil(Math.max(q,1))):Ot(re)?(re.tick0=0,Ie=1,re.dtick=Tt(q,Ie,bt)):(re.tick0=0,Ie=Ue(10),re.dtick=Tt(q,Ie,xe));if(re.dtick===0&&(re.dtick=1),!g(re.dtick)&&typeof re.dtick!="string"){var rt=re.dtick;throw re.dtick=1,"ax.dtick error: "+String(rt)}};function it(re){var q=re.dtick;if(re._tickexponent=0,!g(q)&&typeof q!="string"&&(q=1),(re.type==="category"||re.type==="multicategory")&&(re._tickround=null),re.type==="date"){var He=re.r2l(re.tick0),Ie=re.l2r(He).replace(/(^-|i)/g,""),Ue=Ie.length;if(String(q).charAt(0)==="M")Ue>10||Ie.substr(5)!=="01-01"?re._tickround="d":re._tickround=+q.substr(1)%12===0?"y":"m";else if(q>=k&&Ue<=10||q>=k*15)re._tickround="d";else if(q>=L&&Ue<=16||q>=U)re._tickround="M";else if(q>=O&&Ue<=19||q>=L)re._tickround="S";else{var We=re.l2r(He+q).replace(/^-/,"").length;re._tickround=Math.max(Ue,We)-20,re._tickround<0&&(re._tickround=4)}}else if(g(q)||q.charAt(0)==="L"){var Je=re.range.map(re.r2d||Number);g(q)||(q=Number(q.substr(1))),re._tickround=2-Math.floor(Math.log(q)/Math.LN10+.01);var Ge=Math.max(Math.abs(Je[0]),Math.abs(Je[1])),Be=Math.floor(Math.log(Ge)/Math.LN10+.01),qe=re.minexponent===void 0?3:re.minexponent;Math.abs(Be)>qe&&(Le(re.exponentformat)&&!Oe(Be)?re._tickexponent=3*Math.round((Be-1)/3):re._tickexponent=Be)}else re._tickround=null}oe.tickIncrement=function(re,q,He,Ie){var Ue=He?-1:1;if(g(q))return r.increment(re,Ue*q);var We=q.charAt(0),Je=Ue*Number(q.substr(1));if(We==="M")return r.incrementMonth(re,Je,Ie);if(We==="L")return Math.log(Math.pow(10,re)+Je)/Math.LN10;if(We==="D"){var Ge=q==="D2"?dt:Ve,Be=re+Ue*.01,qe=r.roundUp(r.mod(Be,1),Ge,He);return Math.floor(Be)+Math.log(l.round(Math.pow(10,qe),1))/Math.LN10}throw"unrecognized dtick "+String(q)},oe.tickFirst=function(re,q){var He=re.r2l||Number,Ie=r.simpleMap(re.range,He,void 0,void 0,q),Ue=Ie[1]<Ie[0],We=Ue?Math.floor:Math.ceil,Je=C(Ie)[0],Ge=re.dtick,Be=He(re.tick0);if(g(Ge)){var qe=We((Je-Be)/Ge)*Ge+Be;return(re.type==="category"||re.type==="multicategory")&&(qe=r.constrain(qe,0,re._categories.length-1)),qe}var rt=Ge.charAt(0),st=Number(Ge.substr(1));if(rt==="M"){for(var at=0,pt=Be,ht,ut,Pt;at<10;){if(ht=oe.tickIncrement(pt,Ge,Ue,re.calendar),(ht-Je)*(pt-Je)<=0)return Ue?Math.min(pt,ht):Math.max(pt,ht);ut=(Je-(pt+ht)/2)/(ht-pt),Pt=rt+(Math.abs(Math.round(ut))||1)*st,pt=oe.tickIncrement(pt,Pt,ut<0?!Ue:Ue,re.calendar),at++}return r.error("tickFirst did not converge",re),pt}else{if(rt==="L")return Math.log(We((Math.pow(10,Je)-Be)/st)*st+Be)/Math.LN10;if(rt==="D"){var Lt=Ge==="D2"?dt:Ve,$t=r.roundUp(r.mod(Je,1),Lt,Ue);return Math.floor(Je)+Math.log(l.round(Math.pow(10,$t),1))/Math.LN10}else throw"unrecognized dtick "+String(Ge)}},oe.tickText=function(re,q,He,Ie){var Ue=kt(re,q),We=re.tickmode==="array",Je=He||We,Ge=re.type,Be=Ge==="category"?re.d2l_noadd:re.d2l,qe;if(We&&Array.isArray(re.ticktext)){var rt=r.simpleMap(re.range,re.r2l),st=(Math.abs(rt[1]-rt[0])-(re._lBreaks||0))/1e4;for(qe=0;qe<re.ticktext.length&&!(Math.abs(q-Be(re.tickvals[qe]))<st);qe++);if(qe<re.ticktext.length)return Ue.text=String(re.ticktext[qe]),Ue}function at(Pt){if(Pt===void 0)return!0;if(He)return Pt==="none";var Lt={first:re._tmin,last:re._tmax}[Pt];return Pt!=="all"&&q!==Lt}var pt=He?"never":re.exponentformat!=="none"&&at(re.showexponent)?"hide":"";if(Ge==="date"?tt(re,Ue,He,Je):Ge==="log"?Mt(re,Ue,He,Je,pt):Ge==="category"?Dt(re,Ue):Ge==="multicategory"?St(re,Ue,He):Ot(re)?ke(re,Ue,He,Je,pt):At(re,Ue,He,Je,pt),Ie||(re.tickprefix&&!at(re.showtickprefix)&&(Ue.text=re.tickprefix+Ue.text),re.ticksuffix&&!at(re.showticksuffix)&&(Ue.text+=re.ticksuffix)),re.labelalias&&re.labelalias.hasOwnProperty(Ue.text)){var ht=re.labelalias[Ue.text];typeof ht=="string"&&(Ue.text=ht)}if(re.tickson==="boundaries"||re.showdividers){var ut=function(Pt){var Lt=re.l2p(Pt);return Lt>=0&&Lt<=re._length?Pt:null};Ue.xbnd=[ut(Ue.x-.5),ut(Ue.x+re.dtick-.5)]}return Ue},oe.hoverLabelText=function(re,q,He){He&&(re=r.extendFlat({},re,{hoverformat:He}));var Ie=Array.isArray(q)?q[0]:q,Ue=Array.isArray(q)?q[1]:void 0;if(Ue!==void 0&&Ue!==Ie)return oe.hoverLabelText(re,Ie,He)+" - "+oe.hoverLabelText(re,Ue,He);var We=re.type==="log"&&Ie<=0,Je=oe.tickText(re,re.c2l(We?-Ie:Ie),"hover").text;return We?Ie===0?"0":R+Je:Je};function kt(re,q,He){var Ie=re.tickfont||{};return{x:q,dx:0,dy:0,text:He||"",fontSize:Ie.size,font:Ie.family,fontColor:Ie.color}}function tt(re,q,He,Ie){var Ue=re._tickround,We=He&&re.hoverformat||oe.getTickFormat(re);Ie&&(g(Ue)?Ue=4:Ue={y:"m",m:"d",d:"M",M:"S",S:4}[Ue]);var Je=r.formatDate(q.x,We,Ue,re._dateFormat,re.calendar,re._extraFormat),Ge,Be=Je.indexOf(`
`);if(Be!==-1&&(Ge=Je.substr(Be+1),Je=Je.substr(0,Be)),Ie&&(Je==="00:00:00"||Je==="00:00"?(Je=Ge,Ge=""):Je.length===8&&(Je=Je.replace(/:00$/,""))),Ge)if(He)Ue==="d"?Je+=", "+Ge:Je=Ge+(Je?", "+Je:"");else if(!re._inCalcTicks||re._prevDateHead!==Ge)re._prevDateHead=Ge,Je+="<br>"+Ge;else{var qe=Xt(re),rt=re._trueSide||re.side;(!qe&&rt==="top"||qe&&rt==="bottom")&&(Je+="<br> ")}q.text=Je}function Mt(re,q,He,Ie,Ue){var We=re.dtick,Je=q.x,Ge=re.tickformat,Be=typeof We=="string"&&We.charAt(0);if(Ue==="never"&&(Ue=""),Ie&&Be!=="L"&&(We="L3",Be="L"),Ge||Be==="L")q.text=le(Math.pow(10,Je),re,Ue,Ie);else if(g(We)||Be==="D"&&r.mod(Je+.01,1)<.1){var qe=Math.round(Je),rt=Math.abs(qe),st=re.exponentformat;st==="power"||Le(st)&&Oe(qe)?(qe===0?q.text=1:qe===1?q.text="10":q.text="10<sup>"+(qe>1?"":R)+rt+"</sup>",q.fontSize*=1.25):(st==="e"||st==="E")&&rt>2?q.text="1"+st+(qe>0?"+":R)+rt:(q.text=le(Math.pow(10,Je),re,"","fakehover"),We==="D1"&&re._id.charAt(0)==="y"&&(q.dy-=q.fontSize/6))}else if(Be==="D")q.text=String(Math.round(Math.pow(10,r.mod(Je,1)))),q.fontSize*=.75;else throw"unrecognized dtick "+String(We);if(re.dtick==="D1"){var at=String(q.text).charAt(0);(at==="0"||at==="1")&&(re._id.charAt(0)==="y"?q.dx-=q.fontSize/4:(q.dy+=q.fontSize/2,q.dx+=(re.range[1]>re.range[0]?1:-1)*q.fontSize*(Je<0?.5:.25)))}}function Dt(re,q){var He=re._categories[Math.round(q.x)];He===void 0&&(He=""),q.text=String(He)}function St(re,q,He){var Ie=Math.round(q.x),Ue=re._categories[Ie]||[],We=Ue[1]===void 0?"":String(Ue[1]),Je=Ue[0]===void 0?"":String(Ue[0]);He?q.text=Je+" - "+We:(q.text=We,q.text2=Je)}function At(re,q,He,Ie,Ue){Ue==="never"?Ue="":re.showexponent==="all"&&Math.abs(q.x/re.dtick)<1e-6&&(Ue="hide"),q.text=le(q.x,re,Ue,Ie)}function ke(re,q,He,Ie,Ue){if(re.thetaunit==="radians"&&!He){var We=q.x/180;if(We===0)q.text="0";else{var Je=Te(We);if(Je[1]>=100)q.text=le(r.deg2rad(q.x),re,Ue,Ie);else{var Ge=q.x<0;Je[1]===1?Je[0]===1?q.text="":q.text=Je[0]+"":q.text=["<sup>",Je[0],"</sup>","","<sub>",Je[1],"</sub>",""].join(""),Ge&&(q.text=R+q.text)}}}else q.text=le(q.x,re,Ue,Ie)}function Te(re){function q(Ge,Be){return Math.abs(Ge-Be)<=1e-6}function He(Ge,Be){return q(Be,0)?Ge:He(Be,Ge%Be)}function Ie(Ge){for(var Be=1;!q(Math.round(Ge*Be)/Be,Ge);)Be*=10;return Be}var Ue=Ie(re),We=re*Ue,Je=Math.abs(He(We,Ue));return[Math.round(We/Je),Math.round(Ue/Je)]}var Re=["f","p","n","","m","","k","M","G","T"];function Le(re){return re==="SI"||re==="B"}function Oe(re){return re>14||re<-15}function le(re,q,He,Ie){var Ue=re<0,We=q._tickround,Je=He||q.exponentformat||"B",Ge=q._tickexponent,Be=oe.getTickFormat(q),qe=q.separatethousands;if(Ie){var rt={exponentformat:Je,minexponent:q.minexponent,dtick:q.showexponent==="none"?q.dtick:g(re)&&Math.abs(re)||1,range:q.showexponent==="none"?q.range.map(q.r2d):[0,re||1]};it(rt),We=(Number(rt._tickround)||0)+4,Ge=rt._tickexponent,q.hoverformat&&(Be=q.hoverformat)}if(Be)return q._numFormat(Be)(re).replace(/-/g,R);var st=Math.pow(10,-We)/2;if(Je==="none"&&(Ge=0),re=Math.abs(re),re<st)re="0",Ue=!1;else{if(re+=st,Ge&&(re*=Math.pow(10,-Ge),We+=Ge),We===0)re=String(Math.floor(re));else if(We<0){re=String(Math.round(re)),re=re.substr(0,re.length+We);for(var at=We;at<0;at++)re+="0"}else{re=String(re);var pt=re.indexOf(".")+1;pt&&(re=re.substr(0,pt+We).replace(/\.?0+$/,""))}re=r.numSeparate(re,q._separators,qe)}if(Ge&&Je!=="hide"){Le(Je)&&Oe(Ge)&&(Je="power");var ht;Ge<0?ht=R+-Ge:Je!=="power"?ht="+"+Ge:ht=String(Ge),Je==="e"||Je==="E"?re+=Je+ht:Je==="power"?re+="10<sup>"+ht+"</sup>":Je==="B"&&Ge===9?re+="B":Le(Je)&&(re+=Re[Ge/3+5])}return Ue?R+re:re}oe.getTickFormat=function(re){var q;function He(Be){return typeof Be!="string"?Be:Number(Be.replace("M",""))*b}function Ie(Be,qe){var rt=["L","D"];if(typeof Be==typeof qe){if(typeof Be=="number")return Be-qe;var st=rt.indexOf(Be.charAt(0)),at=rt.indexOf(qe.charAt(0));return st===at?Number(Be.replace(/(L|D)/g,""))-Number(qe.replace(/(L|D)/g,"")):st-at}else return typeof Be=="number"?1:-1}function Ue(Be,qe,rt){var st=rt||function(ht){return ht},at=qe[0],pt=qe[1];return(!at&&typeof at!="number"||st(at)<=st(Be))&&(!pt&&typeof pt!="number"||st(pt)>=st(Be))}function We(Be,qe){var rt=qe[0]===null,st=qe[1]===null,at=Ie(Be,qe[0])>=0,pt=Ie(Be,qe[1])<=0;return(rt||at)&&(st||pt)}var Je,Ge;if(re.tickformatstops&&re.tickformatstops.length>0)switch(re.type){case"date":case"linear":{for(q=0;q<re.tickformatstops.length;q++)if(Ge=re.tickformatstops[q],Ge.enabled&&Ue(re.dtick,Ge.dtickrange,He)){Je=Ge;break}break}case"log":{for(q=0;q<re.tickformatstops.length;q++)if(Ge=re.tickformatstops[q],Ge.enabled&&We(re.dtick,Ge.dtickrange)){Je=Ge;break}break}}return Je?Je.value:re.tickformat},oe.getSubplots=function(re,q){var He=re._fullLayout._subplots,Ie=He.cartesian.concat(He.gl2d||[]),Ue=q?oe.findSubplotsWithAxis(Ie,q):Ie;return Ue.sort(function(We,Je){var Ge=We.substr(1).split("y"),Be=Je.substr(1).split("y");return Ge[0]===Be[0]?+Ge[1]-+Be[1]:+Ge[0]-+Be[0]}),Ue},oe.findSubplotsWithAxis=function(re,q){for(var He=new RegExp(q._id.charAt(0)==="x"?"^"+q._id+"y":q._id+"$"),Ie=[],Ue=0;Ue<re.length;Ue++){var We=re[Ue];He.test(We)&&Ie.push(We)}return Ie},oe.makeClipPaths=function(re){var q=re._fullLayout;if(!q._hasOnlyLargeSploms){var He={_offset:0,_length:q.width,_id:""},Ie={_offset:0,_length:q.height,_id:""},Ue=oe.list(re,"x",!0),We=oe.list(re,"y",!0),Je=[],Ge,Be;for(Ge=0;Ge<Ue.length;Ge++)for(Je.push({x:Ue[Ge],y:Ie}),Be=0;Be<We.length;Be++)Ge===0&&Je.push({x:He,y:We[Be]}),Je.push({x:Ue[Ge],y:We[Be]});var qe=q._clips.selectAll(".axesclip").data(Je,function(rt){return rt.x._id+rt.y._id});qe.enter().append("clipPath").classed("axesclip",!0).attr("id",function(rt){return"clip"+q._uid+rt.x._id+rt.y._id}).append("rect"),qe.exit().remove(),qe.each(function(rt){l.select(this).select("rect").attr({x:rt.x._offset||0,y:rt.y._offset||0,width:rt.x._length||1,height:rt.y._length||1})})}},oe.draw=function(re,q,He){var Ie=re._fullLayout;q==="redraw"&&Ie._paper.selectAll("g.subplot").each(function(Be){var qe=Be[0],rt=Ie._plots[qe];if(rt){var st=rt.xaxis,at=rt.yaxis;rt.xaxislayer.selectAll("."+st._id+"tick").remove(),rt.yaxislayer.selectAll("."+at._id+"tick").remove(),rt.xaxislayer.selectAll("."+st._id+"tick2").remove(),rt.yaxislayer.selectAll("."+at._id+"tick2").remove(),rt.xaxislayer.selectAll("."+st._id+"divider").remove(),rt.yaxislayer.selectAll("."+at._id+"divider").remove(),rt.minorGridlayer&&rt.minorGridlayer.selectAll("path").remove(),rt.gridlayer&&rt.gridlayer.selectAll("path").remove(),rt.zerolinelayer&&rt.zerolinelayer.selectAll("path").remove(),Ie._infolayer.select(".g-"+st._id+"title").remove(),Ie._infolayer.select(".g-"+at._id+"title").remove()}});var Ue=!q||q==="redraw"?oe.listIds(re):q,We=oe.list(re),Je=We.filter(function(Be){return Be.autoshift}).map(function(Be){return Be.overlaying});Ue.map(function(Be){var qe=oe.getFromId(re,Be);if(qe.tickmode==="sync"&&qe.overlaying){var rt=Ue.findIndex(function(st){return st===qe.overlaying});rt>=0&&Ue.unshift(Ue.splice(rt,1).shift())}});var Ge={false:{left:0,right:0}};return r.syncOrAsync(Ue.map(function(Be){return function(){if(Be){var qe=oe.getFromId(re,Be);He||(He={}),He.axShifts=Ge,He.overlayingShiftedAx=Je;var rt=oe.drawOne(re,qe,He);return qe._shiftPusher&&sr(qe,qe._fullDepth||0,Ge,!0),qe._r=qe.range.slice(),qe._rl=r.simpleMap(qe._r,qe.r2l),rt}}}))},oe.drawOne=function(re,q,He){He=He||{};var Ie=He.axShifts||{},Ue=He.overlayingShiftedAx||[],We,Je,Ge;q.setScale();var Be=re._fullLayout,qe=q._id,rt=qe.charAt(0),st=oe.counterLetter(qe),at=Be._plots[q._mainSubplot];if(!at)return;if(q._shiftPusher=q.autoshift||Ue.indexOf(q._id)!==-1||Ue.indexOf(q.overlaying)!==-1,q._shiftPusher&q.anchor==="free"){var pt=q.linewidth/2||0;q.ticks==="inside"&&(pt+=q.ticklen),sr(q,pt,Ie,!0),sr(q,q.shift||0,Ie,!1)}(He.skipTitle!==!0||q._shift===void 0)&&(q._shift=Ut(q,Ie));var ht=at[rt+"axislayer"],ut=q._mainLinePosition,Pt=ut+=q._shift,Lt=q._mainMirrorPosition,$t=q._vals=oe.calcTicks(q),It=[q.mirror,Pt,Lt].join("_");for(We=0;We<$t.length;We++)$t[We].axInfo=It;q._selections={},q._tickAngles&&(q._prevTickAngles=q._tickAngles),q._tickAngles={},q._depth=null;var Kt={};function Rt(Dr){var sa=qe+(Dr||"tick");return Kt[sa]||(Kt[sa]=_e(q,sa)),Kt[sa]}if(q.visible){var zt=oe.makeTransTickFn(q),er=oe.makeTransTickLabelFn(q),tr,lr,mr=q.ticks==="inside",or=q.ticks==="outside";if(q.tickson==="boundaries"){var fr=we(q,$t);lr=oe.clipEnds(q,fr),tr=mr?lr:fr}else lr=oe.clipEnds(q,$t),tr=mr&&q.ticklabelmode!=="period"?lr:$t;var hr=q._gridVals=lr,yr=ze(q,$t);if(!Be._hasOnlyLargeSploms){var Mr=q._subplotsWith,Ar={};for(We=0;We<Mr.length;We++){Je=Mr[We],Ge=Be._plots[Je];var wr=Ge[st+"axis"],Zr=wr._mainAxis._id;if(!Ar[Zr]){Ar[Zr]=1;var Br=rt==="x"?"M0,"+wr._offset+"v"+wr._length:"M"+wr._offset+",0h"+wr._length;oe.drawGrid(re,q,{vals:hr,counterAxis:wr,layer:Ge.gridlayer.select("."+qe),minorLayer:Ge.minorGridlayer.select("."+qe),path:Br,transFn:zt}),oe.drawZeroLine(re,q,{counterAxis:wr,layer:Ge.zerolinelayer,path:Br,transFn:zt})}}}var Xr,Lr=oe.getTickSigns(q),Fr=oe.getTickSigns(q,"minor");if(q.ticks||q.minor&&q.minor.ticks){var _r=oe.makeTickPath(q,Pt,Lr[2]),Tr=oe.makeTickPath(q,Pt,Fr[2],{minor:!0}),jr,ca,aa,qr;if(q._anchorAxis&&q.mirror&&q.mirror!==!0?(jr=oe.makeTickPath(q,Lt,Lr[3]),ca=oe.makeTickPath(q,Lt,Fr[3],{minor:!0}),aa=_r+jr,qr=Tr+ca):(jr="",ca="",aa=_r,qr=Tr),q.showdividers&&or&&q.tickson==="boundaries"){var Ma={};for(We=0;We<yr.length;We++)Ma[yr[We].x]=1;Xr=function(Dr){return Ma[Dr.x]?jr:aa}}else Xr=function(Dr){return Dr.minor?qr:aa}}if(oe.drawTicks(re,q,{vals:tr,layer:ht,path:Xr,transFn:zt}),q.mirror==="allticks"){var Da=Object.keys(q._linepositions||{});for(We=0;We<Da.length;We++){Je=Da[We],Ge=Be._plots[Je];var Jr=q._linepositions[Je]||[],ea=Jr[0],Ua=Jr[1],pa=Jr[2],Aa=oe.makeTickPath(q,ea,pa?Lr[0]:Fr[0],{minor:pa})+oe.makeTickPath(q,Ua,pa?Lr[1]:Fr[1],{minor:pa});oe.drawTicks(re,q,{vals:tr,layer:Ge[rt+"axislayer"],path:Aa,transFn:zt})}}var ga=[];if(ga.push(function(){return oe.drawLabels(re,q,{vals:$t,layer:ht,plotinfo:Ge,transFn:er,labelFns:oe.makeLabelFns(q,Pt)})}),q.type==="multicategory"){var qa={x:2,y:10}[rt];ga.push(function(){var Dr={x:"height",y:"width"}[rt],sa=Rt()[Dr]+qa+(q._tickAngles[qe+"tick"]?q.tickfont.size*ue:0);return oe.drawLabels(re,q,{vals:Se(q,$t),layer:ht,cls:qe+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:zt,labelFns:oe.makeLabelFns(q,Pt+sa*Lr[4])})}),ga.push(function(){return q._depth=Lr[4]*(Rt("tick2")[q.side]-Pt),Ye(re,q,{vals:yr,layer:ht,path:oe.makeTickPath(q,Pt,Lr[4],{len:q._depth}),transFn:zt})})}else q.title.hasOwnProperty("standoff")&&ga.push(function(){q._depth=Lr[4]*(Rt()[q.side]-Pt)});var Ga=i.getComponentMethod("rangeslider","isVisible")(q);return!He.skipTitle&&!(Ga&&q.side==="bottom")&&ga.push(function(){return wt(re,q)}),ga.push(function(){var Dr=q.side.charAt(0),sa=ye[q.side].charAt(0),ta=oe.getPxPosition(re,q),ra=or?q.ticklen:0,Pr,zr,xa,Va;(q.automargin||Ga||q._shiftPusher)&&(q.type==="multicategory"?Pr=Rt("tick2"):(Pr=Rt(),rt==="x"&&Dr==="b"&&(q._depth=Math.max(Pr.width>0?Pr.bottom-ta:0,ra))));var wa=0,Wa=0;if(q._shiftPusher&&(wa=Math.max(ra,Pr.height>0?Dr==="l"?ta-Pr.left:Pr.right-ta:0),q.title.text!==Be._dfltTitle[rt]&&(Wa=(q._titleStandoff||0)+(q._titleScoot||0),Dr==="l"&&(Wa+=nt(q))),q._fullDepth=Math.max(wa,Wa)),q.automargin){zr={x:0,y:0,r:0,l:0,t:0,b:0};var va=[0,1],Pa=typeof q._shift=="number"?q._shift:0;if(rt==="x"){if(Dr==="b"?zr[Dr]=q._depth:(zr[Dr]=q._depth=Math.max(Pr.width>0?ta-Pr.top:0,ra),va.reverse()),Pr.width>0){var _a=Pr.right-(q._offset+q._length);_a>0&&(zr.xr=1,zr.r=_a);var Ra=q._offset-Pr.left;Ra>0&&(zr.xl=0,zr.l=Ra)}}else if(Dr==="l"?(q._depth=Math.max(Pr.height>0?ta-Pr.left:0,ra),zr[Dr]=q._depth-Pa):(q._depth=Math.max(Pr.height>0?Pr.right-ta:0,ra),zr[Dr]=q._depth+Pa,va.reverse()),Pr.height>0){var La=Pr.bottom-(q._offset+q._length);La>0&&(zr.yb=0,zr.b=La);var Sa=q._offset-Pr.top;Sa>0&&(zr.yt=1,zr.t=Sa)}zr[st]=q.anchor==="free"?q.position:q._anchorAxis.domain[va[0]],q.title.text!==Be._dfltTitle[rt]&&(zr[Dr]+=nt(q)+(q.title.standoff||0)),q.mirror&&q.anchor!=="free"&&(xa={x:0,y:0,r:0,l:0,t:0,b:0},xa[sa]=q.linewidth,q.mirror&&q.mirror!==!0&&(xa[sa]+=ra),q.mirror===!0||q.mirror==="ticks"?xa[st]=q._anchorAxis.domain[va[1]]:(q.mirror==="all"||q.mirror==="allticks")&&(xa[st]=[q._counterDomainMin,q._counterDomainMax][va[1]]))}Ga&&(Va=i.getComponentMethod("rangeslider","autoMarginOpts")(re,q)),typeof q.automargin=="string"&&(be(zr,q.automargin),be(xa,q.automargin)),s.autoMargin(re,Ct(q),zr),s.autoMargin(re,Vt(q),xa),s.autoMargin(re,Bt(q),Va)}),r.syncOrAsync(ga)}};function be(re,q){if(re){var He=Object.keys(W).reduce(function(Ie,Ue){return q.indexOf(Ue)!==-1&&W[Ue].forEach(function(We){Ie[We]=1}),Ie},{});Object.keys(re).forEach(function(Ie){He[Ie]||(Ie.length===1?re[Ie]=0:delete re[Ie])})}}function we(re,q){var He=[],Ie,Ue=function(We,Je){var Ge=We.xbnd[Je];Ge!==null&&He.push(r.extendFlat({},We,{x:Ge}))};if(q.length){for(Ie=0;Ie<q.length;Ie++)Ue(q[Ie],0);Ue(q[Ie-1],1)}return He}function Se(re,q){for(var He=[],Ie={},Ue=0;Ue<q.length;Ue++){var We=q[Ue];Ie[We.text2]?Ie[We.text2].push(We.x):Ie[We.text2]=[We.x]}for(var Je in Ie)He.push(kt(re,r.interp(Ie[Je],.5),Je));return He}function ze(re,q){var He=[],Ie,Ue,We=q.length&&q[q.length-1].x<q[0].x,Je=function(Be,qe){var rt=Be.xbnd[qe];rt!==null&&He.push(r.extendFlat({},Be,{x:rt}))};if(re.showdividers&&q.length){for(Ie=0;Ie<q.length;Ie++){var Ge=q[Ie];Ge.text2!==Ue&&Je(Ge,We?1:0),Ue=Ge.text2}Je(q[Ie-1],We?0:1)}return He}function _e(re,q){var He,Ie,Ue,We;return re._selections[q].size()?(He=1/0,Ie=-1/0,Ue=1/0,We=-1/0,re._selections[q].each(function(){var Je=Gt(this),Ge=u.bBox(Je.node().parentNode);He=Math.min(He,Ge.top),Ie=Math.max(Ie,Ge.bottom),Ue=Math.min(Ue,Ge.left),We=Math.max(We,Ge.right)})):(He=0,Ie=0,Ue=0,We=0),{top:He,bottom:Ie,left:Ue,right:We,height:Ie-He,width:We-Ue}}oe.getTickSigns=function(re,q){var He=re._id.charAt(0),Ie={x:"top",y:"right"}[He],Ue=re.side===Ie?1:-1,We=[-1,1,Ue,-Ue],Je=q?(re.minor||{}).ticks:re.ticks;return Je!=="inside"==(He==="x")&&(We=We.map(function(Ge){return-Ge})),re.side&&We.push({l:-1,t:-1,r:1,b:1}[re.side.charAt(0)]),We},oe.makeTransTickFn=function(re){return re._id.charAt(0)==="x"?function(q){return f(re._offset+re.l2p(q.x),0)}:function(q){return f(0,re._offset+re.l2p(q.x))}},oe.makeTransTickLabelFn=function(re){var q=lt(re),He=q[0],Ie=q[1];return re._id.charAt(0)==="x"?function(Ue){return f(He+re._offset+re.l2p(ct(Ue)),Ie)}:function(Ue){return f(Ie,He+re._offset+re.l2p(ct(Ue)))}};function ct(re){return re.periodX!==void 0?re.periodX:re.x}function lt(re){var q=re.ticklabelposition||"",He=function(pt){return q.indexOf(pt)!==-1},Ie=He("top"),Ue=He("left"),We=He("right"),Je=He("bottom"),Ge=He("inside"),Be=Je||Ue||Ie||We;if(!Be&&!Ge)return[0,0];var qe=re.side,rt=Be?(re.tickwidth||0)/2:0,st=Me,at=re.tickfont?re.tickfont.size:12;return(Je||Ie)&&(rt+=at*ne,st+=(re.linewidth||0)/2),(Ue||We)&&(rt+=(re.linewidth||0)/2,st+=Me),Ge&&qe==="top"&&(st-=at*(1-ne)),(Ue||Ie)&&(rt=-rt),(qe==="bottom"||qe==="right")&&(st=-st),[Be?rt:0,Ge?st:0]}oe.makeTickPath=function(re,q,He,Ie){Ie||(Ie={});var Ue=Ie.minor;if(Ue&&!re.minor)return"";var We=Ie.len!==void 0?Ie.len:Ue?re.minor.ticklen:re.ticklen,Je=re._id.charAt(0),Ge=(re.linewidth||1)/2;return Je==="x"?"M0,"+(q+Ge*He)+"v"+We*He:"M"+(q+Ge*He)+",0h"+We*He},oe.makeLabelFns=function(re,q,He){var Ie=re.ticklabelposition||"",Ue=function(fr){return Ie.indexOf(fr)!==-1},We=Ue("top"),Je=Ue("left"),Ge=Ue("right"),Be=Ue("bottom"),qe=Be||Je||We||Ge,rt=Ue("inside"),st=Ie==="inside"&&re.ticks==="inside"||!rt&&re.ticks==="outside"&&re.tickson!=="boundaries",at=0,pt=0,ht=st?re.ticklen:0;if(rt?ht*=-1:qe&&(ht=0),st&&(at+=ht,He)){var ut=r.deg2rad(He);at=ht*Math.cos(ut)+1,pt=ht*Math.sin(ut)}re.showticklabels&&(st||re.showline)&&(at+=.2*re.tickfont.size),at+=(re.linewidth||1)/2*(rt?-1:1);var Pt={labelStandoff:at,labelShift:pt},Lt,$t,It,Kt,Rt=0,zt=re.side,er=re._id.charAt(0),tr=re.tickangle,lr;if(er==="x")lr=!rt&&zt==="bottom"||rt&&zt==="top",Kt=lr?1:-1,rt&&(Kt*=-1),Lt=pt*Kt,$t=q+at*Kt,It=lr?1:-.2,Math.abs(tr)===90&&(rt?It+=J:tr===-90&&zt==="bottom"?It=ne:tr===90&&zt==="top"?It=J:It=.5,Rt=J/2*(tr/90)),Pt.xFn=function(fr){return fr.dx+Lt+Rt*fr.fontSize},Pt.yFn=function(fr){return fr.dy+$t+fr.fontSize*It},Pt.anchorFn=function(fr,hr){if(qe){if(Je)return"end";if(Ge)return"start"}return!g(hr)||hr===0||hr===180?"middle":hr*Kt<0!==rt?"end":"start"},Pt.heightFn=function(fr,hr,yr){return hr<-60||hr>60?-.5*yr:re.side==="top"!==rt?-yr:0};else if(er==="y"){if(lr=!rt&&zt==="left"||rt&&zt==="right",Kt=lr?1:-1,rt&&(Kt*=-1),Lt=at,$t=pt*Kt,It=0,!rt&&Math.abs(tr)===90&&(tr===-90&&zt==="left"||tr===90&&zt==="right"?It=ne:It=.5),rt){var mr=g(tr)?+tr:0;if(mr!==0){var or=r.deg2rad(mr);Rt=Math.abs(Math.sin(or))*ne*Kt,It=0}}Pt.xFn=function(fr){return fr.dx+q-(Lt+fr.fontSize*It)*Kt+Rt*fr.fontSize},Pt.yFn=function(fr){return fr.dy+$t+fr.fontSize*J},Pt.anchorFn=function(fr,hr){return g(hr)&&Math.abs(hr)===90?"middle":lr?"end":"start"},Pt.heightFn=function(fr,hr,yr){return re.side==="right"&&(hr*=-1),hr<-30?-yr:hr<30?-.5*yr:0}}return Pt};function $e(re){return[re.text,re.x,re.axInfo,re.font,re.fontSize,re.fontColor].join("_")}oe.drawTicks=function(re,q,He){He=He||{};var Ie=q._id+"tick",Ue=[].concat(q.minor&&q.minor.ticks?He.vals.filter(function(Je){return Je.minor&&!Je.noTick}):[]).concat(q.ticks?He.vals.filter(function(Je){return!Je.minor&&!Je.noTick}):[]),We=He.layer.selectAll("path."+Ie).data(Ue,$e);We.exit().remove(),We.enter().append("path").classed(Ie,1).classed("ticks",1).classed("crisp",He.crisp!==!1).each(function(Je){return t.stroke(l.select(this),Je.minor?q.minor.tickcolor:q.tickcolor)}).style("stroke-width",function(Je){return u.crispRound(re,Je.minor?q.minor.tickwidth:q.tickwidth,1)+"px"}).attr("d",He.path).style("display",null),rr(q,[F]),We.attr("transform",He.transFn)},oe.drawGrid=function(re,q,He){if(He=He||{},q.tickmode!=="sync"){var Ie=q._id+"grid",Ue=q.minor&&q.minor.showgrid,We=Ue?He.vals.filter(function(Lt){return Lt.minor}):[],Je=q.showgrid?He.vals.filter(function(Lt){return!Lt.minor}):[],Ge=He.counterAxis;if(Ge&&oe.shouldShowZeroLine(re,q,Ge))for(var Be=q.tickmode==="array",qe=0;qe<Je.length;qe++){var rt=Je[qe].x;if(Be?!rt:Math.abs(rt)<q.dtick/100)if(Je=Je.slice(0,qe).concat(Je.slice(qe+1)),Be)qe--;else break}q._gw=u.crispRound(re,q.gridwidth,1);for(var st=Ue?u.crispRound(re,q.minor.gridwidth,1):0,at=He.layer,pt=He.minorLayer,ht=1;ht>=0;ht--){var ut=ht?at:pt;if(ut){var Pt=ut.selectAll("path."+Ie).data(ht?Je:We,$e);Pt.exit().remove(),Pt.enter().append("path").classed(Ie,1).classed("crisp",He.crisp!==!1),Pt.attr("transform",He.transFn).attr("d",He.path).each(function(Lt){return t.stroke(l.select(this),Lt.minor?q.minor.gridcolor:q.gridcolor||"#ddd")}).style("stroke-dasharray",function(Lt){return u.dashStyle(Lt.minor?q.minor.griddash:q.griddash,Lt.minor?q.minor.gridwidth:q.gridwidth)}).style("stroke-width",function(Lt){return(Lt.minor?st:q._gw)+"px"}).style("display",null),typeof He.path=="function"&&Pt.attr("d",He.path)}}rr(q,[ie,N])}},oe.drawZeroLine=function(re,q,He){He=He||He;var Ie=q._id+"zl",Ue=oe.shouldShowZeroLine(re,q,He.counterAxis),We=He.layer.selectAll("path."+Ie).data(Ue?[{x:0,id:q._id}]:[]);We.exit().remove(),We.enter().append("path").classed(Ie,1).classed("zl",1).classed("crisp",He.crisp!==!1).each(function(){He.layer.selectAll("path").sort(function(Je,Ge){return Y(Je.id,Ge.id)})}),We.attr("transform",He.transFn).attr("d",He.path).call(t.stroke,q.zerolinecolor||t.defaultLine).style("stroke-width",u.crispRound(re,q.zerolinewidth,q._gw||1)+"px").style("display",null),rr(q,[$])},oe.drawLabels=function(re,q,He){He=He||{};var Ie=re._fullLayout,Ue=q._id,We=Ue.charAt(0),Je=He.cls||Ue+"tick",Ge=He.vals.filter(function(Kt){return Kt.text}),Be=He.labelFns,qe=He.secondary?0:q.tickangle,rt=(q._prevTickAngles||{})[Je],st=He.layer.selectAll("g."+Je).data(q.showticklabels?Ge:[],$e),at=[];st.enter().append("g").classed(Je,1).append("text").attr("text-anchor","middle").each(function(Kt){var Rt=l.select(this),zt=re._promises.length;Rt.call(o.positionText,Be.xFn(Kt),Be.yFn(Kt)).call(u.font,Kt.font,Kt.fontSize,Kt.fontColor).text(Kt.text).call(o.convertToTspans,re),re._promises[zt]?at.push(re._promises.pop().then(function(){pt(Rt,qe)})):pt(Rt,qe)}),rr(q,[G]),st.exit().remove(),He.repositionOnUpdate&&st.each(function(Kt){l.select(this).select("text").call(o.positionText,Be.xFn(Kt),Be.yFn(Kt))});function pt(Kt,Rt){Kt.each(function(zt){var er=l.select(this),tr=er.select(".text-math-group"),lr=Be.anchorFn(zt,Rt),mr=He.transFn.call(er.node(),zt)+(g(Rt)&&+Rt!=0?" rotate("+Rt+","+Be.xFn(zt)+","+(Be.yFn(zt)-zt.fontSize/2)+")":""),or=o.lineCount(er),fr=ue*zt.fontSize,hr=Be.heightFn(zt,g(Rt)?+Rt:0,(or-1)*fr);if(hr&&(mr+=f(0,hr)),tr.empty()){var yr=er.select("text");yr.attr({transform:mr,"text-anchor":lr}),yr.style("opacity",1),q._adjustTickLabelsOverflow&&q._adjustTickLabelsOverflow()}else{var Mr=u.bBox(tr.node()).width,Ar=Mr*{end:-.5,start:.5}[lr];tr.attr("transform",mr+f(Ar,0))}})}q._adjustTickLabelsOverflow=function(){var Kt=q.ticklabeloverflow;if(!(!Kt||Kt==="allow")){var Rt=Kt.indexOf("hide")!==-1,zt=q._id.charAt(0)==="x",er=0,tr=zt?re._fullLayout.width:re._fullLayout.height;if(Kt.indexOf("domain")!==-1){var lr=r.simpleMap(q.range,q.r2l);er=q.l2p(lr[0])+q._offset,tr=q.l2p(lr[1])+q._offset}var mr=Math.min(er,tr),or=Math.max(er,tr),fr=q.side,hr=1/0,yr=-1/0;st.each(function(Zr){var Br=l.select(this),Xr=Br.select(".text-math-group");if(Xr.empty()){var Lr=u.bBox(Br.node()),Fr=0;zt?(Lr.right>or||Lr.left<mr)&&(Fr=1):(Lr.bottom>or||Lr.top+(q.tickangle?0:Zr.fontSize/4)<mr)&&(Fr=1);var _r=Br.select("text");Fr?Rt&&_r.style("opacity",0):(_r.style("opacity",1),fr==="bottom"||fr==="right"?hr=Math.min(hr,zt?Lr.top:Lr.left):hr=-1/0,fr==="top"||fr==="left"?yr=Math.max(yr,zt?Lr.bottom:Lr.right):yr=1/0)}});for(var Mr in Ie._plots){var Ar=Ie._plots[Mr];if(!(q._id!==Ar.xaxis._id&&q._id!==Ar.yaxis._id)){var wr=zt?Ar.yaxis:Ar.xaxis;wr&&(wr["_visibleLabelMin_"+q._id]=hr,wr["_visibleLabelMax_"+q._id]=yr)}}}},q._hideCounterAxisInsideTickLabels=function(Kt){var Rt=q._id.charAt(0)==="x",zt=[];for(var er in Ie._plots){var tr=Ie._plots[er];q._id!==tr.xaxis._id&&q._id!==tr.yaxis._id||zt.push(Rt?tr.yaxis:tr.xaxis)}zt.forEach(function(lr,mr){lr&&Xt(lr)&&(Kt||[$,N,ie,F,G]).forEach(function(or){var fr=or.K==="tick"&&or.L==="text"&&q.ticklabelmode==="period",hr=Ie._plots[q._mainSubplot],yr;or.K===$.K?yr=hr.zerolinelayer.selectAll("."+q._id+"zl"):or.K===N.K?yr=hr.minorGridlayer.selectAll("."+q._id):or.K===ie.K?yr=hr.gridlayer.selectAll("."+q._id):yr=hr[q._id.charAt(0)+"axislayer"],yr.each(function(){var Mr=l.select(this);or.L&&(Mr=Mr.selectAll(or.L)),Mr.each(function(Ar){var wr=q.l2p(fr?ct(Ar):Ar.x)+q._offset,Zr=l.select(this);wr<q["_visibleLabelMax_"+lr._id]&&wr>q["_visibleLabelMin_"+lr._id]?Zr.style("display","none"):or.K==="tick"&&!mr&&Zr.style("display",null)})})})})},pt(st,rt+1?rt:qe);function ht(){return at.length&&Promise.all(at)}var ut=null;function Pt(){if(pt(st,qe),Ge.length&&We==="x"&&!g(qe)&&(q.type!=="log"||String(q.dtick).charAt(0)!=="D")){ut=0;var Kt=0,Rt=[],zt;if(st.each(function(Lr){Kt=Math.max(Kt,Lr.fontSize);var Fr=q.l2p(Lr.x),_r=Gt(this),Tr=u.bBox(_r.node());Rt.push({top:0,bottom:10,height:10,left:Fr-Tr.width/2,right:Fr+Tr.width/2+2,width:Tr.width+2})}),(q.tickson==="boundaries"||q.showdividers)&&!He.secondary){var er=2;for(q.ticks&&(er+=q.tickwidth/2),zt=0;zt<Rt.length;zt++){var tr=Ge[zt].xbnd,lr=Rt[zt];if(tr[0]!==null&&lr.left-q.l2p(tr[0])<er||tr[1]!==null&&q.l2p(tr[1])-lr.right<er){ut=90;break}}}else{var mr=Ge.length,or=Math.abs((Ge[mr-1].x-Ge[0].x)*q._m)/(mr-1),fr=q.ticklabelposition||"",hr=function(Lr){return fr.indexOf(Lr)!==-1},yr=hr("top"),Mr=hr("left"),Ar=hr("right"),wr=hr("bottom"),Zr=wr||Mr||yr||Ar,Br=Zr?(q.tickwidth||0)+2*Me:0,Xr=or<Kt*2.5||q.type==="multicategory"||q._name==="realaxis";for(zt=0;zt<Rt.length-1;zt++)if(r.bBoxIntersect(Rt[zt],Rt[zt+1],Br)){ut=Xr?90:30;break}}ut&&pt(st,ut)}}q._selections&&(q._selections[Je]=st);var Lt=[ht];q.automargin&&Ie._redrawFromAutoMarginCount&&rt===90?(ut=90,Lt.push(function(){pt(st,rt)})):Lt.push(Pt),q._tickAngles&&Lt.push(function(){q._tickAngles[Je]=ut===null?g(qe)?qe:0:ut});var $t=q._anchorAxis;$t&&$t.autorange&&Xt(q)&&!S(Ie,q._id)&&(Ie._insideTickLabelsAutorange||(Ie._insideTickLabelsAutorange={}),Ie._insideTickLabelsAutorange[$t._name+".autorange"]=$t.autorange,Lt.push(function(){st.each(function(Rt,zt){var er=Gt(this),tr=er.select(".text-math-group");tr.empty()&&(q._vals[zt].bb=u.bBox(er.node()))})}));var It=r.syncOrAsync(Lt);return It&&It.then&&re._promises.push(It),It};function Ye(re,q,He){var Ie=q._id+"divider",Ue=He.vals,We=He.layer.selectAll("path."+Ie).data(Ue,$e);We.exit().remove(),We.enter().insert("path",":first-child").classed(Ie,1).classed("crisp",1).call(t.stroke,q.dividercolor).style("stroke-width",u.crispRound(re,q.dividerwidth,1)+"px"),We.attr("transform",He.transFn).attr("d",He.path)}oe.getPxPosition=function(re,q){var He=re._fullLayout._size,Ie=q._id.charAt(0),Ue=q.side,We;if(q.anchor!=="free"?We=q._anchorAxis:Ie==="x"?We={_offset:He.t+(1-(q.position||0))*He.h,_length:0}:Ie==="y"&&(We={_offset:He.l+(q.position||0)*He.w+q._shift,_length:0}),Ue==="top"||Ue==="left")return We._offset;if(Ue==="bottom"||Ue==="right")return We._offset+We._length};function nt(re){var q=re.title.font.size,He=(re.title.text.match(o.BR_TAG_ALL)||[]).length;return re.title.hasOwnProperty("standoff")?He?q*(ne+He*ue):q*ne:He?q*(He+1)*ue:q}function wt(re,q){var He=re._fullLayout,Ie=q._id,Ue=Ie.charAt(0),We=q.title.font.size,Je;if(q.title.hasOwnProperty("standoff"))Je=q._depth+q.title.standoff+nt(q);else{var Ge=Xt(q);if(q.type==="multicategory")Je=q._depth;else{var Be=1.5*We;Ge&&(Be=.5*We,q.ticks==="outside"&&(Be+=q.ticklen)),Je=10+Be+(q.linewidth?q.linewidth-1:0)}Ge||(Ue==="x"?Je+=q.side==="top"?We*(q.showticklabels?1:0):We*(q.showticklabels?1.5:.5):Je+=q.side==="right"?We*(q.showticklabels?1:.5):We*(q.showticklabels?.5:0))}var qe=oe.getPxPosition(re,q),rt,st,at;Ue==="x"?(st=q._offset+q._length/2,at=q.side==="top"?qe-Je:qe+Je):(at=q._offset+q._length/2,st=q.side==="right"?qe+Je:qe-Je,rt={rotate:"-90",offset:0});var pt;if(q.type!=="multicategory"){var ht=q._selections[q._id+"tick"];if(pt={selection:ht,side:q.side},ht&&ht.node()&&ht.node().parentNode){var ut=u.getTranslate(ht.node().parentNode);pt.offsetLeft=ut.x,pt.offsetTop=ut.y}q.title.hasOwnProperty("standoff")&&(pt.pad=0)}return q._titleStandoff=Je,n.draw(re,Ie+"title",{propContainer:q,propName:q._name+".title.text",placeholder:He._dfltTitle[Ue],avoid:pt,transform:rt,attributes:{x:st,y:at,"text-anchor":"middle"}})}oe.shouldShowZeroLine=function(re,q,He){var Ie=r.simpleMap(q.range,q.r2l);return Ie[0]*Ie[1]<=0&&q.zeroline&&(q.type==="linear"||q.type==="-")&&!(q.rangebreaks&&q.maskBreaks(0)===Z)&&(Et(q,0)||!Ht(re,q,He,Ie)||Wt(re,q))},oe.clipEnds=function(re,q){return q.filter(function(He){return Et(re,He.x)})};function Et(re,q){var He=re.l2p(q);return He>1&&He<re._length-1}function Ht(re,q,He,Ie){var Ue=He._mainAxis;if(!Ue)return;var We=re._fullLayout,Je=q._id.charAt(0),Ge=oe.counterLetter(q._id),Be=q._offset+(Math.abs(Ie[0])<Math.abs(Ie[1])==(Je==="x")?0:q._length);function qe(ht){if(!ht.showline||!ht.linewidth)return!1;var ut=Math.max((ht.linewidth+q.zerolinewidth)/2,1);function Pt(It){return typeof It=="number"&&Math.abs(It-Be)<ut}if(Pt(ht._mainLinePosition)||Pt(ht._mainMirrorPosition))return!0;var Lt=ht._linepositions||{};for(var $t in Lt)if(Pt(Lt[$t][0])||Pt(Lt[$t][1]))return!0}var rt=We._plots[He._mainSubplot];if(!(rt.mainplotinfo||rt).overlays.length)return qe(He);for(var st=oe.list(re,Ge),at=0;at<st.length;at++){var pt=st[at];if(pt._mainAxis===Ue&&qe(pt))return!0}}function Wt(re,q){for(var He=re._fullData,Ie=q._mainSubplot,Ue=q._id.charAt(0),We=0;We<He.length;We++){var Je=He[We];if(Je.visible===!0&&Je.xaxis+Je.yaxis===Ie&&(i.traceIs(Je,"bar-like")&&Je.orientation==={x:"h",y:"v"}[Ue]||Je.fill&&Je.fill.charAt(Je.fill.length-1)===Ue))return!0}return!1}function Gt(re){var q=l.select(re),He=q.select(".text-math-group");return He.empty()?q.select("text"):He}oe.allowAutoMargin=function(re){for(var q=oe.list(re,"",!0),He=0;He<q.length;He++){var Ie=q[He];Ie.automargin&&(s.allowAutoMargin(re,Ct(Ie)),Ie.mirror&&s.allowAutoMargin(re,Vt(Ie))),i.getComponentMethod("rangeslider","isVisible")(Ie)&&s.allowAutoMargin(re,Bt(Ie))}};function Ct(re){return re._id+".automargin"}function Vt(re){return Ct(re)+".mirror"}function Bt(re){return re._id+".rangeslider"}oe.swap=function(re,q){for(var He=_t(re,q),Ie=0;Ie<He.length;Ie++)Yt(re,He[Ie].x,He[Ie].y)};function _t(re,q){var He=[],Ie,Ue;for(Ie=0;Ie<q.length;Ie++){var We=[],Je=re._fullData[q[Ie]].xaxis,Ge=re._fullData[q[Ie]].yaxis;if(!(!Je||!Ge)){for(Ue=0;Ue<He.length;Ue++)(He[Ue].x.indexOf(Je)!==-1||He[Ue].y.indexOf(Ge)!==-1)&&We.push(Ue);if(!We.length){He.push({x:[Je],y:[Ge]});continue}var Be=He[We[0]],qe;if(We.length>1)for(Ue=1;Ue<We.length;Ue++)qe=He[We[Ue]],jt(Be.x,qe.x),jt(Be.y,qe.y);jt(Be.x,[Je]),jt(Be.y,[Ge])}}return He}function jt(re,q){for(var He=0;He<q.length;He++)re.indexOf(q[He])===-1&&re.push(q[He])}function Yt(re,q,He){var Ie=[],Ue=[],We=re.layout,Je,Ge;for(Je=0;Je<q.length;Je++)Ie.push(oe.getFromId(re,q[Je]));for(Je=0;Je<He.length;Je++)Ue.push(oe.getFromId(re,He[Je]));var Be=Object.keys(h),qe=["anchor","domain","overlaying","position","side","tickangle","editType"],rt=["linear","log"];for(Je=0;Je<Be.length;Je++){var st=Be[Je],at=Ie[0][st],pt=Ue[0][st],ht=!0,ut=!1,Pt=!1;if(!(st.charAt(0)==="_"||typeof at=="function"||qe.indexOf(st)!==-1)){for(Ge=1;Ge<Ie.length&&ht;Ge++){var Lt=Ie[Ge][st];st==="type"&&rt.indexOf(at)!==-1&&rt.indexOf(Lt)!==-1&&at!==Lt?ut=!0:Lt!==at&&(ht=!1)}for(Ge=1;Ge<Ue.length&&ht;Ge++){var $t=Ue[Ge][st];st==="type"&&rt.indexOf(pt)!==-1&&rt.indexOf($t)!==-1&&pt!==$t?Pt=!0:Ue[Ge][st]!==pt&&(ht=!1)}ht&&(ut&&(We[Ie[0]._name].type="linear"),Pt&&(We[Ue[0]._name].type="linear"),xt(We,st,Ie,Ue,re._fullLayout._dfltTitle))}}for(Je=0;Je<re._fullLayout.annotations.length;Je++){var It=re._fullLayout.annotations[Je];q.indexOf(It.xref)!==-1&&He.indexOf(It.yref)!==-1&&r.swapAttrs(We.annotations[Je],["?"])}}function xt(re,q,He,Ie,Ue){var We=r.nestedProperty,Je=We(re[He[0]._name],q).get(),Ge=We(re[Ie[0]._name],q).get(),Be;for(q==="title"&&(Je&&Je.text===Ue.x&&(Je.text=Ue.y),Ge&&Ge.text===Ue.y&&(Ge.text=Ue.x)),Be=0;Be<He.length;Be++)We(re,He[Be]._name+"."+q).set(Ge);for(Be=0;Be<Ie.length;Be++)We(re,Ie[Be]._name+"."+q).set(Je)}function Ot(re){return re._id==="angularaxis"}function Ft(re,q){for(var He=q._rangebreaks.length,Ie=0;Ie<He;Ie++){var Ue=q._rangebreaks[Ie];if(re>=Ue.min&&re<Ue.max)return Ue.max}return re}function Xt(re){return(re.ticklabelposition||"").indexOf("inside")!==-1}function rr(re,q){Xt(re._anchorAxis||{})&&re._hideCounterAxisInsideTickLabels&&re._hideCounterAxisInsideTickLabels(q)}function sr(re,q,He,Ie){var Ue=re.anchor!=="free"&&(re.overlaying===void 0||re.overlaying===!1)?re._id:re.overlaying,We;Ie?We=re.side==="right"?q:-q:We=q,Ue in He||(He[Ue]={}),re.side in He[Ue]||(He[Ue][re.side]=0),He[Ue][re.side]+=We}function Ut(re,q){return re.autoshift?q[re.overlaying][re.side]:re.shift||0}},4322:function(te,z,e){var l=e(2770),g=e(1828),s=e(606).BADNUM,i=g.isArrayOrTypedArray,r=g.isDateTime,f=g.cleanNumber,o=Math.round;te.exports=function(T,x,M){var c=T,p=M.noMultiCategory;if(i(c)&&!c.length)return"-";if(!p&&y(c))return"multicategory";if(p&&Array.isArray(c[0])){for(var v=[],b=0;b<c.length;b++)if(i(c[b]))for(var w=0;w<c[b].length;w++)v.push(c[b][w]);c=v}if(u(c,x))return"date";var _=M.autotypenumbers!=="strict";return m(c,_)?"category":t(c,_)?"linear":"-"};function n(d,T){return T?l(d):typeof d=="number"}function t(d,T){for(var x=d.length,M=0;M<x;M++)if(n(d[M],T))return!0;return!1}function u(d,T){for(var x=d.length,M=h(x),c=0,p=0,v={},b=0;b<x;b+=M){var w=o(b),_=d[w],k=String(_);v[k]||(v[k]=1,r(_,T)&&c++,l(_)&&p++)}return c>p*2}function h(d){return Math.max(1,(d-1)/1e3)}function m(d,T){for(var x=d.length,M=h(x),c=0,p=0,v={},b=0;b<x;b+=M){var w=o(b),_=d[w],k=String(_);if(!v[k]){v[k]=1;var B=typeof _;B==="boolean"?p++:(T?f(_)!==s:B==="number")?c++:B==="string"&&p++}}return p>c*2}function y(d){return i(d[0])&&i(d[1])}},1453:function(te,z,e){var l=e(2770),g=e(3972),s=e(1828),i=e(4467),r=e(5501),f=e(3838),o=e(6218),n=e(8701),t=e(6115),u=e(9426),h=e(5258),m=e(2128),y=e(3608),d=e(1994),T=e(5555).WEEKDAY_PATTERN,x=e(5555).HOUR_PATTERN;te.exports=function(b,w,_,k,B){var U=k.letter,L=k.font||{},O=k.splomStash||{},R=_("visible",!k.visibleDflt),Z=w._template||{},$=w.type||Z.type||"-",ie;if($==="date"){var N=g.getComponentMethod("calendars","handleDefaults");N(b,w,"calendar",k.calendar),k.noTicklabelmode||(ie=_("ticklabelmode"))}var F="";(!k.noTicklabelposition||$==="multicategory")&&(F=s.coerce(b,w,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:ie==="period"?["outside","inside"]:U==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),k.noTicklabeloverflow||_("ticklabeloverflow",F.indexOf("inside")!==-1?"hide past domain":$==="category"||$==="multicategory"?"allow":"hide past div"),d(w,B),y(b,w,_,k),h(b,w,_,k),$!=="category"&&!k.noHover&&_("hoverformat");var G=_("color"),W=G!==f.color.dflt?G:L.color,X=O.label||B._dfltTitle[U];if(u(b,w,_,$,k),!R)return w;_("title.text",X),s.coerceFont(_,"title.font",{family:L.family,size:s.bigFont(L.size),color:W}),o(b,w,_,$);var J=k.hasMinor;if(J&&(i.newContainer(w,"minor"),o(b,w,_,$,{isMinor:!0})),t(b,w,_,$,k),n(b,w,_,k),J){var ne=k.isMinor;k.isMinor=!0,n(b,w,_,k),k.isMinor=ne}m(b,w,_,{dfltColor:G,bgColor:k.bgColor,showGrid:k.showGrid,hasMinor:J,attributes:f}),J&&!w.minor.ticks&&!w.minor.showgrid&&delete w.minor,(w.showline||w.ticks)&&_("mirror");var ue=$==="multicategory";if(!k.noTickson&&($==="category"||ue)&&(w.ticks||w.showgrid)){var ye;ue&&(ye="boundaries");var Me=_("tickson",ye);Me==="boundaries"&&delete w.ticklabelposition}if(ue){var oe=_("showdividers");oe&&(_("dividercolor"),_("dividerwidth"))}if($==="date")if(r(b,w,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:M}),!w.rangebreaks.length)delete w.rangebreaks;else{for(var ve=0;ve<w.rangebreaks.length;ve++)if(w.rangebreaks[ve].pattern===T){w._hasDayOfWeekBreaks=!0;break}if(d(w,B),B._has("scattergl")||B._has("splom"))for(var H=0;H<k.data.length;H++){var Y=k.data[H];(Y.type==="scattergl"||Y.type==="splom")&&(Y.visible=!1,s.warn(Y.type+" traces do not work on axes with rangebreaks. Setting trace "+Y.index+" to `visible: false`."))}}return w};function M(v,b,w){function _(ie,N){return s.coerce(v,b,f.rangebreaks,ie,N)}var k=_("enabled");if(k){var B=_("bounds");if(B&&B.length>=2){var U="",L,O;if(B.length===2){for(L=0;L<2;L++)if(O=p(B[L]),O){U=T;break}}var R=_("pattern",U);if(R===T)for(L=0;L<2;L++)O=p(B[L]),O&&(b.bounds[L]=B[L]=O-1);if(R)for(L=0;L<2;L++)switch(O=B[L],R){case T:if(!l(O)){b.enabled=!1;return}if(O=+O,O!==Math.floor(O)||O<0||O>=7){b.enabled=!1;return}b.bounds[L]=B[L]=O;break;case x:if(!l(O)){b.enabled=!1;return}if(O=+O,O<0||O>24){b.enabled=!1;return}b.bounds[L]=B[L]=O;break}if(w.autorange===!1){var Z=w.range;if(Z[0]<Z[1]){if(B[0]<Z[0]&&B[1]>Z[1]){b.enabled=!1;return}}else if(B[0]>Z[0]&&B[1]<Z[1]){b.enabled=!1;return}}}else{var $=_("values");if($&&$.length)_("dvalue");else{b.enabled=!1;return}}}}var c={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function p(v){if(typeof v=="string")return c[v.substr(0,3).toLowerCase()]}},2663:function(te,z,e){var l=e(1562),g=l.FORMAT_LINK,s=l.DATE_FORMAT_LINK;function i(o,n){return{valType:"string",dflt:"",editType:"none",description:(n?r:f)("hover text",o)+["By default the values are formatted using "+(n?"generic number format":"`"+o+"axis.hoverformat`")+"."].join(" ")}}function r(o,n){return["Sets the "+o+" formatting rule"+(n?"for `"+n+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+g+"."].join(" ")}function f(o,n){return r(o,n)+[" And for dates see: "+s+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}te.exports={axisHoverFormat:i,descriptionOnlyNumbers:r,descriptionWithDates:f}},1675:function(te,z,e){var l=e(3972),g=e(5555);z.id2name=function(r){if(!(typeof r!="string"||!r.match(g.AX_ID_PATTERN))){var f=r.split(" ")[0].substr(1);return f==="1"&&(f=""),r.charAt(0)+"axis"+f}},z.name2id=function(r){if(r.match(g.AX_NAME_PATTERN)){var f=r.substr(5);return f==="1"&&(f=""),r.charAt(0)+f}},z.cleanId=function(r,f,o){var n=/( domain)$/.test(r);if(!(typeof r!="string"||!r.match(g.AX_ID_PATTERN))&&!(f&&r.charAt(0)!==f)&&!(n&&!o)){var t=r.split(" ")[0].substr(1).replace(/^0+/,"");return t==="1"&&(t=""),r.charAt(0)+t+(n&&o?" domain":"")}},z.list=function(i,r,f){var o=i._fullLayout;if(!o)return[];var n=z.listIds(i,r),t=new Array(n.length),u;for(u=0;u<n.length;u++){var h=n[u];t[u]=o[h.charAt(0)+"axis"+h.substr(1)]}if(!f){var m=o._subplots.gl3d||[];for(u=0;u<m.length;u++){var y=o[m[u]];r?t.push(y[r+"axis"]):t.push(y.xaxis,y.yaxis,y.zaxis)}}return t},z.listIds=function(i,r){var f=i._fullLayout;if(!f)return[];var o=f._subplots;return r?o[r+"axis"]:o.xaxis.concat(o.yaxis)},z.getFromId=function(i,r,f){var o=i._fullLayout;return r=r===void 0||typeof r!="string"?r:r.replace(" domain",""),f==="x"?r=r.replace(/y[0-9]*/,""):f==="y"&&(r=r.replace(/x[0-9]*/,"")),o[z.id2name(r)]},z.getFromTrace=function(i,r,f){var o=i._fullLayout,n=null;if(l.traceIs(r,"gl3d")){var t=r.scene;t.substr(0,5)==="scene"&&(n=o[t][f+"axis"])}else n=z.getFromId(i,r[f+"axis"]||f);return n},z.idSort=function(i,r){var f=i.charAt(0),o=r.charAt(0);return f!==o?f>o?1:-1:+(i.substr(1)||1)-+(r.substr(1)||1)},z.ref2id=function(i){return/^[xyz]/.test(i)?i.split(" ")[0]:!1};function s(i,r){if(r&&r.length){for(var f=0;f<r.length;f++)if(r[f][i])return!0}return!1}z.isLinked=function(i,r){return s(r,i._axisMatchGroups)||s(r,i._axisConstraintGroups)}},5258:function(te){function z(e,l){var g=l.dataAttr||e._id.charAt(0),s={},i,r,f;if(l.axData)i=l.axData;else for(i=[],r=0;r<l.data.length;r++){var o=l.data[r];o[g+"axis"]===e._id&&i.push(o)}for(r=0;r<i.length;r++){var n=i[r][g];for(f=0;f<n.length;f++){var t=n[f];t!=null&&(s[t]=1)}}return Object.keys(s)}te.exports=function(l,g,s,i){if(g.type==="category"){var r=l.categoryarray,f=Array.isArray(r)&&r.length>0,o;f&&(o="array");var n=s("categoryorder",o),t;n==="array"&&(t=s("categoryarray")),!f&&n==="array"&&(n=g.categoryorder="trace"),n==="trace"?g._initialCategories=[]:n==="array"?g._initialCategories=t.slice():(t=z(g,i).sort(),n==="category ascending"?g._initialCategories=t:n==="category descending"&&(g._initialCategories=t.reverse()))}}},6287:function(te,z,e){var l=e(2770),g=e(1828),s=e(606),i=s.ONEDAY,r=s.ONEWEEK;z.dtick=function(f,o){var n=o==="log",t=o==="date",u=o==="category",h=t?i:1;if(!f)return h;if(l(f))return f=Number(f),f<=0?h:u?Math.max(1,Math.round(f)):t?Math.max(.1,f):f;if(typeof f!="string"||!(t||n))return h;var m=f.charAt(0),y=f.substr(1);return y=l(y)?Number(y):0,y<=0||!(t&&m==="M"&&y===Math.round(y)||n&&m==="L"||n&&m==="D"&&(y===1||y===2))?h:f},z.tick0=function(f,o,n,t){if(o==="date")return g.cleanDate(f,g.dateTick0(n,t%r===0?1:0));if(!(t==="D1"||t==="D2"))return l(f)?Number(f):0}},5555:function(te,z,e){var l=e(587).counter;te.exports={idRegex:{x:l("x","( domain)?"),y:l("y","( domain)?")},attrRegex:l("[xy]axis"),xAxisMatch:l("xaxis"),yAxisMatch:l("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},9082:function(te,z,e){var l=e(1828),g=e(1739),s=e(1675).id2name,i=e(3838),r=e(2449),f=e(1994),o=e(606).ALMOST_EQUAL,n=e(8783).FROM_BL;z.handleDefaults=function(x,M,c){var p=c.axIds,v=c.axHasImage,b=M._axisConstraintGroups=[],w=M._axisMatchGroups=[],_,k,B,U,L,O,R,Z;for(_=0;_<p.length;_++)U=s(p[_]),L=x[U],O=M[U],t(L,O,{axIds:p,layoutOut:M,hasImage:v[U]});function $(ue,ye){for(_=0;_<ue.length;_++){k=ue[_];for(B in k)M[s(B)][ye]=k}}for($(w,"_matchGroup"),_=0;_<b.length;_++){k=b[_];for(B in k)if(O=M[s(B)],O.fixedrange){for(var ie in k){var N=s(ie);(x[N]||{}).fixedrange===!1&&l.warn("fixedrange was specified as false for axis "+N+" but was overridden because another axis in its constraint group has fixedrange true"),M[N].fixedrange=!0}break}}for(_=0;_<b.length;){k=b[_];for(B in k){O=M[s(B)],O._matchGroup&&Object.keys(O._matchGroup).length===Object.keys(k).length&&(b.splice(_,1),_--);break}_++}$(b,"_constraintGroup");var F=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],G=!1,W=!1;function X(){Z=O[R],R==="rangebreaks"&&(W=O._hasDayOfWeekBreaks)}for(_=0;_<w.length;_++){k=w[_];for(var J=0;J<F.length;J++){R=F[J],Z=null;var ne;for(B in k)if(U=s(B),L=x[U],O=M[U],R in O){if(!O.matches&&(ne=O,R in L)){X();break}Z===null&&R in L&&X()}if(R==="range"&&Z&&L.range&&L.range.length===2&&L.range[0]!==null&&L.range[1]!==null&&(G=!0),R==="autorange"&&Z===null&&G&&(Z=!1),Z===null&&R in ne&&(Z=ne[R]),Z!==null)for(B in k)O=M[s(B)],O[R]=R==="range"?Z.slice():Z,R==="rangebreaks"&&(O._hasDayOfWeekBreaks=W,f(O,M))}}};function t(x,M,c){var p=c.axIds,v=c.layoutOut,b=c.hasImage,w=v._axisConstraintGroups,_=v._axisMatchGroups,k=M._id,B=k.charAt(0),U=((v._splomAxes||{})[B]||{})[k]||{},L=M._id,O=L.charAt(0)==="x";M._matchGroup=null,M._constraintGroup=null;function R(ve,H){return l.coerce(x,M,i,ve,H)}R("constrain",b?"domain":"range"),l.coerce(x,M,{constraintoward:{valType:"enumerated",values:O?["left","center","right"]:["bottom","middle","top"],dflt:O?"center":"middle"}},"constraintoward");var Z=M.type,$,ie,N=[];for($=0;$<p.length;$++)if(ie=p[$],ie!==L){var F=v[s(ie)];F.type===Z&&N.push(ie)}var G=h(w,L);if(G){var W=[];for($=0;$<N.length;$++)ie=N[$],G[ie]||W.push(ie);N=W}var X=N.length,J,ne;X&&(x.matches||U.matches)&&(J=l.coerce(x,M,{matches:{valType:"enumerated",values:N,dflt:N.indexOf(U.matches)!==-1?U.matches:void 0}},"matches"));var ue=b&&!O?M.anchor:void 0;if(X&&!J&&(x.scaleanchor||ue)&&(ne=l.coerce(x,M,{scaleanchor:{valType:"enumerated",values:N.concat([!1])}},"scaleanchor",ue)),J){M._matchGroup=m(_,L,J,1);var ye=v[s(J)],Me=u(v,M)/u(v,ye);O!==(J.charAt(0)==="x")&&(Me=(O?"x":"y")+Me),m(w,L,J,Me)}else x.matches&&p.indexOf(x.matches)!==-1&&l.warn("ignored "+M._name+'.matches: "'+x.matches+'" to avoid an infinite loop');if(ne){var oe=R("scaleratio");oe||(oe=M.scaleratio=1),m(w,L,ne,oe)}else x.scaleanchor&&p.indexOf(x.scaleanchor)!==-1&&l.warn("ignored "+M._name+'.scaleanchor: "'+x.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function u(x,M){var c=M.domain;return c||(c=x[s(M.overlaying)].domain),c[1]-c[0]}function h(x,M){for(var c=0;c<x.length;c++)if(x[c][M])return x[c];return null}function m(x,M,c,p){var v,b,w,_,k,B=h(x,M);B===null?(B={},B[M]=1,k=x.length,x.push(B)):k=x.indexOf(B);var U=Object.keys(B);for(v=0;v<x.length;v++)if(w=x[v],v!==k&&w[c]){var L=w[c];for(b=0;b<U.length;b++)_=U[b],w[_]=y(L,y(p,B[_]));x.splice(k,1);return}if(p!==1)for(b=0;b<U.length;b++){var O=U[b];B[O]=y(p,B[O])}B[c]=1}function y(x,M){var c="",p="",v,b;typeof x=="string"&&(c=x.match(/^[xy]*/)[0],v=c.length,x=+x.substr(v)),typeof M=="string"&&(p=M.match(/^[xy]*/)[0],b=p.length,M=+M.substr(b));var w=x*M;return!v&&!b?w:!v||!b||c.charAt(0)===p.charAt(0)?c+p+x*M:v===b?w:(v>b?c.substr(b):p.substr(v))+w}function d(x,M){for(var c=M._size,p=c.h/c.w,v={},b=Object.keys(x),w=0;w<b.length;w++){var _=b[w],k=x[_];if(typeof k=="string"){var B=k.match(/^[xy]*/)[0],U=B.length;k=+k.substr(U);for(var L=B.charAt(0)==="y"?p:1/p,O=0;O<U;O++)k*=L}v[_]=k}return v}z.enforce=function(M){var c=M._fullLayout,p=c._axisConstraintGroups||[],v,b,w,_,k,B,U,L;for(v=0;v<p.length;v++){w=d(p[v],c);var O=Object.keys(w),R=1/0,Z=0,$=1/0,ie={},N={},F=!1;for(b=0;b<O.length;b++)_=O[b],N[_]=k=c[s(_)],k._inputDomain?k.domain=k._inputDomain.slice():k._inputDomain=k.domain.slice(),k._inputRange||(k._inputRange=k.range.slice()),k.setScale(),ie[_]=B=Math.abs(k._m)/w[_],R=Math.min(R,B),(k.constrain==="domain"||!k._constraintShrinkable)&&($=Math.min($,B)),delete k._constraintShrinkable,Z=Math.max(Z,B),k.constrain==="domain"&&(F=!0);if(!(R>o*Z&&!F)){for(b=0;b<O.length;b++)if(_=O[b],B=ie[_],k=N[_],U=k.constrain,B!==$||U==="domain")if(L=B/$,U==="range")r(k,L);else{var G=k._inputDomain,W=(k.domain[1]-k.domain[0])/(G[1]-G[0]),X=(k.r2l(k.range[1])-k.r2l(k.range[0]))/(k.r2l(k._inputRange[1])-k.r2l(k._inputRange[0]));if(L/=W,L*X<1){k.domain=k._input.domain=G.slice(),r(k,L);continue}if(X<1&&(k.range=k._input.range=k._inputRange.slice(),L*=X),k.autorange){var J=k.r2l(k.range[0]),ne=k.r2l(k.range[1]),ue=(J+ne)/2,ye=ue,Me=ue,oe=Math.abs(ne-ue),ve=ue-oe*L*1.0001,H=ue+oe*L*1.0001,Y=g.makePadFn(c,k,0),S=g.makePadFn(c,k,1);T(k,L);var E=Math.abs(k._m),I=g.concatExtremes(M,k),C=I.min,K=I.max,P,j;for(j=0;j<C.length;j++)P=C[j].val-Y(C[j])/E,P>ve&&P<ye&&(ye=P);for(j=0;j<K.length;j++)P=K[j].val+S(K[j])/E,P<H&&P>Me&&(Me=P);var ae=(Me-ye)/(2*oe);L/=ae,ye=k.l2r(ye),Me=k.l2r(Me),k.range=k._input.range=J<ne?[ye,Me]:[Me,ye]}T(k,L)}}}},z.getAxisGroup=function(M,c){for(var p=M._axisMatchGroups,v=0;v<p.length;v++){var b=p[v];if(b[c])return"g"+v}return c},z.clean=function(M,c){if(c._inputDomain){for(var p=!1,v=c._id,b=M._fullLayout._axisConstraintGroups,w=0;w<b.length;w++)if(b[w][v]){p=!0;break}(!p||c.constrain!=="domain")&&(c._input.domain=c.domain=c._inputDomain,delete c._inputDomain)}};function T(x,M){var c=x._inputDomain,p=n[x.constraintoward],v=c[0]+(c[1]-c[0])*p;x.domain=x._input.domain=[v+(c[0]-v)/M,v+(c[1]-v)/M],x.setScale()}},9323:function(te,z,e){var l=e(9898),g=e(1828),s=g.numberFormat,i=e(4267),r=e(8520),f=e(3972),o=g.strTranslate,n=e(3893),t=e(7901),u=e(1424),h=e(211),m=e(9298),y=e(6964),d=e(8569),T=e(4505),x=T.selectingOrDrawing,M=T.freeMode,c=e(8783).FROM_TL,p=e(3306),v=e(1549).redrawReglTraces,b=e(4875),w=e(1675).getFromId,_=e(7322).prepSelect,k=e(7322).clearOutline,B=e(7322).selectOnClick,U=e(2449),L=e(5555),O=L.MINDRAG,R=L.MINZOOM,Z=!0;function $(P,j,ae,fe,de,Ce,De,ce){var me=P._fullLayout._zoomlayer,pe=De+ce==="nsew",Ee=(De+ce).length===1,Ae,xe,Fe,Ke,je,Ve,dt,bt,Tt,it,kt,tt,Mt,Dt,St,At,ke,Te,Re,Le,Oe,le,be;ae+=j.yaxis._shift;function we(){if(Ae=j.xaxis,xe=j.yaxis,Tt=Ae._length,it=xe._length,dt=Ae._offset,bt=xe._offset,Fe={},Fe[Ae._id]=Ae,Ke={},Ke[xe._id]=xe,De&&ce)for(var Ge=j.overlays,Be=0;Be<Ge.length;Be++){var qe=Ge[Be].xaxis;Fe[qe._id]=qe;var rt=Ge[Be].yaxis;Ke[rt._id]=rt}je=K(Fe),Ve=K(Ke),Mt=F(je,ce),Dt=F(Ve,De),St=!Dt&&!Mt,tt=I(P,P._fullLayout._axisMatchGroups,Fe,Ke),kt=I(P,P._fullLayout._axisConstraintGroups,Fe,Ke,tt);var st=kt.isSubplotConstrained||tt.isSubplotConstrained;At=ce||st,ke=De||st;var at=P._fullLayout;Te=at._has("scattergl"),Re=at._has("splom"),Le=at._has("svg")}we();var Se=ne(Dt+Mt,P._fullLayout.dragmode,pe),ze=N(j,De+ce+"drag",Se,ae,fe,de,Ce);if(St&&!pe)return ze.onmousedown=null,ze.style.pointerEvents="none",ze;var _e={element:ze,gd:P,plotinfo:j};_e.prepFn=function(Ge,Be,qe){var rt=_e.dragmode,st=P._fullLayout.dragmode;st!==rt&&(_e.dragmode=st),we(),le=P._fullLayout._invScaleX,be=P._fullLayout._invScaleY,St||(pe?Ge.shiftKey?st==="pan"?st="zoom":x(st)||(st="pan"):Ge.ctrlKey&&(st="pan"):st="pan"),M(st)?_e.minDrag=1:_e.minDrag=void 0,x(st)?(_e.xaxes=je,_e.yaxes=Ve,_(Ge,Be,qe,_e,st)):(_e.clickFn=lt,x(rt)&&ct(),St||(st==="zoom"?(_e.moveFn=_t,_e.doneFn=Yt,_e.minDrag=1,Bt(Ge,Be,qe)):st==="pan"&&(_e.moveFn=sr,_e.doneFn=He))),P._fullLayout._redrag=function(){var at=P._dragdata;if(at&&at.element===ze){var pt=P._fullLayout.dragmode;x(pt)||(we(),Ie([0,0,Tt,it]),_e.moveFn(at.dx,at.dy))}}};function ct(){_e.plotinfo.selection=!1,k(P)}function lt(Ge,Be){var qe=_e.gd;if(qe._fullLayout._activeShapeIndex>=0){qe._fullLayout._deactivateShape(qe);return}var rt=qe._fullLayout.clickmode;if(ve(qe),Ge===2&&!Ee&&q(),pe)rt.indexOf("select")>-1&&B(Be,qe,je,Ve,j.id,_e),rt.indexOf("event")>-1&&h.click(qe,Be,j.id);else if(Ge===1&&Ee){var st=De?xe:Ae,at=De==="s"||ce==="w"?0:1,pt=st._name+".range["+at+"]",ht=G(st,at),ut="left",Pt="middle";if(st.fixedrange)return;De?(Pt=De==="n"?"top":"bottom",st.side==="right"&&(ut="right")):ce==="e"&&(ut="right"),qe._context.showAxisRangeEntryBoxes&&l.select(ze).call(n.makeEditable,{gd:qe,immediate:!0,background:qe._fullLayout.paper_bgcolor,text:String(ht),fill:st.tickfont?st.tickfont.color:"#444",horizontalAlign:ut,verticalAlign:Pt}).on("edit",function(Lt){var $t=st.d2r(Lt);$t!==void 0&&f.call("_guiRelayout",qe,pt,$t)})}}d.init(_e);var $e,Ye,nt,wt,Et,Ht,Wt,Gt,Ct,Vt;function Bt(Ge,Be,qe){var rt=ze.getBoundingClientRect();$e=Be-rt.left,Ye=qe-rt.top,P._fullLayout._calcInverseTransform(P);var st=g.apply3DTransform(P._fullLayout._invTransform)($e,Ye);$e=st[0],Ye=st[1],nt={l:$e,r:$e,w:0,t:Ye,b:Ye,h:0},wt=P._hmpixcount?P._hmlumcount/P._hmpixcount:i(P._fullLayout.plot_bgcolor).getLuminance(),Et="M0,0H"+Tt+"V"+it+"H0V0",Ht=!1,Wt="xy",Vt=!1,Gt=ue(me,wt,dt,bt,Et),Ct=ye(me,dt,bt)}function _t(Ge,Be){if(P._transitioningWithDuration)return!1;var qe=Math.max(0,Math.min(Tt,le*Ge+$e)),rt=Math.max(0,Math.min(it,be*Be+Ye)),st=Math.abs(qe-$e),at=Math.abs(rt-Ye);nt.l=Math.min($e,qe),nt.r=Math.max($e,qe),nt.t=Math.min(Ye,rt),nt.b=Math.max(Ye,rt);function pt(){Wt="",nt.r=nt.l,nt.t=nt.b,Ct.attr("d","M0,0Z")}if(kt.isSubplotConstrained)st>R||at>R?(Wt="xy",st/Tt>at/it?(at=st*it/Tt,Ye>rt?nt.t=Ye-at:nt.b=Ye+at):(st=at*Tt/it,$e>qe?nt.l=$e-st:nt.r=$e+st),Ct.attr("d",E(nt))):pt();else if(tt.isSubplotConstrained)if(st>R||at>R){Wt="xy";var ht=Math.min(nt.l/Tt,(it-nt.b)/it),ut=Math.max(nt.r/Tt,(it-nt.t)/it);nt.l=ht*Tt,nt.r=ut*Tt,nt.b=(1-ht)*it,nt.t=(1-ut)*it,Ct.attr("d",E(nt))}else pt();else!Dt||at<Math.min(Math.max(st*.6,O),R)?st<O||!Mt?pt():(nt.t=0,nt.b=it,Wt="x",Ct.attr("d",Y(nt,Ye))):!Mt||st<Math.min(at*.6,R)?(nt.l=0,nt.r=Tt,Wt="y",Ct.attr("d",S(nt,$e))):(Wt="xy",Ct.attr("d",E(nt)));nt.w=nt.r-nt.l,nt.h=nt.b-nt.t,Wt&&(Vt=!0),P._dragged=Vt,Me(Gt,Ct,nt,Et,Ht,wt),jt(),P.emit("plotly_relayouting",Oe),Ht=!0}function jt(){Oe={},(Wt==="xy"||Wt==="x")&&(W(je,nt.l/Tt,nt.r/Tt,Oe,kt.xaxes),Ut("x",Oe)),(Wt==="xy"||Wt==="y")&&(W(Ve,(it-nt.b)/it,(it-nt.t)/it,Oe,kt.yaxes),Ut("y",Oe))}function Yt(){jt(),ve(P),He(),H(P)}var xt=[0,0,Tt,it],Ot=null,Ft=L.REDRAWDELAY,Xt=j.mainplot?P._fullLayout._plots[j.mainplot]:j;function rr(Ge){if(!P._context._scrollZoom.cartesian&&!P._fullLayout._enablescrollzoom)return;if(ct(),P._transitioningWithDuration){Ge.preventDefault(),Ge.stopPropagation();return}we(),clearTimeout(Ot);var Be=-Ge.deltaY;if(isFinite(Be)||(Be=Ge.wheelDelta/10),!isFinite(Be)){g.log("Did not find wheel motion attributes: ",Ge);return}var qe=Math.exp(-Math.min(Math.max(Be,-20),20)/200),rt=Xt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),st=(Ge.clientX-rt.left)/rt.width,at=(rt.bottom-Ge.clientY)/rt.height,pt;function ht(ut,Pt,Lt){if(ut.fixedrange)return;var $t=g.simpleMap(ut.range,ut.r2l),It=$t[0]+($t[1]-$t[0])*Pt;function Kt(Rt){return ut.l2r(It+(Rt-It)*Lt)}ut.range=$t.map(Kt)}if(At){for(ce||(st=.5),pt=0;pt<je.length;pt++)ht(je[pt],st,qe);Ut("x"),xt[2]*=qe,xt[0]+=xt[2]*st*(1/qe-1)}if(ke){for(De||(at=.5),pt=0;pt<Ve.length;pt++)ht(Ve[pt],at,qe);Ut("y"),xt[3]*=qe,xt[1]+=xt[3]*(1-at)*(1/qe-1)}Ie(xt),re(),P.emit("plotly_relayouting",Oe),Ot=setTimeout(function(){P._fullLayout&&(xt=[0,0,Tt,it],He())},Ft),Ge.preventDefault()}De.length*ce.length!==1&&C(ze,rr);function sr(Ge,Be){if(Ge=Ge*le,Be=Be*be,P._transitioningWithDuration)return;if(P._fullLayout._replotting=!0,Mt==="ew"||Dt==="ns"){var qe=Mt?-Ge:0,rt=Dt?-Be:0;if(tt.isSubplotConstrained){if(Mt&&Dt){var st=(Ge/Tt-Be/it)/2;Ge=st*Tt,Be=-st*it,qe=-Ge,rt=-Be}Dt?qe=-rt*Tt/it:rt=-qe*it/Tt}Mt&&(X(je,Ge),Ut("x")),Dt&&(X(Ve,Be),Ut("y")),Ie([qe,rt,Tt,it]),re(),P.emit("plotly_relayouting",Oe);return}function at(Kt,Rt,zt){for(var er=1-Rt,tr,lr,mr=0;mr<Kt.length;mr++){var or=Kt[mr];if(!or.fixedrange){tr=or,lr=or._rl[er]+(or._rl[Rt]-or._rl[er])/J(zt/or._length);var fr=or.l2r(lr);fr!==!1&&fr!==void 0&&(or.range[Rt]=fr)}}return tr._length*(tr._rl[Rt]-lr)/(tr._rl[Rt]-tr._rl[er])}var pt=Mt==="w"==(Dt==="n")?1:-1;if(Mt&&Dt&&(kt.isSubplotConstrained||tt.isSubplotConstrained)){var ht=(Ge/Tt+pt*Be/it)/2;Ge=ht*Tt,Be=pt*ht*it}var ut,Pt;if(Mt==="w"?Ge=at(je,0,Ge):Mt==="e"?Ge=at(je,1,-Ge):Mt||(Ge=0),Dt==="n"?Be=at(Ve,1,Be):Dt==="s"?Be=at(Ve,0,-Be):Dt||(Be=0),ut=Mt==="w"?Ge:0,Pt=Dt==="n"?Be:0,kt.isSubplotConstrained&&!tt.isSubplotConstrained||tt.isSubplotConstrained&&Mt&&Dt&&pt>0){var Lt;if(tt.isSubplotConstrained||!Mt&&Dt.length===1){for(Lt=0;Lt<je.length;Lt++)je[Lt].range=je[Lt]._r.slice(),U(je[Lt],1-Be/it);Ge=Be*Tt/it,ut=Ge/2}if(tt.isSubplotConstrained||!Dt&&Mt.length===1){for(Lt=0;Lt<Ve.length;Lt++)Ve[Lt].range=Ve[Lt]._r.slice(),U(Ve[Lt],1-Ge/Tt);Be=Ge*it/Tt,Pt=Be/2}}(!tt.isSubplotConstrained||!Dt)&&Ut("x"),(!tt.isSubplotConstrained||!Mt)&&Ut("y");var $t=Tt-Ge,It=it-Be;tt.isSubplotConstrained&&!(Mt&&Dt)&&(Mt?(Pt=ut?0:Ge*it/Tt,It=$t*it/Tt):(ut=Pt?0:Be*Tt/it,$t=It*Tt/it)),Ie([ut,Pt,$t,It]),re(),P.emit("plotly_relayouting",Oe)}function Ut(Ge,Be){for(var qe=tt.isSubplotConstrained?{x:Ve,y:je}[Ge]:tt[Ge+"axes"],rt=tt.isSubplotConstrained?{x:je,y:Ve}[Ge]:[],st=0;st<qe.length;st++){var at=qe[st],pt=at._id,ht=tt.xLinks[pt]||tt.yLinks[pt],ut=rt[0]||Fe[ht]||Ke[ht];ut&&(Be?(Be[at._name+".range[0]"]=Be[ut._name+".range[0]"],Be[at._name+".range[1]"]=Be[ut._name+".range[1]"]):at.range=ut.range.slice())}}function re(){var Ge=[],Be;function qe(pt){for(Be=0;Be<pt.length;Be++)pt[Be].fixedrange||Ge.push(pt[Be]._id)}function rt(pt,ht){for(Be=0;Be<pt.length;Be++){var ut=pt[Be],Pt=ut[ht];!ut.fixedrange&&Pt.tickmode==="sync"&&Ge.push(Pt._id)}}for(At&&(qe(je),qe(kt.xaxes),qe(tt.xaxes),rt(j.overlays,"xaxis")),ke&&(qe(Ve),qe(kt.yaxes),qe(tt.yaxes),rt(j.overlays,"yaxis")),Oe={},Be=0;Be<Ge.length;Be++){var st=Ge[Be],at=w(P,st);m.drawOne(P,at,{skipTitle:!0}),Oe[at._name+".range[0]"]=at.range[0],Oe[at._name+".range[1]"]=at.range[1]}m.redrawComponents(P,Ge)}function q(){if(!P._transitioningWithDuration){var Ge=P._context.doubleClick,Be=[];Mt&&(Be=Be.concat(je)),Dt&&(Be=Be.concat(Ve)),tt.xaxes&&(Be=Be.concat(tt.xaxes)),tt.yaxes&&(Be=Be.concat(tt.yaxes));var qe={},rt,st;if(Ge==="reset+autosize")for(Ge="autosize",st=0;st<Be.length;st++){rt=Be[st];var at=rt._rangeInitial0,pt=rt._rangeInitial1,ht=at!==void 0||pt!==void 0;if(ht&&(at!==void 0&&at!==rt.range[0]||pt!==void 0&&pt!==rt.range[1])||!ht&&rt.autorange!==!0){Ge="reset";break}}if(Ge==="autosize")for(st=0;st<Be.length;st++)rt=Be[st],rt.fixedrange||(qe[rt._name+".autorange"]=!0);else if(Ge==="reset"){for((Mt||kt.isSubplotConstrained)&&(Be=Be.concat(kt.xaxes)),Dt&&!kt.isSubplotConstrained&&(Be=Be.concat(kt.yaxes)),kt.isSubplotConstrained&&(Mt?Dt||(Be=Be.concat(Ve)):Be=Be.concat(je)),st=0;st<Be.length;st++)if(rt=Be[st],!rt.fixedrange){var ut=rt._name,Pt=rt._autorangeInitial;rt._rangeInitial0===void 0&&rt._rangeInitial1===void 0?qe[ut+".autorange"]=!0:rt._rangeInitial0===void 0?(qe[ut+".autorange"]=Pt,qe[ut+".range"]=[null,rt._rangeInitial1]):rt._rangeInitial1===void 0?(qe[ut+".range"]=[rt._rangeInitial0,null],qe[ut+".autorange"]=Pt):qe[ut+".range"]=[rt._rangeInitial0,rt._rangeInitial1]}}P.emit("plotly_doubleclick",null),f.call("_guiRelayout",P,qe)}}function He(){Ie([0,0,Tt,it]),g.syncOrAsync([b.previousPromises,function(){P._fullLayout._replotting=!1,f.call("_guiRelayout",P,Oe)}],P)}function Ie(Ge){var Be=P._fullLayout,qe=Be._plots,rt=Be._subplots.cartesian,st,at,pt,ht;if(Re&&f.subplotsRegistry.splom.drag(P),Te){for(st=0;st<rt.length;st++)if(at=qe[rt[st]],pt=at.xaxis,ht=at.yaxis,at._scene){var ut=g.simpleMap(pt.range,pt.r2l),Pt=g.simpleMap(ht.range,ht.r2l);pt.limitRange&&pt.limitRange(),ht.limitRange&&ht.limitRange(),ut=pt.range,Pt=ht.range,at._scene.update({range:[ut[0],Pt[0],ut[1],Pt[1]]})}}if((Re||Te)&&(p(P),v(P)),Le){var Lt=Ge[2]/Ae._length,$t=Ge[3]/xe._length;for(st=0;st<rt.length;st++){at=qe[rt[st]],pt=at.xaxis,ht=at.yaxis;var It=(At||tt.isSubplotConstrained)&&!pt.fixedrange&&Fe[pt._id],Kt=(ke||tt.isSubplotConstrained)&&!ht.fixedrange&&Ke[ht._id],Rt,zt,er,tr;if(It?(Rt=Lt,er=ce||tt.isSubplotConstrained?Ge[0]:Je(pt,Rt)):tt.xaHash[pt._id]?(Rt=Lt,er=Ge[0]*pt._length/Ae._length):tt.yaHash[pt._id]?(Rt=$t,er=Dt==="ns"?-Ge[1]*pt._length/xe._length:Je(pt,Rt,{n:"top",s:"bottom"}[Dt])):(Rt=Ue(pt,Lt,$t),er=We(pt,Rt)),Rt>1&&(pt.maxallowed!==void 0&&At===(pt.range[0]<pt.range[1]?"e":"w")||pt.minallowed!==void 0&&At===(pt.range[0]<pt.range[1]?"w":"e"))&&(Rt=1,er=0),Kt?(zt=$t,tr=De||tt.isSubplotConstrained?Ge[1]:Je(ht,zt)):tt.yaHash[ht._id]?(zt=$t,tr=Ge[1]*ht._length/xe._length):tt.xaHash[ht._id]?(zt=Lt,tr=Mt==="ew"?-Ge[0]*ht._length/Ae._length:Je(ht,zt,{e:"right",w:"left"}[Mt])):(zt=Ue(ht,Lt,$t),tr=We(ht,zt)),zt>1&&(ht.maxallowed!==void 0&&ke===(ht.range[0]<ht.range[1]?"n":"s")||ht.minallowed!==void 0&&ke===(ht.range[0]<ht.range[1]?"s":"n"))&&(zt=1,tr=0),!(!Rt&&!zt)){Rt||(Rt=1),zt||(zt=1);var lr=pt._offset-er/Rt,mr=ht._offset-tr/zt;at.clipRect.call(u.setTranslate,er,tr).call(u.setScale,Rt,zt),at.plot.call(u.setTranslate,lr,mr).call(u.setScale,1/Rt,1/zt),(Rt!==at.xScaleFactor||zt!==at.yScaleFactor)&&(u.setPointGroupScale(at.zoomScalePts,Rt,zt),u.setTextPointsScale(at.zoomScaleTxt,Rt,zt)),u.hideOutsideRangePoints(at.clipOnAxisFalseTraces,at),at.xScaleFactor=Rt,at.yScaleFactor=zt}}}}function Ue(Ge,Be,qe){return Ge.fixedrange?0:At&&kt.xaHash[Ge._id]?Be:ke&&(kt.isSubplotConstrained?kt.xaHash:kt.yaHash)[Ge._id]?qe:0}function We(Ge,Be){return Be?(Ge.range=Ge._r.slice(),U(Ge,Be),Je(Ge,Be)):0}function Je(Ge,Be,qe){return Ge._length*(1-Be)*c[qe||Ge.constraintoward||"middle"]}return ze}function ie(P,j,ae,fe){var de=g.ensureSingle(P.draglayer,j,ae,function(Ce){Ce.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",P.id)});return de.call(y,fe),de.node()}function N(P,j,ae,fe,de,Ce,De){var ce=ie(P,"rect",j,ae);return l.select(ce).call(u.setRect,fe,de,Ce,De),ce}function F(P,j){for(var ae=0;ae<P.length;ae++)if(!P[ae].fixedrange)return j;return""}function G(P,j){var ae=P.range[j],fe=Math.abs(ae-P.range[1-j]),de;return P.type==="date"?ae:P.type==="log"?(de=Math.ceil(Math.max(0,-Math.log(fe)/Math.LN10))+3,s("."+de+"g")(Math.pow(10,ae))):(de=Math.floor(Math.log(Math.abs(ae))/Math.LN10)-Math.floor(Math.log(fe)/Math.LN10)+4,s("."+String(de)+"g")(ae))}function W(P,j,ae,fe,de){for(var Ce=0;Ce<P.length;Ce++){var De=P[Ce];if(!De.fixedrange)if(De.rangebreaks){var ce=De._id.charAt(0)==="y",me=ce?1-j:j,pe=ce?1-ae:ae;fe[De._name+".range[0]"]=De.l2r(De.p2l(me*De._length)),fe[De._name+".range[1]"]=De.l2r(De.p2l(pe*De._length))}else{var Ee=De._rl[0],Ae=De._rl[1]-Ee;fe[De._name+".range[0]"]=De.l2r(Ee+Ae*j),fe[De._name+".range[1]"]=De.l2r(Ee+Ae*ae)}}if(de&&de.length){var xe=(j+(1-ae))/2;W(de,xe,1-xe,fe,[])}}function X(P,j){for(var ae=0;ae<P.length;ae++){var fe=P[ae];if(!fe.fixedrange){if(fe.rangebreaks){var de=0,Ce=fe._length,De=fe.p2l(de+j)-fe.p2l(de),ce=fe.p2l(Ce+j)-fe.p2l(Ce),me=(De+ce)/2;fe.range=[fe.l2r(fe._rl[0]-me),fe.l2r(fe._rl[1]-me)]}else fe.range=[fe.l2r(fe._rl[0]-j/fe._m),fe.l2r(fe._rl[1]-j/fe._m)];fe.limitRange&&fe.limitRange()}}}function J(P){return 1-(P>=0?Math.min(P,.9):1/(1/Math.max(P,-.3)+3.222))}function ne(P,j,ae){return P?P==="nsew"?ae?"":j==="pan"?"move":"crosshair":P.toLowerCase()+"-resize":"pointer"}function ue(P,j,ae,fe,de){return P.append("path").attr("class","zoombox").style({fill:j>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",o(ae,fe)).attr("d",de+"Z")}function ye(P,j,ae){return P.append("path").attr("class","zoombox-corners").style({fill:t.background,stroke:t.defaultLine,"stroke-width":1,opacity:0}).attr("transform",o(j,ae)).attr("d","M0,0Z")}function Me(P,j,ae,fe,de,Ce){P.attr("d",fe+"M"+ae.l+","+ae.t+"v"+ae.h+"h"+ae.w+"v-"+ae.h+"h-"+ae.w+"Z"),oe(P,j,de,Ce)}function oe(P,j,ae,fe){ae||(P.transition().style("fill",fe>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),j.transition().style("opacity",1).duration(200))}function ve(P){l.select(P).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function H(P){Z&&P.data&&P._context.showTips&&(g.notifier(g._(P,"Double-click to zoom back out"),"long"),Z=!1)}function Y(P,j){return"M"+(P.l-.5)+","+(j-R-.5)+"h-3v"+(2*R+1)+"h3ZM"+(P.r+.5)+","+(j-R-.5)+"h3v"+(2*R+1)+"h-3Z"}function S(P,j){return"M"+(j-R-.5)+","+(P.t-.5)+"v-3h"+(2*R+1)+"v3ZM"+(j-R-.5)+","+(P.b+.5)+"v3h"+(2*R+1)+"v-3Z"}function E(P){var j=Math.floor(Math.min(P.b-P.t,P.r-P.l,R)/2);return"M"+(P.l-3.5)+","+(P.t-.5+j)+"h3v"+-j+"h"+j+"v-3h-"+(j+3)+"ZM"+(P.r+3.5)+","+(P.t-.5+j)+"h-3v"+-j+"h"+-j+"v-3h"+(j+3)+"ZM"+(P.r+3.5)+","+(P.b+.5-j)+"h-3v"+j+"h"+-j+"v3h"+(j+3)+"ZM"+(P.l-3.5)+","+(P.b+.5-j)+"h3v"+j+"h"+j+"v3h-"+(j+3)+"Z"}function I(P,j,ae,fe,de){for(var Ce=!1,De={},ce={},me,pe,Ee,Ae,xe=(de||{}).xaHash,Fe=(de||{}).yaHash,Ke=0;Ke<j.length;Ke++){var je=j[Ke];for(me in ae)if(je[me]){for(Ee in je)!(de&&(xe[Ee]||Fe[Ee]))&&!(Ee.charAt(0)==="x"?ae:fe)[Ee]&&(De[Ee]=me);for(pe in fe)!(de&&(xe[pe]||Fe[pe]))&&je[pe]&&(Ce=!0)}for(pe in fe)if(je[pe])for(Ae in je)!(de&&(xe[Ae]||Fe[Ae]))&&!(Ae.charAt(0)==="x"?ae:fe)[Ae]&&(ce[Ae]=pe)}Ce&&(g.extendFlat(De,ce),ce={});var Ve={},dt=[];for(Ee in De){var bt=w(P,Ee);dt.push(bt),Ve[bt._id]=bt}var Tt={},it=[];for(Ae in ce){var kt=w(P,Ae);it.push(kt),Tt[kt._id]=kt}return{xaHash:Ve,yaHash:Tt,xaxes:dt,yaxes:it,xLinks:De,yLinks:ce,isSubplotConstrained:Ce}}function C(P,j){if(!r)P.onwheel!==void 0?P.onwheel=j:P.onmousewheel!==void 0?P.onmousewheel=j:P.isAddedWheelEvent||(P.isAddedWheelEvent=!0,P.addEventListener("wheel",j,{passive:!1}));else{var ae=P.onwheel!==void 0?"wheel":"mousewheel";P._onwheel&&P.removeEventListener(ae,P._onwheel),P._onwheel=j,P.addEventListener(ae,j,{passive:!1})}}function K(P){var j=[];for(var ae in P)j.push(P[ae]);return j}te.exports={makeDragBox:$,makeDragger:ie,makeRectDragger:N,makeZoombox:ue,makeCorners:ye,updateZoombox:Me,xyCorners:E,transitionZoombox:oe,removeZoombox:ve,showDoubleClickNotifier:H,attachWheelEventHandler:C}},4305:function(te,z,e){var l=e(9898),g=e(211),s=e(8569),i=e(6964),r=e(9323).makeDragBox,f=e(5555).DRAGGERSIZE;z.initInteractions=function(n){var t=n._fullLayout;if(n._context.staticPlot){l.select(n).selectAll(".drag").remove();return}if(!(!t._has("cartesian")&&!t._has("splom"))){var u=Object.keys(t._plots||{}).sort(function(m,y){if((t._plots[m].mainplot&&!0)===(t._plots[y].mainplot&&!0)){var d=m.split("y"),T=y.split("y");return d[0]===T[0]?Number(d[1]||1)-Number(T[1]||1):Number(d[0]||1)-Number(T[0]||1)}return t._plots[m].mainplot?1:-1});u.forEach(function(m){var y=t._plots[m],d=y.xaxis,T=y.yaxis;if(!y.mainplot){var x=r(n,y,d._offset,T._offset,d._length,T._length,"ns","ew");x.onmousemove=function(p){n._fullLayout._rehover=function(){n._fullLayout._hoversubplot===m&&n._fullLayout._plots[m]&&g.hover(n,p,m)},g.hover(n,p,m),n._fullLayout._lasthover=x,n._fullLayout._hoversubplot=m},x.onmouseout=function(p){n._dragging||(n._fullLayout._hoversubplot=null,s.unhover(n,p))},n._context.showAxisDragHandles&&(r(n,y,d._offset-f,T._offset-f,f,f,"n","w"),r(n,y,d._offset+d._length,T._offset-f,f,f,"n","e"),r(n,y,d._offset-f,T._offset+T._length,f,f,"s","w"),r(n,y,d._offset+d._length,T._offset+T._length,f,f,"s","e"))}if(n._context.showAxisDragHandles){if(m===d._mainSubplot){var M=d._mainLinePosition;d.side==="top"&&(M-=f),r(n,y,d._offset+d._length*.1,M,d._length*.8,f,"","ew"),r(n,y,d._offset,M,d._length*.1,f,"","w"),r(n,y,d._offset+d._length*.9,M,d._length*.1,f,"","e")}if(m===T._mainSubplot){var c=T._mainLinePosition;T.side!=="right"&&(c-=f),r(n,y,c,T._offset+T._length*.1,f,T._length*.8,"ns",""),r(n,y,c,T._offset+T._length*.9,f,T._length*.1,"s",""),r(n,y,c,T._offset,f,T._length*.1,"n","")}}});var h=t._hoverlayer.node();h.onmousemove=function(m){m.target=n._fullLayout._lasthover,g.hover(n,m,t._hoversubplot)},h.onclick=function(m){m.target=n._fullLayout._lasthover,g.click(n,m)},h.onmousedown=function(m){n._fullLayout._lasthover.onmousedown(m)},z.updateFx(n)}},z.updateFx=function(o){var n=o._fullLayout,t=n.dragmode==="pan"?"move":"crosshair";i(n._draggers,t)}},6325:function(te,z,e){var l=e(3972),g=e(1828),s=e(1675);te.exports=function(r){return function(o,n){var t=o[r];if(Array.isArray(t))for(var u=l.subplotsRegistry.cartesian,h=u.idRegex,m=n._subplots,y=m.xaxis,d=m.yaxis,T=m.cartesian,x=n._has("cartesian")||n._has("gl2d"),M=0;M<t.length;M++){var c=t[M];if(g.isPlainObject(c)){var p=s.cleanId(c.xref,"x",!1),v=s.cleanId(c.yref,"y",!1),b=h.x.test(p),w=h.y.test(v);if(b||w){x||g.pushUnique(n._basePlotModules,u);var _=!1;b&&y.indexOf(p)===-1&&(y.push(p),_=!0),w&&d.indexOf(v)===-1&&(d.push(v),_=!0),_&&b&&w&&T.push(p+v)}}}}}},3612:function(te,z,e){var l=e(9898),g=e(3972),s=e(1828),i=e(4875),r=e(1424),f=e(7659).a0,o=e(1675),n=e(5555),t=e(7922),u=s.ensureSingle;function h(M,c,p){return s.ensureSingle(M,c,p,function(v){v.datum(p)})}z.name="cartesian",z.attr=["xaxis","yaxis"],z.idRoot=["x","y"],z.idRegex=n.idRegex,z.attrRegex=n.attrRegex,z.attributes=e(9502),z.layoutAttributes=e(3838),z.supplyLayoutDefaults=e(6763),z.transitionAxes=e(6847),z.finalizeSubplots=function(M,c){var p=c._subplots,v=p.xaxis,b=p.yaxis,w=p.cartesian,_=w.concat(p.gl2d||[]),k={},B={},U,L,O;for(U=0;U<_.length;U++){var R=_[U].split("y");k[R[0]]=1,B["y"+R[1]]=1}for(U=0;U<v.length;U++)L=v[U],k[L]||(O=(M[o.id2name(L)]||{}).anchor,n.idRegex.y.test(O)||(O="y"),w.push(L+O),_.push(L+O),B[O]||(B[O]=1,s.pushUnique(b,O)));for(U=0;U<b.length;U++)O=b[U],B[O]||(L=(M[o.id2name(O)]||{}).anchor,n.idRegex.x.test(L)||(L="x"),w.push(L+O),_.push(L+O),k[L]||(k[L]=1,s.pushUnique(v,L)));if(!_.length){L="",O="";for(var Z in M)if(n.attrRegex.test(Z)){var $=Z.charAt(0);$==="x"?(!L||+Z.substr(5)<+L.substr(5))&&(L=Z):(!O||+Z.substr(5)<+O.substr(5))&&(O=Z)}L=L?o.name2id(L):"x",O=O?o.name2id(O):"y",v.push(L),b.push(O),w.push(L+O)}},z.plot=function(M,c,p,v){var b=M._fullLayout,w=b._subplots.cartesian,_=M.calcdata,k;if(!Array.isArray(c))for(c=[],k=0;k<_.length;k++)c.push(k);for(k=0;k<w.length;k++){for(var B=w[k],U=b._plots[B],L=[],O,R=0;R<_.length;R++){var Z=_[R],$=Z[0].trace;$.xaxis+$.yaxis===B&&((c.indexOf($.index)!==-1||$.carpet)&&(O&&O[0].trace.xaxis+O[0].trace.yaxis===B&&["tonextx","tonexty","tonext"].indexOf($.fill)!==-1&&L.indexOf(O)===-1&&L.push(O),L.push(Z)),O=Z)}m(M,U,L,p,v)}};function m(M,c,p,v,b){for(var w=n.traceLayerClasses,_=M._fullLayout,k=_._modules,B,U,L,O=[],R=[],Z=0;Z<k.length;Z++){B=k[Z];var $=B.name,ie=g.modules[$].categories;if(ie.svg){var N=B.layerName||$+"layer",F=B.plot;U=f(p,F),L=U[0],p=U[1],L.length&&O.push({i:w.indexOf(N),className:N,plotMethod:F,cdModule:L}),ie.zoomScale&&R.push("."+N)}}O.sort(function(X,J){return X.i-J.i});var G=c.plot.selectAll("g.mlayer").data(O,function(X){return X.className});if(G.enter().append("g").attr("class",function(X){return X.className}).classed("mlayer",!0).classed("rangeplot",c.isRangePlot),G.exit().remove(),G.order(),G.each(function(X){var J=l.select(this),ne=X.className;X.plotMethod(M,c,X.cdModule,J,v,b),n.clipOnAxisFalseQuery.indexOf("."+ne)===-1&&r.setClipUrl(J,c.layerClipId,M)}),_._has("scattergl")&&(B=g.getModule("scattergl"),L=f(p,B)[0],B.plot(M,c,L)),!M._context.staticPlot&&(c._hasClipOnAxisFalse&&(c.clipOnAxisFalseTraces=c.plot.selectAll(n.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),R.length)){var W=c.plot.selectAll(R.join(",")).selectAll(".trace");c.zoomScalePts=W.selectAll("path.point"),c.zoomScaleTxt=W.selectAll(".textpoint")}}z.clean=function(M,c,p,v){var b=v._plots||{},w=c._plots||{},_=v._subplots||{},k,B,U;if(v._hasOnlyLargeSploms&&!c._hasOnlyLargeSploms)for(U in b)k=b[U],k.plotgroup&&k.plotgroup.remove();var L=v._has&&v._has("gl"),O=c._has&&c._has("gl");if(L&&!O)for(U in b)k=b[U],k._scene&&k._scene.destroy();if(_.xaxis&&_.yaxis){var R=o.listIds({_fullLayout:v});for(B=0;B<R.length;B++){var Z=R[B];c[o.id2name(Z)]||v._infolayer.selectAll(".g-"+Z+"title").remove()}}var $=v._has&&v._has("cartesian"),ie=c._has&&c._has("cartesian");if($&&!ie)T(v._cartesianlayer.selectAll(".subplot"),v),v._defs.selectAll(".axesclip").remove(),delete v._axisConstraintGroups,delete v._axisMatchGroups;else if(_.cartesian)for(B=0;B<_.cartesian.length;B++){var N=_.cartesian[B];if(!w[N]){var F="."+N+",."+N+"-x,."+N+"-y";v._cartesianlayer.selectAll(F).remove(),x(N,v)}}},z.drawFramework=function(M){var c=M._fullLayout,p=y(M),v=c._cartesianlayer.selectAll(".subplot").data(p,String);v.enter().append("g").attr("class",function(b){return"subplot "+b[0]}),v.order(),v.exit().call(T,c),v.each(function(b){var w=b[0],_=c._plots[w];_.plotgroup=l.select(this),d(M,_),_.draglayer=u(c._draggers,"g",w)})},z.rangePlot=function(M,c,p){d(M,c),m(M,c,p),i.style(M)};function y(M){var c=M._fullLayout,p=c._subplots.cartesian,v=p.length,b,w,_,k,B,U,L=[],O=[];for(b=0;b<v;b++){_=p[b],k=c._plots[_],B=k.xaxis,U=k.yaxis;var R=B._mainAxis,Z=U._mainAxis,$=R._id+Z._id,ie=c._plots[$];k.overlays=[],$!==_&&ie?(k.mainplot=$,k.mainplotinfo=ie,O.push(_)):(k.mainplot=void 0,k.mainplotinfo=void 0,L.push(_))}for(b=0;b<O.length;b++)_=O[b],k=c._plots[_],k.mainplotinfo.overlays.push(k);var N=L.concat(O),F=new Array(v);for(b=0;b<v;b++){_=N[b],k=c._plots[_],B=k.xaxis,U=k.yaxis;var G=[_,B.layer,U.layer,B.overlaying||"",U.overlaying||""];for(w=0;w<k.overlays.length;w++)G.push(k.overlays[w].id);F[b]=G}return F}function d(M,c){var p=c.plotgroup,v=c.id,b=n.layerValue2layerClass[c.xaxis.layer],w=n.layerValue2layerClass[c.yaxis.layer],_=M._fullLayout._hasOnlyLargeSploms;if(c.mainplot){var B=c.mainplotinfo,U=B.plotgroup,L=v+"-x",O=v+"-y";c.minorGridlayer=B.minorGridlayer,c.gridlayer=B.gridlayer,c.zerolinelayer=B.zerolinelayer,u(B.overlinesBelow,"path",L),u(B.overlinesBelow,"path",O),u(B.overaxesBelow,"g",L),u(B.overaxesBelow,"g",O),c.plot=u(B.overplot,"g",v),u(B.overlinesAbove,"path",L),u(B.overlinesAbove,"path",O),u(B.overaxesAbove,"g",L),u(B.overaxesAbove,"g",O),c.xlines=U.select(".overlines-"+b).select("."+L),c.ylines=U.select(".overlines-"+w).select("."+O),c.xaxislayer=U.select(".overaxes-"+b).select("."+L),c.yaxislayer=U.select(".overaxes-"+w).select("."+O)}else if(_)c.xlines=u(p,"path","xlines-above"),c.ylines=u(p,"path","ylines-above"),c.xaxislayer=u(p,"g","xaxislayer-above"),c.yaxislayer=u(p,"g","yaxislayer-above");else{var k=u(p,"g","layer-subplot");c.shapelayer=u(k,"g","shapelayer"),c.imagelayer=u(k,"g","imagelayer"),c.minorGridlayer=u(p,"g","minor-gridlayer"),c.gridlayer=u(p,"g","gridlayer"),c.zerolinelayer=u(p,"g","zerolinelayer"),u(p,"path","xlines-below"),u(p,"path","ylines-below"),c.overlinesBelow=u(p,"g","overlines-below"),u(p,"g","xaxislayer-below"),u(p,"g","yaxislayer-below"),c.overaxesBelow=u(p,"g","overaxes-below"),c.plot=u(p,"g","plot"),c.overplot=u(p,"g","overplot"),c.xlines=u(p,"path","xlines-above"),c.ylines=u(p,"path","ylines-above"),c.overlinesAbove=u(p,"g","overlines-above"),u(p,"g","xaxislayer-above"),u(p,"g","yaxislayer-above"),c.overaxesAbove=u(p,"g","overaxes-above"),c.xlines=p.select(".xlines-"+b),c.ylines=p.select(".ylines-"+w),c.xaxislayer=p.select(".xaxislayer-"+b),c.yaxislayer=p.select(".yaxislayer-"+w)}_||(h(c.minorGridlayer,"g",c.xaxis._id),h(c.minorGridlayer,"g",c.yaxis._id),c.minorGridlayer.selectAll("g").map(function(R){return R[0]}).sort(o.idSort),h(c.gridlayer,"g",c.xaxis._id),h(c.gridlayer,"g",c.yaxis._id),c.gridlayer.selectAll("g").map(function(R){return R[0]}).sort(o.idSort)),c.xlines.style("fill","none").classed("crisp",!0),c.ylines.style("fill","none").classed("crisp",!0)}function T(M,c){if(M){var p={};M.each(function(B){var U=B[0],L=l.select(this);L.remove(),x(U,c),p[U]=!0});for(var v in c._plots)for(var b=c._plots[v],w=b.overlays||[],_=0;_<w.length;_++){var k=w[_];p[k.id]&&k.plot.selectAll(".trace").remove()}}}function x(M,c){c._draggers.selectAll("g."+M).remove(),c._defs.select("#clip"+c._uid+M+"plot").remove()}z.toSVG=function(M){var c=M._fullLayout._glimages,p=l.select(M).selectAll(".svg-container"),v=p.filter(function(w,_){return _===p.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function b(){var w=this,_=w.toDataURL("image/png"),k=c.append("svg:image");k.attr({xmlns:t.svg,"xlink:href":_,preserveAspectRatio:"none",x:0,y:0,width:w.style.width,height:w.style.height})}v.each(b)},z.updateFx=e(4305).updateFx},3838:function(te,z,e){var l=e(1940),g=e(2399),s=e(9952).P,i=e(1426).extendFlat,r=e(4467).templatedArray,f=e(2663).descriptionWithDates,o=e(606).ONEDAY,n=e(5555),t=n.HOUR_PATTERN,u=n.WEEKDAY_PATTERN,h={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},m=i({},h,{values:h.values.slice().concat(["sync"])});function y(B){return{valType:"integer",min:0,dflt:B?5:0,editType:"ticks"}}var d={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},T={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},x={valType:"data_array",editType:"ticks"},M={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function c(B){var U={valType:"number",min:0,editType:"ticks"};return B||(U.dflt=5),U}function p(B){var U={valType:"number",min:0,editType:"ticks"};return B||(U.dflt=1),U}var v={valType:"color",dflt:g.defaultLine,editType:"ticks"},b={valType:"color",dflt:g.lightLine,editType:"ticks"};function w(B){var U={valType:"number",min:0,editType:"ticks"};return B||(U.dflt=1),U}var _=i({},s,{editType:"ticks"}),k={valType:"boolean",editType:"ticks"};te.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:g.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:l({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[n.idRegex.x.toString(),n.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[n.idRegex.x.toString(),n.idRegex.y.toString()],editType:"calc"},rangebreaks:r("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[u,t,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:o},editType:"calc"}),tickmode:m,nticks:y(),tick0:d,dtick:T,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:x,ticktext:{valType:"data_array",editType:"ticks"},ticks:M,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:c(),tickwidth:p(),tickcolor:v,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:i({},s,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:l({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:f("tick label")},tickformatstops:r("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:f("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:g.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:k,gridcolor:b,gridwidth:w(),griddash:_,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:g.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:g.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",n.idRegex.x.toString(),n.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",n.idRegex.x.toString(),n.idRegex.y.toString()],editType:"plot"},minor:{tickmode:h,nticks:y("minor"),tick0:d,dtick:T,tickvals:x,ticks:M,ticklen:c("minor"),tickwidth:p("minor"),tickcolor:v,gridcolor:b,gridwidth:w("minor"),griddash:_,showgrid:k,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:l({editType:"ticks"})}}},6763:function(te,z,e){var l=e(1828),g=e(7901),s=e(3469).isUnifiedHover,i=e(8212),r=e(4467),f=e(820),o=e(3838),n=e(951),t=e(1453),u=e(9082),h=e(2830),m=e(1675),y=m.id2name,d=m.name2id,T=e(5555).AX_ID_PATTERN,x=e(3972),M=x.traceIs,c=x.getComponentMethod;function p(v,b,w){Array.isArray(v[b])?v[b].push(w):v[b]=[w]}te.exports=function(b,w,_){var k=w.autotypenumbers,B={},U={},L={},O={},R={},Z={},$={},ie={},N={},F={},G,W;for(G=0;G<_.length;G++){var X=_[G];if(!(!M(X,"cartesian")&&!M(X,"gl2d"))){var J;if(X.xaxis)J=y(X.xaxis),p(B,J,X);else if(X.xaxes)for(W=0;W<X.xaxes.length;W++)p(B,y(X.xaxes[W]),X);var ne;if(X.yaxis)ne=y(X.yaxis),p(B,ne,X);else if(X.yaxes)for(W=0;W<X.yaxes.length;W++)p(B,y(X.yaxes[W]),X);if(X.type==="funnel"?X.orientation==="h"?(J&&(U[J]=!0),ne&&($[ne]=!0)):ne&&(L[ne]=!0):X.type==="image"?(ne&&(ie[ne]=!0),J&&(ie[J]=!0)):(ne&&(R[ne]=!0,Z[ne]=!0),(!M(X,"carpet")||X.type==="carpet"&&!X._cheater)&&J&&(O[J]=!0)),X.type==="carpet"&&X._cheater&&J&&(U[J]=!0),M(X,"2dMap")&&(N[J]=!0,N[ne]=!0),M(X,"oriented")){var ue=X.orientation==="h"?ne:J;F[ue]=!0}}}var ye=w._subplots,Me=ye.xaxis,oe=ye.yaxis,ve=l.simpleMap(Me,y),H=l.simpleMap(oe,y),Y=ve.concat(H),S=g.background;Me.length&&oe.length&&(S=l.coerce(b,w,f,"plot_bgcolor"));var E=g.combine(S,w.paper_bgcolor),I,C,K,P,j;function ae(){var le=B[I]||[];j._traceIndices=le.map(function(be){return be._expandedIndex}),j._annIndices=[],j._shapeIndices=[],j._selectionIndices=[],j._imgIndices=[],j._subplotsWith=[],j._counterAxes=[],j._name=j._attr=I,j._id=C}function fe(le,be){return l.coerce(P,j,o,le,be)}function de(le,be){return l.coerce2(P,j,o,le,be)}function Ce(le){return le==="x"?oe:Me}function De(le,be){for(var we=le==="x"?ve:H,Se=[],ze=0;ze<we.length;ze++){var _e=we[ze];_e!==be&&!(b[_e]||{}).overlaying&&Se.push(d(_e))}return Se}var ce={x:Ce("x"),y:Ce("y")},me=ce.x.concat(ce.y),pe={},Ee=[];function Ae(){var le=P.matches;T.test(le)&&me.indexOf(le)===-1&&(pe[le]=P.type,Ee=Object.keys(pe))}var xe=i(b,w),Fe=s(xe);for(G=0;G<Y.length;G++){I=Y[G],C=d(I),K=I.charAt(0),l.isPlainObject(b[I])||(b[I]={}),P=b[I],j=r.newContainer(w,I,K+"axis"),ae();var Ke=K==="x"&&!O[I]&&U[I]||K==="y"&&!R[I]&&L[I],je=K==="y"&&(!Z[I]&&$[I]||ie[I]),Ve={hasMinor:!0,letter:K,font:w.font,outerTicks:N[I],showGrid:!F[I],data:B[I]||[],bgColor:E,calendar:w.calendar,automargin:!0,visibleDflt:Ke,reverseDflt:je,autotypenumbersDflt:k,splomStash:((w._splomAxes||{})[K]||{})[C]};fe("uirevision",w.uirevision),n(P,j,fe,Ve),t(P,j,fe,Ve,w);var dt=Fe&&K===xe.charAt(0),bt=de("spikecolor",Fe?j.color:void 0),Tt=de("spikethickness",Fe?1.5:void 0),it=de("spikedash",Fe?"dot":void 0),kt=de("spikemode",Fe?"across":void 0),tt=de("spikesnap"),Mt=fe("showspikes",!!dt||!!bt||!!Tt||!!it||!!kt||!!tt);Mt||(delete j.spikecolor,delete j.spikethickness,delete j.spikedash,delete j.spikemode,delete j.spikesnap);var Dt=y(P.overlaying),St=[0,1];if(w[Dt]!==void 0){var At=y(w[Dt].anchor);w[At]!==void 0&&(St=w[At].domain)}h(P,j,fe,{letter:K,counterAxes:ce[K],overlayableAxes:De(K,I),grid:w.grid,overlayingDomain:St}),fe("title.standoff"),Ae(),j._input=P}for(G=0;G<Ee.length;){C=Ee[G++],I=y(C),K=I.charAt(0),l.isPlainObject(b[I])||(b[I]={}),P=b[I],j=r.newContainer(w,I,K+"axis"),ae();var ke={letter:K,font:w.font,outerTicks:N[I],showGrid:!F[I],data:[],bgColor:E,calendar:w.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:k,splomStash:((w._splomAxes||{})[K]||{})[C]};fe("uirevision",w.uirevision),j.type=pe[C]||"linear",t(P,j,fe,ke,w),h(P,j,fe,{letter:K,counterAxes:ce[K],overlayableAxes:De(K,I),grid:w.grid}),fe("fixedrange"),Ae(),j._input=P}var Te=c("rangeslider","handleDefaults"),Re=c("rangeselector","handleDefaults");for(G=0;G<ve.length;G++)I=ve[G],P=b[I],j=w[I],Te(b,w,I),j.type==="date"&&Re(P,j,w,H,j.calendar),fe("fixedrange");for(G=0;G<H.length;G++){I=H[G],P=b[I],j=w[I];var Le=w[y(j.anchor)],Oe=c("rangeslider","isVisible")(Le);fe("fixedrange",Oe)}u.handleDefaults(b,w,{axIds:me.concat(Ee).sort(m.idSort),axHasImage:ie})}},2128:function(te,z,e){var l=e(4267).mix,g=e(2399),s=e(1828);te.exports=function(r,f,o,n){n=n||{};var t=n.dfltColor;function u(L,O){return s.coerce2(r,f,n.attributes,L,O)}var h=u("linecolor",t),m=u("linewidth"),y=o("showline",n.showLine||!!h||!!m);y||(delete f.linecolor,delete f.linewidth);var d=l(t,n.bgColor,n.blend||g.lightFraction).toRgbString(),T=u("gridcolor",d),x=u("gridwidth"),M=u("griddash"),c=o("showgrid",n.showGrid||!!T||!!x||!!M);if(c||(delete f.gridcolor,delete f.gridwidth,delete f.griddash),n.hasMinor){var p=l(f.gridcolor,n.bgColor,67).toRgbString(),v=u("minor.gridcolor",p),b=u("minor.gridwidth",f.gridwidth||1),w=u("minor.griddash",f.griddash||"solid"),_=o("minor.showgrid",!!v||!!b||!!w);_||(delete f.minor.gridcolor,delete f.minor.gridwidth,delete f.minor.griddash)}if(!n.noZeroLine){var k=u("zerolinecolor",t),B=u("zerolinewidth"),U=o("zeroline",n.showGrid||!!k||!!B);U||(delete f.zerolinecolor,delete f.zerolinewidth)}}},2830:function(te,z,e){var l=e(2770),g=e(1828);te.exports=function(i,r,f,o){var n=o.counterAxes||[],t=o.overlayableAxes||[],u=o.letter,h=o.grid,m=o.overlayingDomain,y,d,T,x,M,c;h&&(d=h._domains[u][h._axisMap[r._id]],y=h._anchors[r._id],d&&(T=h[u+"side"].split(" ")[0],x=h.domain[u][T==="right"||T==="top"?1:0])),d=d||[0,1],y=y||(l(i.position)?"free":n[0]||"free"),T=T||(u==="x"?"bottom":"left"),x=x||0,M=0,c=!1;var p=g.coerce(i,r,{anchor:{valType:"enumerated",values:["free"].concat(n),dflt:y}},"anchor"),v=g.coerce(i,r,{side:{valType:"enumerated",values:u==="x"?["bottom","top"]:["left","right"],dflt:T}},"side");if(p==="free"){if(u==="y"){var b=f("autoshift");b&&(x=v==="left"?m[0]:m[1],c=r.automargin?r.automargin:!0,M=v==="left"?-3:3),f("shift",M)}f("position",x)}f("automargin",c);var w=!1;if(t.length&&(w=g.coerce(i,r,{overlaying:{valType:"enumerated",values:[!1].concat(t),dflt:!1}},"overlaying")),!w){var _=f("domain",d);_[0]>_[1]-.000244140625&&(r.domain=d),g.noneOrAll(i.domain,r.domain,d),r.tickmode==="sync"&&(r.tickmode="auto")}return f("layer"),r}},9426:function(te,z,e){var l=e(9652);te.exports=function(s,i,r,f,o){o||(o={});var n=o.tickSuffixDflt,t=l(s),u=r("tickprefix");u&&r("showtickprefix",t);var h=r("ticksuffix",n);h&&r("showticksuffix",t)}},3608:function(te,z,e){var l=e(3074);te.exports=function(s,i,r,f){var o=i._template||{},n=i.type||o.type||"-";r("minallowed"),r("maxallowed");var t=r("range"),u=i.getAutorangeDflt(t,f),h=r("autorange",u),m;t&&(t[0]===null&&t[1]===null||(t[0]===null||t[1]===null)&&(h==="reversed"||h===!0)||t[0]!==null&&(h==="min"||h==="max reversed")||t[1]!==null&&(h==="max"||h==="min reversed"))&&(t=void 0,delete i.range,i.autorange=!0,m=!0),m||(u=i.getAutorangeDflt(t,f),h=r("autorange",u)),h&&(l(r,h,t),(n==="linear"||n==="-")&&r("rangemode")),i.cleanRange()}},2449:function(te,z,e){var l=e(8783).FROM_BL;te.exports=function(s,i,r){r===void 0&&(r=l[s.constraintoward||"center"]);var f=[s.r2l(s.range[0]),s.r2l(s.range[1])],o=f[0]+(f[1]-f[0])*r;s.range=s._input.range=[s.l2r(o+(f[0]-o)*i),s.l2r(o+(f[1]-o)*i)],s.setScale()}},1994:function(te,z,e){var l=e(9898),g=e(4096).g0,s=e(1828),i=s.numberFormat,r=e(2770),f=s.cleanNumber,o=s.ms2DateTime,n=s.dateTime2ms,t=s.ensureNumber,u=s.isArrayOrTypedArray,h=e(606),m=h.FP_SAFE,y=h.BADNUM,d=h.LOG_CLIP,T=h.ONEWEEK,x=h.ONEDAY,M=h.ONEHOUR,c=h.ONEMIN,p=h.ONESEC,v=e(1675),b=e(5555),w=b.HOUR_PATTERN,_=b.WEEKDAY_PATTERN;function k(U){return Math.pow(10,U)}function B(U){return U!=null}te.exports=function(L,O){O=O||{};var R=L._id||"x",Z=R.charAt(0);function $(Y,S){if(Y>0)return Math.log(Y)/Math.LN10;if(Y<=0&&S&&L.range&&L.range.length===2){var E=L.range[0],I=L.range[1];return .5*(E+I-2*d*Math.abs(E-I))}else return y}function ie(Y,S,E,I){if((I||{}).msUTC&&r(Y))return+Y;var C=n(Y,E||L.calendar);if(C===y)if(r(Y)){Y=+Y;var K=Math.floor(s.mod(Y+.05,1)*10),P=Math.round(Y-K/10);C=n(new Date(P))+K/10}else return y;return C}function N(Y,S,E){return o(Y,S,E||L.calendar)}function F(Y){return L._categories[Math.round(Y)]}function G(Y){if(B(Y)){if(L._categoriesMap===void 0&&(L._categoriesMap={}),L._categoriesMap[Y]!==void 0)return L._categoriesMap[Y];L._categories.push(typeof Y=="number"?String(Y):Y);var S=L._categories.length-1;return L._categoriesMap[Y]=S,S}return y}function W(Y,S){for(var E=new Array(S),I=0;I<S;I++){var C=(Y[0]||[])[I],K=(Y[1]||[])[I];E[I]=X([C,K])}return E}function X(Y){if(L._categoriesMap)return L._categoriesMap[Y]}function J(Y){var S=X(Y);if(S!==void 0)return S;if(r(Y))return+Y}function ne(Y){return r(Y)?+Y:X(Y)}function ue(Y,S,E){return l.round(E+S*Y,2)}function ye(Y,S,E){return(Y-E)/S}var Me=function(S){return r(S)?ue(S,L._m,L._b):y},oe=function(Y){return ye(Y,L._m,L._b)};if(L.rangebreaks){var ve=Z==="y";Me=function(Y){if(!r(Y))return y;var S=L._rangebreaks.length;if(!S)return ue(Y,L._m,L._b);var E=ve;L.range[0]>L.range[1]&&(E=!E);for(var I=E?-1:1,C=I*Y,K=0,P=0;P<S;P++){var j=I*L._rangebreaks[P].min,ae=I*L._rangebreaks[P].max;if(C<j)break;if(C>ae)K=P+1;else{K=C<(j+ae)/2?P:P+1;break}}var fe=L._B[K]||0;return isFinite(fe)?ue(Y,L._m2,fe):0},oe=function(Y){var S=L._rangebreaks.length;if(!S)return ye(Y,L._m,L._b);for(var E=0,I=0;I<S&&!(Y<L._rangebreaks[I].pmin);I++)Y>L._rangebreaks[I].pmax&&(E=I+1);return ye(Y,L._m2,L._B[E])}}L.c2l=L.type==="log"?$:t,L.l2c=L.type==="log"?k:t,L.l2p=Me,L.p2l=oe,L.c2p=L.type==="log"?function(Y,S){return Me($(Y,S))}:Me,L.p2c=L.type==="log"?function(Y){return k(oe(Y))}:oe,["linear","-"].indexOf(L.type)!==-1?(L.d2r=L.r2d=L.d2c=L.r2c=L.d2l=L.r2l=f,L.c2d=L.c2r=L.l2d=L.l2r=t,L.d2p=L.r2p=function(Y){return L.l2p(f(Y))},L.p2d=L.p2r=oe,L.cleanPos=t):L.type==="log"?(L.d2r=L.d2l=function(Y,S){return $(f(Y),S)},L.r2d=L.r2c=function(Y){return k(f(Y))},L.d2c=L.r2l=f,L.c2d=L.l2r=t,L.c2r=$,L.l2d=k,L.d2p=function(Y,S){return L.l2p(L.d2r(Y,S))},L.p2d=function(Y){return k(oe(Y))},L.r2p=function(Y){return L.l2p(f(Y))},L.p2r=oe,L.cleanPos=t):L.type==="date"?(L.d2r=L.r2d=s.identity,L.d2c=L.r2c=L.d2l=L.r2l=ie,L.c2d=L.c2r=L.l2d=L.l2r=N,L.d2p=L.r2p=function(Y,S,E){return L.l2p(ie(Y,0,E))},L.p2d=L.p2r=function(Y,S,E){return N(oe(Y),S,E)},L.cleanPos=function(Y){return s.cleanDate(Y,y,L.calendar)}):L.type==="category"?(L.d2c=L.d2l=G,L.r2d=L.c2d=L.l2d=F,L.d2r=L.d2l_noadd=J,L.r2c=function(Y){var S=ne(Y);return S!==void 0?S:L.fraction2r(.5)},L.l2r=L.c2r=t,L.r2l=ne,L.d2p=function(Y){return L.l2p(L.r2c(Y))},L.p2d=function(Y){return F(oe(Y))},L.r2p=L.d2p,L.p2r=oe,L.cleanPos=function(Y){return typeof Y=="string"&&Y!==""?Y:t(Y)}):L.type==="multicategory"&&(L.r2d=L.c2d=L.l2d=F,L.d2r=L.d2l_noadd=J,L.r2c=function(Y){var S=J(Y);return S!==void 0?S:L.fraction2r(.5)},L.r2c_just_indices=X,L.l2r=L.c2r=t,L.r2l=J,L.d2p=function(Y){return L.l2p(L.r2c(Y))},L.p2d=function(Y){return F(oe(Y))},L.r2p=L.d2p,L.p2r=oe,L.cleanPos=function(Y){return Array.isArray(Y)||typeof Y=="string"&&Y!==""?Y:t(Y)},L.setupMultiCategory=function(Y){var S=L._traceIndices,E,I,C=L._matchGroup;if(C&&L._categories.length===0){for(var K in C)if(K!==R){var P=O[v.id2name(K)];S=S.concat(P._traceIndices)}}var j=[[0,{}],[0,{}]],ae=[];for(E=0;E<S.length;E++){var fe=Y[S[E]];if(Z in fe){var de=fe[Z],Ce=fe._length||s.minRowLength(de);if(u(de[0])&&u(de[1]))for(I=0;I<Ce;I++){var De=de[0][I],ce=de[1][I];B(De)&&B(ce)&&(ae.push([De,ce]),De in j[0][1]||(j[0][1][De]=j[0][0]++),ce in j[1][1]||(j[1][1][ce]=j[1][0]++))}}}for(ae.sort(function(me,pe){var Ee=j[0][1],Ae=Ee[me[0]]-Ee[pe[0]];if(Ae)return Ae;var xe=j[1][1];return xe[me[1]]-xe[pe[1]]}),E=0;E<ae.length;E++)G(ae[E])}),L.fraction2r=function(Y){var S=L.r2l(L.range[0]),E=L.r2l(L.range[1]);return L.l2r(S+Y*(E-S))},L.r2fraction=function(Y){var S=L.r2l(L.range[0]),E=L.r2l(L.range[1]);return(L.r2l(Y)-S)/(E-S)},L.limitRange=function(Y){var S=L.minallowed,E=L.maxallowed;if(!(S===void 0&&E===void 0)){Y||(Y="range");var I=s.nestedProperty(L,Y).get(),C=s.simpleMap(I,L.r2l),K=C[1]<C[0];K&&C.reverse();var P=s.simpleMap([S,E],L.r2l);S!==void 0&&C[0]<P[0]&&(I[K?1:0]=S),E!==void 0&&C[1]>P[1]&&(I[K?0:1]=E)}},L.cleanRange=function(Y,S){L._cleanRange(Y,S),L.limitRange(Y)},L._cleanRange=function(Y,S){S||(S={}),Y||(Y="range");var E=s.nestedProperty(L,Y).get(),I,C;if(L.type==="date"?C=s.dfltRange(L.calendar):Z==="y"?C=b.DFLTRANGEY:L._name==="realaxis"?C=[0,1]:C=S.dfltRange||b.DFLTRANGEX,C=C.slice(),(L.rangemode==="tozero"||L.rangemode==="nonnegative")&&(C[0]=0),!E||E.length!==2){s.nestedProperty(L,Y).set(C);return}var K=E[0]===null,P=E[1]===null;for(L.type==="date"&&!L.autorange&&(E[0]=s.cleanDate(E[0],y,L.calendar),E[1]=s.cleanDate(E[1],y,L.calendar)),I=0;I<2;I++)if(L.type==="date"){if(!s.isDateTime(E[I],L.calendar)){L[Y]=C;break}if(L.r2l(E[0])===L.r2l(E[1])){var j=s.constrain(L.r2l(E[0]),s.MIN_MS+1e3,s.MAX_MS-1e3);E[0]=L.l2r(j-1e3),E[1]=L.l2r(j+1e3);break}}else{if(!r(E[I]))if(!(K||P)&&r(E[1-I]))E[I]=E[1-I]*(I?10:.1);else{L[Y]=C;break}if(E[I]<-m?E[I]=-m:E[I]>m&&(E[I]=m),E[0]===E[1]){var ae=Math.max(1,Math.abs(E[0]*1e-6));E[0]-=ae,E[1]+=ae}}},L.setScale=function(Y){var S=O._size;if(L.overlaying){var E=v.getFromId({_fullLayout:O},L.overlaying);L.domain=E.domain}var I=Y&&L._r?"_r":"range",C=L.calendar;L.cleanRange(I);var K=L.r2l(L[I][0],C),P=L.r2l(L[I][1],C),j=Z==="y";if(j?(L._offset=S.t+(1-L.domain[1])*S.h,L._length=S.h*(L.domain[1]-L.domain[0]),L._m=L._length/(K-P),L._b=-L._m*P):(L._offset=S.l+L.domain[0]*S.w,L._length=S.w*(L.domain[1]-L.domain[0]),L._m=L._length/(P-K),L._b=-L._m*K),L._rangebreaks=[],L._lBreaks=0,L._m2=0,L._B=[],L.rangebreaks){var ae,fe;if(L._rangebreaks=L.locateBreaks(Math.min(K,P),Math.max(K,P)),L._rangebreaks.length){for(ae=0;ae<L._rangebreaks.length;ae++)fe=L._rangebreaks[ae],L._lBreaks+=Math.abs(fe.max-fe.min);var de=j;K>P&&(de=!de),de&&L._rangebreaks.reverse();var Ce=de?-1:1;for(L._m2=Ce*L._length/(Math.abs(P-K)-L._lBreaks),L._B.push(-L._m2*(j?P:K)),ae=0;ae<L._rangebreaks.length;ae++)fe=L._rangebreaks[ae],L._B.push(L._B[L._B.length-1]-Ce*L._m2*(fe.max-fe.min));for(ae=0;ae<L._rangebreaks.length;ae++)fe=L._rangebreaks[ae],fe.pmin=Me(fe.min),fe.pmax=Me(fe.max)}}if(!isFinite(L._m)||!isFinite(L._b)||L._length<0)throw O._replotting=!1,new Error("Something went wrong with axis scaling")},L.maskBreaks=function(Y){var S=L.rangebreaks||[],E,I,C,K,P;S._cachedPatterns||(S._cachedPatterns=S.map(function(Ee){return Ee.enabled&&Ee.bounds?s.simpleMap(Ee.bounds,Ee.pattern?f:L.d2c):null})),S._cachedValues||(S._cachedValues=S.map(function(Ee){return Ee.enabled&&Ee.values?s.simpleMap(Ee.values,L.d2c).sort(s.sorterAsc):null}));for(var j=0;j<S.length;j++){var ae=S[j];if(ae.enabled){if(ae.bounds){var fe=ae.pattern;switch(E=S._cachedPatterns[j],I=E[0],C=E[1],fe){case _:P=new Date(Y),K=P.getUTCDay(),I>C&&(C+=7,K<I&&(K+=7));break;case w:P=new Date(Y);var de=P.getUTCHours(),Ce=P.getUTCMinutes(),De=P.getUTCSeconds(),ce=P.getUTCMilliseconds();K=de+(Ce/60+De/3600+ce/36e5),I>C&&(C+=24,K<I&&(K+=24));break;case"":K=Y;break}if(K>=I&&K<C)return y}else for(var me=S._cachedValues[j],pe=0;pe<me.length;pe++)if(I=me[pe],C=I+ae.dvalue,Y>=I&&Y<C)return y}}return Y},L.locateBreaks=function(Y,S){var E,I,C,K,P=[];if(!L.rangebreaks)return P;var j=L.rangebreaks.slice().sort(function(xe,Fe){return xe.pattern===_&&Fe.pattern===w?-1:Fe.pattern===_&&xe.pattern===w?1:0}),ae=function(xe,Fe){if(xe=s.constrain(xe,Y,S),Fe=s.constrain(Fe,Y,S),xe!==Fe){for(var Ke=!0,je=0;je<P.length;je++){var Ve=P[je];xe<Ve.max&&Fe>=Ve.min&&(xe<Ve.min&&(Ve.min=xe),Fe>Ve.max&&(Ve.max=Fe),Ke=!1)}Ke&&P.push({min:xe,max:Fe})}};for(E=0;E<j.length;E++){var fe=j[E];if(fe.enabled)if(fe.bounds){var de=Y,Ce=S;fe.pattern&&(de=Math.floor(de)),I=s.simpleMap(fe.bounds,fe.pattern?f:L.r2l),C=I[0],K=I[1];var De=new Date(de),ce,me;switch(fe.pattern){case _:me=T,ce=((K<C?7:0)+(K-C))*x,de+=C*x-(De.getUTCDay()*x+De.getUTCHours()*M+De.getUTCMinutes()*c+De.getUTCSeconds()*p+De.getUTCMilliseconds());break;case w:me=x,ce=((K<C?24:0)+(K-C))*M,de+=C*M-(De.getUTCHours()*M+De.getUTCMinutes()*c+De.getUTCSeconds()*p+De.getUTCMilliseconds());break;default:de=Math.min(I[0],I[1]),Ce=Math.max(I[0],I[1]),me=Ce-de,ce=me}for(var pe=de;pe<Ce;pe+=me)ae(pe,pe+ce)}else for(var Ee=s.simpleMap(fe.values,L.d2c),Ae=0;Ae<Ee.length;Ae++)C=Ee[Ae],K=C+fe.dvalue,ae(C,K)}return P.sort(function(xe,Fe){return xe.min-Fe.min}),P},L.makeCalcdata=function(Y,S,E){var I,C,K,P,j=L.type,ae=j==="date"&&Y[S+"calendar"];if(S in Y){if(I=Y[S],P=Y._length||s.minRowLength(I),s.isTypedArray(I)&&(j==="linear"||j==="log")){if(P===I.length)return I;if(I.subarray)return I.subarray(0,P)}if(j==="multicategory")return W(I,P);for(C=new Array(P),K=0;K<P;K++)C[K]=L.d2c(I[K],0,ae,E)}else{var fe=S+"0"in Y?L.d2c(Y[S+"0"],0,ae):0,de=Y["d"+S]?Number(Y["d"+S]):1;for(I=Y[{x:"y",y:"x"}[S]],P=Y._length||I.length,C=new Array(P),K=0;K<P;K++)C[K]=fe+K*de}if(L.rangebreaks)for(K=0;K<P;K++)C[K]=L.maskBreaks(C[K]);return C},L.isValidRange=function(Y,S){return Array.isArray(Y)&&Y.length===2&&(S&&Y[0]===null||r(L.r2l(Y[0])))&&(S&&Y[1]===null||r(L.r2l(Y[1])))},L.getAutorangeDflt=function(Y,S){var E=!L.isValidRange(Y,"nullOk");return E&&S&&S.reverseDflt?E="reversed":Y&&(Y[0]===null&&Y[1]===null?E=!0:Y[0]===null&&Y[1]!==null?E="min":Y[0]!==null&&Y[1]===null&&(E="max")),E},L.isReversed=function(){var Y=L.autorange;return Y==="reversed"||Y==="min reversed"||Y==="max reversed"},L.isPtWithinRange=function(Y,S){var E=L.c2l(Y[Z],null,S),I=L.r2l(L.range[0]),C=L.r2l(L.range[1]);return I<C?I<=E&&E<=C:C<=E&&E<=I},L._emptyCategories=function(){L._categories=[],L._categoriesMap={}},L.clearCalc=function(){var Y=L._matchGroup;if(Y){var S=null,E=null;for(var I in Y){var C=O[v.id2name(I)];if(C._categories){S=C._categories,E=C._categoriesMap;break}}S&&E?(L._categories=S,L._categoriesMap=E):L._emptyCategories()}else L._emptyCategories();if(L._initialCategories)for(var K=0;K<L._initialCategories.length;K++)G(L._initialCategories[K])},L.sortByInitialCategories=function(){var Y=[];if(L._emptyCategories(),L._initialCategories)for(var S=0;S<L._initialCategories.length;S++)G(L._initialCategories[S]);Y=Y.concat(L._traceIndices);var E=L._matchGroup;for(var I in E)if(R!==I){var C=O[v.id2name(I)];C._categories=L._categories,C._categoriesMap=L._categoriesMap,Y=Y.concat(C._traceIndices)}return Y};var H=O._d3locale;L.type==="date"&&(L._dateFormat=H?H.timeFormat:g,L._extraFormat=O._extraFormat),L._separators=O.separators,L._numFormat=H?H.numberFormat:i,delete L._minDtick,delete L._forceTick0}},9652:function(te){te.exports=function(e){var l=["showexponent","showtickprefix","showticksuffix"],g=l.filter(function(i){return e[i]!==void 0}),s=function(i){return e[i]===e[g[0]]};if(g.every(s)||g.length===1)return e[g[0]]}},6115:function(te,z,e){var l=e(1828),g=e(7901).contrast,s=e(3838),i=e(9652),r=e(5501);te.exports=function(n,t,u,h,m){m||(m={});var y=u("labelalias");l.isPlainObject(y)||delete t.labelalias;var d=i(n),T=u("showticklabels");if(T){var x=m.font||{},M=t.color,c=t.ticklabelposition||"",p=c.indexOf("inside")!==-1?g(m.bgColor):M&&M!==s.color.dflt?M:x.color;if(l.coerceFont(u,"tickfont",{family:x.family,size:x.size,color:p}),!m.noTicklabelstep&&h!=="multicategory"&&h!=="log"&&u("ticklabelstep"),m.noAng||u("tickangle"),h!=="category"){var v=u("tickformat");r(n,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:f}),t.tickformatstops.length||delete t.tickformatstops,!m.noExp&&!v&&h!=="date"&&(u("showexponent",d),u("exponentformat"),u("minexponent"),u("separatethousands"))}}};function f(o,n){function t(h,m){return l.coerce(o,n,s.tickformatstops,h,m)}var u=t("enabled");u&&(t("dtickrange"),t("value"))}},8701:function(te,z,e){var l=e(1828),g=e(3838);te.exports=function(i,r,f,o){var n=o.isMinor,t=n?i.minor||{}:i,u=n?r.minor:r,h=n?g.minor:g,m=n?"minor.":"",y=l.coerce2(t,u,h,"ticklen",n?(r.ticklen||5)*.6:void 0),d=l.coerce2(t,u,h,"tickwidth",n?r.tickwidth||1:void 0),T=l.coerce2(t,u,h,"tickcolor",(n?r.tickcolor:void 0)||u.color),x=f(m+"ticks",!n&&o.outerTicks||y||d||T?"outside":"");x||(delete u.ticklen,delete u.tickwidth,delete u.tickcolor)}},6218:function(te,z,e){var l=e(6287),g=e(1828).isArrayOrTypedArray;te.exports=function(i,r,f,o,n){n||(n={});var t=n.isMinor,u=t?i.minor||{}:i,h=t?r.minor:r,m=t?"minor.":"";function y(b){var w=u[b];return w!==void 0?w:(h._template||{})[b]}var d=y("tick0"),T=y("dtick"),x=y("tickvals"),M=g(x)?"array":T?"linear":"auto",c=f(m+"tickmode",M);if(c==="auto"||c==="sync")f(m+"nticks");else if(c==="linear"){var p=h.dtick=l.dtick(T,o);h.tick0=l.tick0(d,o,r.calendar,p)}else if(o!=="multicategory"){var v=f(m+"tickvals");v===void 0?h.tickmode="auto":t||f("ticktext")}}},6847:function(te,z,e){var l=e(9898),g=e(3972),s=e(1828),i=e(1424),r=e(9298);te.exports=function(o,n,t,u){var h=o._fullLayout;if(n.length===0){r.redrawComponents(o);return}function m(w){var _=w.xaxis,k=w.yaxis;h._defs.select("#"+w.clipId+"> rect").call(i.setTranslate,0,0).call(i.setScale,1,1),w.plot.call(i.setTranslate,_._offset,k._offset).call(i.setScale,1,1);var B=w.plot.selectAll(".scatterlayer .trace");B.selectAll(".point").call(i.setPointGroupScale,1,1),B.selectAll(".textpoint").call(i.setTextPointsScale,1,1),B.call(i.hideOutsideRangePoints,w)}function y(w,_){var k=w.plotinfo,B=k.xaxis,U=k.yaxis,L=B._length,O=U._length,R=!!w.xr1,Z=!!w.yr1,$=[];if(R){var ie=s.simpleMap(w.xr0,B.r2l),N=s.simpleMap(w.xr1,B.r2l),F=ie[1]-ie[0],G=N[1]-N[0];$[0]=(ie[0]*(1-_)+_*N[0]-ie[0])/(ie[1]-ie[0])*L,$[2]=L*(1-_+_*G/F),B.range[0]=B.l2r(ie[0]*(1-_)+_*N[0]),B.range[1]=B.l2r(ie[1]*(1-_)+_*N[1])}else $[0]=0,$[2]=L;if(Z){var W=s.simpleMap(w.yr0,U.r2l),X=s.simpleMap(w.yr1,U.r2l),J=W[1]-W[0],ne=X[1]-X[0];$[1]=(W[1]*(1-_)+_*X[1]-W[1])/(W[0]-W[1])*O,$[3]=O*(1-_+_*ne/J),U.range[0]=B.l2r(W[0]*(1-_)+_*X[0]),U.range[1]=U.l2r(W[1]*(1-_)+_*X[1])}else $[1]=0,$[3]=O;r.drawOne(o,B,{skipTitle:!0}),r.drawOne(o,U,{skipTitle:!0}),r.redrawComponents(o,[B._id,U._id]);var ue=R?L/$[2]:1,ye=Z?O/$[3]:1,Me=R?$[0]:0,oe=Z?$[1]:0,ve=R?$[0]/$[2]*L:0,H=Z?$[1]/$[3]*O:0,Y=B._offset-ve,S=U._offset-H;k.clipRect.call(i.setTranslate,Me,oe).call(i.setScale,1/ue,1/ye),k.plot.call(i.setTranslate,Y,S).call(i.setScale,ue,ye),i.setPointGroupScale(k.zoomScalePts,1/ue,1/ye),i.setTextPointsScale(k.zoomScaleTxt,1/ue,1/ye)}var d;u&&(d=u());function T(){for(var w={},_=0;_<n.length;_++){var k=n[_],B=k.plotinfo.xaxis,U=k.plotinfo.yaxis;k.xr1&&(w[B._name+".range"]=k.xr1.slice()),k.yr1&&(w[U._name+".range"]=k.yr1.slice())}return d&&d(),g.call("relayout",o,w).then(function(){for(var L=0;L<n.length;L++)m(n[L].plotinfo)})}function x(){for(var w={},_=0;_<n.length;_++){var k=n[_],B=k.plotinfo.xaxis,U=k.plotinfo.yaxis;k.xr0&&(w[B._name+".range"]=k.xr0.slice()),k.yr0&&(w[U._name+".range"]=k.yr0.slice())}return g.call("relayout",o,w).then(function(){for(var L=0;L<n.length;L++)m(n[L].plotinfo)})}var M,c,p,v=l.ease(t.easing);o._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(p),p=null,x()});function b(){c=Date.now();for(var w=Math.min(1,(c-M)/t.duration),_=v(w),k=0;k<n.length;k++)y(n[k],_);c-M>t.duration?(T(),p=window.cancelAnimationFrame(b)):p=window.requestAnimationFrame(b)}return M=Date.now(),p=window.requestAnimationFrame(b),Promise.resolve()}},951:function(te,z,e){var l=e(3972).traceIs,g=e(4322);te.exports=function(n,t,u,h){u("autotypenumbers",h.autotypenumbersDflt);var m=u("type",(h.splomStash||{}).type);m==="-"&&(s(t,h.data),t.type==="-"?t.type="linear":n.type=t.type)};function s(o,n){if(o.type==="-"){var t=o._id,u=t.charAt(0),h;t.indexOf("scene")!==-1&&(t=u);var m=i(n,t,u);if(m){if(m.type==="histogram"&&u==={v:"y",h:"x"}[m.orientation||"v"]){o.type="linear";return}var y=u+"calendar",d=m[y],T={noMultiCategory:!l(m,"cartesian")||l(m,"noMultiCategory")};if(m.type==="box"&&m._hasPreCompStats&&u==={h:"x",v:"y"}[m.orientation||"v"]&&(T.noMultiCategory=!0),T.autotypenumbers=o.autotypenumbers,f(m,u)){var x=r(m),M=[];for(h=0;h<n.length;h++){var c=n[h];!l(c,"box-violin")||(c[u+"axis"]||u)!==t||(c[x]!==void 0?M.push(c[x][0]):c.name!==void 0?M.push(c.name):M.push("text"),c[y]!==d&&(d=void 0))}o.type=g(M,d,T)}else if(m.type==="splom"){var p=m.dimensions,v=p[m._axesDim[t]];v.visible&&(o.type=g(v.values,d,T))}else o.type=g(m[u]||[m[u+"0"]],d,T)}}}function i(o,n,t){for(var u=0;u<o.length;u++){var h=o[u];if(h.type==="splom"&&h._length>0&&(h["_"+t+"axes"]||{})[n])return h;if((h[t+"axis"]||t)===n){if(f(h,t))return h;if((h[t]||[]).length||h[t+"0"])return h}}}function r(o){return{v:"x",h:"y"}[o.orientation||"v"]}function f(o,n){var t=r(o),u=l(o,"box-violin"),h=l(o._fullInput||{},"candlestick");return u&&!h&&n===t&&o[t]===void 0&&o[t+"0"]===void 0}},1137:function(te,z,e){var l=e(3972),g=e(1828);z.manageCommandObserver=function(n,t,u,h){var m={},y=!0;t&&t._commandObserver&&(m=t._commandObserver),m.cache||(m.cache={}),m.lookupTable={};var d=z.hasSimpleAPICommandBindings(n,u,m.lookupTable);if(t&&t._commandObserver){if(d)return m;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,m}if(d){s(n,d,m.cache),m.check=function(){if(y){var c=s(n,d,m.cache);return c.changed&&h&&m.lookupTable[c.value]!==void 0&&(m.disable(),Promise.resolve(h({value:c.value,type:d.type,prop:d.prop,traces:d.traces,index:m.lookupTable[c.value]})).then(m.enable,m.enable)),c.changed}};for(var T=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],x=0;x<T.length;x++)n._internalOn(T[x],m.check);m.remove=function(){for(var M=0;M<T.length;M++)n._removeInternalListener(T[M],m.check)}}else g.log("Unable to automatically bind plot updates to API command"),m.lookupTable={},m.remove=function(){};return m.disable=function(){y=!1},m.enable=function(){y=!0},t&&(t._commandObserver=m),m},z.hasSimpleAPICommandBindings=function(n,t,u){var h,m=t.length,y;for(h=0;h<m;h++){var d,T=t[h],x=T.method,M=T.args;if(Array.isArray(M)||(M=[]),!x)return!1;var c=z.computeAPICommandBindings(n,x,M);if(c.length!==1)return!1;if(!y)y=c[0],Array.isArray(y.traces)&&y.traces.sort();else{if(d=c[0],d.type!==y.type||d.prop!==y.prop)return!1;if(Array.isArray(y.traces))if(Array.isArray(d.traces)){d.traces.sort();for(var p=0;p<y.traces.length;p++)if(y.traces[p]!==d.traces[p])return!1}else return!1;else if(d.prop!==y.prop)return!1}d=c[0];var v=d.value;if(Array.isArray(v))if(v.length===1)v=v[0];else return!1;u&&(u[v]=h)}return y};function s(n,t,u){var h,m,y,d=!1;if(t.type==="data")h=n._fullData[t.traces!==null?t.traces[0]:0];else if(t.type==="layout")h=n._fullLayout;else return!1;return m=g.nestedProperty(h,t.prop).get(),y=u[t.type]=u[t.type]||{},y.hasOwnProperty(t.prop)&&y[t.prop]!==m&&(d=!0),y[t.prop]=m,{changed:d,value:m}}z.executeAPICommand=function(n,t,u){if(t==="skip")return Promise.resolve();var h=l.apiMethodRegistry[t],m=[n];Array.isArray(u)||(u=[]);for(var y=0;y<u.length;y++)m.push(u[y]);return h.apply(null,m).catch(function(d){return g.warn("API call to Plotly."+t+" rejected.",d),Promise.reject(d)})},z.computeAPICommandBindings=function(n,t,u){var h;switch(Array.isArray(u)||(u=[]),t){case"restyle":h=f(n,u);break;case"relayout":h=r(n,u);break;case"update":h=f(n,[u[0],u[2]]).concat(r(n,[u[1]]));break;case"animate":h=i(n,u);break;default:h=[]}return h};function i(n,t){return Array.isArray(t[0])&&t[0].length===1&&["string","number"].indexOf(typeof t[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:t[0][0].toString()}]:[]}function r(n,t){var u=[],h=t[0],m={};if(typeof h=="string")m[h]=t[1];else if(g.isPlainObject(h))m=h;else return u;return o(m,function(y,d,T){u.push({type:"layout",prop:y,value:T})},"",0),u}function f(n,t){var u,h,m,y,d=[];if(h=t[0],m=t[1],u=t[2],y={},typeof h=="string")y[h]=m;else if(g.isPlainObject(h))y=h,u===void 0&&(u=m);else return d;return u===void 0&&(u=null),o(y,function(T,x,M){var c,p;if(Array.isArray(M)){p=M.slice();var v=Math.min(p.length,n.data.length);u&&(v=Math.min(v,u.length)),c=[];for(var b=0;b<v;b++)c[b]=u?u[b]:b}else p=M,c=u?u.slice():null;if(c===null)Array.isArray(p)&&(p=p[0]);else if(Array.isArray(c)){if(!Array.isArray(p)){var w=p;p=[];for(var _=0;_<c.length;_++)p[_]=w}p.length=Math.min(c.length,p.length)}d.push({type:"data",prop:T,traces:c,value:p})},"",0),d}function o(n,t,u,h){Object.keys(n).forEach(function(m){var y=n[m];if(m[0]!=="_"){var d=u+(h>0?".":"")+m;g.isPlainObject(y)?o(y,t,d,h+1):t(d,m,y)}})}},7670:function(te,z,e){var l=e(1426).extendFlat;z.Y=function(g,s){g=g||{},s=s||{};var i={valType:"info_array",editType:g.editType,items:[{valType:"number",min:0,max:1,editType:g.editType},{valType:"number",min:0,max:1,editType:g.editType}],dflt:[0,1]};g.name&&g.name+"",g.trace,s.description&&""+s.description;var r={x:l({},i,{}),y:l({},i,{}),editType:g.editType};return g.noGridCell||(r.row={valType:"integer",min:0,dflt:0,editType:g.editType},r.column={valType:"integer",min:0,dflt:0,editType:g.editType}),r},z.c=function(g,s,i,r){var f=r&&r.x||[0,1],o=r&&r.y||[0,1],n=s.grid;if(n){var t=i("domain.column");t!==void 0&&(t<n.columns?f=n._domains.x[t]:delete g.domain.column);var u=i("domain.row");u!==void 0&&(u<n.rows?o=n._domains.y[u]:delete g.domain.row)}var h=i("domain.x",f),m=i("domain.y",o);h[0]<h[1]||(g.domain.x=f.slice()),m[0]<m[1]||(g.domain.y=o.slice())}},1940:function(te){te.exports=function(z){var e=z.editType,l=z.colorEditType;l===void 0&&(l=e);var g={family:{valType:"string",noBlank:!0,strict:!0,editType:e},size:{valType:"number",min:1,editType:e},color:{valType:"color",editType:l},editType:e};return z.autoSize&&(g.size.dflt="auto"),z.autoColor&&(g.color.dflt="auto"),z.arrayOk&&(g.family.arrayOk=!0,g.size.arrayOk=!0,g.color.arrayOk=!0),g}},1391:function(te){te.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},7659:function(te,z,e){var l=e(3972);e(5555).SUBPLOT_PATTERN,z.a0=function(g,s){var i=[],r=[],f;if(typeof s=="string"?f=l.getModule(s).plot:typeof s=="function"?f=s:f=s.plot,!f)return[i,g];for(var o=0;o<g.length;o++){var n=g[o],t=n[0].trace;t.visible!==!0||t._length===0||(t._module&&t._module.plot===f?i.push(n):r.push(n))}return[i,r]}},3538:function(te){function z(l,g){var s=[0,0,0,0],i,r;for(i=0;i<4;++i)for(r=0;r<4;++r)s[r]+=l[4*i+r]*g[i];return s}function e(l,g){var s=z(l.projection,z(l.view,z(l.model,[g[0],g[1],g[2],1])));return s}te.exports=e},820:function(te,z,e){var l=e(1940),g=e(5594),s=e(2399),i=e(9241),r=e(3777),f=e(5025),o=e(1426).extendFlat,n=l({editType:"calc"});n.family.dflt='"Open Sans", verdana, arial, sans-serif',n.size.dflt=12,n.color.dflt=s.defaultLine,te.exports={font:n,title:{text:{valType:"string",editType:"layoutstyle"},font:l({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:o(f({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:s.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:s.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:s.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:i.newshape,activeshape:i.activeshape,newselection:r.newselection,activeselection:r.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:o({},g.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:l({editType:"layoutstyle"})}}},5025:function(te){te.exports=function(z){var e=z.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},4875:function(te,z,e){var l=e(9898),g=e(4096).Dq,s=e(721).FF,i=e(2770),r=e(3972),f=e(6281),o=e(4467),n=e(1828),t=e(7901),u=e(606).BADNUM,h=e(1675),m=e(1873).clearOutline,y=e(1479),d=e(5594),T=e(1391),x=e(7659).a0,M=n.relinkPrivateKeys,c=n._,p=te.exports={};n.extendFlat(p,r),p.attributes=e(9012),p.attributes.type.values=p.allTypes,p.fontAttrs=e(1940),p.layoutAttributes=e(820),p.fontWeight="normal";var v=p.transformsRegistry,b=e(1137);p.executeAPICommand=b.executeAPICommand,p.computeAPICommandBindings=b.computeAPICommandBindings,p.manageCommandObserver=b.manageCommandObserver,p.hasSimpleAPICommandBindings=b.hasSimpleAPICommandBindings,p.redrawText=function(H){return H=n.getGraphDiv(H),new Promise(function(Y){setTimeout(function(){H._fullLayout&&(r.getComponentMethod("annotations","draw")(H),r.getComponentMethod("legend","draw")(H),r.getComponentMethod("colorbar","draw")(H),Y(p.previousPromises(H)))},300)})},p.resize=function(H){H=n.getGraphDiv(H);var Y,S=new Promise(function(E,I){(!H||n.isHidden(H))&&I(new Error("Resize must be passed a displayed plot div element.")),H._redrawTimer&&clearTimeout(H._redrawTimer),H._resolveResize&&(Y=H._resolveResize),H._resolveResize=E,H._redrawTimer=setTimeout(function(){if(!H.layout||H.layout.width&&H.layout.height||n.isHidden(H)){E(H);return}delete H.layout.width,delete H.layout.height;var C=H.changed;H.autoplay=!0,r.call("relayout",H,{autosize:!0}).then(function(){H.changed=C,H._resolveResize===E&&(delete H._resolveResize,E(H))})},100)});return Y&&Y(S),S},p.previousPromises=function(H){if((H._promises||[]).length)return Promise.all(H._promises).then(function(){H._promises=[]})},p.addLinks=function(H){if(!(!H._context.showLink&&!H._context.showSources)){var Y=H._fullLayout,S=n.ensureSingle(Y._paper,"text","js-plot-link-container",function(j){j.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:t.defaultLine,"pointer-events":"all"}).each(function(){var ae=l.select(this);ae.append("tspan").classed("js-link-to-tool",!0),ae.append("tspan").classed("js-link-spacer",!0),ae.append("tspan").classed("js-sourcelinks",!0)})}),E=S.node(),I={y:Y._paper.attr("height")-9};document.body.contains(E)&&E.getComputedTextLength()>=Y.width-20?(I["text-anchor"]="start",I.x=5):(I["text-anchor"]="end",I.x=Y._paper.attr("width")-7),S.attr(I);var C=S.select(".js-link-to-tool"),K=S.select(".js-link-spacer"),P=S.select(".js-sourcelinks");H._context.showSources&&H._context.showSources(H),H._context.showLink&&w(H,C),K.text(C.text()&&P.text()?" - ":"")}};function w(H,Y){Y.text("");var S=Y.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(H._context.linkText+" "+String.fromCharCode(187));if(H._context.sendData)S.on("click",function(){p.sendDataToCloud(H)});else{var E=window.location.pathname.split("/"),I=window.location.search;S.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+E[2].split(".")[0]+"/"+E[1]+I})}}p.sendDataToCloud=function(H){var Y=(window.PLOTLYENV||{}).BASE_URL||H._context.plotlyServerURL;if(Y){H.emit("plotly_beforeexport");var S=l.select(H).append("div").attr("id","hiddenform").style("display","none"),E=S.append("form").attr({action:Y+"/external",method:"post",target:"_blank"}),I=E.append("input").attr({type:"text",name:"data"});return I.node().value=p.graphJson(H,!1,"keepdata"),E.node().submit(),S.remove(),H.emit("plotly_afterexport"),!1}};var _=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],k=["year","month","dayMonth","dayMonthYear"];p.supplyDefaults=function(H,Y){var S=Y&&Y.skipUpdateCalc,E=H._fullLayout||{};if(E._skipDefaults){delete E._skipDefaults;return}var I=H._fullLayout={},C=H.layout||{},K=H._fullData||[],P=H._fullData=[],j=H.data||[],ae=H.calcdata||[],fe=H._context||{},de;H._transitionData||p.createTransitionData(H),I._dfltTitle={plot:c(H,"Click to enter Plot title"),x:c(H,"Click to enter X axis title"),y:c(H,"Click to enter Y axis title"),colorbar:c(H,"Click to enter Colorscale title"),annotation:c(H,"new text")},I._traceWord=c(H,"trace");var Ce=L(H,_);if(I._mapboxAccessToken=fe.mapboxAccessToken,E._initialAutoSizeIsDone){var De=E.width,ce=E.height;p.supplyLayoutGlobalDefaults(C,I,Ce),C.width||(I.width=De),C.height||(I.height=ce),p.sanitizeMargins(I)}else{p.supplyLayoutGlobalDefaults(C,I,Ce);var me=!C.width||!C.height,pe=I.autosize,Ee=fe.autosizable,Ae=me&&(pe||Ee);Ae?p.plotAutoSize(H,C,I):me&&p.sanitizeMargins(I),!pe&&me&&(C.width=I.width,C.height=I.height)}I._d3locale=O(Ce,I.separators),I._extraFormat=L(H,k),I._initialAutoSizeIsDone=!0,I._dataLength=j.length,I._modules=[],I._visibleModules=[],I._basePlotModules=[];var xe=I._subplots=U(),Fe=I._splomAxes={x:{},y:{}},Ke=I._splomSubplots={};I._splomGridDflt={},I._scatterStackOpts={},I._firstScatter={},I._alignmentOpts={},I._colorAxes={},I._requestRangeslider={},I._traceUids=B(K,j),I._globalTransforms=(H._context||{}).globalTransforms,p.supplyDataDefaults(j,P,C,I);var je=Object.keys(Fe.x),Ve=Object.keys(Fe.y);if(je.length>1&&Ve.length>1){for(r.getComponentMethod("grid","sizeDefaults")(C,I),de=0;de<je.length;de++)n.pushUnique(xe.xaxis,je[de]);for(de=0;de<Ve.length;de++)n.pushUnique(xe.yaxis,Ve[de]);for(var dt in Ke)n.pushUnique(xe.cartesian,dt)}if(I._has=p._hasPlotType.bind(I),K.length===P.length)for(de=0;de<P.length;de++)M(P[de],K[de]);p.supplyLayoutModuleDefaults(C,I,P,H._transitionData);var bt=I._visibleModules,Tt=[];for(de=0;de<bt.length;de++){var it=bt[de].crossTraceDefaults;it&&n.pushUnique(Tt,it)}for(de=0;de<Tt.length;de++)Tt[de](P,I);I._hasOnlyLargeSploms=I._basePlotModules.length===1&&I._basePlotModules[0].name==="splom"&&je.length>15&&Ve.length>15&&I.shapes.length===0&&I.images.length===0,p.linkSubplots(P,I,K,E),p.cleanPlot(P,I,K,E);var kt=!!(E._has&&E._has("gl2d")),tt=!!(I._has&&I._has("gl2d")),Mt=!!(E._has&&E._has("cartesian")),Dt=!!(I._has&&I._has("cartesian")),St=Mt||kt,At=Dt||tt;St&&!At?E._bgLayer.remove():At&&!St&&(I._shouldCreateBgLayer=!0),E._zoomlayer&&!H._dragging&&m({_fullLayout:E}),R(P,I),M(I,E),r.getComponentMethod("colorscale","crossTraceDefaults")(P,I),I._preGUI||(I._preGUI={}),I._tracePreGUI||(I._tracePreGUI={});var ke=I._tracePreGUI,Te={},Re;for(Re in ke)Te[Re]="old";for(de=0;de<P.length;de++)Re=P[de]._fullInput.uid,Te[Re]||(ke[Re]={}),Te[Re]="new";for(Re in Te)Te[Re]==="old"&&delete ke[Re];F(I),r.getComponentMethod("rangeslider","makeData")(I),!S&&ae.length===P.length&&p.supplyDefaultsUpdateCalc(ae,P)},p.supplyDefaultsUpdateCalc=function(H,Y){for(var S=0;S<Y.length;S++){var E=Y[S],I=(H[S]||[])[0];if(I&&I.trace){var C=I.trace;if(C._hasCalcTransform){var K=C._arrayAttrs,P,j,ae;for(P=0;P<K.length;P++)j=K[P],ae=n.nestedProperty(C,j).get().slice(),n.nestedProperty(E,j).set(ae)}I.trace=E}}};function B(H,Y){var S=Y.length,E=[],I,C;for(I=0;I<H.length;I++){var K=H[I]._fullInput;K!==C&&E.push(K),C=K}var P=E.length,j=new Array(S),ae={};function fe(De,ce){j[ce]=De,ae[De]=1}function de(De,ce){if(De&&typeof De=="string"&&!ae[De])return fe(De,ce),!0}for(I=0;I<S;I++){var Ce=Y[I].uid;typeof Ce=="number"&&(Ce=String(Ce)),!de(Ce,I)&&(I<P&&de(E[I].uid,I)||fe(n.randstr(ae),I))}return j}function U(){var H=r.collectableSubplotTypes,Y={},S,E;if(!H){H=[];var I=r.subplotsRegistry;for(var C in I){var K=I[C],P=K.attr;if(P&&(H.push(C),Array.isArray(P)))for(E=0;E<P.length;E++)n.pushUnique(H,P[E])}}for(S=0;S<H.length;S++)Y[H[S]]=[];return Y}function L(H,Y){var S=H._context.locale;S||(S="en-US");var E=!1,I={};function C(de){for(var Ce=!0,De=0;De<Y.length;De++){var ce=Y[De];I[ce]||(de[ce]?I[ce]=de[ce]:Ce=!1)}Ce&&(E=!0)}for(var K=0;K<2;K++){for(var P=H._context.locales,j=0;j<2;j++){var ae=(P[S]||{}).format;if(ae&&(C(ae),E))break;P=r.localeRegistry}var fe=S.split("-")[0];if(E||fe===S)break;S=fe}return E||C(r.localeRegistry.en.format),I}function O(H,Y){return H.decimal=Y.charAt(0),H.thousands=Y.charAt(1),{numberFormat:function(S){try{S=s(H).format(n.adjustFormat(S))}catch{return n.warnBadFormat(S),n.noFormat}return S},timeFormat:g(H).utcFormat}}function R(H,Y){var S,E=[];Y.meta&&(S=Y._meta={meta:Y.meta,layout:{meta:Y.meta}});for(var I=0;I<H.length;I++){var C=H[I];C.meta?E[C.index]=C._meta={meta:C.meta}:Y.meta&&(C._meta={meta:Y.meta}),Y.meta&&(C._meta.layout={meta:Y.meta})}E.length&&(S||(S=Y._meta={}),S.data=E)}p.createTransitionData=function(H){H._transitionData||(H._transitionData={}),H._transitionData._frames||(H._transitionData._frames=[]),H._transitionData._frameHash||(H._transitionData._frameHash={}),H._transitionData._counter||(H._transitionData._counter=0),H._transitionData._interruptCallbacks||(H._transitionData._interruptCallbacks=[])},p._hasPlotType=function(H){var Y,S=this._basePlotModules||[];for(Y=0;Y<S.length;Y++)if(S[Y].name===H)return!0;var E=this._modules||[];for(Y=0;Y<E.length;Y++){var I=E[Y].name;if(I===H)return!0;var C=r.modules[I];if(C&&C.categories[H])return!0}return!1},p.cleanPlot=function(H,Y,S,E){var I,C,K=E._basePlotModules||[];for(I=0;I<K.length;I++){var P=K[I];P.clean&&P.clean(H,Y,S,E)}var j=E._has&&E._has("gl"),ae=Y._has&&Y._has("gl");j&&!ae&&E._glcontainer!==void 0&&(E._glcontainer.selectAll(".gl-canvas").remove(),E._glcontainer.selectAll(".no-webgl").remove(),E._glcanvas=null);var fe=!!E._infolayer;e:for(I=0;I<S.length;I++){var de=S[I],Ce=de.uid;for(C=0;C<H.length;C++){var De=H[C];if(Ce===De.uid)continue e}fe&&E._infolayer.select(".cb"+Ce).remove()}},p.linkSubplots=function(H,Y,S,E){var I,C,K=E._plots||{},P=Y._plots={},j=Y._subplots,ae={_fullData:H,_fullLayout:Y},fe=j.cartesian.concat(j.gl2d||[]);for(I=0;I<fe.length;I++){var de=fe[I],Ce=K[de],De=h.getFromId(ae,de,"x"),ce=h.getFromId(ae,de,"y"),me;for(Ce?me=P[de]=Ce:(me=P[de]={},me.id=de),De._counterAxes.push(ce._id),ce._counterAxes.push(De._id),De._subplotsWith.push(de),ce._subplotsWith.push(de),me.xaxis=De,me.yaxis=ce,me._hasClipOnAxisFalse=!1,C=0;C<H.length;C++){var pe=H[C];if(pe.xaxis===me.xaxis._id&&pe.yaxis===me.yaxis._id&&pe.cliponaxis===!1){me._hasClipOnAxisFalse=!0;break}}}var Ee=h.list(ae,null,!0),Ae;for(I=0;I<Ee.length;I++){Ae=Ee[I];var xe=null;Ae.overlaying&&(xe=h.getFromId(ae,Ae.overlaying),xe&&xe.overlaying&&(Ae.overlaying=!1,xe=null)),Ae._mainAxis=xe||Ae,xe&&(Ae.domain=xe.domain.slice()),Ae._anchorAxis=Ae.anchor==="free"?null:h.getFromId(ae,Ae.anchor)}for(I=0;I<Ee.length;I++)if(Ae=Ee[I],Ae._counterAxes.sort(h.idSort),Ae._subplotsWith.sort(n.subplotSort),Ae._mainSubplot=Z(Ae,Y),Ae._counterAxes.length&&(Ae.spikemode&&Ae.spikemode.indexOf("across")!==-1||Ae.automargin&&Ae.mirror&&Ae.anchor!=="free"||r.getComponentMethod("rangeslider","isVisible")(Ae))){var Fe=1,Ke=0;for(C=0;C<Ae._counterAxes.length;C++){var je=h.getFromId(ae,Ae._counterAxes[C]);Fe=Math.min(Fe,je.domain[0]),Ke=Math.max(Ke,je.domain[1])}Fe<Ke&&(Ae._counterDomainMin=Fe,Ae._counterDomainMax=Ke)}};function Z(H,Y){var S={_fullLayout:Y},E=H._id.charAt(0)==="x",I=H._mainAxis._anchorAxis,C="",K="",P="";if(I&&(P=I._mainAxis._id,C=E?H._id+P:P+H._id),!C||!Y._plots[C]){C="";for(var j=H._counterAxes,ae=0;ae<j.length;ae++){var fe=j[ae],de=E?H._id+fe:fe+H._id;K||(K=de);var Ce=h.getFromId(S,fe);if(P&&Ce.overlaying===P){C=de;break}}}return C||K}p.clearExpandedTraceDefaultColors=function(H){var Y,S,E;function I(K,P,j,ae){S[ae]=P,S.length=ae+1,K.valType==="color"&&K.dflt===void 0&&Y.push(S.join("."))}for(S=[],Y=H._module._colorAttrs,Y||(H._module._colorAttrs=Y=[],f.crawl(H._module.attributes,I)),E=0;E<Y.length;E++){var C=n.nestedProperty(H,"_input."+Y[E]);C.get()||n.nestedProperty(H,Y[E]).set(null)}},p.supplyDataDefaults=function(H,Y,S,E){var I=E._modules,C=E._visibleModules,K=E._basePlotModules,P=0,j=0,ae,fe,de;E._transformModules=[];function Ce(Ve){Y.push(Ve);var dt=Ve._module;dt&&(n.pushUnique(I,dt),Ve.visible===!0&&n.pushUnique(C,dt),n.pushUnique(K,Ve._module.basePlotModule),P++,Ve._input.visible!==!1&&j++)}var De={},ce=[],me=(S.template||{}).data||{},pe=o.traceTemplater(me);for(ae=0;ae<H.length;ae++){if(de=H[ae],fe=pe.newTrace(de),fe.uid=E._traceUids[ae],p.supplyTraceDefaults(de,fe,j,E,ae),fe.index=ae,fe._input=de,fe._expandedIndex=P,fe.transforms&&fe.transforms.length)for(var Ee=de.visible!==!1&&fe.visible===!1,Ae=ie(fe,Y,S,E),xe=0;xe<Ae.length;xe++){var Fe=Ae[xe],Ke={_template:fe._template,type:fe.type,uid:fe.uid+xe};Ee&&Fe.visible===!1&&delete Fe.visible,p.supplyTraceDefaults(Fe,Ke,P,E,ae),M(Ke,Fe),Ke.index=ae,Ke._input=de,Ke._fullInput=fe,Ke._expandedIndex=P,Ke._expandedInput=Fe,Ce(Ke)}else fe._fullInput=fe,fe._expandedInput=fe,Ce(fe);r.traceIs(fe,"carpetAxis")&&(De[fe.carpet]=fe),r.traceIs(fe,"carpetDependent")&&ce.push(ae)}for(ae=0;ae<ce.length;ae++)if(fe=Y[ce[ae]],!!fe.visible){var je=De[fe.carpet];if(fe._carpet=je,!je||!je.visible){fe.visible=!1;continue}fe.xaxis=je.xaxis,fe.yaxis=je.yaxis}},p.supplyAnimationDefaults=function(H){H=H||{};var Y,S={};function E(I,C){return n.coerce(H||{},S,d,I,C)}if(E("mode"),E("direction"),E("fromcurrent"),Array.isArray(H.frame))for(S.frame=[],Y=0;Y<H.frame.length;Y++)S.frame[Y]=p.supplyAnimationFrameDefaults(H.frame[Y]||{});else S.frame=p.supplyAnimationFrameDefaults(H.frame||{});if(Array.isArray(H.transition))for(S.transition=[],Y=0;Y<H.transition.length;Y++)S.transition[Y]=p.supplyAnimationTransitionDefaults(H.transition[Y]||{});else S.transition=p.supplyAnimationTransitionDefaults(H.transition||{});return S},p.supplyAnimationFrameDefaults=function(H){var Y={};function S(E,I){return n.coerce(H||{},Y,d.frame,E,I)}return S("duration"),S("redraw"),Y},p.supplyAnimationTransitionDefaults=function(H){var Y={};function S(E,I){return n.coerce(H||{},Y,d.transition,E,I)}return S("duration"),S("easing"),Y},p.supplyFrameDefaults=function(H){var Y={};function S(E,I){return n.coerce(H,Y,T,E,I)}return S("group"),S("name"),S("traces"),S("baseframe"),S("data"),S("layout"),Y},p.supplyTraceDefaults=function(H,Y,S,E,I){var C=E.colorway||t.defaults,K=C[S%C.length],P;function j(Ae,xe){return n.coerce(H,Y,p.attributes,Ae,xe)}var ae=j("visible");j("type"),j("name",E._traceWord+" "+I),j("uirevision",E.uirevision);var fe=p.getModule(Y);if(Y._module=fe,fe){var de=fe.basePlotModule,Ce=de.attr,De=de.attributes;if(Ce&&De){var ce=E._subplots,me="";if(ae||de.name!=="gl2d"){if(Array.isArray(Ce))for(P=0;P<Ce.length;P++){var pe=Ce[P],Ee=n.coerce(H,Y,De,pe);ce[pe]&&n.pushUnique(ce[pe],Ee),me+=Ee}else me=n.coerce(H,Y,De,Ce);ce[de.name]&&n.pushUnique(ce[de.name],me)}}}return ae&&(j("customdata"),j("ids"),j("meta"),r.traceIs(Y,"showLegend")?(n.coerce(H,Y,fe.attributes.showlegend?fe.attributes:p.attributes,"showlegend"),j("legend"),j("legendwidth"),j("legendgroup"),j("legendgrouptitle.text"),j("legendrank"),Y._dfltShowLegend=!0):Y._dfltShowLegend=!1,fe&&fe.supplyDefaults(H,Y,K,E),r.traceIs(Y,"noOpacity")||j("opacity"),r.traceIs(Y,"notLegendIsolatable")&&(Y.visible=!!Y.visible),r.traceIs(Y,"noHover")||(Y.hovertemplate||n.coerceHoverinfo(H,Y,E),Y.type!=="parcats"&&r.getComponentMethod("fx","supplyDefaults")(H,Y,K,E)),fe&&fe.selectPoints&&j("selectedpoints"),p.supplyTransformDefaults(H,Y,E)),Y};function $(H){var Y=H.transforms;if(Array.isArray(Y)&&Y.length)for(var S=0;S<Y.length;S++){var E=Y[S],I=E._module||v[E.type];if(I&&I.makesData)return!0}return!1}p.hasMakesDataTransform=$,p.supplyTransformDefaults=function(H,Y,S){if(Y._length||$(H)){var E=S._globalTransforms||[],I=S._transformModules||[];if(!(!Array.isArray(H.transforms)&&E.length===0))for(var C=H.transforms||[],K=E.concat(C),P=Y.transforms=[],j=0;j<K.length;j++){var ae=K[j],fe=ae.type,de=v[fe],Ce,De=!(ae._module&&ae._module===de),ce=de&&typeof de.transform=="function";de||n.warn("Unrecognized transform type "+fe+"."),de&&de.supplyDefaults&&(De||ce)?(Ce=de.supplyDefaults(ae,Y,S,H),Ce.type=fe,Ce._module=de,n.pushUnique(I,de)):Ce=n.extendFlat({},ae),P.push(Ce)}}};function ie(H,Y,S,E){for(var I=H.transforms,C=[H],K=0;K<I.length;K++){var P=I[K],j=v[P.type];j&&j.transform&&(C=j.transform(C,{transform:P,fullTrace:H,fullData:Y,layout:S,fullLayout:E,transformIndex:K}))}return C}p.supplyLayoutGlobalDefaults=function(H,Y,S){function E(de,Ce){return n.coerce(H,Y,p.layoutAttributes,de,Ce)}var I=H.template;n.isPlainObject(I)&&(Y.template=I,Y._template=I.layout,Y._dataTemplate=I.data),E("autotypenumbers");var C=n.coerceFont(E,"font"),K=C.size;n.coerceFont(E,"title.font",n.extendFlat({},C,{size:Math.round(K*1.4)})),E("title.text",Y._dfltTitle.plot),E("title.xref");var P=E("title.yref");E("title.pad.t"),E("title.pad.r"),E("title.pad.b"),E("title.pad.l");var j=E("title.automargin");E("title.x"),E("title.xanchor"),E("title.y"),E("title.yanchor"),j&&(P==="paper"&&(Y.title.y!==0&&(Y.title.y=1),Y.title.yanchor==="auto"&&(Y.title.yanchor=Y.title.y===0?"top":"bottom")),P==="container"&&(Y.title.y==="auto"&&(Y.title.y=1),Y.title.yanchor==="auto"&&(Y.title.yanchor=Y.title.y<.5?"bottom":"top")));var ae=E("uniformtext.mode");ae&&E("uniformtext.minsize"),E("autosize",!(H.width&&H.height)),E("width"),E("height"),E("minreducedwidth"),E("minreducedheight"),E("margin.l"),E("margin.r"),E("margin.t"),E("margin.b"),E("margin.pad"),E("margin.autoexpand"),H.width&&H.height&&p.sanitizeMargins(Y),r.getComponentMethod("grid","sizeDefaults")(H,Y),E("paper_bgcolor"),E("separators",S.decimal+S.thousands),E("hidesources"),E("colorway"),E("datarevision");var fe=E("uirevision");E("editrevision",fe),E("selectionrevision",fe),r.getComponentMethod("modebar","supplyLayoutDefaults")(H,Y),r.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(H,Y,E),r.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(H,Y,E),E("meta"),n.isPlainObject(H.transition)&&(E("transition.duration"),E("transition.easing"),E("transition.ordering")),r.getComponentMethod("calendars","handleDefaults")(H,Y,"calendar"),r.getComponentMethod("fx","supplyLayoutGlobalDefaults")(H,Y,E),n.coerce(H,Y,y,"scattermode")};function N(H){return typeof H=="string"&&H.substr(H.length-2)==="px"&&parseFloat(H)}p.plotAutoSize=function(Y,S,E){var I=Y._context||{},C=I.frameMargins,K,P,j=n.isPlotDiv(Y);if(j&&Y.emit("plotly_autosize"),I.fillFrame)K=window.innerWidth,P=window.innerHeight,document.body.style.overflow="hidden";else{var ae=j?window.getComputedStyle(Y):{};if(K=N(ae.width)||N(ae.maxWidth)||E.width,P=N(ae.height)||N(ae.maxHeight)||E.height,i(C)&&C>0){var fe=1-2*C;K=Math.round(fe*K),P=Math.round(fe*P)}}var de=p.layoutAttributes.width.min,Ce=p.layoutAttributes.height.min;K<de&&(K=de),P<Ce&&(P=Ce);var De=!S.width&&Math.abs(E.width-K)>1,ce=!S.height&&Math.abs(E.height-P)>1;(ce||De)&&(De&&(E.width=K),ce&&(E.height=P)),Y._initialAutoSize||(Y._initialAutoSize={width:K,height:P}),p.sanitizeMargins(E)},p.supplyLayoutModuleDefaults=function(H,Y,S,E){var I=r.componentsRegistry,C=Y._basePlotModules,K,P,j,ae=r.subplotsRegistry.cartesian;for(K in I)j=I[K],j.includeBasePlot&&j.includeBasePlot(H,Y);C.length||C.push(ae),Y._has("cartesian")&&(r.getComponentMethod("grid","contentDefaults")(H,Y),ae.finalizeSubplots(H,Y));for(var fe in Y._subplots)Y._subplots[fe].sort(n.subplotSort);for(P=0;P<C.length;P++)j=C[P],j.supplyLayoutDefaults&&j.supplyLayoutDefaults(H,Y,S);var de=Y._modules;for(P=0;P<de.length;P++)j=de[P],j.supplyLayoutDefaults&&j.supplyLayoutDefaults(H,Y,S);var Ce=Y._transformModules;for(P=0;P<Ce.length;P++)j=Ce[P],j.supplyLayoutDefaults&&j.supplyLayoutDefaults(H,Y,S,E);for(K in I)j=I[K],j.supplyLayoutDefaults&&j.supplyLayoutDefaults(H,Y,S)},p.purge=function(H){var Y=H._fullLayout||{};Y._glcontainer!==void 0&&(Y._glcontainer.selectAll(".gl-canvas").remove(),Y._glcontainer.remove(),Y._glcanvas=null),Y._modeBar&&Y._modeBar.destroy(),H._transitionData&&(H._transitionData._interruptCallbacks&&(H._transitionData._interruptCallbacks.length=0),H._transitionData._animationRaf&&window.cancelAnimationFrame(H._transitionData._animationRaf)),n.clearThrottle(),n.clearResponsive(H),delete H.data,delete H.layout,delete H._fullData,delete H._fullLayout,delete H.calcdata,delete H.empty,delete H.fid,delete H.undoqueue,delete H.undonum,delete H.autoplay,delete H.changed,delete H._promises,delete H._redrawTimer,delete H._hmlumcount,delete H._hmpixcount,delete H._transitionData,delete H._transitioning,delete H._initialAutoSize,delete H._transitioningWithDuration,delete H._dragging,delete H._dragged,delete H._dragdata,delete H._hoverdata,delete H._snapshotInProgress,delete H._editing,delete H._mouseDownTime,delete H._legendMouseDownTime,H.removeAllListeners&&H.removeAllListeners()},p.style=function(H){var Y=H._fullLayout._visibleModules,S=[],E;for(E=0;E<Y.length;E++){var I=Y[E];I.style&&n.pushUnique(S,I.style)}for(E=0;E<S.length;E++)S[E](H)},p.sanitizeMargins=function(H){if(!(!H||!H.margin)){var Y=H.width,S=H.height,E=H.margin,I=Y-(E.l+E.r),C=S-(E.t+E.b),K;I<0&&(K=(Y-1)/(E.l+E.r),E.l=Math.floor(K*E.l),E.r=Math.floor(K*E.r)),C<0&&(K=(S-1)/(E.t+E.b),E.t=Math.floor(K*E.t),E.b=Math.floor(K*E.b))}},p.clearAutoMarginIds=function(H){H._fullLayout._pushmarginIds={}},p.allowAutoMargin=function(H,Y){H._fullLayout._pushmarginIds[Y]=1};function F(H){var Y=H.margin;if(!H._size){var S=H._size={l:Math.round(Y.l),r:Math.round(Y.r),t:Math.round(Y.t),b:Math.round(Y.b),p:Math.round(Y.pad)};S.w=Math.round(H.width)-S.l-S.r,S.h=Math.round(H.height)-S.t-S.b}H._pushmargin||(H._pushmargin={}),H._pushmarginIds||(H._pushmarginIds={}),H._reservedMargin||(H._reservedMargin={})}var G=2,W=2;p.autoMargin=function(H,Y,S){var E=H._fullLayout,I=E.width,C=E.height,K=E.margin,P=E.minreducedwidth,j=E.minreducedheight,ae=n.constrain(I-K.l-K.r,G,P),fe=n.constrain(C-K.t-K.b,W,j),de=Math.max(0,I-ae),Ce=Math.max(0,C-fe),De=E._pushmargin,ce=E._pushmarginIds;if(K.autoexpand!==!1){if(!S)delete De[Y],delete ce[Y];else{var me=S.pad;if(me===void 0&&(me=Math.min(12,K.l,K.r,K.t,K.b)),de){var pe=(S.l+S.r)/de;pe>1&&(S.l/=pe,S.r/=pe)}if(Ce){var Ee=(S.t+S.b)/Ce;Ee>1&&(S.t/=Ee,S.b/=Ee)}var Ae=S.xl!==void 0?S.xl:S.x,xe=S.xr!==void 0?S.xr:S.x,Fe=S.yt!==void 0?S.yt:S.y,Ke=S.yb!==void 0?S.yb:S.y;De[Y]={l:{val:Ae,size:S.l+me},r:{val:xe,size:S.r+me},b:{val:Ke,size:S.b+me},t:{val:Fe,size:S.t+me}},ce[Y]=1}if(!E._replotting)return p.doAutoMargin(H)}};function X(H){if("_redrawFromAutoMarginCount"in H._fullLayout)return!1;var Y=h.list(H,"",!0);for(var S in Y)if(Y[S].autoshift||Y[S].shift)return!0;return!1}p.doAutoMargin=function(H){var Y=H._fullLayout,S=Y.width,E=Y.height;Y._size||(Y._size={}),F(Y);var I=Y._size,C=Y.margin,K={t:0,b:0,l:0,r:0},P=n.extendFlat({},I),j=C.l,ae=C.r,fe=C.t,de=C.b,Ce=Y._pushmargin,De=Y._pushmarginIds,ce=Y.minreducedwidth,me=Y.minreducedheight;if(C.autoexpand!==!1){for(var pe in Ce)De[pe]||delete Ce[pe];var Ee=H._fullLayout._reservedMargin;for(var Ae in Ee)for(var xe in Ee[Ae]){var Fe=Ee[Ae][xe];K[xe]=Math.max(K[xe],Fe)}Ce.base={l:{val:0,size:j},r:{val:1,size:ae},t:{val:1,size:fe},b:{val:0,size:de}};for(var Ke in K){var je=0;for(var Ve in Ce)Ve!=="base"&&i(Ce[Ve][Ke].size)&&(je=Ce[Ve][Ke].size>je?Ce[Ve][Ke].size:je);var dt=Math.max(0,C[Ke]-je);K[Ke]=Math.max(0,K[Ke]-dt)}for(var bt in Ce){var Tt=Ce[bt].l||{},it=Ce[bt].b||{},kt=Tt.val,tt=Tt.size,Mt=it.val,Dt=it.size,St=S-K.r-K.l,At=E-K.t-K.b;for(var ke in Ce){if(i(tt)&&Ce[ke].r){var Te=Ce[ke].r.val,Re=Ce[ke].r.size;if(Te>kt){var Le=(tt*Te+(Re-St)*kt)/(Te-kt),Oe=(Re*(1-kt)+(tt-St)*(1-Te))/(Te-kt);Le+Oe>j+ae&&(j=Le,ae=Oe)}}if(i(Dt)&&Ce[ke].t){var le=Ce[ke].t.val,be=Ce[ke].t.size;if(le>Mt){var we=(Dt*le+(be-At)*Mt)/(le-Mt),Se=(be*(1-Mt)+(Dt-At)*(1-le))/(le-Mt);we+Se>de+fe&&(de=we,fe=Se)}}}}}var ze=n.constrain(S-C.l-C.r,G,ce),_e=n.constrain(E-C.t-C.b,W,me),ct=Math.max(0,S-ze),lt=Math.max(0,E-_e);if(ct){var $e=(j+ae)/ct;$e>1&&(j/=$e,ae/=$e)}if(lt){var Ye=(de+fe)/lt;Ye>1&&(de/=Ye,fe/=Ye)}if(I.l=Math.round(j)+K.l,I.r=Math.round(ae)+K.r,I.t=Math.round(fe)+K.t,I.b=Math.round(de)+K.b,I.p=Math.round(C.pad),I.w=Math.round(S)-I.l-I.r,I.h=Math.round(E)-I.t-I.b,!Y._replotting&&(p.didMarginChange(P,I)||X(H))){"_redrawFromAutoMarginCount"in Y?Y._redrawFromAutoMarginCount++:Y._redrawFromAutoMarginCount=1;var nt=3*(1+Object.keys(De).length);if(Y._redrawFromAutoMarginCount<nt)return r.call("_doPlot",H);Y._size=P,n.warn("Too many auto-margin redraws.")}J(H)};function J(H){var Y=h.list(H,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(S){for(var E=0;E<Y.length;E++){var I=Y[E][S];I&&I()}})}var ne=["l","r","t","b","p","w","h"];p.didMarginChange=function(H,Y){for(var S=0;S<ne.length;S++){var E=ne[S],I=H[E],C=Y[E];if(!i(I)||Math.abs(C-I)>1)return!0}return!1},p.graphJson=function(H,Y,S,E,I,C){(I&&Y&&!H._fullData||I&&!Y&&!H._fullLayout)&&p.supplyDefaults(H);var K=I?H._fullData:H.data,P=I?H._fullLayout:H.layout,j=(H._transitionData||{})._frames;function ae(Ce,De){if(typeof Ce=="function")return De?"_function_":null;if(n.isPlainObject(Ce)){var ce={},me;return Object.keys(Ce).sort().forEach(function(pe){if(["_","["].indexOf(pe.charAt(0))===-1){if(typeof Ce[pe]=="function"){De&&(ce[pe]="_function");return}if(S==="keepdata"){if(pe.substr(pe.length-3)==="src")return}else if(S==="keepstream"){if(me=Ce[pe+"src"],typeof me=="string"&&me.indexOf(":")>0&&!n.isPlainObject(Ce.stream))return}else if(S!=="keepall"&&(me=Ce[pe+"src"],typeof me=="string"&&me.indexOf(":")>0))return;ce[pe]=ae(Ce[pe],De)}}),ce}return Array.isArray(Ce)?Ce.map(function(pe){return ae(pe,De)}):n.isTypedArray(Ce)?n.simpleMap(Ce,n.identity):n.isJSDate(Ce)?n.ms2DateTimeLocal(+Ce):Ce}var fe={data:(K||[]).map(function(Ce){var De=ae(Ce);return Y&&delete De.fit,De})};if(!Y&&(fe.layout=ae(P),I)){var de=P._size;fe.layout.computed={margin:{b:de.b,l:de.l,r:de.r,t:de.t}}}return j&&(fe.frames=ae(j)),C&&(fe.config=ae(H._context,!0)),E==="object"?fe:JSON.stringify(fe)},p.modifyFrames=function(H,Y){var S,E,I,C=H._transitionData._frames,K=H._transitionData._frameHash;for(S=0;S<Y.length;S++)switch(E=Y[S],E.type){case"replace":I=E.value;var P=(C[E.index]||{}).name,j=I.name;C[E.index]=K[j]=I,j!==P&&(delete K[P],K[j]=I);break;case"insert":I=E.value,K[I.name]=I,C.splice(E.index,0,I);break;case"delete":I=C[E.index],delete K[I.name],C.splice(E.index,1);break}return Promise.resolve()},p.computeFrame=function(H,Y){var S=H._transitionData._frameHash,E,I,C,K;if(!Y)throw new Error("computeFrame must be given a string frame name");var P=S[Y.toString()];if(!P)return!1;for(var j=[P],ae=[P.name];P.baseframe&&(P=S[P.baseframe.toString()])&&ae.indexOf(P.name)===-1;)j.push(P),ae.push(P.name);for(var fe={};P=j.pop();)if(P.layout&&(fe.layout=p.extendLayout(fe.layout,P.layout)),P.data){if(fe.data||(fe.data=[]),I=P.traces,!I)for(I=[],E=0;E<P.data.length;E++)I[E]=E;for(fe.traces||(fe.traces=[]),E=0;E<P.data.length;E++)C=I[E],C!=null&&(K=fe.traces.indexOf(C),K===-1&&(K=fe.data.length,fe.traces[K]=C),fe.data[K]=p.extendTrace(fe.data[K],P.data[E]))}return fe},p.recomputeFrameHash=function(H){for(var Y=H._transitionData._frameHash={},S=H._transitionData._frames,E=0;E<S.length;E++){var I=S[E];I&&I.name&&(Y[I.name]=I)}},p.extendObjectWithContainers=function(H,Y,S){var E,I,C,K,P,j,ae,fe,de=n.extendDeepNoArrays({},Y||{}),Ce=n.expandObjectPaths(de),De={};if(S&&S.length)for(C=0;C<S.length;C++)E=n.nestedProperty(Ce,S[C]),I=E.get(),I===void 0?n.nestedProperty(De,S[C]).set(null):(E.set(null),n.nestedProperty(De,S[C]).set(I));if(H=n.extendDeepNoArrays(H||{},Ce),S&&S.length){for(C=0;C<S.length;C++)if(P=n.nestedProperty(De,S[C]),ae=P.get(),!!ae){for(j=n.nestedProperty(H,S[C]),fe=j.get(),Array.isArray(fe)||(fe=[],j.set(fe)),K=0;K<ae.length;K++){var ce=ae[K];ce===null?fe[K]=null:fe[K]=p.extendObjectWithContainers(fe[K],ce)}j.set(fe)}}return H},p.dataArrayContainers=["transforms","dimensions"],p.layoutArrayContainers=r.layoutArrayContainers,p.extendTrace=function(H,Y){return p.extendObjectWithContainers(H,Y,p.dataArrayContainers)},p.extendLayout=function(H,Y){return p.extendObjectWithContainers(H,Y,p.layoutArrayContainers)},p.transition=function(H,Y,S,E,I,C){var K={redraw:I.redraw},P={},j=[];return K.prepareFn=function(){for(var ae=Array.isArray(Y)?Y.length:0,fe=E.slice(0,ae),de=0;de<fe.length;de++){var Ce=fe[de],De=H._fullData[Ce],ce=De._module;if(ce){if(ce.animatable){var me=ce.basePlotModule.name;P[me]||(P[me]=[]),P[me].push(Ce)}H.data[fe[de]]=p.extendTrace(H.data[fe[de]],Y[de])}}var pe=n.expandObjectPaths(n.extendDeepNoArrays({},S)),Ee=/^[xy]axis[0-9]*$/;for(var Ae in pe)Ee.test(Ae)&&delete pe[Ae].range;p.extendLayout(H.layout,pe),delete H.calcdata,p.supplyDefaults(H),p.doCalcdata(H);var xe=n.expandObjectPaths(S);if(xe){var Fe=H._fullLayout._plots;for(var Ke in Fe){var je=Fe[Ke],Ve=je.xaxis,dt=je.yaxis,bt=Ve.range.slice(),Tt=dt.range.slice(),it=null,kt=null,tt=null,Mt=null;Array.isArray(xe[Ve._name+".range"])?it=xe[Ve._name+".range"].slice():Array.isArray((xe[Ve._name]||{}).range)&&(it=xe[Ve._name].range.slice()),Array.isArray(xe[dt._name+".range"])?kt=xe[dt._name+".range"].slice():Array.isArray((xe[dt._name]||{}).range)&&(kt=xe[dt._name].range.slice()),bt&&it&&(Ve.r2l(bt[0])!==Ve.r2l(it[0])||Ve.r2l(bt[1])!==Ve.r2l(it[1]))&&(tt={xr0:bt,xr1:it}),Tt&&kt&&(dt.r2l(Tt[0])!==dt.r2l(kt[0])||dt.r2l(Tt[1])!==dt.r2l(kt[1]))&&(Mt={yr0:Tt,yr1:kt}),(tt||Mt)&&j.push(n.extendFlat({plotinfo:je},tt,Mt))}}return Promise.resolve()},K.runFn=function(ae){var fe,de=H._fullLayout._basePlotModules,Ce=j.length,De;if(S)for(De=0;De<de.length;De++)de[De].transitionAxes&&de[De].transitionAxes(H,j,C,ae);Ce?(fe=n.extendFlat({},C),fe.duration=0,delete P.cartesian):fe=C;for(var ce in P){var me=P[ce],pe=H._fullData[me[0]]._module;pe.basePlotModule.plot(H,me,fe,ae)}},ue(H,C,K)},p.transitionFromReact=function(H,Y,S,E){var I=H._fullLayout,C=I.transition,K={},P=[];return K.prepareFn=function(){var j=I._plots;K.redraw=!1,Y.anim==="some"&&(K.redraw=!0),S.anim==="some"&&(K.redraw=!0);for(var ae in j){var fe=j[ae],de=fe.xaxis,Ce=fe.yaxis,De=E[de._name].range.slice(),ce=E[Ce._name].range.slice(),me=de.range.slice(),pe=Ce.range.slice();de.setScale(),Ce.setScale();var Ee=null,Ae=null;(de.r2l(De[0])!==de.r2l(me[0])||de.r2l(De[1])!==de.r2l(me[1]))&&(Ee={xr0:De,xr1:me}),(Ce.r2l(ce[0])!==Ce.r2l(pe[0])||Ce.r2l(ce[1])!==Ce.r2l(pe[1]))&&(Ae={yr0:ce,yr1:pe}),(Ee||Ae)&&P.push(n.extendFlat({plotinfo:fe},Ee,Ae))}return Promise.resolve()},K.runFn=function(j){for(var ae=H._fullData,fe=H._fullLayout,de=fe._basePlotModules,Ce,De,ce,me=[],pe=0;pe<ae.length;pe++)me.push(pe);function Ee(){if(H._fullLayout)for(var xe=0;xe<de.length;xe++)de[xe].transitionAxes&&de[xe].transitionAxes(H,P,Ce,j)}function Ae(){if(H._fullLayout)for(var xe=0;xe<de.length;xe++)de[xe].plot(H,ce,De,j)}P.length&&Y.anim?C.ordering==="traces first"?(Ce=n.extendFlat({},C,{duration:0}),ce=me,De=C,setTimeout(Ee,C.duration),Ae()):(Ce=C,ce=null,De=n.extendFlat({},C,{duration:0}),setTimeout(Ae,Ce.duration),Ee()):P.length?(Ce=C,Ee()):Y.anim&&(ce=me,De=C,Ae())},ue(H,C,K)};function ue(H,Y,S){var E=!1;function I(de){var Ce=Promise.resolve();if(!de)return Ce;for(;de.length;)Ce=Ce.then(de.shift());return Ce}function C(de){if(de)for(;de.length;)de.shift()}function K(){return H.emit("plotly_transitioning",[]),new Promise(function(de){H._transitioning=!0,Y.duration>0&&(H._transitioningWithDuration=!0),H._transitionData._interruptCallbacks.push(function(){E=!0}),S.redraw&&H._transitionData._interruptCallbacks.push(function(){return r.call("redraw",H)}),H._transitionData._interruptCallbacks.push(function(){H.emit("plotly_transitioninterrupted",[])});var Ce=0,De=0;function ce(){return Ce++,function(){De++,!E&&De===Ce&&P(de)}}S.runFn(ce),setTimeout(ce())})}function P(de){if(H._transitionData)return C(H._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(S.redraw)return r.call("redraw",H)}).then(function(){H._transitioning=!1,H._transitioningWithDuration=!1,H.emit("plotly_transitioned",[])}).then(de)}function j(){if(H._transitionData)return H._transitioning=!1,I(H._transitionData._interruptCallbacks)}var ae=[p.previousPromises,j,S.prepareFn,p.rehover,p.reselect,K],fe=n.syncOrAsync(ae,H);return(!fe||!fe.then)&&(fe=Promise.resolve()),fe.then(function(){return H})}p.doCalcdata=function(H,Y){var S=h.list(H),E=H._fullData,I=H._fullLayout,C,K,P,j,ae=new Array(E.length),fe=(H.calcdata||[]).slice();for(H.calcdata=ae,I._numBoxes=0,I._numViolins=0,I._violinScaleGroupStats={},H._hmpixcount=0,H._hmlumcount=0,I._piecolormap={},I._sunburstcolormap={},I._treemapcolormap={},I._iciclecolormap={},I._funnelareacolormap={},P=0;P<E.length;P++)if(Array.isArray(Y)&&Y.indexOf(P)===-1){ae[P]=fe[P];continue}for(P=0;P<E.length;P++)C=E[P],C._arrayAttrs=f.findArrayAttributes(C),C._extremes={};var de=I._subplots.polar||[];for(P=0;P<de.length;P++)S.push(I[de[P]].radialaxis,I[de[P]].angularaxis);for(var Ce in I._colorAxes){var De=I[Ce];De.cauto!==!1&&(delete De.cmin,delete De.cmax)}var ce=!1;function me(Ae){if(C=E[Ae],K=C._module,C.visible===!0&&C.transforms){if(K&&K.calc){var xe=K.calc(H,C);xe[0]&&xe[0].t&&xe[0].t._scene&&delete xe[0].t._scene.dirty}for(j=0;j<C.transforms.length;j++){var Fe=C.transforms[j];K=v[Fe.type],K&&K.calcTransform&&(C._hasCalcTransform=!0,ce=!0,K.calcTransform(H,C,Fe))}}}function pe(Ae,xe){if(C=E[Ae],K=C._module,!!K.isContainer===xe){var Fe=[];if(C.visible===!0&&C._length!==0){delete C._indexToPoints;var Ke=C.transforms||[];for(j=Ke.length-1;j>=0;j--)if(Ke[j].enabled){C._indexToPoints=Ke[j]._indexToPoints;break}K&&K.calc&&(Fe=K.calc(H,C))}(!Array.isArray(Fe)||!Fe[0])&&(Fe=[{x:u,y:u}]),Fe[0].t||(Fe[0].t={}),Fe[0].trace=C,ae[Ae]=Fe}}for(oe(S,E,I),P=0;P<E.length;P++)pe(P,!0);for(P=0;P<E.length;P++)me(P);for(ce&&oe(S,E,I),P=0;P<E.length;P++)pe(P,!0);for(P=0;P<E.length;P++)pe(P,!1);ve(H);var Ee=Me(S,H);if(Ee.length){for(I._numBoxes=0,I._numViolins=0,P=0;P<Ee.length;P++)pe(Ee[P],!0);for(P=0;P<Ee.length;P++)pe(Ee[P],!1);ve(H)}r.getComponentMethod("fx","calc")(H),r.getComponentMethod("errorbars","calc")(H)};var ye=/(total|sum|min|max|mean|median) (ascending|descending)/;function Me(H,Y){var S=[],E,I,C,K,P;function j(St,At,ke){var Te=At._id.charAt(0);if(St==="histogram2dcontour"){var Re=At._counterAxes[0],Le=h.getFromId(Y,Re),Oe=Te==="x"||Re==="x"&&Le.type==="category",le=Te==="y"||Re==="y"&&Le.type==="category";return function(be,we){return be===0||we===0||Oe&&be===ke[we].length-1||le&&we===ke.length-1?-1:(Te==="y"?we:be)-1}}else return function(be,we){return Te==="y"?we:be}}var ae={min:function(St){return n.aggNums(Math.min,null,St)},max:function(St){return n.aggNums(Math.max,null,St)},sum:function(St){return n.aggNums(function(At,ke){return At+ke},null,St)},total:function(St){return n.aggNums(function(At,ke){return At+ke},null,St)},mean:function(St){return n.mean(St)},median:function(St){return n.median(St)}};for(E=0;E<H.length;E++){var fe=H[E];if(fe.type==="category"){var de=fe.categoryorder.match(ye);if(de){var Ce=de[1],De=de[2],ce=fe._id.charAt(0),me=ce==="x",pe=[];for(I=0;I<fe._categories.length;I++)pe.push([fe._categories[I],[]]);for(I=0;I<fe._traceIndices.length;I++){var Ee=fe._traceIndices[I],Ae=Y._fullData[Ee];if(Ae.visible===!0){var xe=Ae.type;r.traceIs(Ae,"histogram")&&(delete Ae._xautoBinFinished,delete Ae._yautoBinFinished);var Fe=xe==="splom",Ke=xe==="scattergl",je=Y.calcdata[Ee];for(C=0;C<je.length;C++){var Ve=je[C],dt,bt;if(Fe){var Tt=Ae._axesDim[fe._id];if(!me){var it=Ae._diag[Tt][0];it&&(fe=Y._fullLayout[h.id2name(it)])}var kt=Ve.trace.dimensions[Tt].values;for(K=0;K<kt.length;K++)for(dt=fe._categoriesMap[kt[K]],P=0;P<Ve.trace.dimensions.length;P++)if(P!==Tt){var tt=Ve.trace.dimensions[P];pe[dt][1].push(tt.values[K])}}else if(Ke){for(K=0;K<Ve.t.x.length;K++)me?(dt=Ve.t.x[K],bt=Ve.t.y[K]):(dt=Ve.t.y[K],bt=Ve.t.x[K]),pe[dt][1].push(bt);Ve.t&&Ve.t._scene&&delete Ve.t._scene.dirty}else if(Ve.hasOwnProperty("z")){bt=Ve.z;var Mt=j(Ae.type,fe,bt);for(K=0;K<bt.length;K++)for(P=0;P<bt[K].length;P++)dt=Mt(P,K),dt+1&&pe[dt][1].push(bt[K][P])}else for(dt=Ve.p,dt===void 0&&(dt=Ve[ce]),bt=Ve.s,bt===void 0&&(bt=Ve.v),bt===void 0&&(bt=me?Ve.y:Ve.x),Array.isArray(bt)||(bt===void 0?bt=[]:bt=[bt]),K=0;K<bt.length;K++)pe[dt][1].push(bt[K])}}}fe._categoriesValue=pe;var Dt=[];for(I=0;I<pe.length;I++)Dt.push([pe[I][0],ae[Ce](pe[I][1])]);Dt.sort(function(St,At){return St[1]-At[1]}),fe._categoriesAggregatedValue=Dt,fe._initialCategories=Dt.map(function(St){return St[0]}),De==="descending"&&fe._initialCategories.reverse(),S=S.concat(fe.sortByInitialCategories())}}}return S}function oe(H,Y,S){var E={};function I(j){j.clearCalc(),j.type==="multicategory"&&j.setupMultiCategory(Y),E[j._id]=1}n.simpleMap(H,I);for(var C=S._axisMatchGroups||[],K=0;K<C.length;K++)for(var P in C[K])E[P]||I(S[h.id2name(P)])}function ve(H){var Y=H._fullLayout,S=Y._visibleModules,E={},I,C,K;for(C=0;C<S.length;C++){var P=S[C],j=P.crossTraceCalc;if(j){var ae=P.basePlotModule.name;E[ae]?n.pushUnique(E[ae],j):E[ae]=[j]}}for(K in E){var fe=E[K],de=Y._subplots[K];if(Array.isArray(de))for(I=0;I<de.length;I++){var Ce=de[I],De=K==="cartesian"?Y._plots[Ce]:Y[Ce];for(C=0;C<fe.length;C++)fe[C](H,De,Ce)}else for(C=0;C<fe.length;C++)fe[C](H)}}p.rehover=function(H){H._fullLayout._rehover&&H._fullLayout._rehover()},p.redrag=function(H){H._fullLayout._redrag&&H._fullLayout._redrag()},p.reselect=function(H){var Y=H._fullLayout,S=(H.layout||{}).selections,E=Y._previousSelections;Y._previousSelections=S;var I=Y._reselect||JSON.stringify(S)!==JSON.stringify(E);r.getComponentMethod("selections","reselect")(H,I)},p.generalUpdatePerTraceModule=function(H,Y,S,E){var I=Y.traceHash,C={},K;for(K=0;K<S.length;K++){var P=S[K],j=P[0].trace;j.visible&&(C[j.type]=C[j.type]||[],C[j.type].push(P))}for(var ae in I)if(!C[ae]){var fe=I[ae][0],de=fe[0].trace;de.visible=!1,C[ae]=[fe]}for(var Ce in C){var De=C[Ce],ce=De[0][0].trace._module;ce.plot(H,Y,n.filterVisible(De),E)}Y.traceHash=C},p.plotBasePlot=function(H,Y,S,E,I){var C=r.getModule(H),K=x(Y.calcdata,C)[0];C.plot(Y,K,E,I)},p.cleanBasePlot=function(H,Y,S,E,I){var C=I._has&&I._has(H),K=S._has&&S._has(H);C&&!K&&I["_"+H+"layer"].selectAll("g.trace").remove()}},5386:function(te,z,e){var l=e(1562);l.FORMAT_LINK,l.DATE_FORMAT_LINK;function g(s){var i=s.description?" "+s.description:"",r=s.keys||[];if(r.length>0){for(var f=[],o=0;o<r.length;o++)f[o]="`"+r[o]+"`";i=i+"Finally, the template string has access to ",r.length===1?i=i+"variable "+f[0]:i=i+"variables "+f.slice(0,-1).join(", ")+" and "+f.slice(-1)+"."}return i}z.fF=function(s,i){s=s||{},i=i||{},g(i);var r={valType:"string",dflt:"",editType:s.editType||"none"};return s.arrayOk!==!1&&(r.arrayOk=!0),r},z.si=function(s,i){s=s||{},i=i||{},g(i);var r={valType:"string",dflt:"",editType:s.editType||"calc"};return s.arrayOk!==!1&&(r.arrayOk=!0),r},z.R=function(s,i){s=s||{},i=i||{},s.newshape,g(i);var r={valType:"string",dflt:"",editType:s.editType||"arraydraw"};return r}},3972:function(te,z,e){var l=e(7769),g=e(4213),s=e(5138),i=e(1965),r=e(4401).addStyleRule,f=e(1426),o=e(9012),n=e(820),t=f.extendFlat,u=f.extendDeepAll;z.modules={},z.allCategories={},z.allTypes=[],z.subplotsRegistry={},z.transformsRegistry={},z.componentsRegistry={},z.layoutArrayContainers=[],z.layoutArrayRegexes=[],z.traceLayoutAttributes={},z.localeRegistry={},z.apiMethodRegistry={},z.collectableSubplotTypes=null,z.register=function(w){if(z.collectableSubplotTypes=null,w)w&&!Array.isArray(w)&&(w=[w]);else throw new Error("No argument passed to Plotly.register.");for(var _=0;_<w.length;_++){var k=w[_];if(!k)throw new Error("Invalid module was attempted to be registered!");switch(k.moduleType){case"trace":h(k);break;case"transform":d(k);break;case"component":y(k);break;case"locale":T(k);break;case"apiMethod":var B=k.name;z.apiMethodRegistry[B]=k.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},z.getModule=function(b){var w=z.modules[v(b)];return w?w._module:!1},z.traceIs=function(b,w){if(b=v(b),b==="various")return!1;var _=z.modules[b];return _||(b&&l.log("Unrecognized trace type "+b+"."),_=z.modules[o.type.dflt]),!!_.categories[w]},z.getTransformIndices=function(b,w){for(var _=[],k=b.transforms||[],B=0;B<k.length;B++)k[B].type===w&&_.push(B);return _},z.hasTransform=function(b,w){for(var _=b.transforms||[],k=0;k<_.length;k++)if(_[k].type===w)return!0;return!1},z.getComponentMethod=function(b,w){var _=z.componentsRegistry[b];return _&&_[w]||g},z.call=function(){var b=arguments[0],w=[].slice.call(arguments,1);return z.apiMethodRegistry[b].apply(null,w)};function h(b){var w=b.name,_=b.categories,k=b.meta;if(z.modules[w]){l.log("Type "+w+" already registered");return}z.subplotsRegistry[b.basePlotModule.name]||m(b.basePlotModule);for(var B={},U=0;U<_.length;U++)B[_[U]]=!0,z.allCategories[_[U]]=!0;z.modules[w]={_module:b,categories:B},k&&Object.keys(k).length&&(z.modules[w].meta=k),z.allTypes.push(w);for(var L in z.componentsRegistry)M(L,w);b.layoutAttributes&&t(z.traceLayoutAttributes,b.layoutAttributes);var O=b.basePlotModule,R=O.name;if(R==="mapbox"){var Z=O.constants.styleRules;for(var $ in Z)r(".js-plotly-plot .plotly .mapboxgl-"+$,Z[$])}(R==="geo"||R==="mapbox")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function m(b){var w=b.name;if(z.subplotsRegistry[w]){l.log("Plot type "+w+" already registered.");return}x(b),z.subplotsRegistry[w]=b;for(var _ in z.componentsRegistry)p(_,b.name)}function y(b){if(typeof b.name!="string")throw new Error("Component module *name* must be a string.");var w=b.name;z.componentsRegistry[w]=b,b.layoutAttributes&&(b.layoutAttributes._isLinkedToArray&&s(z.layoutArrayContainers,w),x(b));for(var _ in z.modules)M(w,_);for(var k in z.subplotsRegistry)p(w,k);for(var B in z.transformsRegistry)c(w,B);b.schema&&b.schema.layout&&u(n,b.schema.layout)}function d(b){if(typeof b.name!="string")throw new Error("Transform module *name* must be a string.");var w="Transform module "+b.name,_=typeof b.transform=="function",k=typeof b.calcTransform=="function";if(!_&&!k)throw new Error(w+" is missing a *transform* or *calcTransform* method.");_&&k&&l.log([w+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),i(b.attributes)||l.log(w+" registered without an *attributes* object."),typeof b.supplyDefaults!="function"&&l.log(w+" registered without a *supplyDefaults* method."),z.transformsRegistry[b.name]=b;for(var B in z.componentsRegistry)c(B,b.name)}function T(b){var w=b.name,_=w.split("-")[0],k=b.dictionary,B=b.format,U=k&&Object.keys(k).length,L=B&&Object.keys(B).length,O=z.localeRegistry,R=O[w];if(R||(O[w]=R={}),_!==w){var Z=O[_];Z||(O[_]=Z={}),U&&Z.dictionary===R.dictionary&&(Z.dictionary=k),L&&Z.format===R.format&&(Z.format=B)}U&&(R.dictionary=k),L&&(R.format=B)}function x(b){if(b.layoutAttributes){var w=b.layoutAttributes._arrayAttrRegexps;if(w)for(var _=0;_<w.length;_++)s(z.layoutArrayRegexes,w[_])}}function M(b,w){var _=z.componentsRegistry[b].schema;if(!(!_||!_.traces)){var k=_.traces[w];k&&u(z.modules[w]._module.attributes,k)}}function c(b,w){var _=z.componentsRegistry[b].schema;if(!(!_||!_.transforms)){var k=_.transforms[w];k&&u(z.transformsRegistry[w].attributes,k)}}function p(b,w){var _=z.componentsRegistry[b].schema;if(!(!_||!_.subplots)){var k=z.subplotsRegistry[w],B=k.layoutAttributes,U=k.attr==="subplot"?k.name:k.attr;Array.isArray(U)&&(U=U[0]);var L=_.subplots[U];B&&L&&u(B,L)}}function v(b){return typeof b=="object"&&(b=b.type),b}},1914:function(te,z,e){var l=e(3972),g=e(1828),s=g.extendFlat,i=g.extendDeep;function r(o){var n;switch(o){case"themes__thumb":n={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":n={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:n={}}return n}function f(o){var n=["xaxis","yaxis","zaxis"];return n.indexOf(o.slice(0,5))>-1}te.exports=function(n,t){var u,h=n.data,m=n.layout,y=i([],h),d=i({},m,r(t.tileClass)),T=n._context||{};if(t.width&&(d.width=t.width),t.height&&(d.height=t.height),t.tileClass==="thumbnail"||t.tileClass==="themes__thumb"){d.annotations=[];var x=Object.keys(d);for(u=0;u<x.length;u++)f(x[u])&&(d[x[u]].title={text:""});for(u=0;u<y.length;u++){var M=y[u];M.showscale=!1,M.marker&&(M.marker.showscale=!1),l.traceIs(M,"pie-like")&&(M.textposition="none")}}if(Array.isArray(t.annotations))for(u=0;u<t.annotations.length;u++)d.annotations.push(t.annotations[u]);var c=Object.keys(d).filter(function(_){return _.match(/^scene\d*$/)});if(c.length){var p={};for(t.tileClass==="thumbnail"&&(p={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),u=0;u<c.length;u++){var v=d[c[u]];v.xaxis||(v.xaxis={}),v.yaxis||(v.yaxis={}),v.zaxis||(v.zaxis={}),s(v.xaxis,p),s(v.yaxis,p),s(v.zaxis,p),v._scene=null}}var b=document.createElement("div");t.tileClass&&(b.className=t.tileClass);var w={gd:b,td:b,layout:d,data:y,config:{staticPlot:t.staticPlot===void 0?!0:t.staticPlot,plotGlPixelRatio:t.plotGlPixelRatio===void 0?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:T.mapboxAccessToken}};return t.setBackground!=="transparent"&&(w.config.setBackground=t.setBackground||"opaque"),w.gd.defaultLayout=r(t.tileClass),w}},7239:function(te,z,e){var l=e(1828),g=e(403),s=e(2435),i=e(5095);function r(f,o){var n;return l.isPlainObject(f)||(n=l.getGraphDiv(f)),o=o||{},o.format=o.format||"png",o.width=o.width||null,o.height=o.height||null,o.imageDataOnly=!0,new Promise(function(t,u){n&&n._snapshotInProgress&&u(new Error("Snapshotting already in progress.")),l.isIE()&&o.format!=="svg"&&u(new Error(i.MSG_IE_BAD_FORMAT)),n&&(n._snapshotInProgress=!0);var h=g(f,o),m=o.filename||f.fn||"newplot";m+="."+o.format.replace("-","."),h.then(function(y){return n&&(n._snapshotInProgress=!1),s(y,m,o.format)}).then(function(y){t(y)}).catch(function(y){n&&(n._snapshotInProgress=!1),u(y)})})}te.exports=r},2435:function(te,z,e){var l=e(1828),g=e(5095);function s(i,r,f){var o=document.createElement("a"),n="download"in o,t=new Promise(function(u,h){var m,y;if(l.isIE())return m=g.createBlob(i,"svg"),window.navigator.msSaveBlob(m,r),m=null,u(r);if(n)return m=g.createBlob(i,f),y=g.createObjectURL(m),o.href=y,o.download=r,document.body.appendChild(o),o.click(),document.body.removeChild(o),g.revokeObjectURL(y),m=null,u(r);if(l.isSafari()){var d=f==="svg"?",":";base64,";return g.octetStream(d+encodeURIComponent(i)),u(r)}h(new Error("download error"))});return t}te.exports=s},5095:function(te,z,e){var l=e(3972);z.getDelay=function(i){return i._has&&(i._has("gl3d")||i._has("gl2d")||i._has("mapbox"))?500:0},z.getRedrawFunc=function(i){return function(){l.getComponentMethod("colorbar","draw")(i)}},z.encodeSVG=function(i){return"data:image/svg+xml,"+encodeURIComponent(i)},z.encodeJSON=function(i){return"data:application/json,"+encodeURIComponent(i)};var g=window.URL||window.webkitURL;z.createObjectURL=function(i){return g.createObjectURL(i)},z.revokeObjectURL=function(i){return g.revokeObjectURL(i)},z.createBlob=function(i,r){if(r==="svg")return new window.Blob([i],{type:"image/svg+xml;charset=utf-8"});if(r==="full-json")return new window.Blob([i],{type:"application/json;charset=utf-8"});var f=s(window.atob(i));return new window.Blob([f],{type:"image/"+r})},z.octetStream=function(i){document.location.href="data:application/octet-stream"+i};function s(i){for(var r=i.length,f=new ArrayBuffer(r),o=new Uint8Array(f),n=0;n<r;n++)o[n]=i.charCodeAt(n);return f}z.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,z.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},4511:function(te,z,e){var l=e(5095),g={getDelay:l.getDelay,getRedrawFunc:l.getRedrawFunc,clone:e(1914),toSVG:e(5900),svgToImg:e(942),toImage:e(6395),downloadImage:e(7239)};te.exports=g},942:function(te,z,e){var l=e(1828),g=e(5398).EventEmitter,s=e(5095);function i(r){var f=r.emitter||new g,o=new Promise(function(n,t){var u=window.Image,h=r.svg,m=r.format||"png";if(l.isIE()&&m!=="svg"){var y=new Error(s.MSG_IE_BAD_FORMAT);return t(y),r.promise?o:f.emit("error",y)}var d=r.canvas,T=r.scale||1,x=r.width||300,M=r.height||150,c=T*x,p=T*M,v=d.getContext("2d",{willReadFrequently:!0}),b=new u,w,_;m==="svg"||l.isSafari()?_=s.encodeSVG(h):(w=s.createBlob(h,"svg"),_=s.createObjectURL(w)),d.width=c,d.height=p,b.onload=function(){var k;switch(w=null,s.revokeObjectURL(_),m!=="svg"&&v.drawImage(b,0,0,c,p),m){case"jpeg":k=d.toDataURL("image/jpeg");break;case"png":k=d.toDataURL("image/png");break;case"webp":k=d.toDataURL("image/webp");break;case"svg":k=_;break;default:var B="Image format is not jpeg, png, svg or webp.";if(t(new Error(B)),!r.promise)return f.emit("error",B)}n(k),r.promise||f.emit("success",k)},b.onerror=function(k){if(w=null,s.revokeObjectURL(_),t(k),!r.promise)return f.emit("error",k)},b.src=_});return r.promise?o:f}te.exports=i},6395:function(te,z,e){var l=e(5398).EventEmitter,g=e(3972),s=e(1828),i=e(5095),r=e(1914),f=e(5900),o=e(942);function n(t,u){var h=new l,m=r(t,{format:"png"}),y=m.gd;y.style.position="absolute",y.style.left="-5000px",document.body.appendChild(y);function d(){var x=i.getDelay(y._fullLayout);setTimeout(function(){var M=f(y),c=document.createElement("canvas");c.id=s.randstr(),h=o({format:u.format,width:y._fullLayout.width,height:y._fullLayout.height,canvas:c,emitter:h,svg:M}),h.clean=function(){y&&document.body.removeChild(y)}},x)}var T=i.getRedrawFunc(y);return g.call("_doPlot",y,m.data,m.layout,m.config).then(T).then(d).catch(function(x){h.emit("error",x)}),h}te.exports=n},5900:function(te,z,e){var l=e(9898),g=e(1828),s=e(1424),i=e(7901),r=e(7922),f=/"/g,o="TOBESTRIPPED",n=new RegExp('("'+o+")|("+o+'")',"g");function t(h){var m=l.select("body").append("div").style({display:"none"}).html(""),y=h.replace(/(&[^;]*;)/gi,function(d){return d==="&lt;"?"&#60;":d==="&rt;"?"&#62;":d.indexOf("<")!==-1||d.indexOf(">")!==-1?"":m.html(d).text()});return m.remove(),y}function u(h){return h.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}te.exports=function(m,y,d){var T=m._fullLayout,x=T._paper,M=T._toppaper,c=T.width,p=T.height,v;x.insert("rect",":first-child").call(s.setRect,0,0,c,p).call(i.fill,T.paper_bgcolor);var b=T._basePlotModules||[];for(v=0;v<b.length;v++){var w=b[v];w.toSVG&&w.toSVG(m)}if(M){var _=M.node().childNodes,k=Array.prototype.slice.call(_);for(v=0;v<k.length;v++){var B=k[v];B.childNodes.length&&x.node().appendChild(B)}}T._draggers&&T._draggers.remove(),x.node().style.background="",x.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var L=l.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){L.remove();return}else L.style({visibility:null,display:null});var O=this.style.fontFamily;O&&O.indexOf('"')!==-1&&L.style("font-family",O.replace(f,o))}),x.selectAll(".gradient_filled,.pattern_filled").each(function(){var L=l.select(this),O=this.style.fill;O&&O.indexOf("url(")!==-1&&L.style("fill",O.replace(f,o));var R=this.style.stroke;R&&R.indexOf("url(")!==-1&&L.style("stroke",R.replace(f,o))}),(y==="pdf"||y==="eps")&&x.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),x.node().setAttributeNS(r.xmlns,"xmlns",r.svg),x.node().setAttributeNS(r.xmlns,"xmlns:xlink",r.xlink),y==="svg"&&d&&(x.attr("width",d*c),x.attr("height",d*p),x.attr("viewBox","0 0 "+c+" "+p));var U=new window.XMLSerializer().serializeToString(x.node());return U=t(U),U=u(U),U=U.replace(n,"'"),g.isIE()&&(U=U.replace(/"/gi,"'"),U=U.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),U=U.replace(/(\\')/gi,'"')),U}},5341:function(te,z,e){var l=e(1828);te.exports=function(s,i){for(var r=0;r<s.length;r++)s[r].i=r;l.mergeArray(i.text,s,"tx"),l.mergeArray(i.hovertext,s,"htx");var f=i.marker;if(f){l.mergeArray(f.opacity,s,"mo",!0),l.mergeArray(f.color,s,"mc");var o=f.line;o&&(l.mergeArray(o.color,s,"mlc"),l.mergeArrayCastPositive(o.width,s,"mlw"))}}},1486:function(te,z,e){var l=e(2196),g=e(2663).axisHoverFormat,s=e(5386).fF,i=e(5386).si,r=e(693),f=e(1940),o=e(7313),n=e(9952).u,t=e(1426).extendFlat,u=f({editType:"calc",arrayOk:!0,colorEditType:"style"}),h=l.marker,m=h.line,y=t({},m.width,{dflt:0}),d=t({width:y,editType:"calc"},r("marker.line")),T=t({line:d,editType:"calc"},r("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:n});te.exports={x:l.x,x0:l.x0,dx:l.dx,y:l.y,y0:l.y0,dy:l.dy,xperiod:l.xperiod,yperiod:l.yperiod,xperiod0:l.xperiod0,yperiod0:l.yperiod0,xperiodalignment:l.xperiodalignment,yperiodalignment:l.yperiodalignment,xhoverformat:g("x"),yhoverformat:g("y"),text:l.text,texttemplate:i({editType:"plot"},{keys:o.eventDataKeys}),hovertext:l.hovertext,hovertemplate:s({},{keys:o.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:t({},u,{}),insidetextfont:t({},u,{}),outsidetextfont:t({},u,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:t({},l.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:T,offsetgroup:l.offsetgroup,alignmentgroup:l.alignmentgroup,selected:{marker:{opacity:l.selected.marker.opacity,color:l.selected.marker.color,editType:"style"},textfont:l.selected.textfont,editType:"style"},unselected:{marker:{opacity:l.unselected.marker.opacity,color:l.unselected.marker.color,editType:"style"},textfont:l.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},2290:function(te,z,e){var l=e(9298),g=e(2973),s=e(2869).hasColorscale,i=e(8803),r=e(5341),f=e(6279);te.exports=function(n,t){var u=l.getFromId(n,t.xaxis||"x"),h=l.getFromId(n,t.yaxis||"y"),m,y,d,T,x,M,c={msUTC:!!(t.base||t.base===0)};t.orientation==="h"?(m=u.makeCalcdata(t,"x",c),d=h.makeCalcdata(t,"y"),T=g(t,h,"y",d),x=!!t.yperiodalignment,M="y"):(m=h.makeCalcdata(t,"y",c),d=u.makeCalcdata(t,"x"),T=g(t,u,"x",d),x=!!t.xperiodalignment,M="x"),y=T.vals;for(var p=Math.min(y.length,m.length),v=new Array(p),b=0;b<p;b++)v[b]={p:y[b],s:m[b]},x&&(v[b].orig_p=d[b],v[b][M+"End"]=T.ends[b],v[b][M+"Start"]=T.starts[b]),t.ids&&(v[b].id=String(t.ids[b]));return s(t,"marker")&&i(n,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),s(t,"marker.line")&&i(n,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),r(v,t),f(v,t),v}},7313:function(te){te.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},1661:function(te,z,e){var l=e(2770),g=e(1828).isArrayOrTypedArray,s=e(606).BADNUM,i=e(3972),r=e(9298),f=e(9082).getAxisGroup,o=e(1546);function n(U,L){for(var O=L.xaxis,R=L.yaxis,Z=U._fullLayout,$=U._fullData,ie=U.calcdata,N=[],F=[],G=0;G<$.length;G++){var W=$[G];if(W.visible===!0&&i.traceIs(W,"bar")&&W.xaxis===O._id&&W.yaxis===R._id&&(W.orientation==="h"?N.push(ie[G]):F.push(ie[G]),W._computePh))for(var X=U.calcdata[G],J=0;J<X.length;J++)typeof X[J].ph0=="function"&&(X[J].ph0=X[J].ph0()),typeof X[J].ph1=="function"&&(X[J].ph1=X[J].ph1())}var ne={xCat:O.type==="category"||O.type==="multicategory",yCat:R.type==="category"||R.type==="multicategory",mode:Z.barmode,norm:Z.barnorm,gap:Z.bargap,groupgap:Z.bargroupgap};t(U,O,R,F,ne),t(U,R,O,N,ne)}function t(U,L,O,R,Z){if(R.length){var $,ie,N,F,G;switch(u(O,R),Z.mode){case"overlay":h(L,O,R,Z);break;case"group":for($=[],ie=[],N=0;N<R.length;N++)F=R[N],G=F[0].trace,G.offset===void 0?ie.push(F):$.push(F);ie.length&&m(U,L,O,ie,Z),$.length&&h(L,O,$,Z);break;case"stack":case"relative":for($=[],ie=[],N=0;N<R.length;N++)F=R[N],G=F[0].trace,G.base===void 0?ie.push(F):$.push(F);ie.length&&y(U,L,O,ie,Z),$.length&&h(L,O,$,Z);break}k(R,L)}}function u(U,L){var O,R;for(O=0;O<L.length;O++){var Z=L[O],$=Z[0].trace,ie=$.type==="funnel"?$._base:$.base,N,F=$.orientation==="h"?$.xcalendar:$.ycalendar,G=U.type==="category"||U.type==="multicategory"?function(){return null}:U.d2c;if(g(ie)){for(R=0;R<Math.min(ie.length,Z.length);R++)N=G(ie[R],0,F),l(N)?(Z[R].b=+N,Z[R].hasB=1):Z[R].b=0;for(;R<Z.length;R++)Z[R].b=0}else{N=G(ie,0,F);var W=l(N);for(N=W?N:0,R=0;R<Z.length;R++)Z[R].b=N,W&&(Z[R].hasB=1)}}}function h(U,L,O,R){for(var Z=0;Z<O.length;Z++){var $=O[Z],ie=new o([$],{posAxis:U,sepNegVal:!1,overlapNoMerge:!R.norm});d(U,ie,R),R.norm?(b(ie),_(L,ie,R)):p(L,ie)}}function m(U,L,O,R,Z){var $=new o(R,{posAxis:L,sepNegVal:!1,overlapNoMerge:!Z.norm});T(U,L,$,Z),w($,L),Z.norm?(b($),_(O,$,Z)):p(O,$)}function y(U,L,O,R,Z){var $=new o(R,{posAxis:L,sepNegVal:Z.mode==="relative",overlapNoMerge:!(Z.norm||Z.mode==="stack"||Z.mode==="relative")});d(L,$,Z),v(O,$,Z);for(var ie=0;ie<R.length;ie++)for(var N=R[ie],F=0;F<N.length;F++){var G=N[F];if(G.s!==s){var W=G.b+G.s===$.get(G.p,G.s);W&&(G._outmost=!0)}}Z.norm&&_(O,$,Z)}function d(U,L,O){for(var R=L.minDiff,Z=L.traces,$=R*(1-O.gap),ie=$,N=ie*(1-(O.groupgap||0)),F=-N/2,G=0;G<Z.length;G++){var W=Z[G],X=W[0].t;X.barwidth=N,X.poffset=F,X.bargroupwidth=$,X.bardelta=R}L.binWidth=Z[0][0].t.barwidth/100,x(L),M(U,L),c(U,L)}function T(U,L,O,R){for(var Z=U._fullLayout,$=O.positions,ie=O.distinctPositions,N=O.minDiff,F=O.traces,G=F.length,W=$.length!==ie.length,X=N*(1-R.gap),J=f(Z,L._id)+F[0][0].trace.orientation,ne=Z._alignmentOpts[J]||{},ue=0;ue<G;ue++){var ye=F[ue],Me=ye[0].trace,oe=ne[Me.alignmentgroup]||{},ve=Object.keys(oe.offsetGroups||{}).length,H;ve?H=X/ve:H=W?X/G:X;var Y=H*(1-(R.groupgap||0)),S;ve?S=((2*Me._offsetIndex+1-ve)*H-Y)/2:S=W?((2*ue+1-G)*H-Y)/2:-Y/2;var E=ye[0].t;E.barwidth=Y,E.poffset=S,E.bargroupwidth=X,E.bardelta=N}O.binWidth=F[0][0].t.barwidth/100,x(O),M(L,O),c(L,O,W)}function x(U){var L=U.traces,O,R;for(O=0;O<L.length;O++){var Z=L[O],$=Z[0],ie=$.trace,N=$.t,F=ie._offset||ie.offset,G=N.poffset,W;if(g(F)){for(W=Array.prototype.slice.call(F,0,Z.length),R=0;R<W.length;R++)l(W[R])||(W[R]=G);for(R=W.length;R<Z.length;R++)W.push(G);N.poffset=W}else F!==void 0&&(N.poffset=F);var X=ie._width||ie.width,J=N.barwidth;if(g(X)){var ne=Array.prototype.slice.call(X,0,Z.length);for(R=0;R<ne.length;R++)l(ne[R])||(ne[R]=J);for(R=ne.length;R<Z.length;R++)ne.push(J);if(N.barwidth=ne,F===void 0){for(W=[],R=0;R<Z.length;R++)W.push(G+(J-ne[R])/2);N.poffset=W}}else X!==void 0&&(N.barwidth=X,F===void 0&&(N.poffset=G+(J-X)/2))}}function M(U,L){for(var O=L.traces,R=B(U),Z=0;Z<O.length;Z++)for(var $=O[Z],ie=$[0].t,N=ie.poffset,F=Array.isArray(N),G=ie.barwidth,W=Array.isArray(G),X=0;X<$.length;X++){var J=$[X],ne=J.w=W?G[X]:G;J.p===void 0&&(J.p=J[R],J["orig_"+R]=J[R]);var ue=(F?N[X]:N)+ne/2;J[R]=J.p+ue}}function c(U,L,O){var R=L.traces,Z=L.minDiff,$=Z/2;r.minDtick(U,L.minDiff,L.distinctPositions[0],O);for(var ie=0;ie<R.length;ie++){var N=R[ie],F=N[0],G=F.trace,W=[],X,J,ne,ue;for(ue=0;ue<N.length;ue++)X=N[ue],J=X.p-$,ne=X.p+$,W.push(J,ne);if(G.width||G.offset){var ye=F.t,Me=ye.poffset,oe=ye.barwidth,ve=Array.isArray(Me),H=Array.isArray(oe);for(ue=0;ue<N.length;ue++){X=N[ue];var Y=ve?Me[ue]:Me,S=H?oe[ue]:oe;J=X.p+Y,ne=J+S,W.push(J,ne)}}G._extremes[U._id]=r.findExtremes(U,W,{padded:!1})}}function p(U,L){for(var O=L.traces,R=B(U),Z=0;Z<O.length;Z++){for(var $=O[Z],ie=$[0].trace,N=ie.type==="scatter",F=ie.orientation==="v",G=[],W=!1,X=0;X<$.length;X++){var J=$[X],ne=N?0:J.b,ue=N?F?J.y:J.x:ne+J.s;J[R]=ue,G.push(ue),J.hasB&&G.push(ne),(!J.hasB||!J.b)&&(W=!0)}ie._extremes[U._id]=r.findExtremes(U,G,{tozero:W,padded:!0})}}function v(U,L,O){var R=B(U),Z=L.traces,$,ie,N,F,G,W;for(F=0;F<Z.length;F++)if($=Z[F],ie=$[0].trace,ie.type==="funnel")for(G=0;G<$.length;G++)W=$[G],W.s!==s&&L.put(W.p,-.5*W.s);for(F=0;F<Z.length;F++){$=Z[F],ie=$[0].trace,N=ie.type==="funnel";var X=[];for(G=0;G<$.length;G++)if(W=$[G],W.s!==s){var J;N?J=W.s:J=W.s+W.b;var ne=L.put(W.p,J),ue=ne+J;W.b=ne,W[R]=ue,O.norm||(X.push(ue),W.hasB&&X.push(ne))}O.norm||(ie._extremes[U._id]=r.findExtremes(U,X,{tozero:!0,padded:!0}))}}function b(U){for(var L=U.traces,O=0;O<L.length;O++)for(var R=L[O],Z=0;Z<R.length;Z++){var $=R[Z];$.s!==s&&U.put($.p,$.b+$.s)}}function w(U,L){for(var O=U.traces,R=0;R<O.length;R++){var Z=O[R],$=Z[0].trace;if($.base===void 0)for(var ie=new o([Z],{posAxis:L,sepNegVal:!0,overlapNoMerge:!0}),N=0;N<Z.length;N++){var F=Z[N];if(F.p!==s){var G=ie.put(F.p,F.b+F.s);G&&(F.b=G)}}}}function _(U,L,O){var R=L.traces,Z=B(U),$=O.norm==="fraction"?1:100,ie=$/1e9,N=U.l2c(U.c2l(0)),F=O.mode==="stack"?$:N;function G(S){return l(U.c2l(S))&&(S<N-ie||S>F+ie||!l(N))}for(var W=0;W<R.length;W++){for(var X=R[W],J=X[0].trace,ne=[],ue=!1,ye=!1,Me=0;Me<X.length;Me++){var oe=X[Me];if(oe.s!==s){var ve=Math.abs($/L.get(oe.p,oe.s));oe.b*=ve,oe.s*=ve;var H=oe.b,Y=H+oe.s;oe[Z]=Y,ne.push(Y),ye=ye||G(Y),oe.hasB&&(ne.push(H),ye=ye||G(H)),(!oe.hasB||!oe.b)&&(ue=!0)}}J._extremes[U._id]=r.findExtremes(U,ne,{tozero:ue,padded:ye})}}function k(U,L){var O=B(L),R={},Z,$,ie,N=1/0,F=-1/0;for(Z=0;Z<U.length;Z++)for(ie=U[Z],$=0;$<ie.length;$++){var G=ie[$].p;l(G)&&(N=Math.min(N,G),F=Math.max(F,G))}var W=1e4/(F-N),X=R.round=function(ve){return String(Math.round(W*(ve-N)))};for(Z=0;Z<U.length;Z++){ie=U[Z],ie[0].t.extents=R;var J=ie[0].t.poffset,ne=Array.isArray(J);for($=0;$<ie.length;$++){var ue=ie[$],ye=ue[O]-ue.w/2;if(l(ye)){var Me=ue[O]+ue.w/2,oe=X(ue.p);R[oe]?R[oe]=[Math.min(ye,R[oe][0]),Math.max(Me,R[oe][1])]:R[oe]=[ye,Me]}ue.p0=ue.p+(ne?J[$]:J),ue.p1=ue.p0+ue.w,ue.s0=ue.b,ue.s1=ue.s0+ue.s}}}function B(U){return U._id.charAt(0)}te.exports={crossTraceCalc:n,setGroupPositions:t}},769:function(te,z,e){var l=e(1828),g=e(7901),s=e(3972),i=e(7513),r=e(3927),f=e(8340),o=e(6125),n=e(1486),t=l.coerceFont;function u(y,d,T,x){function M(w,_){return l.coerce(y,d,n,w,_)}var c=i(y,d,x,M);if(!c){d.visible=!1;return}r(y,d,x,M),M("xhoverformat"),M("yhoverformat"),M("orientation",d.x&&!d.y?"h":"v"),M("base"),M("offset"),M("width"),M("text"),M("hovertext"),M("hovertemplate");var p=M("textposition");m(y,d,x,M,p,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),f(y,d,M,T,x);var v=(d.marker.line||{}).color,b=s.getComponentMethod("errorbars","supplyDefaults");b(y,d,v||g.defaultLine,{axis:"y"}),b(y,d,v||g.defaultLine,{axis:"x",inherit:"y"}),l.coerceSelectionMarkerOpacity(d,M)}function h(y,d){var T,x;function M(p){return l.coerce(x._input,x,n,p)}if(d.barmode==="group")for(var c=0;c<y.length;c++)x=y[c],x.type==="bar"&&(T=x._input,o(T,x,d,M))}function m(y,d,T,x,M,c){c=c||{};var p=c.moduleHasSelected!==!1,v=c.moduleHasUnselected!==!1,b=c.moduleHasConstrain!==!1,w=c.moduleHasCliponaxis!==!1,_=c.moduleHasTextangle!==!1,k=c.moduleHasInsideanchor!==!1,B=!!c.hasPathbar,U=Array.isArray(M)||M==="auto",L=U||M==="inside",O=U||M==="outside";if(L||O){var R=t(x,"textfont",T.font),Z=l.extendFlat({},R),$=y.textfont&&y.textfont.color,ie=!$;if(ie&&delete Z.color,t(x,"insidetextfont",Z),B){var N=l.extendFlat({},R);ie&&delete N.color,t(x,"pathbar.textfont",N)}O&&t(x,"outsidetextfont",R),p&&x("selected.textfont.color"),v&&x("unselected.textfont.color"),b&&x("constraintext"),w&&x("cliponaxis"),_&&x("textangle"),x("texttemplate")}L&&k&&x("insidetextanchor")}te.exports={supplyDefaults:u,crossTraceDefaults:h,handleText:m}},8065:function(te){te.exports=function(e,l,g){return e.x="xVal"in l?l.xVal:l.x,e.y="yVal"in l?l.yVal:l.y,l.xa&&(e.xaxis=l.xa),l.ya&&(e.yaxis=l.ya),g.orientation==="h"?(e.label=e.y,e.value=e.x):(e.label=e.x,e.value=e.y),e}},9383:function(te,z,e){var l=e(2770),g=e(4267),s=e(1828).isArrayOrTypedArray;z.coerceString=function(i,r,f){if(typeof r=="string"){if(r||!i.noBlank)return r}else if((typeof r=="number"||r===!0)&&!i.strict)return String(r);return f!==void 0?f:i.dflt},z.coerceNumber=function(i,r,f){if(l(r)){r=+r;var o=i.min,n=i.max,t=o!==void 0&&r<o||n!==void 0&&r>n;if(!t)return r}return f!==void 0?f:i.dflt},z.coerceColor=function(i,r,f){return g(r).isValid()?r:f!==void 0?f:i.dflt},z.coerceEnumerated=function(i,r,f){return i.coerceNumber&&(r=+r),i.values.indexOf(r)!==-1?r:f!==void 0?f:i.dflt},z.getValue=function(i,r){var f;return Array.isArray(i)?r<i.length&&(f=i[r]):f=i,f},z.getLineWidth=function(i,r){var f=0<r.mlw?r.mlw:s(i.marker.line.width)?0:i.marker.line.width;return f}},5423:function(te,z,e){var l=e(211),g=e(3972),s=e(7901),i=e(1828).fillText,r=e(9383).getLineWidth,f=e(9298).hoverLabelText,o=e(606).BADNUM;function n(h,m,y,d,T){var x=t(h,m,y,d,T);if(x){var M=x.cd,c=M[0].trace,p=M[x.index];return x.color=u(c,p),g.getComponentMethod("errorbars","hoverInfo")(p,c,x),[x]}}function t(h,m,y,d,T){var x=h.cd,M=x[0].trace,c=x[0].t,p=d==="closest",v=M.type==="waterfall",b=h.maxHoverDistance,w=h.maxSpikeDistance,_,k,B,U,L,O,R;M.orientation==="h"?(_=y,k=m,B="y",U="x",L=Me,O=ne):(_=m,k=y,B="x",U="y",O=Me,L=ne);var Z=M[B+"period"],$=p||Z;function ie(j){return F(j,-1)}function N(j){return F(j,1)}function F(j,ae){var fe=j.w;return j[B]+ae*fe/2}function G(j){return j[B+"End"]-j[B+"Start"]}var W=p?ie:Z?function(j){return j.p-G(j)/2}:function(j){return Math.min(ie(j),j.p-c.bardelta/2)},X=p?N:Z?function(j){return j.p+G(j)/2}:function(j){return Math.max(N(j),j.p+c.bardelta/2)};function J(j,ae,fe){return T.finiteRange&&(fe=0),l.inbox(j-_,ae-_,fe+Math.min(1,Math.abs(ae-j)/R)-1)}function ne(j){return J(W(j),X(j),b)}function ue(j){return J(ie(j),N(j),w)}function ye(j){var ae=j[U];if(v){var fe=Math.abs(j.rawS)||0;k>0?ae+=fe:k<0&&(ae-=fe)}return ae}function Me(j){var ae=k,fe=j.b,de=ye(j);return l.inbox(fe-ae,de-ae,b+(de-ae)/(de-fe)-1)}function oe(j){var ae=k,fe=j.b,de=ye(j);return l.inbox(fe-ae,de-ae,w+(de-ae)/(de-fe)-1)}var ve=h[B+"a"],H=h[U+"a"];R=Math.abs(ve.r2c(ve.range[1])-ve.r2c(ve.range[0]));function Y(j){return(L(j)+O(j))/2}var S=l.getDistanceFunction(d,L,O,Y);if(l.getClosest(x,S,h),h.index!==!1&&x[h.index].p!==o){$||(W=function(j){return Math.min(ie(j),j.p-c.bargroupwidth/2)},X=function(j){return Math.max(N(j),j.p+c.bargroupwidth/2)});var E=h.index,I=x[E],C=M.base?I.b+I.s:I.s;h[U+"0"]=h[U+"1"]=H.c2p(I[U],!0),h[U+"LabelVal"]=C;var K=c.extents[c.extents.round(I.p)];h[B+"0"]=ve.c2p(p?W(I):K[0],!0),h[B+"1"]=ve.c2p(p?X(I):K[1],!0);var P=I.orig_p!==void 0;return h[B+"LabelVal"]=P?I.orig_p:I.p,h.labelLabel=f(ve,h[B+"LabelVal"],M[B+"hoverformat"]),h.valueLabel=f(H,h[U+"LabelVal"],M[U+"hoverformat"]),h.baseLabel=f(H,I.b,M[U+"hoverformat"]),h.spikeDistance=(oe(I)+ue(I))/2,h[B+"Spike"]=ve.c2p(I.p,!0),i(I,M,h),h.hovertemplate=M.hovertemplate,h}}function u(h,m){var y=m.mcc||h.marker.color,d=m.mlcc||h.marker.line.color,T=r(h,m);if(s.opacity(y))return y;if(s.opacity(d)&&T)return d}te.exports={hoverPoints:n,hoverOnBars:t,getTraceColor:u}},822:function(te,z,e){te.exports={attributes:e(1486),layoutAttributes:e(3641),supplyDefaults:e(769).supplyDefaults,crossTraceDefaults:e(769).crossTraceDefaults,supplyLayoutDefaults:e(3957),calc:e(2290),crossTraceCalc:e(1661).crossTraceCalc,colorbar:e(4898),arraysToCalcdata:e(5341),plot:e(7295).plot,style:e(6688).style,styleOnSelect:e(6688).styleOnSelect,hoverPoints:e(5423).hoverPoints,eventData:e(8065),selectPoints:e(1974),moduleType:"trace",name:"bar",basePlotModule:e(3612),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},3641:function(te){te.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},3957:function(te,z,e){var l=e(3972),g=e(9298),s=e(1828),i=e(3641);te.exports=function(r,f,o){function n(c,p){return s.coerce(r,f,i,c,p)}for(var t=!1,u=!1,h=!1,m={},y=n("barmode"),d=0;d<o.length;d++){var T=o[d];if(l.traceIs(T,"bar")&&T.visible)t=!0;else continue;if(y==="group"){var x=T.xaxis+T.yaxis;m[x]&&(h=!0),m[x]=!0}if(T.visible&&T.type==="histogram"){var M=g.getFromId({_fullLayout:f},T[T.orientation==="v"?"xaxis":"yaxis"]);M.type!=="category"&&(u=!0)}}if(!t){delete f.barmode;return}y!=="overlay"&&n("barnorm"),n("bargap",u&&!h?0:.2),n("bargroupgap")}},7295:function(te,z,e){var l=e(9898),g=e(2770),s=e(1828),i=e(3893),r=e(7901),f=e(1424),o=e(3972),n=e(9298).tickText,t=e(2597),u=t.recordMinTextSize,h=t.clearMinTextSize,m=e(6688),y=e(9383),d=e(7313),T=e(1486),x=T.text,M=T.textposition,c=e(3469).appendArrayPointValue,p=d.TEXTPAD;function v(W){return W.id}function b(W){if(W.ids)return v}function w(W,X){return W<X?1:-1}function _(W,X,J,ne){var ue=[],ye=[],Me=ne?X:J,oe=ne?J:X;return ue[0]=Me.c2p(W.s0,!0),ye[0]=oe.c2p(W.p0,!0),ue[1]=Me.c2p(W.s1,!0),ye[1]=oe.c2p(W.p1,!0),ne?[ue,ye]:[ye,ue]}function k(W,X,J,ne){if(!X.uniformtext.mode&&B(J)){var ue;return ne&&(ue=ne()),W.transition().duration(J.duration).ease(J.easing).each("end",function(){ue&&ue()}).each("interrupt",function(){ue&&ue()})}else return W}function B(W){return W&&W.duration>0}function U(W,X,J,ne,ue,ye){var Me=X.xaxis,oe=X.yaxis,ve=W._fullLayout,H=W._context.staticPlot;ue||(ue={mode:ve.barmode,norm:ve.barmode,gap:ve.bargap,groupgap:ve.bargroupgap},h("bar",ve));var Y=s.makeTraceGroups(ne,J,"trace bars").each(function(S){var E=l.select(this),I=S[0].trace,C=I.type==="waterfall",K=I.type==="funnel",P=I.type==="bar",j=P||K,ae=0;C&&I.connector.visible&&I.connector.mode==="between"&&(ae=I.connector.line.width/2);var fe=I.orientation==="h",de=B(ue),Ce=s.ensureSingle(E,"g","points"),De=b(I),ce=Ce.selectAll("g.point").data(s.identity,De);ce.enter().append("g").classed("point",!0),ce.exit().remove(),ce.each(function(pe,Ee){var Ae=l.select(this),xe=_(pe,Me,oe,fe),Fe=xe[0][0],Ke=xe[0][1],je=xe[1][0],Ve=xe[1][1],dt=(fe?Ke-Fe:Ve-je)===0;dt&&j&&y.getLineWidth(I,pe)&&(dt=!1),dt||(dt=!g(Fe)||!g(Ke)||!g(je)||!g(Ve)),pe.isBlank=dt,dt&&(fe?Ke=Fe:Ve=je),ae&&!dt&&(fe?(Fe-=w(Fe,Ke)*ae,Ke+=w(Fe,Ke)*ae):(je-=w(je,Ve)*ae,Ve+=w(je,Ve)*ae));var bt,Tt;if(I.type==="waterfall"){if(!dt){var it=I[pe.dir].marker;bt=it.line.width,Tt=it.color}}else bt=y.getLineWidth(I,pe),Tt=pe.mc||I.marker.color;function kt(ke){var Te=l.round(bt/2%1,2);return ue.gap===0&&ue.groupgap===0?l.round(Math.round(ke)-Te,2):ke}function tt(ke,Te,Re){return Re&&ke===Te?ke:Math.abs(ke-Te)>=2?kt(ke):ke>Te?Math.ceil(ke):Math.floor(ke)}if(!W._context.staticPlot){var Mt=r.opacity(Tt),Dt=Mt<1||bt>.01?kt:tt;Fe=Dt(Fe,Ke,fe),Ke=Dt(Ke,Fe,fe),je=Dt(je,Ve,!fe),Ve=Dt(Ve,je,!fe)}var St=k(s.ensureSingle(Ae,"path"),ve,ue,ye);if(St.style("vector-effect",H?"none":"non-scaling-stroke").attr("d",isNaN((Ke-Fe)*(Ve-je))||dt&&W._context.staticPlot?"M0,0Z":"M"+Fe+","+je+"V"+Ve+"H"+Ke+"V"+je+"Z").call(f.setClipUrl,X.layerClipId,W),!ve.uniformtext.mode&&de){var At=f.makePointStyleFns(I);f.singlePointStyle(pe,St,I,At,W)}L(W,X,Ae,S,Ee,Fe,Ke,je,Ve,ue,ye),X.layerClipId&&f.hideOutsideRangePoint(pe,Ae.select("text"),Me,oe,I.xcalendar,I.ycalendar)});var me=I.cliponaxis===!1;f.setClipUrl(E,me?null:X.layerClipId,W)});o.getComponentMethod("errorbars","plot")(W,Y,X,ue)}function L(W,X,J,ne,ue,ye,Me,oe,ve,H,Y){var S=X.xaxis,E=X.yaxis,I=W._fullLayout,C;function K(ke,Te,Re){var Le=s.ensureSingle(ke,"text").text(Te).attr({class:"bartext bartext-"+C,"text-anchor":"middle","data-notex":1}).call(f.font,Re).call(i.convertToTspans,W);return Le}var P=ne[0].trace,j=P.orientation==="h",ae=ie(I,ne,ue,S,E);C=N(P,ue);var fe=H.mode==="stack"||H.mode==="relative",de=ne[ue],Ce=!fe||de._outmost;if(!ae||C==="none"||(de.isBlank||ye===Me||oe===ve)&&(C==="auto"||C==="inside")){J.select("text").remove();return}var De=I.font,ce=m.getBarColor(ne[ue],P),me=m.getInsideTextFont(P,ue,De,ce),pe=m.getOutsideTextFont(P,ue,De),Ee=J.datum();j?S.type==="log"&&Ee.s0<=0&&(S.range[0]<S.range[1]?ye=0:ye=S._length):E.type==="log"&&Ee.s0<=0&&(E.range[0]<E.range[1]?oe=E._length:oe=0);var Ae=Math.abs(Me-ye)-2*p,xe=Math.abs(ve-oe)-2*p,Fe,Ke,je,Ve,dt;if(C==="outside"&&!Ce&&!de.hasB&&(C="inside"),C==="auto")if(Ce){C="inside",dt=s.ensureUniformFontSize(W,me),Fe=K(J,ae,dt),Ke=f.bBox(Fe.node()),je=Ke.width,Ve=Ke.height;var bt=je>0&&Ve>0,Tt=je<=Ae&&Ve<=xe,it=je<=xe&&Ve<=Ae,kt=j?Ae>=je*(xe/Ve):xe>=Ve*(Ae/je);bt&&(Tt||it||kt)?C="inside":(C="outside",Fe.remove(),Fe=null)}else C="inside";if(!Fe){dt=s.ensureUniformFontSize(W,C==="outside"?pe:me),Fe=K(J,ae,dt);var tt=Fe.attr("transform");if(Fe.attr("transform",""),Ke=f.bBox(Fe.node()),je=Ke.width,Ve=Ke.height,Fe.attr("transform",tt),je<=0||Ve<=0){Fe.remove();return}}var Mt=P.textangle,Dt,St;C==="outside"?(St=P.constraintext==="both"||P.constraintext==="outside",Dt=$(ye,Me,oe,ve,Ke,{isHorizontal:j,constrained:St,angle:Mt})):(St=P.constraintext==="both"||P.constraintext==="inside",Dt=Z(ye,Me,oe,ve,Ke,{isHorizontal:j,constrained:St,angle:Mt,anchor:P.insidetextanchor})),Dt.fontSize=dt.size,u(P.type==="histogram"?"bar":P.type,Dt,I),de.transform=Dt;var At=k(Fe,I,H,Y);s.setTransormAndDisplay(At,Dt)}function O(W){return W==="auto"?0:W}function R(W,X){var J=Math.PI/180*X,ne=Math.abs(Math.sin(J)),ue=Math.abs(Math.cos(J));return{x:W.width*ue+W.height*ne,y:W.width*ne+W.height*ue}}function Z(W,X,J,ne,ue,ye){var Me=!!ye.isHorizontal,oe=!!ye.constrained,ve=ye.angle||0,H=ye.anchor||"end",Y=H==="end",S=H==="start",E=ye.leftToRight||0,I=(E+1)/2,C=1-I,K=ue.width,P=ue.height,j=Math.abs(X-W),ae=Math.abs(ne-J),fe=j>2*p&&ae>2*p?p:0;j-=2*fe,ae-=2*fe;var de=O(ve);ve==="auto"&&!(K<=j&&P<=ae)&&(K>j||P>ae)&&(!(K>ae||P>j)||K<P!=j<ae)&&(de+=90);var Ce=R(ue,de),De=1;oe&&(De=Math.min(1,j/Ce.x,ae/Ce.y));var ce=ue.left*C+ue.right*I,me=(ue.top+ue.bottom)/2,pe=(W+p)*C+(X-p)*I,Ee=(J+ne)/2,Ae=0,xe=0;if(S||Y){var Fe=(Me?Ce.x:Ce.y)/2,Ke=Me?w(W,X):w(J,ne);Me?S?(pe=W+Ke*fe,Ae=-Ke*Fe):(pe=X-Ke*fe,Ae=Ke*Fe):S?(Ee=J+Ke*fe,xe=-Ke*Fe):(Ee=ne-Ke*fe,xe=Ke*Fe)}return{textX:ce,textY:me,targetX:pe,targetY:Ee,anchorX:Ae,anchorY:xe,scale:De,rotate:de}}function $(W,X,J,ne,ue,ye){var Me=!!ye.isHorizontal,oe=!!ye.constrained,ve=ye.angle||0,H=ue.width,Y=ue.height,S=Math.abs(X-W),E=Math.abs(ne-J),I;Me?I=E>2*p?p:0:I=S>2*p?p:0;var C=1;oe&&(C=Me?Math.min(1,E/Y):Math.min(1,S/H));var K=O(ve),P=R(ue,K),j=(Me?P.x:P.y)/2,ae=(ue.left+ue.right)/2,fe=(ue.top+ue.bottom)/2,de=(W+X)/2,Ce=(J+ne)/2,De=0,ce=0,me=Me?w(X,W):w(J,ne);return Me?(de=X-me*I,De=me*j):(Ce=ne+me*I,ce=-me*j),{textX:ae,textY:fe,targetX:de,targetY:Ce,anchorX:De,anchorY:ce,scale:C,rotate:K}}function ie(W,X,J,ne,ue){var ye=X[0].trace,Me=ye.texttemplate,oe;return Me?oe=F(W,X,J,ne,ue):ye.textinfo?oe=G(X,J,ne,ue):oe=y.getValue(ye.text,J),y.coerceString(x,oe)}function N(W,X){var J=y.getValue(W.textposition,X);return y.coerceEnumerated(M,J)}function F(W,X,J,ne,ue){var ye=X[0].trace,Me=s.castOption(ye,J,"texttemplate");if(!Me)return"";var oe=ye.type==="histogram",ve=ye.type==="waterfall",H=ye.type==="funnel",Y=ye.orientation==="h",S,E,I,C;Y?(S="y",E=ue,I="x",C=ne):(S="x",E=ne,I="y",C=ue);function K(De){return n(E,E.c2l(De),!0).text}function P(De){return n(C,C.c2l(De),!0).text}var j=X[J],ae={};ae.label=j.p,ae.labelLabel=ae[S+"Label"]=K(j.p);var fe=s.castOption(ye,j.i,"text");(fe===0||fe)&&(ae.text=fe),ae.value=j.s,ae.valueLabel=ae[I+"Label"]=P(j.s);var de={};c(de,ye,j.i),(oe||de.x===void 0)&&(de.x=Y?ae.value:ae.label),(oe||de.y===void 0)&&(de.y=Y?ae.label:ae.value),(oe||de.xLabel===void 0)&&(de.xLabel=Y?ae.valueLabel:ae.labelLabel),(oe||de.yLabel===void 0)&&(de.yLabel=Y?ae.labelLabel:ae.valueLabel),ve&&(ae.delta=+j.rawS||j.s,ae.deltaLabel=P(ae.delta),ae.final=j.v,ae.finalLabel=P(ae.final),ae.initial=ae.final-ae.delta,ae.initialLabel=P(ae.initial)),H&&(ae.value=j.s,ae.valueLabel=P(ae.value),ae.percentInitial=j.begR,ae.percentInitialLabel=s.formatPercent(j.begR),ae.percentPrevious=j.difR,ae.percentPreviousLabel=s.formatPercent(j.difR),ae.percentTotal=j.sumR,ae.percenTotalLabel=s.formatPercent(j.sumR));var Ce=s.castOption(ye,j.i,"customdata");return Ce&&(ae.customdata=Ce),s.texttemplateString(Me,ae,W._d3locale,de,ae,ye._meta||{})}function G(W,X,J,ne){var ue=W[0].trace,ye=ue.orientation==="h",Me=ue.type==="waterfall",oe=ue.type==="funnel";function ve(Ce){var De=ye?ne:J;return n(De,Ce,!0).text}function H(Ce){var De=ye?J:ne;return n(De,+Ce,!0).text}var Y=ue.textinfo,S=W[X],E=Y.split("+"),I=[],C,K=function(Ce){return E.indexOf(Ce)!==-1};if(K("label")&&I.push(ve(W[X].p)),K("text")&&(C=s.castOption(ue,S.i,"text"),(C===0||C)&&I.push(C)),Me){var P=+S.rawS||S.s,j=S.v,ae=j-P;K("initial")&&I.push(H(ae)),K("delta")&&I.push(H(P)),K("final")&&I.push(H(j))}if(oe){K("value")&&I.push(H(S.s));var fe=0;K("percent initial")&&fe++,K("percent previous")&&fe++,K("percent total")&&fe++;var de=fe>1;K("percent initial")&&(C=s.formatPercent(S.begR),de&&(C+=" of initial"),I.push(C)),K("percent previous")&&(C=s.formatPercent(S.difR),de&&(C+=" of previous"),I.push(C)),K("percent total")&&(C=s.formatPercent(S.sumR),de&&(C+=" of total"),I.push(C))}return I.join("<br>")}te.exports={plot:U,toMoveInsideBar:Z}},1974:function(te){te.exports=function(l,g){var s=l.cd,i=l.xaxis,r=l.yaxis,f=s[0].trace,o=f.type==="funnel",n=f.orientation==="h",t=[],u;if(g===!1)for(u=0;u<s.length;u++)s[u].selected=0;else for(u=0;u<s.length;u++){var h=s[u],m="ct"in h?h.ct:z(h,i,r,n,o);g.contains(m,!1,u,l)?(t.push({pointNumber:u,x:i.c2d(h.x),y:r.c2d(h.y)}),h.selected=1):h.selected=0}return t};function z(e,l,g,s,i){var r=l.c2p(s?e.s0:e.p0,!0),f=l.c2p(s?e.s1:e.p1,!0),o=g.c2p(s?e.p0:e.s0,!0),n=g.c2p(s?e.p1:e.s1,!0);return i?[(r+f)/2,(o+n)/2]:s?[f,(o+n)/2]:[(r+f)/2,n]}},1546:function(te,z,e){te.exports=g;var l=e(1828).distinctVals;function g(s,i){this.traces=s,this.sepNegVal=i.sepNegVal,this.overlapNoMerge=i.overlapNoMerge;for(var r=1/0,f=i.posAxis._id.charAt(0),o=[],n=0;n<s.length;n++){for(var t=s[n],u=0;u<t.length;u++){var h=t[u],m=h.p;m===void 0&&(m=h[f]),m!==void 0&&o.push(m)}t[0]&&t[0].width1&&(r=Math.min(t[0].width1,r))}this.positions=o;var y=l(o);this.distinctPositions=y.vals,y.vals.length===1&&r!==1/0?this.minDiff=r:this.minDiff=Math.min(y.minDiff,r);var d=(i.posAxis||{}).type;(d==="category"||d==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}g.prototype.put=function(i,r){var f=this.getLabel(i,r),o=this.bins[f]||0;return this.bins[f]=o+r,o},g.prototype.get=function(i,r){var f=this.getLabel(i,r);return this.bins[f]||0},g.prototype.getLabel=function(i,r){var f=r<0&&this.sepNegVal?"v":"^",o=this.overlapNoMerge?i:Math.round(i/this.binWidth);return f+o}},6688:function(te,z,e){var l=e(9898),g=e(7901),s=e(1424),i=e(1828),r=e(3972),f=e(2597).resizeText,o=e(1486),n=o.textfont,t=o.insidetextfont,u=o.outsidetextfont,h=e(9383);function m(k){var B=l.select(k).selectAll("g.barlayer").selectAll("g.trace");f(k,B,"bar");var U=B.size(),L=k._fullLayout;B.style("opacity",function(O){return O[0].trace.opacity}).each(function(O){(L.barmode==="stack"&&U>1||L.bargap===0&&L.bargroupgap===0&&!O[0].trace.marker.line.width)&&l.select(this).attr("shape-rendering","crispEdges")}),B.selectAll("g.points").each(function(O){var R=l.select(this),Z=O[0].trace;y(R,Z,k)}),r.getComponentMethod("errorbars","style")(B)}function y(k,B,U){s.pointStyle(k.selectAll("path"),B,U),d(k,B,U)}function d(k,B,U){k.selectAll("text").each(function(L){var O=l.select(this),R=i.ensureUniformFontSize(U,c(O,L,B,U));s.font(O,R)})}function T(k,B,U){var L=B[0].trace;L.selectedpoints?x(U,L,k):(y(U,L,k),r.getComponentMethod("errorbars","style")(U))}function x(k,B,U){s.selectedPointStyle(k.selectAll("path"),B),M(k.selectAll("text"),B,U)}function M(k,B,U){k.each(function(L){var O=l.select(this),R;if(L.selected){R=i.ensureUniformFontSize(U,c(O,L,B,U));var Z=B.selected.textfont&&B.selected.textfont.color;Z&&(R.color=Z),s.font(O,R)}else s.selectedTextStyle(O,B)})}function c(k,B,U,L){var O=L._fullLayout.font,R=U.textfont;if(k.classed("bartext-inside")){var Z=_(B,U);R=v(U,B.i,O,Z)}else k.classed("bartext-outside")&&(R=b(U,B.i,O));return R}function p(k,B,U){return w(n,k.textfont,B,U)}function v(k,B,U,L){var O=p(k,B,U),R=k._input.textfont===void 0||k._input.textfont.color===void 0||Array.isArray(k.textfont.color)&&k.textfont.color[B]===void 0;return R&&(O={color:g.contrast(L),family:O.family,size:O.size}),w(t,k.insidetextfont,B,O)}function b(k,B,U){var L=p(k,B,U);return w(u,k.outsidetextfont,B,L)}function w(k,B,U,L){B=B||{};var O=h.getValue(B.family,U),R=h.getValue(B.size,U),Z=h.getValue(B.color,U);return{family:h.coerceString(k.family,O,L.family),size:h.coerceNumber(k.size,R,L.size),color:h.coerceColor(k.color,Z,L.color)}}function _(k,B){return B.type==="waterfall"?B[k.dir].marker.color:k.mcc||k.mc||B.marker.color}te.exports={style:m,styleTextPoints:d,styleOnSelect:T,getInsideTextFont:v,getOutsideTextFont:b,getBarColor:_,resizeText:f}},8340:function(te,z,e){var l=e(7901),g=e(2869).hasColorscale,s=e(1586),i=e(1828).coercePattern;te.exports=function(f,o,n,t,u){var h=n("marker.color",t),m=g(f,"marker");m&&s(f,o,u,n,{prefix:"marker.",cLetter:"c"}),n("marker.line.color",l.defaultLine),g(f,"marker.line")&&s(f,o,u,n,{prefix:"marker.line.",cLetter:"c"}),n("marker.line.width"),n("marker.opacity"),i(n,"marker.pattern",h,m),n("selected.marker.color"),n("unselected.marker.color")}},2597:function(te,z,e){var l=e(9898),g=e(1828);function s(o,n,t){var u=o._fullLayout,h=u["_"+t+"Text_minsize"];if(h){var m=u.uniformtext.mode==="hide",y;switch(t){case"funnelarea":case"pie":case"sunburst":y="g.slice";break;case"treemap":case"icicle":y="g.slice, g.pathbar";break;default:y="g.points > g.point"}n.selectAll(y).each(function(d){var T=d.transform;if(T){T.scale=m&&T.hide?0:h/T.fontSize;var x=l.select(this).select("text");g.setTransormAndDisplay(x,T)}})}}function i(o,n,t){if(t.uniformtext.mode){var u=f(o),h=t.uniformtext.minsize,m=n.scale*n.fontSize;n.hide=m<h,t[u]=t[u]||1/0,n.hide||(t[u]=Math.min(t[u],Math.max(m,h)))}}function r(o,n){var t=f(o);n[t]=void 0}function f(o){return"_"+o+"Text_minsize"}te.exports={recordMinTextSize:i,clearMinTextSize:r,resizeText:s}},4e3:function(te,z,e){var l=e(9012),g=e(7670).Y,s=e(1940),i=e(2399),r=e(5386).fF,f=e(5386).si,o=e(1426).extendFlat,n=e(9952).u,t=s({editType:"plot",arrayOk:!0,colorEditType:"plot"});te.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:i.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:n,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:o({},l.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:r({},{keys:["label","color","value","percent","text"]}),texttemplate:f({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:o({},t,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:o({},t,{}),outsidetextfont:o({},t,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:o({},t,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:g({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:o({},t,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},3584:function(te,z,e){var l=e(4875);z.name="pie",z.plot=function(g,s,i,r){l.plotBasePlot(z.name,g,s,i,r)},z.clean=function(g,s,i,r){l.cleanBasePlot(z.name,g,s,i,r)}},2354:function(te,z,e){var l=e(2770),g=e(4267),s=e(7901),i={};function r(t,u){var h=[],m=t._fullLayout,y=m.hiddenlabels||[],d=u.labels,T=u.marker.colors||[],x=u.values,M=u._length,c=u._hasValues&&M,p,v;if(u.dlabel)for(d=new Array(M),p=0;p<M;p++)d[p]=String(u.label0+p*u.dlabel);var b={},w=f(m["_"+u.type+"colormap"]),_=0,k=!1;for(p=0;p<M;p++){var B,U,L;if(c){if(B=x[p],!l(B))continue;B=+B}else B=1;U=d[p],(U===void 0||U==="")&&(U=p),U=String(U);var O=b[U];O===void 0?(b[U]=h.length,L=y.indexOf(U)!==-1,L||(_+=B),h.push({v:B,label:U,color:w(T[p],U),i:p,pts:[p],hidden:L})):(k=!0,v=h[O],v.v+=B,v.pts.push(p),v.hidden||(_+=B),v.color===!1&&T[p]&&(v.color=w(T[p],U)))}h=h.filter(function(Z){return Z.v>=0});var R=u.type==="funnelarea"?k:u.sort;return R&&h.sort(function(Z,$){return $.v-Z.v}),h[0]&&(h[0].vTotal=_),h}function f(t){return function(h,m){return!h||(h=g(h),!h.isValid())?!1:(h=s.addOpacity(h,h.getAlpha()),t[m]||(t[m]=h),h)}}function o(t,u){var h=(u||{}).type;h||(h="pie");var m=t._fullLayout,y=t.calcdata,d=m[h+"colorway"],T=m["_"+h+"colormap"];m["extend"+h+"colors"]&&(d=n(d,i));for(var x=0,M=0;M<y.length;M++){var c=y[M],p=c[0].trace.type;if(p===h)for(var v=0;v<c.length;v++){var b=c[v];b.color===!1&&(T[b.label]?b.color=T[b.label]:(T[b.label]=b.color=d[x%d.length],x++))}}}function n(t,u){var h,m=JSON.stringify(t),y=u[m];if(!y){for(y=t.slice(),h=0;h<t.length;h++)y.push(g(t[h]).lighten(20).toHexString());for(h=0;h<t.length;h++)y.push(g(t[h]).darken(20).toHexString());u[m]=y}return y}te.exports={calc:r,crossTraceCalc:o,makePullColorFn:f,generateExtendedColors:n}},7434:function(te,z,e){var l=e(2770),g=e(1828),s=e(4e3),i=e(7670).c,r=e(769).handleText,f=e(1828).coercePattern;function o(u,h){var m=Array.isArray(u),y=g.isArrayOrTypedArray(h),d=Math.min(m?u.length:1/0,y?h.length:1/0);if(isFinite(d)||(d=0),d&&y){for(var T,x=0;x<d;x++){var M=h[x];if(l(M)&&M>0){T=!0;break}}T||(d=0)}return{hasLabels:m,hasValues:y,len:d}}function n(u,h,m,y,d){var T=y("marker.line.width");T&&y("marker.line.color",d?void 0:m.paper_bgcolor);var x=y("marker.colors");f(y,"marker.pattern",x),u.marker&&!h.marker.pattern.fgcolor&&(h.marker.pattern.fgcolor=u.marker.colors),h.marker.pattern.bgcolor||(h.marker.pattern.bgcolor=m.paper_bgcolor)}function t(u,h,m,y){function d(O,R){return g.coerce(u,h,s,O,R)}var T=d("labels"),x=d("values"),M=o(T,x),c=M.len;if(h._hasLabels=M.hasLabels,h._hasValues=M.hasValues,!h._hasLabels&&h._hasValues&&(d("label0"),d("dlabel")),!c){h.visible=!1;return}h._length=c,n(u,h,y,d,!0),d("scalegroup");var p=d("text"),v=d("texttemplate"),b;if(v||(b=d("textinfo",Array.isArray(p)?"text+percent":"percent")),d("hovertext"),d("hovertemplate"),v||b&&b!=="none"){var w=d("textposition");r(u,h,y,d,w,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var _=Array.isArray(w)||w==="auto",k=_||w==="outside";k&&d("automargin"),(w==="inside"||w==="auto"||Array.isArray(w))&&d("insidetextorientation")}i(h,y,d);var B=d("hole"),U=d("title.text");if(U){var L=d("title.position",B?"middle center":"top center");!B&&L==="middle center"&&(h.title.position="top center"),g.coerceFont(d,"title.font",y.font)}d("sort"),d("direction"),d("rotation"),d("pull")}te.exports={handleLabelsAndValues:o,handleMarkerDefaults:n,supplyDefaults:t}},7:function(te,z,e){var l=e(3469).appendArrayMultiPointValues;te.exports=function(s,i){var r={curveNumber:i.index,pointNumbers:s.pts,data:i._input,fullData:i,label:s.label,color:s.color,value:s.v,percent:s.percent,text:s.text,bbox:s.bbox,v:s.v};return s.pts.length===1&&(r.pointNumber=r.i=s.pts[0]),l(r,i,s.pts),i.type==="funnelarea"&&(delete r.v,delete r.i),r}},2209:function(te,z,e){var l=e(1424),g=e(7901);te.exports=function(i,r,f,o){var n=f.marker.pattern;n&&n.shape?l.pointStyle(i,f,o,r):g.fill(i,r.color)}},3581:function(te,z,e){var l=e(1828);function g(s){return s.indexOf("e")!==-1?s.replace(/[.]?0+e/,"e"):s.indexOf(".")!==-1?s.replace(/[.]?0+$/,""):s}z.formatPiePercent=function(i,r){var f=g((i*100).toPrecision(3));return l.numSeparate(f,r)+"%"},z.formatPieValue=function(i,r){var f=g(i.toPrecision(10));return l.numSeparate(f,r)},z.getFirstFilled=function(i,r){if(Array.isArray(i))for(var f=0;f<r.length;f++){var o=i[r[f]];if(o||o===0||o==="")return o}},z.castOption=function(i,r){if(Array.isArray(i))return z.getFirstFilled(i,r);if(i)return i},z.getRotationAngle=function(s){return(s==="auto"?0:s)*Math.PI/180}},8810:function(te,z,e){te.exports={attributes:e(4e3),supplyDefaults:e(7434).supplyDefaults,supplyLayoutDefaults:e(2097),layoutAttributes:e(7550),calc:e(2354).calc,crossTraceCalc:e(2354).crossTraceCalc,plot:e(4575).plot,style:e(8357),styleOne:e(3463),moduleType:"trace",name:"pie",basePlotModule:e(3584),categories:["pie-like","pie","showLegend"],meta:{}}},7550:function(te){te.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},2097:function(te,z,e){var l=e(1828),g=e(7550);te.exports=function(i,r){function f(o,n){return l.coerce(i,r,g,o,n)}f("hiddenlabels"),f("piecolorway",r.colorway),f("extendpiecolors")}},4575:function(te,z,e){var l=e(9898),g=e(4875),s=e(211),i=e(7901),r=e(1424),f=e(1828),o=f.strScale,n=f.strTranslate,t=e(3893),u=e(2597),h=u.recordMinTextSize,m=u.clearMinTextSize,y=e(7313).TEXTPAD,d=e(3581),T=e(7),x=e(1828).isValidTextValue;function M(ve,H){var Y=ve._context.staticPlot,S=ve._fullLayout,E=S._size;m("pie",S),w(H,ve),J(H,E);var I=f.makeTraceGroups(S._pielayer,H,"trace").each(function(C){var K=l.select(this),P=C[0],j=P.trace;ue(C),K.attr("stroke-linejoin","round"),K.each(function(){var ae=l.select(this).selectAll("g.slice").data(C);ae.enter().append("g").classed("slice",!0),ae.exit().remove();var fe=[[[],[]],[[],[]]],de=!1;ae.each(function(xe,Fe){if(xe.hidden){l.select(this).selectAll("path,g").remove();return}xe.pointNumber=xe.i,xe.curveNumber=j.index,fe[xe.pxmid[1]<0?0:1][xe.pxmid[0]<0?0:1].push(xe);var Ke=P.cx,je=P.cy,Ve=l.select(this),dt=Ve.selectAll("path.surface").data([xe]);if(dt.enter().append("path").classed("surface",!0).style({"pointer-events":Y?"none":"all"}),Ve.call(p,ve,C),j.pull){var bt=+d.castOption(j.pull,xe.pts)||0;bt>0&&(Ke+=bt*xe.pxmid[0],je+=bt*xe.pxmid[1])}xe.cxFinal=Ke,xe.cyFinal=je;function Tt(At,ke,Te,Re){var Le=Re*(ke[0]-At[0]),Oe=Re*(ke[1]-At[1]);return"a"+Re*P.r+","+Re*P.r+" 0 "+xe.largeArc+(Te?" 1 ":" 0 ")+Le+","+Oe}var it=j.hole;if(xe.v===P.vTotal){var kt="M"+(Ke+xe.px0[0])+","+(je+xe.px0[1])+Tt(xe.px0,xe.pxmid,!0,1)+Tt(xe.pxmid,xe.px0,!0,1)+"Z";it?dt.attr("d","M"+(Ke+it*xe.px0[0])+","+(je+it*xe.px0[1])+Tt(xe.px0,xe.pxmid,!1,it)+Tt(xe.pxmid,xe.px0,!1,it)+"Z"+kt):dt.attr("d",kt)}else{var tt=Tt(xe.px0,xe.px1,!0,1);if(it){var Mt=1-it;dt.attr("d","M"+(Ke+it*xe.px1[0])+","+(je+it*xe.px1[1])+Tt(xe.px1,xe.px0,!1,it)+"l"+Mt*xe.px0[0]+","+Mt*xe.px0[1]+tt+"Z")}else dt.attr("d","M"+Ke+","+je+"l"+xe.px0[0]+","+xe.px0[1]+tt+"Z")}Me(ve,xe,P);var Dt=d.castOption(j.textposition,xe.pts),St=Ve.selectAll("g.slicetext").data(xe.text&&Dt!=="none"?[0]:[]);St.enter().append("g").classed("slicetext",!0),St.exit().remove(),St.each(function(){var At=f.ensureSingle(l.select(this),"text","",function(we){we.attr("data-notex",1)}),ke=f.ensureUniformFontSize(ve,Dt==="outside"?v(j,xe,S.font):b(j,xe,S.font));At.text(xe.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(r.font,ke).call(t.convertToTspans,ve);var Te=r.bBox(At.node()),Re;if(Dt==="outside")Re=$(Te,xe);else if(Re=_(Te,xe,P),Dt==="auto"&&Re.scale<1){var Le=f.ensureUniformFontSize(ve,j.outsidetextfont);At.call(r.font,Le),Te=r.bBox(At.node()),Re=$(Te,xe)}var Oe=Re.textPosAngle,le=Oe===void 0?xe.pxmid:ye(P.r,Oe);if(Re.targetX=Ke+le[0]*Re.rCenter+(Re.x||0),Re.targetY=je+le[1]*Re.rCenter+(Re.y||0),oe(Re,Te),Re.outside){var be=Re.targetY;xe.yLabelMin=be-Te.height/2,xe.yLabelMid=be,xe.yLabelMax=be+Te.height/2,xe.labelExtraX=0,xe.labelExtraY=0,de=!0}Re.fontSize=ke.size,h(j.type,Re,S),C[Fe].transform=Re,f.setTransormAndDisplay(At,Re)})});var Ce=l.select(this).selectAll("g.titletext").data(j.title.text?[0]:[]);if(Ce.enter().append("g").classed("titletext",!0),Ce.exit().remove(),Ce.each(function(){var xe=f.ensureSingle(l.select(this),"text","",function(je){je.attr("data-notex",1)}),Fe=j.title.text;j._meta&&(Fe=f.templateString(Fe,j._meta)),xe.text(Fe).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(r.font,j.title.font).call(t.convertToTspans,ve);var Ke;j.title.position==="middle center"?Ke=ie(P):Ke=N(P,E),xe.attr("transform",n(Ke.x,Ke.y)+o(Math.min(1,Ke.scale))+n(Ke.tx,Ke.ty))}),de&&X(fe,j),c(ae,j),de&&j.automargin){var De=r.bBox(K.node()),ce=j.domain,me=E.w*(ce.x[1]-ce.x[0]),pe=E.h*(ce.y[1]-ce.y[0]),Ee=(.5*me-P.r)/E.w,Ae=(.5*pe-P.r)/E.h;g.autoMargin(ve,"pie."+j.uid+".automargin",{xl:ce.x[0]-Ee,xr:ce.x[1]+Ee,yb:ce.y[0]-Ae,yt:ce.y[1]+Ae,l:Math.max(P.cx-P.r-De.left,0),r:Math.max(De.right-(P.cx+P.r),0),b:Math.max(De.bottom-(P.cy+P.r),0),t:Math.max(P.cy-P.r-De.top,0),pad:5})}})});setTimeout(function(){I.selectAll("tspan").each(function(){var C=l.select(this);C.attr("dy")&&C.attr("dy",C.attr("dy"))})},0)}function c(ve,H){ve.each(function(Y){var S=l.select(this);if(!Y.labelExtraX&&!Y.labelExtraY){S.select("path.textline").remove();return}var E=S.select("g.slicetext text");Y.transform.targetX+=Y.labelExtraX,Y.transform.targetY+=Y.labelExtraY,f.setTransormAndDisplay(E,Y.transform);var I=Y.cxFinal+Y.pxmid[0],C=Y.cyFinal+Y.pxmid[1],K="M"+I+","+C,P=(Y.yLabelMax-Y.yLabelMin)*(Y.pxmid[0]<0?-1:1)/4;if(Y.labelExtraX){var j=Y.labelExtraX*Y.pxmid[1]/Y.pxmid[0],ae=Y.yLabelMid+Y.labelExtraY-(Y.cyFinal+Y.pxmid[1]);Math.abs(j)>Math.abs(ae)?K+="l"+ae*Y.pxmid[0]/Y.pxmid[1]+","+ae+"H"+(I+Y.labelExtraX+P):K+="l"+Y.labelExtraX+","+j+"v"+(ae-j)+"h"+P}else K+="V"+(Y.yLabelMid+Y.labelExtraY)+"h"+P;f.ensureSingle(S,"path","textline").call(i.stroke,H.outsidetextfont.color).attr({"stroke-width":Math.min(2,H.outsidetextfont.size/8),d:K,fill:"none"})})}function p(ve,H,Y){var S=Y[0],E=S.cx,I=S.cy,C=S.trace,K=C.type==="funnelarea";"_hasHoverLabel"in C||(C._hasHoverLabel=!1),"_hasHoverEvent"in C||(C._hasHoverEvent=!1),ve.on("mouseover",function(P){var j=H._fullLayout,ae=H._fullData[C.index];if(!(H._dragging||j.hovermode===!1)){var fe=ae.hoverinfo;if(Array.isArray(fe)&&(fe=s.castHoverinfo({hoverinfo:[d.castOption(fe,P.pts)],_module:C._module},j,0)),fe==="all"&&(fe="label+text+value+percent+name"),ae.hovertemplate||fe!=="none"&&fe!=="skip"&&fe){var de=P.rInscribed||0,Ce=E+P.pxmid[0]*(1-de),De=I+P.pxmid[1]*(1-de),ce=j.separators,me=[];if(fe&&fe.indexOf("label")!==-1&&me.push(P.label),P.text=d.castOption(ae.hovertext||ae.text,P.pts),fe&&fe.indexOf("text")!==-1){var pe=P.text;f.isValidTextValue(pe)&&me.push(pe)}P.value=P.v,P.valueLabel=d.formatPieValue(P.v,ce),fe&&fe.indexOf("value")!==-1&&me.push(P.valueLabel),P.percent=P.v/S.vTotal,P.percentLabel=d.formatPiePercent(P.percent,ce),fe&&fe.indexOf("percent")!==-1&&me.push(P.percentLabel);var Ee=ae.hoverlabel,Ae=Ee.font,xe=[];s.loneHover({trace:C,x0:Ce-de*S.r,x1:Ce+de*S.r,y:De,_x0:K?E+P.TL[0]:Ce-de*S.r,_x1:K?E+P.TR[0]:Ce+de*S.r,_y0:K?I+P.TL[1]:De-de*S.r,_y1:K?I+P.BL[1]:De+de*S.r,text:me.join("<br>"),name:ae.hovertemplate||fe.indexOf("name")!==-1?ae.name:void 0,idealAlign:P.pxmid[0]<0?"left":"right",color:d.castOption(Ee.bgcolor,P.pts)||P.color,borderColor:d.castOption(Ee.bordercolor,P.pts),fontFamily:d.castOption(Ae.family,P.pts),fontSize:d.castOption(Ae.size,P.pts),fontColor:d.castOption(Ae.color,P.pts),nameLength:d.castOption(Ee.namelength,P.pts),textAlign:d.castOption(Ee.align,P.pts),hovertemplate:d.castOption(ae.hovertemplate,P.pts),hovertemplateLabels:P,eventData:[T(P,ae)]},{container:j._hoverlayer.node(),outerContainer:j._paper.node(),gd:H,inOut_bbox:xe}),P.bbox=xe[0],C._hasHoverLabel=!0}C._hasHoverEvent=!0,H.emit("plotly_hover",{points:[T(P,ae)],event:l.event})}}),ve.on("mouseout",function(P){var j=H._fullLayout,ae=H._fullData[C.index],fe=l.select(this).datum();C._hasHoverEvent&&(P.originalEvent=l.event,H.emit("plotly_unhover",{points:[T(fe,ae)],event:l.event}),C._hasHoverEvent=!1),C._hasHoverLabel&&(s.loneUnhover(j._hoverlayer.node()),C._hasHoverLabel=!1)}),ve.on("click",function(P){var j=H._fullLayout,ae=H._fullData[C.index];H._dragging||j.hovermode===!1||(H._hoverdata=[T(P,ae)],s.click(H,l.event))})}function v(ve,H,Y){var S=d.castOption(ve.outsidetextfont.color,H.pts)||d.castOption(ve.textfont.color,H.pts)||Y.color,E=d.castOption(ve.outsidetextfont.family,H.pts)||d.castOption(ve.textfont.family,H.pts)||Y.family,I=d.castOption(ve.outsidetextfont.size,H.pts)||d.castOption(ve.textfont.size,H.pts)||Y.size;return{color:S,family:E,size:I}}function b(ve,H,Y){var S=d.castOption(ve.insidetextfont.color,H.pts);!S&&ve._input.textfont&&(S=d.castOption(ve._input.textfont.color,H.pts));var E=d.castOption(ve.insidetextfont.family,H.pts)||d.castOption(ve.textfont.family,H.pts)||Y.family,I=d.castOption(ve.insidetextfont.size,H.pts)||d.castOption(ve.textfont.size,H.pts)||Y.size;return{color:S||i.contrast(H.color),family:E,size:I}}function w(ve,H){for(var Y,S,E=0;E<ve.length;E++)if(Y=ve[E][0],S=Y.trace,S.title.text){var I=S.title.text;S._meta&&(I=f.templateString(I,S._meta));var C=r.tester.append("text").attr("data-notex",1).text(I).call(r.font,S.title.font).call(t.convertToTspans,H),K=r.bBox(C.node(),!0);Y.titleBox={width:K.width,height:K.height},C.remove()}}function _(ve,H,Y){var S=Y.r||H.rpx1,E=H.rInscribed,I=H.startangle===H.stopangle;if(I)return{rCenter:1-E,scale:0,rotate:0,textPosAngle:0};var C=H.ring,K=C===1&&Math.abs(H.startangle-H.stopangle)===Math.PI*2,P=H.halfangle,j=H.midangle,ae=Y.trace.insidetextorientation,fe=ae==="horizontal",de=ae==="tangential",Ce=ae==="radial",De=ae==="auto",ce=[],me;if(!De){var pe=function(Ve,dt){if(k(H,Ve)){var bt=Math.abs(Ve-H.startangle),Tt=Math.abs(Ve-H.stopangle),it=bt<Tt?bt:Tt;dt==="tan"?me=U(ve,S,C,it,0):me=B(ve,S,C,it,Math.PI/2),me.textPosAngle=Ve,ce.push(me)}},Ee;if(fe||de){for(Ee=4;Ee>=-4;Ee-=2)pe(Math.PI*Ee,"tan");for(Ee=4;Ee>=-4;Ee-=2)pe(Math.PI*(Ee+1),"tan")}if(fe||Ce){for(Ee=4;Ee>=-4;Ee-=2)pe(Math.PI*(Ee+1.5),"rad");for(Ee=4;Ee>=-4;Ee-=2)pe(Math.PI*(Ee+.5),"rad")}}if(K||De||fe){var Ae=Math.sqrt(ve.width*ve.width+ve.height*ve.height);if(me={scale:E*S*2/Ae,rCenter:1-E,rotate:0},me.textPosAngle=(H.startangle+H.stopangle)/2,me.scale>=1)return me;ce.push(me)}(De||Ce)&&(me=B(ve,S,C,P,j),me.textPosAngle=(H.startangle+H.stopangle)/2,ce.push(me)),(De||de)&&(me=U(ve,S,C,P,j),me.textPosAngle=(H.startangle+H.stopangle)/2,ce.push(me));for(var xe=0,Fe=0,Ke=0;Ke<ce.length;Ke++){var je=ce[Ke].scale;if(Fe<je&&(Fe=je,xe=Ke),!De&&Fe>=1)break}return ce[xe]}function k(ve,H){var Y=ve.startangle,S=ve.stopangle;return Y>H&&H>S||Y<H&&H<S}function B(ve,H,Y,S,E){H=Math.max(0,H-2*y);var I=ve.width/ve.height,C=R(I,S,H,Y);return{scale:C*2/ve.height,rCenter:L(I,C/H),rotate:O(E)}}function U(ve,H,Y,S,E){H=Math.max(0,H-2*y);var I=ve.height/ve.width,C=R(I,S,H,Y);return{scale:C*2/ve.width,rCenter:L(I,C/H),rotate:O(E+Math.PI/2)}}function L(ve,H){return Math.cos(H)-ve*H}function O(ve){return(180/Math.PI*ve+720)%180-90}function R(ve,H,Y,S){var E=ve+1/(2*Math.tan(H));return Y*Math.min(1/(Math.sqrt(E*E+.5)+E),S/(Math.sqrt(ve*ve+S/2)+ve))}function Z(ve,H){return ve.v===H.vTotal&&!H.trace.hole?1:Math.min(1/(1+1/Math.sin(ve.halfangle)),ve.ring/2)}function $(ve,H){var Y=H.pxmid[0],S=H.pxmid[1],E=ve.width/2,I=ve.height/2;return Y<0&&(E*=-1),S<0&&(I*=-1),{scale:1,rCenter:1,rotate:0,x:E+Math.abs(I)*(E>0?1:-1)/2,y:I/(1+Y*Y/(S*S)),outside:!0}}function ie(ve){var H=Math.sqrt(ve.titleBox.width*ve.titleBox.width+ve.titleBox.height*ve.titleBox.height);return{x:ve.cx,y:ve.cy,scale:ve.trace.hole*ve.r*2/H,tx:0,ty:-ve.titleBox.height/2+ve.trace.title.font.size}}function N(ve,H){var Y=1,S=1,E,I=ve.trace,C={x:ve.cx,y:ve.cy},K={tx:0,ty:0};K.ty+=I.title.font.size,E=W(I),I.title.position.indexOf("top")!==-1?(C.y-=(1+E)*ve.r,K.ty-=ve.titleBox.height):I.title.position.indexOf("bottom")!==-1&&(C.y+=(1+E)*ve.r);var P=F(ve.r,ve.trace.aspectratio),j=H.w*(I.domain.x[1]-I.domain.x[0])/2;return I.title.position.indexOf("left")!==-1?(j=j+P,C.x-=(1+E)*P,K.tx+=ve.titleBox.width/2):I.title.position.indexOf("center")!==-1?j*=2:I.title.position.indexOf("right")!==-1&&(j=j+P,C.x+=(1+E)*P,K.tx-=ve.titleBox.width/2),Y=j/ve.titleBox.width,S=G(ve,H)/ve.titleBox.height,{x:C.x,y:C.y,scale:Math.min(Y,S),tx:K.tx,ty:K.ty}}function F(ve,H){return ve/(H===void 0?1:H)}function G(ve,H){var Y=ve.trace,S=H.h*(Y.domain.y[1]-Y.domain.y[0]);return Math.min(ve.titleBox.height,S/2)}function W(ve){var H=ve.pull;if(!H)return 0;var Y;if(Array.isArray(H))for(H=0,Y=0;Y<ve.pull.length;Y++)ve.pull[Y]>H&&(H=ve.pull[Y]);return H}function X(ve,H){var Y,S,E,I,C,K,P,j,ae,fe,de,Ce,De;function ce(Ae,xe){return Ae.pxmid[1]-xe.pxmid[1]}function me(Ae,xe){return xe.pxmid[1]-Ae.pxmid[1]}function pe(Ae,xe){xe||(xe={});var Fe=xe.labelExtraY+(S?xe.yLabelMax:xe.yLabelMin),Ke=S?Ae.yLabelMin:Ae.yLabelMax,je=S?Ae.yLabelMax:Ae.yLabelMin,Ve=Ae.cyFinal+C(Ae.px0[1],Ae.px1[1]),dt=Fe-Ke,bt,Tt,it,kt,tt,Mt;if(dt*P>0&&(Ae.labelExtraY=dt),!!Array.isArray(H.pull))for(Tt=0;Tt<fe.length;Tt++)it=fe[Tt],!(it===Ae||(d.castOption(H.pull,Ae.pts)||0)>=(d.castOption(H.pull,it.pts)||0))&&((Ae.pxmid[1]-it.pxmid[1])*P>0?(kt=it.cyFinal+C(it.px0[1],it.px1[1]),dt=kt-Ke-Ae.labelExtraY,dt*P>0&&(Ae.labelExtraY+=dt)):(je+Ae.labelExtraY-Ve)*P>0&&(bt=3*K*Math.abs(Tt-fe.indexOf(Ae)),tt=it.cxFinal+I(it.px0[0],it.px1[0]),Mt=tt+bt-(Ae.cxFinal+Ae.pxmid[0])-Ae.labelExtraX,Mt*K>0&&(Ae.labelExtraX+=Mt)))}for(S=0;S<2;S++)for(E=S?ce:me,C=S?Math.max:Math.min,P=S?1:-1,Y=0;Y<2;Y++){for(I=Y?Math.max:Math.min,K=Y?1:-1,j=ve[S][Y],j.sort(E),ae=ve[1-S][Y],fe=ae.concat(j),Ce=[],de=0;de<j.length;de++)j[de].yLabelMid!==void 0&&Ce.push(j[de]);for(De=!1,de=0;S&&de<ae.length;de++)if(ae[de].yLabelMid!==void 0){De=ae[de];break}for(de=0;de<Ce.length;de++){var Ee=de&&Ce[de-1];De&&!de&&(Ee=De),pe(Ce[de],Ee)}}}function J(ve,H){for(var Y=[],S=0;S<ve.length;S++){var E=ve[S][0],I=E.trace,C=I.domain,K=H.w*(C.x[1]-C.x[0]),P=H.h*(C.y[1]-C.y[0]);I.title.text&&I.title.position!=="middle center"&&(P-=G(E,H));var j=K/2,ae=P/2;I.type==="funnelarea"&&!I.scalegroup&&(ae/=I.aspectratio),E.r=Math.min(j,ae)/(1+W(I)),E.cx=H.l+H.w*(I.domain.x[1]+I.domain.x[0])/2,E.cy=H.t+H.h*(1-I.domain.y[0])-P/2,I.title.text&&I.title.position.indexOf("bottom")!==-1&&(E.cy-=G(E,H)),I.scalegroup&&Y.indexOf(I.scalegroup)===-1&&Y.push(I.scalegroup)}ne(ve,Y)}function ne(ve,H){for(var Y,S,E,I=0;I<H.length;I++){var C=1/0,K=H[I];for(S=0;S<ve.length;S++)if(Y=ve[S][0],E=Y.trace,E.scalegroup===K){var P;if(E.type==="pie")P=Y.r*Y.r;else if(E.type==="funnelarea"){var j,ae;E.aspectratio>1?(j=Y.r,ae=j/E.aspectratio):(ae=Y.r,j=ae*E.aspectratio),j*=(1+E.baseratio)/2,P=j*ae}C=Math.min(C,P/Y.vTotal)}for(S=0;S<ve.length;S++)if(Y=ve[S][0],E=Y.trace,E.scalegroup===K){var fe=C*Y.vTotal;E.type==="funnelarea"&&(fe/=(1+E.baseratio)/2,fe/=E.aspectratio),Y.r=Math.sqrt(fe)}}}function ue(ve){var H=ve[0],Y=H.r,S=H.trace,E=d.getRotationAngle(S.rotation),I=2*Math.PI/H.vTotal,C="px0",K="px1",P,j,ae;if(S.direction==="counterclockwise"){for(P=0;P<ve.length&&ve[P].hidden;P++);if(P===ve.length)return;E+=I*ve[P].v,I*=-1,C="px1",K="px0"}for(ae=ye(Y,E),P=0;P<ve.length;P++)j=ve[P],!j.hidden&&(j[C]=ae,j.startangle=E,E+=I*j.v/2,j.pxmid=ye(Y,E),j.midangle=E,E+=I*j.v/2,ae=ye(Y,E),j.stopangle=E,j[K]=ae,j.largeArc=j.v>H.vTotal/2?1:0,j.halfangle=Math.PI*Math.min(j.v/H.vTotal,.5),j.ring=1-S.hole,j.rInscribed=Z(j,H))}function ye(ve,H){return[ve*Math.sin(H),-ve*Math.cos(H)]}function Me(ve,H,Y){var S=ve._fullLayout,E=Y.trace,I=E.texttemplate,C=E.textinfo;if(!I&&C&&C!=="none"){var K=C.split("+"),P=function(xe){return K.indexOf(xe)!==-1},j=P("label"),ae=P("text"),fe=P("value"),de=P("percent"),Ce=S.separators,De;if(De=j?[H.label]:[],ae){var ce=d.getFirstFilled(E.text,H.pts);x(ce)&&De.push(ce)}fe&&De.push(d.formatPieValue(H.v,Ce)),de&&De.push(d.formatPiePercent(H.v/Y.vTotal,Ce)),H.text=De.join("<br>")}function me(xe){return{label:xe.label,value:xe.v,valueLabel:d.formatPieValue(xe.v,S.separators),percent:xe.v/Y.vTotal,percentLabel:d.formatPiePercent(xe.v/Y.vTotal,S.separators),color:xe.color,text:xe.text,customdata:f.castOption(E,xe.i,"customdata")}}if(I){var pe=f.castOption(E,H.i,"texttemplate");if(!pe)H.text="";else{var Ee=me(H),Ae=d.getFirstFilled(E.text,H.pts);(x(Ae)||Ae==="")&&(Ee.text=Ae),H.text=f.texttemplateString(pe,Ee,ve._fullLayout._d3locale,Ee,E._meta||{})}}}function oe(ve,H){var Y=ve.rotate*Math.PI/180,S=Math.cos(Y),E=Math.sin(Y),I=(H.left+H.right)/2,C=(H.top+H.bottom)/2;ve.textX=I*S-C*E,ve.textY=I*E+C*S,ve.noCenter=!0}te.exports={plot:M,formatSliceLabel:Me,transformInsideText:_,determineInsideTextFont:b,positionTitleOutside:N,prerenderTitles:w,layoutAreas:J,attachFxHandlers:p,computeTransform:oe}},8357:function(te,z,e){var l=e(9898),g=e(3463),s=e(2597).resizeText;te.exports=function(r){var f=r._fullLayout._pielayer.selectAll(".trace");s(r,f,"pie"),f.each(function(o){var n=o[0],t=n.trace,u=l.select(this);u.style({opacity:t.opacity}),u.selectAll("path.surface").each(function(h){l.select(this).call(g,h,t,r)})})}},3463:function(te,z,e){var l=e(7901),g=e(3581).castOption,s=e(2209);te.exports=function(r,f,o,n){var t=o.marker.line,u=g(t.color,f.pts)||l.defaultLine,h=g(t.width,f.pts)||0;r.call(s,f,o,n).style("stroke-width",h).call(l.stroke,u)}},5225:function(te,z,e){var l=e(1828);te.exports=function(s,i){for(var r=0;r<s.length;r++)s[r].i=r;l.mergeArray(i.text,s,"tx"),l.mergeArray(i.texttemplate,s,"txt"),l.mergeArray(i.hovertext,s,"htx"),l.mergeArray(i.customdata,s,"data"),l.mergeArray(i.textposition,s,"tp"),i.textfont&&(l.mergeArrayCastPositive(i.textfont.size,s,"ts"),l.mergeArray(i.textfont.color,s,"tc"),l.mergeArray(i.textfont.family,s,"tf"));var f=i.marker;if(f){l.mergeArrayCastPositive(f.size,s,"ms"),l.mergeArrayCastPositive(f.opacity,s,"mo"),l.mergeArray(f.symbol,s,"mx"),l.mergeArray(f.angle,s,"ma"),l.mergeArray(f.standoff,s,"mf"),l.mergeArray(f.color,s,"mc");var o=f.line;f.line&&(l.mergeArray(o.color,s,"mlc"),l.mergeArrayCastPositive(o.width,s,"mlw"));var n=f.gradient;n&&n.type!=="none"&&(l.mergeArray(n.type,s,"mgt"),l.mergeArray(n.color,s,"mgc"))}}},2196:function(te,z,e){var l=e(2663).axisHoverFormat,g=e(5386).si,s=e(5386).fF,i=e(693),r=e(1940),f=e(9952).P,o=e(9952).u,n=e(1424),t=e(7581),u=e(1426).extendFlat;function h(d){return{valType:"any",dflt:0,editType:"calc"}}function m(d){return{valType:"any",editType:"calc"}}function y(d){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}te.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:h(),yperiod:h(),xperiod0:m(),yperiod0:m(),xperiodalignment:y(),yperiodalignment:y(),xhoverformat:l("x"),yhoverformat:l("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:g({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:s({},{keys:t.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:u({},f,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:o,marker:u({symbol:{valType:"enumerated",values:n.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:u({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},i("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},i("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:r({editType:"calc",colorEditType:"style",arrayOk:!0})}},7761:function(te,z,e){var l=e(2770),g=e(1828),s=e(9298),i=e(2973),r=e(606).BADNUM,f=e(4098),o=e(6922),n=e(5225),t=e(6279);function u(x,M){var c=x._fullLayout,p=M._xA=s.getFromId(x,M.xaxis||"x","x"),v=M._yA=s.getFromId(x,M.yaxis||"y","y"),b=p.makeCalcdata(M,"x"),w=v.makeCalcdata(M,"y"),_=i(M,p,"x",b),k=i(M,v,"y",w),B=_.vals,U=k.vals,L=M._length,O=new Array(L),R=M.ids,Z=T(M,c,p,v),$=!1,ie,N,F,G,W,X;y(c,M);var J="x",ne="y",ue;if(Z)g.pushUnique(Z.traceIndices,M._expandedIndex),ie=Z.orientation==="v",ie?(ne="s",ue="x"):(J="s",ue="y"),W=Z.stackgaps==="interpolate";else{var ye=m(M,L);h(x,M,p,v,B,U,ye)}var Me=!!M.xperiodalignment,oe=!!M.yperiodalignment;for(N=0;N<L;N++){var ve=O[N]={},H=l(B[N]),Y=l(U[N]);H&&Y?(ve[J]=B[N],ve[ne]=U[N],Me&&(ve.orig_x=b[N],ve.xEnd=_.ends[N],ve.xStart=_.starts[N]),oe&&(ve.orig_y=w[N],ve.yEnd=k.ends[N],ve.yStart=k.starts[N])):Z&&(ie?H:Y)?(ve[ue]=ie?B[N]:U[N],ve.gap=!0,W?(ve.s=r,$=!0):ve.s=0):ve[J]=ve[ne]=r,R&&(ve.id=String(R[N]))}if(n(O,M),o(x,M),t(O,M),Z){for(N=0;N<O.length;)O[N][ue]===r?O.splice(N,1):N++;if(g.sort(O,function(C,K){return C[ue]-K[ue]||C.i-K.i}),$){for(N=0;N<O.length-1&&O[N].gap;)N++;for(X=O[N].s,X||(X=O[N].s=0),F=0;F<N;F++)O[F].s=X;for(G=O.length-1;G>N&&O[G].gap;)G--;for(X=O[G].s,F=O.length-1;F>G;F--)O[F].s=X;for(;N<G;)if(N++,O[N].gap){for(F=N+1;O[F].gap;)F++;for(var S=O[N-1][ue],E=O[N-1].s,I=(O[F].s-E)/(O[F][ue]-S);N<F;)O[N].s=E+(O[N][ue]-S)*I,N++}}}return O}function h(x,M,c,p,v,b,w){var _=M._length,k=x._fullLayout,B=c._id,U=p._id,L=k._firstScatter[d(M)]===M.uid,O=(T(M,k,c,p)||{}).orientation,R=M.fill;c._minDtick=0,p._minDtick=0;var Z={padded:!0},$={padded:!0};w&&(Z.ppad=$.ppad=w);var ie=_<2||v[0]!==v[_-1]||b[0]!==b[_-1];ie&&(R==="tozerox"||R==="tonextx"&&(L||O==="h"))?Z.tozero=!0:!(M.error_y||{}).visible&&(R==="tonexty"||R==="tozeroy"||!f.hasMarkers(M)&&!f.hasText(M))&&(Z.padded=!1,Z.ppad=0),ie&&(R==="tozeroy"||R==="tonexty"&&(L||O==="v"))?$.tozero=!0:(R==="tonextx"||R==="tozerox")&&($.padded=!1),B&&(M._extremes[B]=s.findExtremes(c,v,Z)),U&&(M._extremes[U]=s.findExtremes(p,b,$))}function m(x,M){if(f.hasMarkers(x)){var c=x.marker,p=1.6*(x.marker.sizeref||1),v;if(x.marker.sizemode==="area"?v=function(B){return Math.max(Math.sqrt((B||0)/p),3)}:v=function(B){return Math.max((B||0)/p,3)},g.isArrayOrTypedArray(c.size)){var b={type:"linear"};s.setConvert(b);for(var w=b.makeCalcdata(x.marker,"size"),_=new Array(M),k=0;k<M;k++)_[k]=v(w[k]);return _}else return v(c.size)}}function y(x,M){var c=d(M),p=x._firstScatter;p[c]||(p[c]=M.uid)}function d(x){var M=x.stackgroup;return x.xaxis+x.yaxis+x.type+(M?"-"+M:"")}function T(x,M,c,p){var v=x.stackgroup;if(v){var b=M._scatterStackOpts[c._id+p._id][v],w=b.orientation==="v"?p:c;if(w.type==="linear"||w.type==="log")return b}}te.exports={calc:u,calcMarkerSize:m,calcAxisExpansion:h,setFirstScatter:y,getStackOpts:T}},6279:function(te,z,e){var l=e(1828);te.exports=function(s,i){l.isArrayOrTypedArray(i.selectedpoints)&&l.tagSelected(s,i)}},6922:function(te,z,e){var l=e(2869).hasColorscale,g=e(8803),s=e(4098);te.exports=function(r,f){s.hasLines(f)&&l(f,"line")&&g(r,f,{vals:f.line.color,containerStr:"line",cLetter:"c"}),s.hasMarkers(f)&&(l(f,"marker")&&g(r,f,{vals:f.marker.color,containerStr:"marker",cLetter:"c"}),l(f,"marker.line")&&g(r,f,{vals:f.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},7581:function(te){te.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},2626:function(te,z,e){var l=e(7761),g=e(1661).setGroupPositions;function s(f,o){for(var n=o.xaxis,t=o.yaxis,u=f._fullLayout,h=f._fullData,m=f.calcdata,y=[],d=[],T=0;T<h.length;T++){var x=h[T];x.visible===!0&&x.type==="scatter"&&x.xaxis===n._id&&x.yaxis===t._id&&(x.orientation==="h"?y.push(m[T]):x.orientation==="v"&&d.push(m[T]))}var M={mode:u.scattermode,gap:u.scattergap};g(f,n,t,d,M),g(f,t,n,y,M)}te.exports=function(o,n){o._fullLayout.scattermode==="group"&&s(o,n);var t=n.xaxis,u=n.yaxis,h=t._id+u._id,m=o._fullLayout._scatterStackOpts[h];if(m){var y=o.calcdata,d,T,x,M,c,p,v,b,w,_,k,B,U,L,O;for(var R in m){_=m[R];var Z=_.traceIndices;if(Z.length){for(k=_.stackgaps==="interpolate",B=_.groupnorm,_.orientation==="v"?(U="x",L="y"):(U="y",L="x"),O=new Array(Z.length),d=0;d<O.length;d++)O[d]=!1;p=y[Z[0]];var $=new Array(p.length);for(d=0;d<p.length;d++)$[d]=p[d][U];for(d=1;d<Z.length;d++){for(c=y[Z[d]],T=x=0;T<c.length;T++){for(v=c[T][U];v>$[x]&&x<$.length;x++)i(c,T,$[x],d,O,k,U),T++;if(v!==$[x]){for(M=0;M<d;M++)i(y[Z[M]],x,v,M,O,k,U);$.splice(x,0,v)}x++}for(;x<$.length;x++)i(c,T,$[x],d,O,k,U),T++}var ie=$.length;for(T=0;T<p.length;T++){for(b=p[T][L]=p[T].s,d=1;d<Z.length;d++)c=y[Z[d]],c[0].trace._rawLength=c[0].trace._length,c[0].trace._length=ie,b+=c[T].s,c[T][L]=b;if(B)for(w=(B==="fraction"?b:b/100)||1,d=0;d<Z.length;d++){var N=y[Z[d]][T];N[L]/=w,N.sNorm=N.s/w}}for(d=0;d<Z.length;d++){c=y[Z[d]];var F=c[0].trace,G=l.calcMarkerSize(F,F._rawLength),W=Array.isArray(G);if(G&&O[d]||W){var X=G;for(G=new Array(ie),T=0;T<ie;T++)G[T]=c[T].gap?0:W?X[c[T].i]:X}var J=new Array(ie),ne=new Array(ie);for(T=0;T<ie;T++)J[T]=c[T].x,ne[T]=c[T].y;l.calcAxisExpansion(o,F,t,u,J,ne,G),c[0].t.orientation=_.orientation}}}}};function i(f,o,n,t,u,h,m){u[t]=!0;var y={i:null,gap:!0,s:0};if(y[m]=n,f.splice(o,0,y),o&&n===f[o-1][m]){var d=f[o-1];y.s=d.s,y.i=d.i,y.gap=d.gap}else h&&(y.s=r(f,o,n,m));o||(f[0].t=f[1].t,f[0].trace=f[1].trace,delete f[1].t,delete f[1].trace)}function r(f,o,n,t){var u=f[o-1],h=f[o+1];return h?u?u.s+(h.s-u.s)*(n-u[t])/(h[t]-u[t]):h.s:u.s}},462:function(te,z,e){var l=e(1828),g=e(6125),s=e(2196);te.exports=function(r,f){var o,n,t;function u(T){return l.coerce(n._input,n,s,T)}if(f.scattermode==="group")for(t=0;t<r.length;t++)n=r[t],n.type==="scatter"&&(o=n._input,g(o,n,f,u));for(t=0;t<r.length;t++){var h=r[t];if(h.type==="scatter"){var m=h.fill;if(!(m==="none"||m==="toself")&&(h.opacity=void 0,m==="tonexty"||m==="tonextx"))for(var y=t-1;y>=0;y--){var d=r[y];if(d.type==="scatter"&&d.xaxis===h.xaxis&&d.yaxis===h.yaxis){d.opacity=void 0;break}}}}}},7438:function(te,z,e){var l=e(1828),g=e(3972),s=e(2196),i=e(7581),r=e(4098),f=e(7513),o=e(3927),n=e(565),t=e(9508),u=e(1058),h=e(4039),m=e(2410),y=e(8908),d=e(1828).coercePattern;te.exports=function(x,M,c,p){function v(O,R){return l.coerce(x,M,s,O,R)}var b=f(x,M,p,v);if(b||(M.visible=!1),!!M.visible){o(x,M,p,v),v("xhoverformat"),v("yhoverformat");var w=n(x,M,p,v);p.scattermode==="group"&&M.orientation===void 0&&v("orientation","v");var _=!w&&b<i.PTS_LINESONLY?"lines+markers":"lines";v("text"),v("hovertext"),v("mode",_),r.hasLines(M)&&(u(x,M,c,p,v,{backoff:!0}),h(x,M,v),v("connectgaps"),v("line.simplify")),r.hasMarkers(M)&&t(x,M,c,p,v,{gradient:!0}),r.hasText(M)&&(v("texttemplate"),m(x,M,p,v));var k=[];(r.hasMarkers(M)||r.hasText(M))&&(v("cliponaxis"),v("marker.maxdisplayed"),k.push("points")),v("fill",w?w.fillDflt:"none"),M.fill!=="none"&&(y(x,M,c,v),r.hasLines(M)||h(x,M,v),d(v,"fillpattern",M.fillcolor,!1));var B=(M.line||{}).color,U=(M.marker||{}).color;(M.fill==="tonext"||M.fill==="toself")&&k.push("fills"),v("hoveron",k.join("+")||"points"),M.hoveron!=="fills"&&v("hovertemplate");var L=g.getComponentMethod("errorbars","supplyDefaults");L(x,M,B||U||c,{axis:"y"}),L(x,M,B||U||c,{axis:"x",inherit:"y"}),l.coerceSelectionMarkerOpacity(M,v)}}},8908:function(te,z,e){var l=e(7901),g=e(1828).isArrayOrTypedArray;te.exports=function(i,r,f,o){var n=!1;if(r.marker){var t=r.marker.color,u=(r.marker.line||{}).color;t&&!g(t)?n=t:u&&!g(u)&&(n=u)}o("fillcolor",l.addOpacity((r.line||{}).color||n||f,.5))}},8225:function(te,z,e){var l=e(9298);te.exports=function(s,i,r){var f={},o={_fullLayout:r},n=l.getFromTrace(o,i,"x"),t=l.getFromTrace(o,i,"y"),u=s.orig_x;u===void 0&&(u=s.x);var h=s.orig_y;return h===void 0&&(h=s.y),f.xLabel=l.tickText(n,n.c2l(u),!0).text,f.yLabel=l.tickText(t,t.c2l(h),!0).text,f}},4603:function(te,z,e){var l=e(7901),g=e(4098);te.exports=function(i,r){var f,o;if(i.mode==="lines")return f=i.line.color,f&&l.opacity(f)?f:i.fillcolor;if(i.mode==="none")return i.fill?i.fillcolor:"";var n=r.mcc||(i.marker||{}).color,t=r.mlcc||((i.marker||{}).line||{}).color;return o=n&&l.opacity(n)?n:t&&l.opacity(t)&&(r.mlw||((i.marker||{}).line||{}).width)?t:"",o?l.opacity(o)<.3?l.addOpacity(o,.3):o:(f=(i.line||{}).color,f&&l.opacity(f)&&g.hasLines(i)&&i.line.width?f:i.fillcolor)}},6125:function(te,z,e){var l=e(9082).getAxisGroup;te.exports=function(s,i,r,f){var o=i.orientation,n=i[{v:"x",h:"y"}[o]+"axis"],t=l(r,n)+o,u=r._alignmentOpts||{},h=f("alignmentgroup"),m=u[t];m||(m=u[t]={});var y=m[h];y?y.traces.push(i):y=m[h]={traces:[i],alignmentIndex:Object.keys(m).length,offsetGroups:{}};var d=f("offsetgroup"),T=y.offsetGroups,x=T[d];d&&(x||(x=T[d]={offsetIndex:Object.keys(T).length}),i._offsetIndex=x.offsetIndex)}},3720:function(te,z,e){var l=e(1828),g=e(211),s=e(3972),i=e(4603),r=e(7901),f=l.fillText;te.exports=function(n,t,u,h){var m=n.cd,y=m[0].trace,d=n.xa,T=n.ya,x=d.c2p(t),M=T.c2p(u),c=[x,M],p=y.hoveron||"",v=y.mode.indexOf("markers")!==-1?3:.5,b=!!y.xperiodalignment,w=!!y.yperiodalignment;if(p.indexOf("points")!==-1){var _=function(j){if(b){var ae=d.c2p(j.xStart),fe=d.c2p(j.xEnd);return x>=Math.min(ae,fe)&&x<=Math.max(ae,fe)?0:1/0}var de=Math.max(3,j.mrc||0),Ce=1-1/de,De=Math.abs(d.c2p(j.x)-x);return De<de?Ce*De/de:De-de+Ce},k=function(j){if(w){var ae=T.c2p(j.yStart),fe=T.c2p(j.yEnd);return M>=Math.min(ae,fe)&&M<=Math.max(ae,fe)?0:1/0}var de=Math.max(3,j.mrc||0),Ce=1-1/de,De=Math.abs(T.c2p(j.y)-M);return De<de?Ce*De/de:De-de+Ce},B=function(j){var ae=Math.max(v,j.mrc||0),fe=d.c2p(j.x)-x,de=T.c2p(j.y)-M;return Math.max(Math.sqrt(fe*fe+de*de)-ae,1-v/ae)},U=g.getDistanceFunction(h,_,k,B);if(g.getClosest(m,U,n),n.index!==!1){var L=m[n.index],O=d.c2p(L.x,!0),R=T.c2p(L.y,!0),Z=L.mrc||1;n.index=L.i;var $=m[0].t.orientation,ie=$&&(L.sNorm||L.s),N=$==="h"?ie:L.orig_x!==void 0?L.orig_x:L.x,F=$==="v"?ie:L.orig_y!==void 0?L.orig_y:L.y;return l.extendFlat(n,{color:i(y,L),x0:O-Z,x1:O+Z,xLabelVal:N,y0:R-Z,y1:R+Z,yLabelVal:F,spikeDistance:B(L),hovertemplate:y.hovertemplate}),f(L,y,n),s.getComponentMethod("errorbars","hoverInfo")(L,y,n),[n]}}if(p.indexOf("fills")!==-1&&y._polygons){var G=y._polygons,W=[],X=!1,J=1/0,ne=-1/0,ue=1/0,ye=-1/0,Me,oe,ve,H,Y,S,E,I,C;for(Me=0;Me<G.length;Me++)ve=G[Me],ve.contains(c)&&(X=!X,W.push(ve),ue=Math.min(ue,ve.ymin),ye=Math.max(ye,ve.ymax));if(X){ue=Math.max(ue,0),ye=Math.min(ye,T._length);var K=(ue+ye)/2;for(Me=0;Me<W.length;Me++)for(H=W[Me].pts,oe=1;oe<H.length;oe++)I=H[oe-1][1],C=H[oe][1],I>K!=C>=K&&(S=H[oe-1][0],E=H[oe][0],C-I&&(Y=S+(E-S)*(K-I)/(C-I),J=Math.min(J,Y),ne=Math.max(ne,Y)));J=Math.max(J,0),ne=Math.min(ne,d._length);var P=r.defaultLine;return r.opacity(y.fillcolor)?P=y.fillcolor:r.opacity((y.line||{}).color)&&(P=y.line.color),l.extendFlat(n,{distance:n.maxHoverDistance,x0:J,x1:ne,y0:K,y1:K,color:P,hovertemplate:!1}),delete n.index,y.text&&!Array.isArray(y.text)?n.text=String(y.text):n.text=y.name,[n]}}}},7368:function(te,z,e){var l=e(4098);te.exports={hasLines:l.hasLines,hasMarkers:l.hasMarkers,hasText:l.hasText,isBubble:l.isBubble,attributes:e(2196),layoutAttributes:e(1479),supplyDefaults:e(7438),crossTraceDefaults:e(462),supplyLayoutDefaults:e(9334),calc:e(7761).calc,crossTraceCalc:e(2626),arraysToCalcdata:e(5225),plot:e(7399),colorbar:e(4898),formatLabels:e(8225),style:e(6296).style,styleOnSelect:e(6296).styleOnSelect,hoverPoints:e(3720),selectPoints:e(8002),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(3612),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},1479:function(te){te.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},9334:function(te,z,e){var l=e(1828),g=e(1479);te.exports=function(s,i){function r(o,n){return l.coerce(s,i,g,o,n)}var f=i.barmode==="group";i.scattermode==="group"&&r("scattergap",f?i.bargap:.2)}},1058:function(te,z,e){var l=e(1828).isArrayOrTypedArray,g=e(2869).hasColorscale,s=e(1586);te.exports=function(r,f,o,n,t,u){u||(u={});var h=(r.marker||{}).color;if(t("line.color",o),g(r,"line"))s(r,f,n,t,{prefix:"line.",cLetter:"c"});else{var m=(l(h)?!1:h)||o;t("line.color",m)}t("line.width"),u.noDash||t("line.dash"),u.backoff&&t("line.backoff")}},4621:function(te,z,e){var l=e(1424),g=e(606),s=g.BADNUM,i=g.LOG_CLIP,r=i+.5,f=i-.5,o=e(1828),n=o.segmentsIntersect,t=o.constrain,u=e(7581);te.exports=function(m,y){var d=y.trace||{},T=y.xaxis,x=y.yaxis,M=T.type==="log",c=x.type==="log",p=T._length,v=x._length,b=y.backoff,w=d.marker,_=y.connectGaps,k=y.baseTolerance,B=y.shape,U=B==="linear",L=d.fill&&d.fill!=="none",O=[],R=u.minTolerance,Z=m.length,$=new Array(Z),ie=0,N,F,G,W,X,J,ne,ue,ye,Me,oe,ve,H,Y,S,E;function I(ze){var _e=m[ze];if(!_e)return!1;var ct=y.linearized?T.l2p(_e.x):T.c2p(_e.x),lt=y.linearized?x.l2p(_e.y):x.c2p(_e.y);if(ct===s){if(M&&(ct=T.c2p(_e.x,!0)),ct===s)return!1;c&&lt===s&&(ct*=Math.abs(T._m*v*(T._m>0?r:f)/(x._m*p*(x._m>0?r:f)))),ct*=1e3}if(lt===s){if(c&&(lt=x.c2p(_e.y,!0)),lt===s)return!1;lt*=1e3}return[ct,lt]}function C(ze,_e,ct,lt){var $e=ct-ze,Ye=lt-_e,nt=.5-ze,wt=.5-_e,Et=$e*$e+Ye*Ye,Ht=$e*nt+Ye*wt;if(Ht>0&&Ht<Et){var Wt=nt*Ye-wt*$e;if(Wt*Wt<Et)return!0}}var K,P;function j(ze,_e){var ct=ze[0]/p,lt=ze[1]/v,$e=Math.max(0,-ct,ct-1,-lt,lt-1);return $e&&K!==void 0&&C(ct,lt,K,P)&&($e=0),$e&&_e&&C(ct,lt,_e[0]/p,_e[1]/v)&&($e=0),(1+u.toleranceGrowth*$e)*k}function ae(ze,_e){var ct=ze[0]-_e[0],lt=ze[1]-_e[1];return Math.sqrt(ct*ct+lt*lt)}var fe=u.maxScreensAway,de=-p*fe,Ce=p*(1+fe),De=-v*fe,ce=v*(1+fe),me=[[de,De,Ce,De],[Ce,De,Ce,ce],[Ce,ce,de,ce],[de,ce,de,De]],pe,Ee,Ae,xe,Fe,Ke;function je(ze,_e){for(var ct=[],lt=0,$e=0;$e<4;$e++){var Ye=me[$e],nt=n(ze[0],ze[1],_e[0],_e[1],Ye[0],Ye[1],Ye[2],Ye[3]);nt&&(!lt||Math.abs(nt.x-ct[0][0])>1||Math.abs(nt.y-ct[0][1])>1)&&(nt=[nt.x,nt.y],lt&&ae(nt,ze)<ae(ct[0],ze)?ct.unshift(nt):ct.push(nt),lt++)}return ct}function Ve(ze){if(ze[0]<de||ze[0]>Ce||ze[1]<De||ze[1]>ce)return[t(ze[0],de,Ce),t(ze[1],De,ce)]}function dt(ze,_e){if(ze[0]===_e[0]&&(ze[0]===de||ze[0]===Ce)||ze[1]===_e[1]&&(ze[1]===De||ze[1]===ce))return!0}function bt(ze,_e){var ct=[],lt=Ve(ze),$e=Ve(_e);return lt&&$e&&dt(lt,$e)||(lt&&ct.push(lt),$e&&ct.push($e)),ct}function Tt(ze,_e,ct){return function(lt,$e){var Ye=Ve(lt),nt=Ve($e),wt=[];if(Ye&&nt&&dt(Ye,nt))return wt;Ye&&wt.push(Ye),nt&&wt.push(nt);var Et=2*o.constrain((lt[ze]+$e[ze])/2,_e,ct)-((Ye||lt)[ze]+(nt||$e)[ze]);if(Et){var Ht;Ye&&nt?Ht=Et>0==Ye[ze]>nt[ze]?Ye:nt:Ht=Ye||nt,Ht[ze]+=Et}return wt}}var it;B==="linear"||B==="spline"?it=je:B==="hv"||B==="vh"?it=bt:B==="hvh"?it=Tt(0,de,Ce):B==="vhv"&&(it=Tt(1,De,ce));function kt(ze,_e){var ct=_e[0]-ze[0],lt=(_e[1]-ze[1])/ct,$e=(ze[1]*_e[0]-_e[1]*ze[0])/ct;return $e>0?[lt>0?de:Ce,ce]:[lt>0?Ce:de,De]}function tt(ze){var _e=ze[0],ct=ze[1],lt=_e===$[ie-1][0],$e=ct===$[ie-1][1];if(!(lt&&$e))if(ie>1){var Ye=_e===$[ie-2][0],nt=ct===$[ie-2][1];lt&&(_e===de||_e===Ce)&&Ye?nt?ie--:$[ie-1]=ze:$e&&(ct===De||ct===ce)&&nt?Ye?ie--:$[ie-1]=ze:$[ie++]=ze}else $[ie++]=ze}function Mt(ze){$[ie-1][0]!==ze[0]&&$[ie-1][1]!==ze[1]&&tt([Ae,xe]),tt(ze),Fe=null,Ae=xe=0}var Dt=o.isArrayOrTypedArray(w);function St(ze){if(ze&&b&&(ze.i=N,ze.d=m,ze.trace=d,ze.marker=Dt?w[ze.i]:w,ze.backoff=b),K=ze[0]/p,P=ze[1]/v,pe=ze[0]<de?de:ze[0]>Ce?Ce:0,Ee=ze[1]<De?De:ze[1]>ce?ce:0,pe||Ee){if(!ie)$[ie++]=[pe||ze[0],Ee||ze[1]];else if(Fe){var _e=it(Fe,ze);_e.length>1&&(Mt(_e[0]),$[ie++]=_e[1])}else Ke=it($[ie-1],ze)[0],$[ie++]=Ke;var ct=$[ie-1];pe&&Ee&&(ct[0]!==pe||ct[1]!==Ee)?(Fe&&(Ae!==pe&&xe!==Ee?tt(Ae&&xe?kt(Fe,ze):[Ae||pe,xe||Ee]):Ae&&xe&&tt([Ae,xe])),tt([pe,Ee])):Ae-pe&&xe-Ee&&tt([pe||Ae,Ee||xe]),Fe=ze,Ae=pe,xe=Ee}else Fe&&Mt(it(Fe,ze)[0]),$[ie++]=ze}for(N=0;N<Z;N++)if(F=I(N),!!F){for(ie=0,Fe=null,St(F),N++;N<Z;N++){if(W=I(N),!W){if(_)continue;break}if(!U||!y.simplify){St(W);continue}var At=I(N+1);if(Me=ae(W,F),!(!(L&&(ie===0||ie===Z-1))&&Me<j(W,At)*R)){for(ue=[(W[0]-F[0])/Me,(W[1]-F[1])/Me],X=F,oe=Me,ve=Y=S=0,ne=!1,G=W,N++;N<m.length;N++){if(J=At,At=I(N+1),!J){if(_)continue;break}if(ye=[J[0]-F[0],J[1]-F[1]],E=ye[0]*ue[1]-ye[1]*ue[0],Y=Math.min(Y,E),S=Math.max(S,E),S-Y>j(J,At))break;G=J,H=ye[0]*ue[0]+ye[1]*ue[1],H>oe?(oe=H,W=J,ne=!1):H<ve&&(ve=H,X=J,ne=!0)}if(ne?(St(W),G!==X&&St(X)):(X!==F&&St(X),G!==W&&St(W)),St(G),N>=m.length||!J)break;St(J),F=J}}Fe&&tt([Ae||Fe[0],xe||Fe[1]]),O.push($.slice(0,ie))}var ke=B.slice(B.length-1);if(b&&ke!=="h"&&ke!=="v"){for(var Te=!1,Re=-1,Le=[],Oe=0;Oe<O.length;Oe++)for(var le=0;le<O[Oe].length-1;le++){var be=O[Oe][le],we=O[Oe][le+1],Se=l.applyBackoff(we,be);(Se[0]!==we[0]||Se[1]!==we[1])&&(Te=!0),Le[Re+1]||(Re++,Le[Re]=[be,[Se[0],Se[1]]])}return Te?Le:O}return O}},4039:function(te){te.exports=function(e,l,g){var s=g("line.shape");s==="spline"&&g("line.smoothing")}},8687:function(te){var z={tonextx:1,tonexty:1,tonext:1};te.exports=function(l,g,s){var i,r,f,o,n,t={},u=!1,h=-1,m=0,y=-1;for(r=0;r<s.length;r++)i=s[r][0].trace,f=i.stackgroup||"",f?f in t?n=t[f]:(n=t[f]=m,m++):i.fill in z&&y>=0?n=y:(n=y=m,m++),n<h&&(u=!0),i._groupIndex=h=n;var d=s.slice();u&&d.sort(function(x,M){var c=x[0].trace,p=M[0].trace;return c._groupIndex-p._groupIndex||c.index-p.index});var T={};for(r=0;r<d.length;r++)i=d[r][0].trace,f=i.stackgroup||"",i.visible===!0?(i._nexttrace=null,i.fill in z&&(o=T[f],i._prevtrace=o||null,o&&(o._nexttrace=i)),i._ownfill=i.fill&&(i.fill.substr(0,6)==="tozero"||i.fill==="toself"||i.fill.substr(0,2)==="to"&&!i._prevtrace),T[f]=i):i._prevtrace=i._nexttrace=i._ownfill=null;return d}},9984:function(te,z,e){var l=e(2770);te.exports=function(s,i){i||(i=2);var r=s.marker,f=r.sizeref||1,o=r.sizemin||0,n=r.sizemode==="area"?function(t){return Math.sqrt(t/f)}:function(t){return t/f};return function(t){var u=n(t/i);return l(u)&&u>0?Math.max(u,o):0}}},4898:function(te){te.exports={container:"marker",min:"cmin",max:"cmax"}},9508:function(te,z,e){var l=e(7901),g=e(2869).hasColorscale,s=e(1586),i=e(4098);te.exports=function(f,o,n,t,u,h){var m=i.isBubble(f),y=(f.line||{}).color,d;if(h=h||{},y&&(n=y),u("marker.symbol"),u("marker.opacity",m?.7:1),u("marker.size"),h.noAngle||(u("marker.angle"),h.noAngleRef||u("marker.angleref"),h.noStandOff||u("marker.standoff")),u("marker.color",n),g(f,"marker")&&s(f,o,t,u,{prefix:"marker.",cLetter:"c"}),h.noSelect||(u("selected.marker.color"),u("unselected.marker.color"),u("selected.marker.size"),u("unselected.marker.size")),h.noLine||(y&&!Array.isArray(y)&&o.marker.color!==y?d=y:m?d=l.background:d=l.defaultLine,u("marker.line.color",d),g(f,"marker.line")&&s(f,o,t,u,{prefix:"marker.line.",cLetter:"c"}),u("marker.line.width",m?1:0)),m&&(u("marker.sizeref"),u("marker.sizemin"),u("marker.sizemode")),h.gradient){var T=u("marker.gradient.type");T!=="none"&&u("marker.gradient.color")}}},3927:function(te,z,e){var l=e(1828).dateTick0,g=e(606),s=g.ONEWEEK;function i(r,f){return r%s===0?l(f,1):l(f,0)}te.exports=function(f,o,n,t,u){if(u||(u={x:!0,y:!0}),u.x){var h=t("xperiod");h&&(t("xperiod0",i(h,o.xcalendar)),t("xperiodalignment"))}if(u.y){var m=t("yperiod");m&&(t("yperiod0",i(m,o.ycalendar)),t("yperiodalignment"))}}},7399:function(te,z,e){var l=e(9898),g=e(3972),s=e(1828),i=s.ensureSingle,r=s.identity,f=e(1424),o=e(4098),n=e(4621),t=e(8687),u=e(1082).tester;te.exports=function(T,x,M,c,p,v){var b,w,_=!p,k=!!p&&p.duration>0,B=t(T,x,M);if(b=c.selectAll("g.trace").data(B,function(L){return L[0].trace.uid}),b.enter().append("g").attr("class",function(L){return"trace scatter trace"+L[0].trace.uid}).style("stroke-miterlimit",2),b.order(),h(T,b,x),k){v&&(w=v());var U=l.transition().duration(p.duration).ease(p.easing).each("end",function(){w&&w()}).each("interrupt",function(){w&&w()});U.each(function(){c.selectAll("g.trace").each(function(L,O){m(T,O,x,L,B,this,p)})})}else b.each(function(L,O){m(T,O,x,L,B,this,p)});_&&b.exit().remove(),c.selectAll("path:not([d])").remove()};function h(d,T,x){T.each(function(M){var c=i(l.select(this),"g","fills");f.setClipUrl(c,x.layerClipId,d);var p=M[0].trace,v=[];p._ownfill&&v.push("_ownFill"),p._nexttrace&&v.push("_nextFill");var b=c.selectAll("g").data(v,r);b.enter().append("g"),b.exit().each(function(w){p[w]=null}).remove(),b.order().each(function(w){p[w]=i(l.select(this),"path","js-fill")})})}function m(d,T,x,M,c,p,v){var b=d._context.staticPlot,w;y(d,T,x,M,c);var _=!!v&&v.duration>0;function k(xe){return _?xe.transition():xe}var B=x.xaxis,U=x.yaxis,L=M[0].trace,O=L.line,R=l.select(p),Z=i(R,"g","errorbars"),$=i(R,"g","lines"),ie=i(R,"g","points"),N=i(R,"g","text");if(g.getComponentMethod("errorbars","plot")(d,Z,x,v),L.visible!==!0)return;k(R).style("opacity",L.opacity);var F,G,W=L.fill.charAt(L.fill.length-1);W!=="x"&&W!=="y"&&(W=""),M[0][x.isRangePlot?"nodeRangePlot3":"node3"]=R;var X="",J=[],ne=L._prevtrace;ne&&(X=ne._prevRevpath||"",G=ne._nextFill,J=ne._polygons);var ue,ye,Me="",oe="",ve,H,Y,S,E,I,C,K=[],P=s.noop;if(F=L._ownFill,o.hasLines(L)||L.fill!=="none"){for(G&&G.datum(M),["hv","vh","hvh","vhv"].indexOf(O.shape)!==-1?(ve=f.steps(O.shape),H=f.steps(O.shape.split("").reverse().join(""))):O.shape==="spline"?ve=H=function(xe){var Fe=xe[xe.length-1];return xe.length>1&&xe[0][0]===Fe[0]&&xe[0][1]===Fe[1]?f.smoothclosed(xe.slice(1),O.smoothing):f.smoothopen(xe,O.smoothing)}:ve=H=function(xe){return"M"+xe.join("L")},Y=function(xe){return H(xe.reverse())},K=n(M,{xaxis:B,yaxis:U,trace:L,connectGaps:L.connectgaps,baseTolerance:Math.max(O.width||1,3)/4,shape:O.shape,backoff:O.backoff,simplify:O.simplify,fill:L.fill}),C=L._polygons=new Array(K.length),w=0;w<K.length;w++)L._polygons[w]=u(K[w]);K.length&&(S=K[0][0],E=K[K.length-1],I=E[E.length-1]),P=function(xe){return function(Fe){if(ue=ve(Fe),ye=Y(Fe),Me?W?(Me+="L"+ue.substr(1),oe=ye+("L"+oe.substr(1))):(Me+="Z"+ue,oe=ye+"Z"+oe):(Me=ue,oe=ye),o.hasLines(L)){var Ke=l.select(this);if(Ke.datum(M),xe)k(Ke.style("opacity",0).attr("d",ue).call(f.lineGroupStyle)).style("opacity",1);else{var je=k(Ke);je.attr("d",ue),f.singleLineStyle(M,je)}}}}}var j=$.selectAll(".js-line").data(K);k(j.exit()).style("opacity",0).remove(),j.each(P(!1)),j.enter().append("path").classed("js-line",!0).style("vector-effect",b?"none":"non-scaling-stroke").call(f.lineGroupStyle).each(P(!0)),f.setClipUrl(j,x.layerClipId,d);function ae(xe){k(xe).attr("d","M0,0Z")}K.length?(F?(F.datum(M),S&&I&&(W?(W==="y"?S[1]=I[1]=U.c2p(0,!0):W==="x"&&(S[0]=I[0]=B.c2p(0,!0)),k(F).attr("d","M"+I+"L"+S+"L"+Me.substr(1)).call(f.singleFillStyle,d)):k(F).attr("d",Me+"Z").call(f.singleFillStyle,d))):G&&(L.fill.substr(0,6)==="tonext"&&Me&&X?(L.fill==="tonext"?k(G).attr("d",Me+"Z"+X+"Z").call(f.singleFillStyle,d):k(G).attr("d",Me+"L"+X.substr(1)+"Z").call(f.singleFillStyle,d),L._polygons=L._polygons.concat(J)):(ae(G),L._polygons=null)),L._prevRevpath=oe,L._prevPolygons=C):(F?ae(F):G&&ae(G),L._polygons=L._prevRevpath=L._prevPolygons=null);function fe(xe){return xe.filter(function(Fe){return!Fe.gap&&Fe.vis})}function de(xe){return xe.filter(function(Fe){return Fe.vis})}function Ce(xe){return xe.filter(function(Fe){return!Fe.gap})}function De(xe){return xe.id}function ce(xe){if(xe.ids)return De}function me(){return!1}function pe(xe,Fe,Ke){var je,Ve,dt,bt=Ke[0].trace,Tt=o.hasMarkers(bt),it=o.hasText(bt),kt=ce(bt),tt=me,Mt=me;if(Tt||it){var Dt=r,St=bt.stackgroup,At=St&&d._fullLayout._scatterStackOpts[B._id+U._id][St].stackgaps==="infer zero";bt.marker.maxdisplayed||bt._needsCull?Dt=At?de:fe:St&&!At&&(Dt=Ce),Tt&&(tt=Dt),it&&(Mt=Dt)}Ve=xe.selectAll("path.point"),je=Ve.data(tt,kt);var ke=je.enter().append("path").classed("point",!0);_&&ke.call(f.pointStyle,bt,d).call(f.translatePoints,B,U).style("opacity",0).transition().style("opacity",1),je.order();var Te;Tt&&(Te=f.makePointStyleFns(bt)),je.each(function(Re){var Le=l.select(this),Oe=k(Le);dt=f.translatePoint(Re,Oe,B,U),dt?(f.singlePointStyle(Re,Oe,bt,Te,d),x.layerClipId&&f.hideOutsideRangePoint(Re,Oe,B,U,bt.xcalendar,bt.ycalendar),bt.customdata&&Le.classed("plotly-customdata",Re.data!==null&&Re.data!==void 0)):Oe.remove()}),_?je.exit().transition().style("opacity",0).remove():je.exit().remove(),Ve=Fe.selectAll("g"),je=Ve.data(Mt,kt),je.enter().append("g").classed("textpoint",!0).append("text"),je.order(),je.each(function(Re){var Le=l.select(this),Oe=k(Le.select("text"));dt=f.translatePoint(Re,Oe,B,U),dt?x.layerClipId&&f.hideOutsideRangePoint(Re,Le,B,U,bt.xcalendar,bt.ycalendar):Le.remove()}),je.selectAll("text").call(f.textPointStyle,bt,d).each(function(Re){var Le=B.c2p(Re.x),Oe=U.c2p(Re.y);l.select(this).selectAll("tspan.line").each(function(){k(l.select(this)).attr({x:Le,y:Oe})})}),je.exit().remove()}ie.datum(M),N.datum(M),pe(ie,N,M);var Ee=L.cliponaxis===!1,Ae=Ee?null:x.layerClipId;f.setClipUrl(ie,Ae,d),f.setClipUrl(N,Ae,d)}function y(d,T,x,M,c){var p=x.xaxis,v=x.yaxis,b=l.extent(s.simpleMap(p.range,p.r2c)),w=l.extent(s.simpleMap(v.range,v.r2c)),_=M[0].trace;if(o.hasMarkers(_)){var k=_.marker.maxdisplayed;if(k!==0){var B=M.filter(function(R){return R.x>=b[0]&&R.x<=b[1]&&R.y>=w[0]&&R.y<=w[1]}),U=Math.ceil(B.length/k),L=0;c.forEach(function(R,Z){var $=R[0].trace;o.hasMarkers($)&&$.marker.maxdisplayed>0&&Z<T&&L++});var O=Math.round(L*U/3+Math.floor(L/3)*U/7.1);M.forEach(function(R){delete R.vis}),B.forEach(function(R,Z){Math.round((Z+O)%U)===0&&(R.vis=!0)})}}}},8002:function(te,z,e){var l=e(4098);te.exports=function(s,i){var r=s.cd,f=s.xaxis,o=s.yaxis,n=[],t=r[0].trace,u,h,m,y,d=!l.hasMarkers(t)&&!l.hasText(t);if(d)return[];if(i===!1)for(u=0;u<r.length;u++)r[u].selected=0;else for(u=0;u<r.length;u++)h=r[u],m=f.c2p(h.x),y=o.c2p(h.y),h.i!==null&&i.contains([m,y],!1,u,s)?(n.push({pointNumber:h.i,x:f.c2d(h.x),y:o.c2d(h.y)}),h.selected=1):h.selected=0;return n}},565:function(te){var z=["orientation","groupnorm","stackgaps"];te.exports=function(l,g,s,i){var r=s._scatterStackOpts,f=i("stackgroup");if(f){var o=g.xaxis+g.yaxis,n=r[o];n||(n=r[o]={});var t=n[f],u=!1;t?t.traces.push(g):(t=n[f]={traceIndices:[],traces:[g]},u=!0);for(var h={orientation:g.x&&!g.y?"h":"v"},m=0;m<z.length;m++){var y=z[m],d=y+"Found";if(!t[d]){var T=l[y]!==void 0,x=y==="orientation";if((T||u)&&(t[y]=i(y,h[y]),x&&(t.fillDflt=t[y]==="h"?"tonextx":"tonexty"),T&&(t[d]=!0,!u&&(delete t.traces[0][y],x))))for(var M=0;M<t.traces.length-1;M++){var c=t.traces[M];c._input.fill!==c.fill&&(c.fill=t.fillDflt)}}}return t}}},6296:function(te,z,e){var l=e(9898),g=e(1424),s=e(3972);function i(n){var t=l.select(n).selectAll("g.trace.scatter");t.style("opacity",function(u){return u[0].trace.opacity}),t.selectAll("g.points").each(function(u){var h=l.select(this),m=u.trace||u[0].trace;r(h,m,n)}),t.selectAll("g.text").each(function(u){var h=l.select(this),m=u.trace||u[0].trace;f(h,m,n)}),t.selectAll("g.trace path.js-line").call(g.lineGroupStyle),t.selectAll("g.trace path.js-fill").call(g.fillGroupStyle,n),s.getComponentMethod("errorbars","style")(t)}function r(n,t,u){g.pointStyle(n.selectAll("path.point"),t,u)}function f(n,t,u){g.textPointStyle(n.selectAll("text"),t,u)}function o(n,t,u){var h=t[0].trace;h.selectedpoints?(g.selectedPointStyle(u.selectAll("path.point"),h),g.selectedTextStyle(u.selectAll("text"),h)):(r(u,h,n),f(u,h,n))}te.exports={style:i,stylePoints:r,styleText:f,styleOnSelect:o}},4098:function(te,z,e){var l=e(1828);te.exports={hasLines:function(g){return g.visible&&g.mode&&g.mode.indexOf("lines")!==-1},hasMarkers:function(g){return g.visible&&(g.mode&&g.mode.indexOf("markers")!==-1||g.type==="splom")},hasText:function(g){return g.visible&&g.mode&&g.mode.indexOf("text")!==-1},isBubble:function(g){return l.isPlainObject(g.marker)&&l.isArrayOrTypedArray(g.marker.size)}}},2410:function(te,z,e){var l=e(1828);te.exports=function(g,s,i,r,f){f=f||{},r("textposition"),l.coerceFont(r,"textfont",f.font||i.font),f.noSelect||(r("selected.textfont.color"),r("unselected.textfont.color"))}},7513:function(te,z,e){var l=e(1828),g=e(3972);te.exports=function(i,r,f,o){var n=o("x"),t=o("y"),u,h=g.getComponentMethod("calendars","handleTraceDefaults");if(h(i,r,["x","y"],f),n){var m=l.minRowLength(n);t?u=Math.min(m,l.minRowLength(t)):(u=m,o("y0"),o("dy"))}else{if(!t)return 0;u=l.minRowLength(t),o("x0"),o("dx")}return r._length=u,u}},2887:function(te,z,e){var l=e(9298),g=e(1828),s=e(6281),i=e(9344).p,r=e(606).BADNUM;z.moduleType="transform",z.name="aggregate";var f=z.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},o=f.aggregations;z.supplyDefaults=function(y,d){var T={},x;function M(R,Z){return g.coerce(y,T,f,R,Z)}var c=M("enabled");if(!c)return T;var p=s.findArrayAttributes(d),v={};for(x=0;x<p.length;x++)v[p[x]]=1;var b=M("groups");if(!Array.isArray(b)){if(!v[b])return T.enabled=!1,T;v[b]=0}var w=y.aggregations||[],_=T.aggregations=new Array(w.length),k;function B(R,Z){return g.coerce(w[x],k,o,R,Z)}for(x=0;x<w.length;x++){k={_index:x};var U=B("target"),L=B("func"),O=B("enabled");O&&U&&(v[U]||L==="count"&&v[U]===void 0)?(L==="stddev"&&B("funcmode"),v[U]=0,_[x]=k):_[x]={enabled:!1,_index:x}}for(x=0;x<p.length;x++)v[p[x]]&&_.push({target:p[x],func:o.func.dflt,enabled:!0,_index:-1});return T},z.calcTransform=function(y,d,T){if(T.enabled){var x=T.groups,M=g.getTargetArray(d,{target:x});if(M){var c,p,v,b,w={},_={},k=[],B=i(d.transforms,T),U=M.length;for(d._length&&(U=Math.min(U,d._length)),c=0;c<U;c++)p=M[c],v=w[p],v===void 0?(w[p]=k.length,b=[c],k.push(b),_[w[p]]=B(c)):(k[v].push(c),_[w[p]]=(_[w[p]]||[]).concat(B(c)));T._indexToPoints=_;var L=T.aggregations;for(c=0;c<L.length;c++)n(y,d,k,L[c]);typeof x=="string"&&n(y,d,k,{target:x,func:"first",enabled:!0}),d._length=k.length}}};function n(y,d,T,x){if(x.enabled){for(var M=x.target,c=g.nestedProperty(d,M),p=c.get(),v=l.getDataConversions(y,d,M,p),b=t(x,v),w=new Array(T.length),_=0;_<T.length;_++)w[_]=b(p,T[_]);c.set(w),x.func==="count"&&g.pushUnique(d._arrayAttrs,M)}}function t(y,d){var T=y.func,x=d.d2c,M=d.c2d;switch(T){case"count":return u;case"first":return h;case"last":return m;case"sum":return function(c,p){for(var v=0,b=0;b<p.length;b++){var w=x(c[p[b]]);w!==r&&(v+=w)}return M(v)};case"avg":return function(c,p){for(var v=0,b=0,w=0;w<p.length;w++){var _=x(c[p[w]]);_!==r&&(v+=_,b++)}return b?M(v/b):r};case"min":return function(c,p){for(var v=1/0,b=0;b<p.length;b++){var w=x(c[p[b]]);w!==r&&(v=Math.min(v,w))}return v===1/0?r:M(v)};case"max":return function(c,p){for(var v=-1/0,b=0;b<p.length;b++){var w=x(c[p[b]]);w!==r&&(v=Math.max(v,w))}return v===-1/0?r:M(v)};case"range":return function(c,p){for(var v=1/0,b=-1/0,w=0;w<p.length;w++){var _=x(c[p[w]]);_!==r&&(v=Math.min(v,_),b=Math.max(b,_))}return b===-1/0||v===1/0?r:M(b-v)};case"change":return function(c,p){var v=x(c[p[0]]),b=x(c[p[p.length-1]]);return v===r||b===r?r:M(b-v)};case"median":return function(c,p){for(var v=[],b=0;b<p.length;b++){var w=x(c[p[b]]);w!==r&&v.push(w)}if(!v.length)return r;v.sort(g.sorterAsc);var _=(v.length-1)/2;return M((v[Math.floor(_)]+v[Math.ceil(_)])/2)};case"mode":return function(c,p){for(var v={},b=0,w=r,_=0;_<p.length;_++){var k=x(c[p[_]]);if(k!==r){var B=v[k]=(v[k]||0)+1;B>b&&(b=B,w=k)}}return b?M(w):r};case"rms":return function(c,p){for(var v=0,b=0,w=0;w<p.length;w++){var _=x(c[p[w]]);_!==r&&(v+=_*_,b++)}return b?M(Math.sqrt(v/b)):r};case"stddev":return function(c,p){var v=0,b=0,w=1,_=r,k;for(k=0;k<p.length&&_===r;k++)_=x(c[p[k]]);if(_===r)return r;for(;k<p.length;k++){var B=x(c[p[k]]);if(B!==r){var U=B-_;v+=U,b+=U*U,w++}}var L=y.funcmode==="sample"?w-1:w;return L?Math.sqrt((b-v*v/w)/L):0}}}function u(y,d){return d.length}function h(y,d){return y[d[0]]}function m(y,d){return y[d[d.length-1]]}},4382:function(te,z,e){var l=e(1828),g=e(3972),s=e(9298),i=e(9344).p,r=e(4808),f=r.COMPARISON_OPS,o=r.INTERVAL_OPS,n=r.SET_OPS;z.moduleType="transform",z.name="filter",z.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(f).concat(o).concat(n),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},z.supplyDefaults=function(u){var h={};function m(x,M){return l.coerce(u,h,z.attributes,x,M)}var y=m("enabled");if(y){var d=m("target");if(l.isArrayOrTypedArray(d)&&d.length===0)return h.enabled=!1,h;m("preservegaps"),m("operation"),m("value");var T=g.getComponentMethod("calendars","handleDefaults");T(u,h,"valuecalendar",null),T(u,h,"targetcalendar",null)}return h},z.calcTransform=function(u,h,m){if(!m.enabled)return;var y=l.getTargetArray(h,m);if(!y)return;var d=m.target,T=y.length;h._length&&(T=Math.min(T,h._length));var x=m.targetcalendar,M=h._arrayAttrs,c=m.preservegaps;if(typeof d=="string"){var p=l.nestedProperty(h,d+"calendar").get();p&&(x=p)}var v=s.getDataToCoordFunc(u,h,d,y),b=t(m,v,x),w={},_={},k=0;function B($,ie){for(var N=0;N<M.length;N++){var F=l.nestedProperty(h,M[N]);$(F,ie)}}var U,L;c?(U=function($){w[$.astr]=l.extendDeep([],$.get()),$.set(new Array(T))},L=function($,ie){var N=w[$.astr][ie];$.get()[ie]=N}):(U=function($){w[$.astr]=l.extendDeep([],$.get()),$.set([])},L=function($,ie){var N=w[$.astr][ie];$.get().push(N)}),B(U);for(var O=i(h.transforms,m),R=0;R<T;R++){var Z=b(y[R]);Z?(B(L,R),_[k++]=O(R)):c&&k++}m._indexToPoints=_,h._length=k};function t(u,h,m){var y=u.operation,d=u.value,T=Array.isArray(d);function x(v){return v.indexOf(y)!==-1}var M=function(v){return h(v,0,u.valuecalendar)},c=function(v){return h(v,0,m)},p;switch(x(f)?p=M(T?d[0]:d):x(o)?p=T?[M(d[0]),M(d[1])]:[M(d),M(d)]:x(n)&&(p=T?d.map(M):[M(d)]),y){case"=":return function(v){return c(v)===p};case"!=":return function(v){return c(v)!==p};case"<":return function(v){return c(v)<p};case"<=":return function(v){return c(v)<=p};case">":return function(v){return c(v)>p};case">=":return function(v){return c(v)>=p};case"[]":return function(v){var b=c(v);return b>=p[0]&&b<=p[1]};case"()":return function(v){var b=c(v);return b>p[0]&&b<p[1]};case"[)":return function(v){var b=c(v);return b>=p[0]&&b<p[1]};case"(]":return function(v){var b=c(v);return b>p[0]&&b<=p[1]};case"][":return function(v){var b=c(v);return b<=p[0]||b>=p[1]};case")(":return function(v){var b=c(v);return b<p[0]||b>p[1]};case"](":return function(v){var b=c(v);return b<=p[0]||b>p[1]};case")[":return function(v){var b=c(v);return b<p[0]||b>=p[1]};case"{}":return function(v){return p.indexOf(c(v))!==-1};case"}{":return function(v){return p.indexOf(c(v))===-1}}}},3102:function(te,z,e){var l=e(1828),g=e(6281),s=e(4875),i=e(9344).p;z.moduleType="transform",z.name="groupby",z.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},z.supplyDefaults=function(f,o,n){var t,u={};function h(M,c){return l.coerce(f,u,z.attributes,M,c)}var m=h("enabled");if(!m)return u;h("groups"),h("nameformat",n._dataLength>1?"%{group} (%{trace})":"%{group}");var y=f.styles,d=u.styles=[];if(y)for(t=0;t<y.length;t++){var T=d[t]={};l.coerce(y[t],d[t],z.attributes.styles,"target");var x=l.coerce(y[t],d[t],z.attributes.styles,"value");l.isPlainObject(x)?T.value=l.extendDeep({},x):x&&delete T.value}return u},z.transform=function(f,o){var n,t,u,h=[];for(t=0;t<f.length;t++)for(n=r(f[t],o),u=0;u<n.length;u++)h.push(n[u]);return h};function r(f,o){var n,t,u,h,m,y,d,T,x,M,c=o.transform,p=o.transformIndex,v=f.transforms[p].groups,b=i(f.transforms,c);if(!l.isArrayOrTypedArray(v)||v.length===0)return[f];var w=l.filterUnique(v),_=new Array(w.length),k=v.length,B=g.findArrayAttributes(f),U=c.styles||[],L={};for(n=0;n<U.length;n++)L[U[n].target]=U[n].value;c.styles&&(M=l.keyedContainer(c,"styles","target","value.name"));var O={},R={};for(n=0;n<w.length;n++){y=w[n],O[y]=n,R[y]=0,d=_[n]=l.extendDeepNoArrays({},f),d._group=y,d.transforms[p]._indexToPoints={};var Z=null;for(M&&(Z=M.get(y)),Z||Z===""?d.name=Z:d.name=l.templateString(c.nameformat,{trace:f.name,group:y}),T=d.transforms,d.transforms=[],t=0;t<T.length;t++)d.transforms[t]=l.extendDeepNoArrays({},T[t]);for(t=0;t<B.length;t++)l.nestedProperty(d,B[t]).set([])}for(u=0;u<B.length;u++){for(h=B[u],t=0,x=[];t<w.length;t++)x[t]=l.nestedProperty(_[t],h).get();for(m=l.nestedProperty(f,h).get(),t=0;t<k;t++)x[O[v[t]]].push(m[t])}for(t=0;t<k;t++){d=_[O[v[t]]];var $=d.transforms[p]._indexToPoints;$[R[v[t]]]=b(t),R[v[t]]++}for(n=0;n<w.length;n++)y=w[n],d=_[n],s.clearExpandedTraceDefaultColors(d),d=l.extendDeepNoArrays(d,L[y]||{});return _}},9344:function(te,z){z.p=function(e,l){for(var g,s,i=0;i<e.length&&(g=e[i],g!==l);i++)!g._indexToPoints||g.enabled===!1||(s=g._indexToPoints);var r=s?function(f){return s[f]}:function(f){return[f]};return r}},2275:function(te,z,e){var l=e(1828),g=e(9298),s=e(9344).p,i=e(606).BADNUM;z.moduleType="transform",z.name="sort",z.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},z.supplyDefaults=function(o){var n={};function t(h,m){return l.coerce(o,n,z.attributes,h,m)}var u=t("enabled");return u&&(t("target"),t("order")),n},z.calcTransform=function(o,n,t){if(t.enabled){var u=l.getTargetArray(n,t);if(u){var h=t.target,m=u.length;n._length&&(m=Math.min(m,n._length));var y=n._arrayAttrs,d=g.getDataToCoordFunc(o,n,h,u),T=r(t,u,d,m),x=s(n.transforms,t),M={},c,p;for(c=0;c<y.length;c++){var v=l.nestedProperty(n,y[c]),b=v.get(),w=new Array(m);for(p=0;p<m;p++)w[p]=b[T[p]];v.set(w)}for(p=0;p<m;p++)M[p]=x(T[p]);t._indexToPoints=M,n._length=m}}};function r(o,n,t,u){var h=new Array(u),m=new Array(u),y;for(y=0;y<u;y++)h[y]={v:n[y],i:y};for(h.sort(f(o,t)),y=0;y<u;y++)m[y]=h[y].i;return m}function f(o,n){switch(o.order){case"ascending":return function(t,u){var h=n(t.v),m=n(u.v);return h===i?1:m===i?-1:h-m};case"descending":return function(t,u){var h=n(t.v),m=n(u.v);return h===i?1:m===i?-1:m-h}}}},1506:function(te,z){z.version="2.26.2"},5791:function(te){te.exports=g,te.exports.isMobile=g,te.exports.default=g;var z=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,l=/android|ipad|playbook|silk/i;function g(s){s||(s={});var i=s.ua;if(!i&&typeof navigator<"u"&&(i=navigator.userAgent),i&&i.headers&&typeof i.headers["user-agent"]=="string"&&(i=i.headers["user-agent"]),typeof i!="string")return!1;var r=z.test(i)&&!e.test(i)||!!s.tablet&&l.test(i);return!r&&s.tablet&&s.featureDetect&&navigator&&navigator.maxTouchPoints>1&&i.indexOf("Macintosh")!==-1&&i.indexOf("Safari")!==-1&&(r=!0),r}},9898:function(te,z,e){var l,g;(function(){var s={version:"3.8.0"},i=[].slice,r=function(a){return i.call(a)},f=self.document;function o(a){return a&&(a.ownerDocument||a.document||a).documentElement}function n(a){return a&&(a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView)}if(f)try{r(f.documentElement.childNodes)[0].nodeType}catch{r=function(A){for(var D=A.length,V=new Array(D);D--;)V[D]=A[D];return V}}if(Date.now||(Date.now=function(){return+new Date}),f)try{f.createElement("DIV").style.setProperty("opacity",0,"")}catch{var t=this.Element.prototype,u=t.setAttribute,h=t.setAttributeNS,m=this.CSSStyleDeclaration.prototype,y=m.setProperty;t.setAttribute=function(A,D){u.call(this,A,D+"")},t.setAttributeNS=function(A,D,V){h.call(this,A,D,V+"")},m.setProperty=function(A,D,V){y.call(this,A,D+"",V)}}s.ascending=d;function d(a,A){return a<A?-1:a>A?1:a>=A?0:NaN}s.descending=function(a,A){return A<a?-1:A>a?1:A>=a?0:NaN},s.min=function(a,A){var D=-1,V=a.length,Q,ee;if(arguments.length===1){for(;++D<V;)if((ee=a[D])!=null&&ee>=ee){Q=ee;break}for(;++D<V;)(ee=a[D])!=null&&Q>ee&&(Q=ee)}else{for(;++D<V;)if((ee=A.call(a,a[D],D))!=null&&ee>=ee){Q=ee;break}for(;++D<V;)(ee=A.call(a,a[D],D))!=null&&Q>ee&&(Q=ee)}return Q},s.max=function(a,A){var D=-1,V=a.length,Q,ee;if(arguments.length===1){for(;++D<V;)if((ee=a[D])!=null&&ee>=ee){Q=ee;break}for(;++D<V;)(ee=a[D])!=null&&ee>Q&&(Q=ee)}else{for(;++D<V;)if((ee=A.call(a,a[D],D))!=null&&ee>=ee){Q=ee;break}for(;++D<V;)(ee=A.call(a,a[D],D))!=null&&ee>Q&&(Q=ee)}return Q},s.extent=function(a,A){var D=-1,V=a.length,Q,ee,he;if(arguments.length===1){for(;++D<V;)if((ee=a[D])!=null&&ee>=ee){Q=he=ee;break}for(;++D<V;)(ee=a[D])!=null&&(Q>ee&&(Q=ee),he<ee&&(he=ee))}else{for(;++D<V;)if((ee=A.call(a,a[D],D))!=null&&ee>=ee){Q=he=ee;break}for(;++D<V;)(ee=A.call(a,a[D],D))!=null&&(Q>ee&&(Q=ee),he<ee&&(he=ee))}return[Q,he]};function T(a){return a===null?NaN:+a}function x(a){return!isNaN(a)}s.sum=function(a,A){var D=0,V=a.length,Q,ee=-1;if(arguments.length===1)for(;++ee<V;)x(Q=+a[ee])&&(D+=Q);else for(;++ee<V;)x(Q=+A.call(a,a[ee],ee))&&(D+=Q);return D},s.mean=function(a,A){var D=0,V=a.length,Q,ee=-1,he=V;if(arguments.length===1)for(;++ee<V;)x(Q=T(a[ee]))?D+=Q:--he;else for(;++ee<V;)x(Q=T(A.call(a,a[ee],ee)))?D+=Q:--he;if(he)return D/he},s.quantile=function(a,A){var D=(a.length-1)*A+1,V=Math.floor(D),Q=+a[V-1],ee=D-V;return ee?Q+ee*(a[V]-Q):Q},s.median=function(a,A){var D=[],V=a.length,Q,ee=-1;if(arguments.length===1)for(;++ee<V;)x(Q=T(a[ee]))&&D.push(Q);else for(;++ee<V;)x(Q=T(A.call(a,a[ee],ee)))&&D.push(Q);if(D.length)return s.quantile(D.sort(d),.5)},s.variance=function(a,A){var D=a.length,V=0,Q,ee,he=0,se=-1,ge=0;if(arguments.length===1)for(;++se<D;)x(Q=T(a[se]))&&(ee=Q-V,V+=ee/++ge,he+=ee*(Q-V));else for(;++se<D;)x(Q=T(A.call(a,a[se],se)))&&(ee=Q-V,V+=ee/++ge,he+=ee*(Q-V));if(ge>1)return he/(ge-1)},s.deviation=function(){var a=s.variance.apply(this,arguments);return a&&Math.sqrt(a)};function M(a){return{left:function(A,D,V,Q){for(arguments.length<3&&(V=0),arguments.length<4&&(Q=A.length);V<Q;){var ee=V+Q>>>1;a(A[ee],D)<0?V=ee+1:Q=ee}return V},right:function(A,D,V,Q){for(arguments.length<3&&(V=0),arguments.length<4&&(Q=A.length);V<Q;){var ee=V+Q>>>1;a(A[ee],D)>0?Q=ee:V=ee+1}return V}}}var c=M(d);s.bisectLeft=c.left,s.bisect=s.bisectRight=c.right,s.bisector=function(a){return M(a.length===1?function(A,D){return d(a(A),D)}:a)},s.shuffle=function(a,A,D){(V=arguments.length)<3&&(D=a.length,V<2&&(A=0));for(var V=D-A,Q,ee;V;)ee=Math.random()*V--|0,Q=a[V+A],a[V+A]=a[ee+A],a[ee+A]=Q;return a},s.permute=function(a,A){for(var D=A.length,V=new Array(D);D--;)V[D]=a[A[D]];return V},s.pairs=function(a){for(var A=0,D=a.length-1,V=a[0],Q=new Array(D<0?0:D);A<D;)Q[A]=[V,V=a[++A]];return Q},s.transpose=function(a){if(!(ee=a.length))return[];for(var A=-1,D=s.min(a,p),V=new Array(D);++A<D;)for(var Q=-1,ee,he=V[A]=new Array(ee);++Q<ee;)he[Q]=a[Q][A];return V};function p(a){return a.length}s.zip=function(){return s.transpose(arguments)},s.keys=function(a){var A=[];for(var D in a)A.push(D);return A},s.values=function(a){var A=[];for(var D in a)A.push(a[D]);return A},s.entries=function(a){var A=[];for(var D in a)A.push({key:D,value:a[D]});return A},s.merge=function(a){for(var A=a.length,D,V=-1,Q=0,ee,he;++V<A;)Q+=a[V].length;for(ee=new Array(Q);--A>=0;)for(he=a[A],D=he.length;--D>=0;)ee[--Q]=he[D];return ee};var v=Math.abs;s.range=function(a,A,D){if(arguments.length<3&&(D=1,arguments.length<2&&(A=a,a=0)),(A-a)/D===1/0)throw new Error("infinite range");var V=[],Q=b(v(D)),ee=-1,he;if(a*=Q,A*=Q,D*=Q,D<0)for(;(he=a+D*++ee)>A;)V.push(he/Q);else for(;(he=a+D*++ee)<A;)V.push(he/Q);return V};function b(a){for(var A=1;a*A%1;)A*=10;return A}function w(a,A){for(var D in A)Object.defineProperty(a.prototype,D,{value:A[D],enumerable:!1})}s.map=function(a,A){var D=new _;if(a instanceof _)a.forEach(function(se,ge){D.set(se,ge)});else if(Array.isArray(a)){var V=-1,Q=a.length,ee;if(arguments.length===1)for(;++V<Q;)D.set(V,a[V]);else for(;++V<Q;)D.set(A.call(a,ee=a[V],V),ee)}else for(var he in a)D.set(he,a[he]);return D};function _(){this._=Object.create(null)}var k="__proto__",B="\0";w(_,{has:O,get:function(a){return this._[U(a)]},set:function(a,A){return this._[U(a)]=A},remove:R,keys:Z,values:function(){var a=[];for(var A in this._)a.push(this._[A]);return a},entries:function(){var a=[];for(var A in this._)a.push({key:L(A),value:this._[A]});return a},size:$,empty:ie,forEach:function(a){for(var A in this._)a.call(this,L(A),this._[A])}});function U(a){return(a+="")===k||a[0]===B?B+a:a}function L(a){return(a+="")[0]===B?a.slice(1):a}function O(a){return U(a)in this._}function R(a){return(a=U(a))in this._&&delete this._[a]}function Z(){var a=[];for(var A in this._)a.push(L(A));return a}function $(){var a=0;for(var A in this._)++a;return a}function ie(){for(var a in this._)return!1;return!0}s.nest=function(){var a={},A=[],D=[],V,Q;function ee(se,ge,Pe){if(Pe>=A.length)return Q?Q.call(a,ge):V?ge.sort(V):ge;for(var Ne=-1,Ze=ge.length,Xe=A[Pe++],vt,mt,Qe,et=new _,ot;++Ne<Ze;)(ot=et.get(vt=Xe(mt=ge[Ne])))?ot.push(mt):et.set(vt,[mt]);return se?(mt=se(),Qe=function(yt,gt){mt.set(yt,ee(se,gt,Pe))}):(mt={},Qe=function(yt,gt){mt[yt]=ee(se,gt,Pe)}),et.forEach(Qe),mt}function he(se,ge){if(ge>=A.length)return se;var Pe=[],Ne=D[ge++];return se.forEach(function(Ze,Xe){Pe.push({key:Ze,values:he(Xe,ge)})}),Ne?Pe.sort(function(Ze,Xe){return Ne(Ze.key,Xe.key)}):Pe}return a.map=function(se,ge){return ee(ge,se,0)},a.entries=function(se){return he(ee(s.map,se,0),0)},a.key=function(se){return A.push(se),a},a.sortKeys=function(se){return D[A.length-1]=se,a},a.sortValues=function(se){return V=se,a},a.rollup=function(se){return Q=se,a},a},s.set=function(a){var A=new N;if(a)for(var D=0,V=a.length;D<V;++D)A.add(a[D]);return A};function N(){this._=Object.create(null)}w(N,{has:O,add:function(a){return this._[U(a+="")]=!0,a},remove:R,values:Z,size:$,empty:ie,forEach:function(a){for(var A in this._)a.call(this,L(A))}}),s.behavior={};function F(a){return a}s.rebind=function(a,A){for(var D=1,V=arguments.length,Q;++D<V;)a[Q=arguments[D]]=G(a,A,A[Q]);return a};function G(a,A,D){return function(){var V=D.apply(A,arguments);return V===A?a:V}}function W(a,A){if(A in a)return A;A=A.charAt(0).toUpperCase()+A.slice(1);for(var D=0,V=X.length;D<V;++D){var Q=X[D]+A;if(Q in a)return Q}}var X=["webkit","ms","moz","Moz","o","O"];function J(){}s.dispatch=function(){for(var a=new ne,A=-1,D=arguments.length;++A<D;)a[arguments[A]]=ue(a);return a};function ne(){}ne.prototype.on=function(a,A){var D=a.indexOf("."),V="";if(D>=0&&(V=a.slice(D+1),a=a.slice(0,D)),a)return arguments.length<2?this[a].on(V):this[a].on(V,A);if(arguments.length===2){if(A==null)for(a in this)this.hasOwnProperty(a)&&this[a].on(V,null);return this}};function ue(a){var A=[],D=new _;function V(){for(var Q=A,ee=-1,he=Q.length,se;++ee<he;)(se=Q[ee].on)&&se.apply(this,arguments);return a}return V.on=function(Q,ee){var he=D.get(Q),se;return arguments.length<2?he&&he.on:(he&&(he.on=null,A=A.slice(0,se=A.indexOf(he)).concat(A.slice(se+1)),D.remove(Q)),ee&&A.push(D.set(Q,{on:ee})),a)},V}s.event=null;function ye(){s.event.preventDefault()}function Me(){for(var a=s.event,A;A=a.sourceEvent;)a=A;return a}function oe(a){for(var A=new ne,D=0,V=arguments.length;++D<V;)A[arguments[D]]=ue(A);return A.of=function(Q,ee){return function(he){try{var se=he.sourceEvent=s.event;he.target=a,s.event=he,A[he.type].apply(Q,ee)}finally{s.event=se}}},A}s.requote=function(a){return a.replace(ve,"\\$&")};var ve=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,H={}.__proto__?function(a,A){a.__proto__=A}:function(a,A){for(var D in A)a[D]=A[D]};function Y(a){return H(a,C),a}var S=function(a,A){return A.querySelector(a)},E=function(a,A){return A.querySelectorAll(a)},I=function(a,A){var D=a.matches||a[W(a,"matchesSelector")];return I=function(V,Q){return D.call(V,Q)},I(a,A)};typeof Sizzle=="function"&&(S=function(a,A){return Sizzle(a,A)[0]||null},E=Sizzle,I=Sizzle.matchesSelector),s.selection=function(){return s.select(f.documentElement)};var C=s.selection.prototype=[];C.select=function(a){var A=[],D,V,Q,ee;a=K(a);for(var he=-1,se=this.length;++he<se;){A.push(D=[]),D.parentNode=(Q=this[he]).parentNode;for(var ge=-1,Pe=Q.length;++ge<Pe;)(ee=Q[ge])?(D.push(V=a.call(ee,ee.__data__,ge,he)),V&&"__data__"in ee&&(V.__data__=ee.__data__)):D.push(null)}return Y(A)};function K(a){return typeof a=="function"?a:function(){return S(a,this)}}C.selectAll=function(a){var A=[],D,V;a=P(a);for(var Q=-1,ee=this.length;++Q<ee;)for(var he=this[Q],se=-1,ge=he.length;++se<ge;)(V=he[se])&&(A.push(D=r(a.call(V,V.__data__,se,Q))),D.parentNode=V);return Y(A)};function P(a){return typeof a=="function"?a:function(){return E(a,this)}}var j="http://www.w3.org/1999/xhtml",ae={svg:"http://www.w3.org/2000/svg",xhtml:j,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};s.ns={prefix:ae,qualify:function(a){var A=a.indexOf(":"),D=a;return A>=0&&(D=a.slice(0,A))!=="xmlns"&&(a=a.slice(A+1)),ae.hasOwnProperty(D)?{space:ae[D],local:a}:a}},C.attr=function(a,A){if(arguments.length<2){if(typeof a=="string"){var D=this.node();return a=s.ns.qualify(a),a.local?D.getAttributeNS(a.space,a.local):D.getAttribute(a)}for(A in a)this.each(fe(A,a[A]));return this}return this.each(fe(a,A))};function fe(a,A){a=s.ns.qualify(a);function D(){this.removeAttribute(a)}function V(){this.removeAttributeNS(a.space,a.local)}function Q(){this.setAttribute(a,A)}function ee(){this.setAttributeNS(a.space,a.local,A)}function he(){var ge=A.apply(this,arguments);ge==null?this.removeAttribute(a):this.setAttribute(a,ge)}function se(){var ge=A.apply(this,arguments);ge==null?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,ge)}return A==null?a.local?V:D:typeof A=="function"?a.local?se:he:a.local?ee:Q}function de(a){return a.trim().replace(/\s+/g," ")}C.classed=function(a,A){if(arguments.length<2){if(typeof a=="string"){var D=this.node(),V=(a=De(a)).length,Q=-1;if(A=D.classList){for(;++Q<V;)if(!A.contains(a[Q]))return!1}else for(A=D.getAttribute("class");++Q<V;)if(!Ce(a[Q]).test(A))return!1;return!0}for(A in a)this.each(ce(A,a[A]));return this}return this.each(ce(a,A))};function Ce(a){return new RegExp("(?:^|\\s+)"+s.requote(a)+"(?:\\s+|$)","g")}function De(a){return(a+"").trim().split(/^|\s+/)}function ce(a,A){a=De(a).map(me);var D=a.length;function V(){for(var ee=-1;++ee<D;)a[ee](this,A)}function Q(){for(var ee=-1,he=A.apply(this,arguments);++ee<D;)a[ee](this,he)}return typeof A=="function"?Q:V}function me(a){var A=Ce(a);return function(D,V){if(Q=D.classList)return V?Q.add(a):Q.remove(a);var Q=D.getAttribute("class")||"";V?(A.lastIndex=0,A.test(Q)||D.setAttribute("class",de(Q+" "+a))):D.setAttribute("class",de(Q.replace(A," ")))}}C.style=function(a,A,D){var V=arguments.length;if(V<3){if(typeof a!="string"){V<2&&(A="");for(D in a)this.each(pe(D,a[D],A));return this}if(V<2){var Q=this.node();return n(Q).getComputedStyle(Q,null).getPropertyValue(a)}D=""}return this.each(pe(a,A,D))};function pe(a,A,D){function V(){this.style.removeProperty(a)}function Q(){this.style.setProperty(a,A,D)}function ee(){var he=A.apply(this,arguments);he==null?this.style.removeProperty(a):this.style.setProperty(a,he,D)}return A==null?V:typeof A=="function"?ee:Q}C.property=function(a,A){if(arguments.length<2){if(typeof a=="string")return this.node()[a];for(A in a)this.each(Ee(A,a[A]));return this}return this.each(Ee(a,A))};function Ee(a,A){function D(){delete this[a]}function V(){this[a]=A}function Q(){var ee=A.apply(this,arguments);ee==null?delete this[a]:this[a]=ee}return A==null?D:typeof A=="function"?Q:V}C.text=function(a){return arguments.length?this.each(typeof a=="function"?function(){var A=a.apply(this,arguments);this.textContent=A??""}:a==null?function(){this.textContent=""}:function(){this.textContent=a}):this.node().textContent},C.html=function(a){return arguments.length?this.each(typeof a=="function"?function(){var A=a.apply(this,arguments);this.innerHTML=A??""}:a==null?function(){this.innerHTML=""}:function(){this.innerHTML=a}):this.node().innerHTML},C.append=function(a){return a=Ae(a),this.select(function(){return this.appendChild(a.apply(this,arguments))})};function Ae(a){function A(){var V=this.ownerDocument,Q=this.namespaceURI;return Q===j&&V.documentElement.namespaceURI===j?V.createElement(a):V.createElementNS(Q,a)}function D(){return this.ownerDocument.createElementNS(a.space,a.local)}return typeof a=="function"?a:(a=s.ns.qualify(a)).local?D:A}C.insert=function(a,A){return a=Ae(a),A=K(A),this.select(function(){return this.insertBefore(a.apply(this,arguments),A.apply(this,arguments)||null)})},C.remove=function(){return this.each(xe)};function xe(){var a=this.parentNode;a&&a.removeChild(this)}C.data=function(a,A){var D=-1,V=this.length,Q,ee;if(!arguments.length){for(a=new Array(V=(Q=this[0]).length);++D<V;)(ee=Q[D])&&(a[D]=ee.__data__);return a}function he(Ne,Ze){var Xe,vt=Ne.length,mt=Ze.length,Qe=Math.min(vt,mt),et=new Array(mt),ot=new Array(mt),yt=new Array(vt),gt,ft;if(A){var Nt=new _,Jt=new Array(vt),qt;for(Xe=-1;++Xe<vt;)(gt=Ne[Xe])&&(Nt.has(qt=A.call(gt,gt.__data__,Xe))?yt[Xe]=gt:Nt.set(qt,gt),Jt[Xe]=qt);for(Xe=-1;++Xe<mt;)(gt=Nt.get(qt=A.call(Ze,ft=Ze[Xe],Xe)))?gt!==!0&&(et[Xe]=gt,gt.__data__=ft):ot[Xe]=Fe(ft),Nt.set(qt,!0);for(Xe=-1;++Xe<vt;)Xe in Jt&&Nt.get(Jt[Xe])!==!0&&(yt[Xe]=Ne[Xe])}else{for(Xe=-1;++Xe<Qe;)gt=Ne[Xe],ft=Ze[Xe],gt?(gt.__data__=ft,et[Xe]=gt):ot[Xe]=Fe(ft);for(;Xe<mt;++Xe)ot[Xe]=Fe(Ze[Xe]);for(;Xe<vt;++Xe)yt[Xe]=Ne[Xe]}ot.update=et,ot.parentNode=et.parentNode=yt.parentNode=Ne.parentNode,se.push(ot),ge.push(et),Pe.push(yt)}var se=dt([]),ge=Y([]),Pe=Y([]);if(typeof a=="function")for(;++D<V;)he(Q=this[D],a.call(Q,Q.parentNode.__data__,D));else for(;++D<V;)he(Q=this[D],a);return ge.enter=function(){return se},ge.exit=function(){return Pe},ge};function Fe(a){return{__data__:a}}C.datum=function(a){return arguments.length?this.property("__data__",a):this.property("__data__")},C.filter=function(a){var A=[],D,V,Q;typeof a!="function"&&(a=Ke(a));for(var ee=0,he=this.length;ee<he;ee++){A.push(D=[]),D.parentNode=(V=this[ee]).parentNode;for(var se=0,ge=V.length;se<ge;se++)(Q=V[se])&&a.call(Q,Q.__data__,se,ee)&&D.push(Q)}return Y(A)};function Ke(a){return function(){return I(this,a)}}C.order=function(){for(var a=-1,A=this.length;++a<A;)for(var D=this[a],V=D.length-1,Q=D[V],ee;--V>=0;)(ee=D[V])&&(Q&&Q!==ee.nextSibling&&Q.parentNode.insertBefore(ee,Q),Q=ee);return this},C.sort=function(a){a=je.apply(this,arguments);for(var A=-1,D=this.length;++A<D;)this[A].sort(a);return this.order()};function je(a){return arguments.length||(a=d),function(A,D){return A&&D?a(A.__data__,D.__data__):!A-!D}}C.each=function(a){return Ve(this,function(A,D,V){a.call(A,A.__data__,D,V)})};function Ve(a,A){for(var D=0,V=a.length;D<V;D++)for(var Q=a[D],ee=0,he=Q.length,se;ee<he;ee++)(se=Q[ee])&&A(se,ee,D);return a}C.call=function(a){var A=r(arguments);return a.apply(A[0]=this,A),this},C.empty=function(){return!this.node()},C.node=function(){for(var a=0,A=this.length;a<A;a++)for(var D=this[a],V=0,Q=D.length;V<Q;V++){var ee=D[V];if(ee)return ee}return null},C.size=function(){var a=0;return Ve(this,function(){++a}),a};function dt(a){return H(a,bt),a}var bt=[];s.selection.enter=dt,s.selection.enter.prototype=bt,bt.append=C.append,bt.empty=C.empty,bt.node=C.node,bt.call=C.call,bt.size=C.size,bt.select=function(a){for(var A=[],D,V,Q,ee,he,se=-1,ge=this.length;++se<ge;){Q=(ee=this[se]).update,A.push(D=[]),D.parentNode=ee.parentNode;for(var Pe=-1,Ne=ee.length;++Pe<Ne;)(he=ee[Pe])?(D.push(Q[Pe]=V=a.call(ee.parentNode,he.__data__,Pe,se)),V.__data__=he.__data__):D.push(null)}return Y(A)},bt.insert=function(a,A){return arguments.length<2&&(A=Tt(this)),C.insert.call(this,a,A)};function Tt(a){var A,D;return function(V,Q,ee){var he=a[ee].update,se=he.length,ge;for(ee!=D&&(D=ee,A=0),Q>=A&&(A=Q+1);!(ge=he[A])&&++A<se;);return ge}}s.select=function(a){var A;return typeof a=="string"?(A=[S(a,f)],A.parentNode=f.documentElement):(A=[a],A.parentNode=o(a)),Y([A])},s.selectAll=function(a){var A;return typeof a=="string"?(A=r(E(a,f)),A.parentNode=f.documentElement):(A=r(a),A.parentNode=null),Y([A])},C.on=function(a,A,D){var V=arguments.length;if(V<3){if(typeof a!="string"){V<2&&(A=!1);for(D in a)this.each(it(D,a[D],A));return this}if(V<2)return(V=this.node()["__on"+a])&&V._;D=!1}return this.each(it(a,A,D))};function it(a,A,D){var V="__on"+a,Q=a.indexOf("."),ee=tt;Q>0&&(a=a.slice(0,Q));var he=kt.get(a);he&&(a=he,ee=Mt);function se(){var Ne=this[V];Ne&&(this.removeEventListener(a,Ne,Ne.$),delete this[V])}function ge(){var Ne=ee(A,r(arguments));se.call(this),this.addEventListener(a,this[V]=Ne,Ne.$=D),Ne._=A}function Pe(){var Ne=new RegExp("^__on([^.]+)"+s.requote(a)+"$"),Ze;for(var Xe in this)if(Ze=Xe.match(Ne)){var vt=this[Xe];this.removeEventListener(Ze[1],vt,vt.$),delete this[Xe]}}return Q?A?ge:se:A?J:Pe}var kt=s.map({mouseenter:"mouseover",mouseleave:"mouseout"});f&&kt.forEach(function(a){"on"+a in f&&kt.remove(a)});function tt(a,A){return function(D){var V=s.event;s.event=D,A[0]=this.__data__;try{a.apply(this,A)}finally{s.event=V}}}function Mt(a,A){var D=tt(a,A);return function(V){var Q=this,ee=V.relatedTarget;(!ee||ee!==Q&&!(ee.compareDocumentPosition(Q)&8))&&D.call(Q,V)}}var Dt,St=0;function At(a){var A=".dragsuppress-"+ ++St,D="click"+A,V=s.select(n(a)).on("touchmove"+A,ye).on("dragstart"+A,ye).on("selectstart"+A,ye);if(Dt==null&&(Dt="onselectstart"in a?!1:W(a.style,"userSelect")),Dt){var Q=o(a).style,ee=Q[Dt];Q[Dt]="none"}return function(he){if(V.on(A,null),Dt&&(Q[Dt]=ee),he){var se=function(){V.on(D,null)};V.on(D,function(){ye(),se()},!0),setTimeout(se,0)}}}s.mouse=function(a){return Te(a,Me())};var ke=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Te(a,A){A.changedTouches&&(A=A.changedTouches[0]);var D=a.ownerSVGElement||a;if(D.createSVGPoint){var V=D.createSVGPoint();if(ke<0){var Q=n(a);if(Q.scrollX||Q.scrollY){D=s.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var ee=D[0][0].getScreenCTM();ke=!(ee.f||ee.e),D.remove()}}return ke?(V.x=A.pageX,V.y=A.pageY):(V.x=A.clientX,V.y=A.clientY),V=V.matrixTransform(a.getScreenCTM().inverse()),[V.x,V.y]}var he=a.getBoundingClientRect();return[A.clientX-he.left-a.clientLeft,A.clientY-he.top-a.clientTop]}s.touch=function(a,A,D){if(arguments.length<3&&(D=A,A=Me().changedTouches),A){for(var V=0,Q=A.length,ee;V<Q;++V)if((ee=A[V]).identifier===D)return Te(a,ee)}},s.behavior.drag=function(){var a=oe(Q,"drag","dragstart","dragend"),A=null,D=ee(J,s.mouse,n,"mousemove","mouseup"),V=ee(Re,s.touch,F,"touchmove","touchend");function Q(){this.on("mousedown.drag",D).on("touchstart.drag",V)}function ee(he,se,ge,Pe,Ne){return function(){var Ze=this,Xe=s.event.target.correspondingElement||s.event.target,vt=Ze.parentNode,mt=a.of(Ze,arguments),Qe=0,et=he(),ot=".drag"+(et==null?"":"-"+et),yt,gt=s.select(ge(Xe)).on(Pe+ot,Jt).on(Ne+ot,qt),ft=At(Xe),Nt=se(vt,et);A?(yt=A.apply(Ze,arguments),yt=[yt.x-Nt[0],yt.y-Nt[1]]):yt=[0,0],mt({type:"dragstart"});function Jt(){var Qt=se(vt,et),ar,nr;Qt&&(ar=Qt[0]-Nt[0],nr=Qt[1]-Nt[1],Qe|=ar|nr,Nt=Qt,mt({type:"drag",x:Qt[0]+yt[0],y:Qt[1]+yt[1],dx:ar,dy:nr}))}function qt(){se(vt,et)&&(gt.on(Pe+ot,null).on(Ne+ot,null),ft(Qe),mt({type:"dragend"}))}}}return Q.origin=function(he){return arguments.length?(A=he,Q):A},s.rebind(Q,a,"on")};function Re(){return s.event.changedTouches[0].identifier}s.touches=function(a,A){return arguments.length<2&&(A=Me().touches),A?r(A).map(function(D){var V=Te(a,D);return V.identifier=D.identifier,V}):[]};var Le=1e-6,Oe=Le*Le,le=Math.PI,be=2*le,we=be-Le,Se=le/2,ze=le/180,_e=180/le;function ct(a,A,D){return(A[0]-a[0])*(D[1]-a[1])-(A[1]-a[1])*(D[0]-a[0])}function lt(a){return a>1?Se:a<-1?-Se:Math.asin(a)}function $e(a){return((a=Math.exp(a))-1/a)/2}function Ye(a){return((a=Math.exp(a))+1/a)/2}function nt(a){return((a=Math.exp(2*a))-1)/(a+1)}var wt=Math.SQRT2,Et=2,Ht=4;s.interpolateZoom=function(a,A){var D=a[0],V=a[1],Q=a[2],ee=A[0],he=A[1],se=A[2],ge=ee-D,Pe=he-V,Ne=ge*ge+Pe*Pe,Ze,Xe;if(Ne<Oe)Xe=Math.log(se/Q)/wt,Ze=function(yt){return[D+yt*ge,V+yt*Pe,Q*Math.exp(wt*yt*Xe)]};else{var vt=Math.sqrt(Ne),mt=(se*se-Q*Q+Ht*Ne)/(2*Q*Et*vt),Qe=(se*se-Q*Q-Ht*Ne)/(2*se*Et*vt),et=Math.log(Math.sqrt(mt*mt+1)-mt),ot=Math.log(Math.sqrt(Qe*Qe+1)-Qe);Xe=(ot-et)/wt,Ze=function(yt){var gt=yt*Xe,ft=Ye(et),Nt=Q/(Et*vt)*(ft*nt(wt*gt+et)-$e(et));return[D+Nt*ge,V+Nt*Pe,Q*ft/Ye(wt*gt+et)]}}return Ze.duration=Xe*1e3,Ze},s.behavior.zoom=function(){var a={x:0,y:0,k:1},A,D,V,Q=[960,500],ee=Wt,he=250,se=0,ge="mousedown.zoom",Pe="mousemove.zoom",Ne="mouseup.zoom",Ze,Xe="touchstart.zoom",vt,mt=oe(gt,"zoomstart","zoom","zoomend"),Qe,et,ot,yt;Ct||(Ct="onwheel"in f?(Gt=function(){return-s.event.deltaY*(s.event.deltaMode?120:1)},"wheel"):"onmousewheel"in f?(Gt=function(){return s.event.wheelDelta},"mousewheel"):(Gt=function(){return-s.event.detail},"MozMousePixelScroll"));function gt(Zt){Zt.on(ge,ur).on(Ct+".zoom",kr).on("dblclick.zoom",xr).on(Xe,pr)}gt.event=function(Zt){Zt.each(function(){var vr=mt.of(this,arguments),dr=a;Na?s.select(this).transition().each("start.zoom",function(){a=this.__chart__||{x:0,y:0,k:1},nr(vr)}).tween("zoom:zoom",function(){var gr=Q[0],Sr=Q[1],Er=D?D[0]:gr/2,Hr=D?D[1]:Sr/2,Gr=s.interpolateZoom([(Er-a.x)/a.k,(Hr-a.y)/a.k,gr/a.k],[(Er-dr.x)/dr.k,(Hr-dr.y)/dr.k,gr/dr.k]);return function(Wr){var Vr=Gr(Wr),Kr=gr/Vr[2];this.__chart__=a={x:Er-Vr[0]*Kr,y:Hr-Vr[1]*Kr,k:Kr},cr(vr)}}).each("interrupt.zoom",function(){ir(vr)}).each("end.zoom",function(){ir(vr)}):(this.__chart__=a,nr(vr),cr(vr),ir(vr))})},gt.translate=function(Zt){return arguments.length?(a={x:+Zt[0],y:+Zt[1],k:a.k},ar(),gt):[a.x,a.y]},gt.scale=function(Zt){return arguments.length?(a={x:a.x,y:a.y,k:null},Jt(+Zt),ar(),gt):a.k},gt.scaleExtent=function(Zt){return arguments.length?(ee=Zt==null?Wt:[+Zt[0],+Zt[1]],gt):ee},gt.center=function(Zt){return arguments.length?(V=Zt&&[+Zt[0],+Zt[1]],gt):V},gt.size=function(Zt){return arguments.length?(Q=Zt&&[+Zt[0],+Zt[1]],gt):Q},gt.duration=function(Zt){return arguments.length?(he=+Zt,gt):he},gt.x=function(Zt){return arguments.length?(et=Zt,Qe=Zt.copy(),a={x:0,y:0,k:1},gt):et},gt.y=function(Zt){return arguments.length?(yt=Zt,ot=Zt.copy(),a={x:0,y:0,k:1},gt):yt};function ft(Zt){return[(Zt[0]-a.x)/a.k,(Zt[1]-a.y)/a.k]}function Nt(Zt){return[Zt[0]*a.k+a.x,Zt[1]*a.k+a.y]}function Jt(Zt){a.k=Math.max(ee[0],Math.min(ee[1],Zt))}function qt(Zt,vr){vr=Nt(vr),a.x+=Zt[0]-vr[0],a.y+=Zt[1]-vr[1]}function Qt(Zt,vr,dr,gr){Zt.__chart__={x:a.x,y:a.y,k:a.k},Jt(Math.pow(2,gr)),qt(D=vr,dr),Zt=s.select(Zt),he>0&&(Zt=Zt.transition().duration(he)),Zt.call(gt.event)}function ar(){et&&et.domain(Qe.range().map(function(Zt){return(Zt-a.x)/a.k}).map(Qe.invert)),yt&&yt.domain(ot.range().map(function(Zt){return(Zt-a.y)/a.k}).map(ot.invert))}function nr(Zt){se++||Zt({type:"zoomstart"})}function cr(Zt){ar(),Zt({type:"zoom",scale:a.k,translate:[a.x,a.y]})}function ir(Zt){--se||(Zt({type:"zoomend"}),D=null)}function ur(){var Zt=this,vr=mt.of(Zt,arguments),dr=0,gr=s.select(n(Zt)).on(Pe,Hr).on(Ne,Gr),Sr=ft(s.mouse(Zt)),Er=At(Zt);cn.call(Zt),nr(vr);function Hr(){dr=1,qt(s.mouse(Zt),Sr),cr(vr)}function Gr(){gr.on(Pe,null).on(Ne,null),Er(dr),ir(vr)}}function pr(){var Zt=this,vr=mt.of(Zt,arguments),dr={},gr=0,Sr,Er=".zoom-"+s.event.changedTouches[0].identifier,Hr="touchmove"+Er,Gr="touchend"+Er,Wr=[],Vr=s.select(Zt),Kr=At(Zt);Qr(),nr(vr),Vr.on(ge,null).on(Xe,Qr);function Yr(){var ua=s.touches(Zt);return Sr=a.k,ua.forEach(function(Or){Or.identifier in dr&&(dr[Or.identifier]=ft(Or))}),ua}function Qr(){var ua=s.event.target;s.select(ua).on(Hr,Fa).on(Gr,Rl),Wr.push(ua);for(var Or=s.event.changedTouches,ia=0,ha=Or.length;ia<ha;++ia)dr[Or[ia].identifier]=null;var oa=Yr(),Oa=Date.now();if(oa.length===1){if(Oa-vt<500){var za=oa[0];Qt(Zt,za,dr[za.identifier],Math.floor(Math.log(a.k)/Math.LN2)+1),ye()}vt=Oa}else if(oa.length>1){var za=oa[0],ka=oa[1],hn=za[0]-ka[0],Yi=za[1]-ka[1];gr=hn*hn+Yi*Yi}}function Fa(){var ua=s.touches(Zt),Or,ia,ha,oa;cn.call(Zt);for(var Oa=0,za=ua.length;Oa<za;++Oa,oa=null)if(ha=ua[Oa],oa=dr[ha.identifier]){if(ia)break;Or=ha,ia=oa}if(oa){var ka=(ka=ha[0]-Or[0])*ka+(ka=ha[1]-Or[1])*ka,hn=gr&&Math.sqrt(ka/gr);Or=[(Or[0]+ha[0])/2,(Or[1]+ha[1])/2],ia=[(ia[0]+oa[0])/2,(ia[1]+oa[1])/2],Jt(hn*Sr)}vt=null,qt(Or,ia),cr(vr)}function Rl(){if(s.event.touches.length){for(var ua=s.event.changedTouches,Or=0,ia=ua.length;Or<ia;++Or)delete dr[ua[Or].identifier];for(var ha in dr)return void Yr()}s.selectAll(Wr).on(Er,null),Vr.on(ge,ur).on(Xe,pr),Kr(),ir(vr)}}function kr(){var Zt=mt.of(this,arguments);Ze?clearTimeout(Ze):(cn.call(this),A=ft(D=V||s.mouse(this)),nr(Zt)),Ze=setTimeout(function(){Ze=null,ir(Zt)},50),ye(),Jt(Math.pow(2,Gt()*.002)*a.k),qt(D,A),cr(Zt)}function xr(){var Zt=s.mouse(this),vr=Math.log(a.k)/Math.LN2;Qt(this,Zt,ft(Zt),s.event.shiftKey?Math.ceil(vr)-1:Math.floor(vr)+1)}return s.rebind(gt,mt,"on")};var Wt=[0,1/0],Gt,Ct;s.color=Vt;function Vt(){}Vt.prototype.toString=function(){return this.rgb()+""},s.hsl=Bt;function Bt(a,A,D){return this instanceof Bt?(this.h=+a,this.s=+A,void(this.l=+D)):arguments.length<2?a instanceof Bt?new Bt(a.h,a.s,a.l):st(""+a,at,Bt):new Bt(a,A,D)}var _t=Bt.prototype=new Vt;_t.brighter=function(a){return a=Math.pow(.7,arguments.length?a:1),new Bt(this.h,this.s,this.l/a)},_t.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new Bt(this.h,this.s,a*this.l)},_t.rgb=function(){return jt(this.h,this.s,this.l)};function jt(a,A,D){var V,Q;a=isNaN(a)?0:(a%=360)<0?a+360:a,A=isNaN(A)||A<0?0:A>1?1:A,D=D<0?0:D>1?1:D,Q=D<=.5?D*(1+A):D+A-D*A,V=2*D-Q;function ee(se){return se>360?se-=360:se<0&&(se+=360),se<60?V+(Q-V)*se/60:se<180?Q:se<240?V+(Q-V)*(240-se)/60:V}function he(se){return Math.round(ee(se)*255)}return new Je(he(a+120),he(a),he(a-120))}s.hcl=Yt;function Yt(a,A,D){return this instanceof Yt?(this.h=+a,this.c=+A,void(this.l=+D)):arguments.length<2?a instanceof Yt?new Yt(a.h,a.c,a.l):a instanceof Ft?He(a.l,a.a,a.b):He((a=pt((a=s.rgb(a)).r,a.g,a.b)).l,a.a,a.b):new Yt(a,A,D)}var xt=Yt.prototype=new Vt;xt.brighter=function(a){return new Yt(this.h,this.c,Math.min(100,this.l+Xt*(arguments.length?a:1)))},xt.darker=function(a){return new Yt(this.h,this.c,Math.max(0,this.l-Xt*(arguments.length?a:1)))},xt.rgb=function(){return Ot(this.h,this.c,this.l).rgb()};function Ot(a,A,D){return isNaN(a)&&(a=0),isNaN(A)&&(A=0),new Ft(D,Math.cos(a*=ze)*A,Math.sin(a)*A)}s.lab=Ft;function Ft(a,A,D){return this instanceof Ft?(this.l=+a,this.a=+A,void(this.b=+D)):arguments.length<2?a instanceof Ft?new Ft(a.l,a.a,a.b):a instanceof Yt?Ot(a.h,a.c,a.l):pt((a=Je(a)).r,a.g,a.b):new Ft(a,A,D)}var Xt=18,rr=.95047,sr=1,Ut=1.08883,re=Ft.prototype=new Vt;re.brighter=function(a){return new Ft(Math.min(100,this.l+Xt*(arguments.length?a:1)),this.a,this.b)},re.darker=function(a){return new Ft(Math.max(0,this.l-Xt*(arguments.length?a:1)),this.a,this.b)},re.rgb=function(){return q(this.l,this.a,this.b)};function q(a,A,D){var V=(a+16)/116,Q=V+A/500,ee=V-D/200;return Q=Ie(Q)*rr,V=Ie(V)*sr,ee=Ie(ee)*Ut,new Je(We(3.2404542*Q-1.5371385*V-.4985314*ee),We(-.969266*Q+1.8760108*V+.041556*ee),We(.0556434*Q-.2040259*V+1.0572252*ee))}function He(a,A,D){return a>0?new Yt(Math.atan2(D,A)*_e,Math.sqrt(A*A+D*D),a):new Yt(NaN,NaN,a)}function Ie(a){return a>.206893034?a*a*a:(a-.13793103448275862)/7.787037}function Ue(a){return a>.008856?Math.pow(a,.3333333333333333):7.787037*a+.13793103448275862}function We(a){return Math.round(255*(a<=.00304?12.92*a:1.055*Math.pow(a,.4166666666666667)-.055))}s.rgb=Je;function Je(a,A,D){return this instanceof Je?(this.r=~~a,this.g=~~A,void(this.b=~~D)):arguments.length<2?a instanceof Je?new Je(a.r,a.g,a.b):st(""+a,Je,jt):new Je(a,A,D)}function Ge(a){return new Je(a>>16,a>>8&255,a&255)}function Be(a){return Ge(a)+""}var qe=Je.prototype=new Vt;qe.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);var A=this.r,D=this.g,V=this.b,Q=30;return!A&&!D&&!V?new Je(Q,Q,Q):(A&&A<Q&&(A=Q),D&&D<Q&&(D=Q),V&&V<Q&&(V=Q),new Je(Math.min(255,A/a),Math.min(255,D/a),Math.min(255,V/a)))},qe.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new Je(a*this.r,a*this.g,a*this.b)},qe.hsl=function(){return at(this.r,this.g,this.b)},qe.toString=function(){return"#"+rt(this.r)+rt(this.g)+rt(this.b)};function rt(a){return a<16?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function st(a,A,D){var V=0,Q=0,ee=0,he,se,ge;if(he=/([a-z]+)\((.*)\)/.exec(a=a.toLowerCase()),he)switch(se=he[2].split(","),he[1]){case"hsl":return D(parseFloat(se[0]),parseFloat(se[1])/100,parseFloat(se[2])/100);case"rgb":return A(ut(se[0]),ut(se[1]),ut(se[2]))}return(ge=Pt.get(a))?A(ge.r,ge.g,ge.b):(a!=null&&a.charAt(0)==="#"&&!isNaN(ge=parseInt(a.slice(1),16))&&(a.length===4?(V=(ge&3840)>>4,V=V>>4|V,Q=ge&240,Q=Q>>4|Q,ee=ge&15,ee=ee<<4|ee):a.length===7&&(V=(ge&16711680)>>16,Q=(ge&65280)>>8,ee=ge&255)),A(V,Q,ee))}function at(a,A,D){var V=Math.min(a/=255,A/=255,D/=255),Q=Math.max(a,A,D),ee=Q-V,he,se,ge=(Q+V)/2;return ee?(se=ge<.5?ee/(Q+V):ee/(2-Q-V),a==Q?he=(A-D)/ee+(A<D?6:0):A==Q?he=(D-a)/ee+2:he=(a-A)/ee+4,he*=60):(he=NaN,se=ge>0&&ge<1?0:he),new Bt(he,se,ge)}function pt(a,A,D){a=ht(a),A=ht(A),D=ht(D);var V=Ue((.4124564*a+.3575761*A+.1804375*D)/rr),Q=Ue((.2126729*a+.7151522*A+.072175*D)/sr),ee=Ue((.0193339*a+.119192*A+.9503041*D)/Ut);return Ft(116*Q-16,500*(V-Q),200*(Q-ee))}function ht(a){return(a/=255)<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}function ut(a){var A=parseFloat(a);return a.charAt(a.length-1)==="%"?Math.round(A*2.55):A}var Pt=s.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Pt.forEach(function(a,A){Pt.set(a,Ge(A))});function Lt(a){return typeof a=="function"?a:function(){return a}}s.functor=Lt,s.xhr=$t(F);function $t(a){return function(A,D,V){return arguments.length===2&&typeof D=="function"&&(V=D,D=null),It(A,D,a,V)}}function It(a,A,D,V){var Q={},ee=s.dispatch("beforesend","progress","load","error"),he={},se=new XMLHttpRequest,ge=null;self.XDomainRequest&&!("withCredentials"in se)&&/^(http(s)?:)?\/\//.test(a)&&(se=new XDomainRequest),"onload"in se?se.onload=se.onerror=Pe:se.onreadystatechange=function(){se.readyState>3&&Pe()};function Pe(){var Ne=se.status,Ze;if(!Ne&&Rt(se)||Ne>=200&&Ne<300||Ne===304){try{Ze=D.call(Q,se)}catch(Xe){ee.error.call(Q,Xe);return}ee.load.call(Q,Ze)}else ee.error.call(Q,se)}return se.onprogress=function(Ne){var Ze=s.event;s.event=Ne;try{ee.progress.call(Q,se)}finally{s.event=Ze}},Q.header=function(Ne,Ze){return Ne=(Ne+"").toLowerCase(),arguments.length<2?he[Ne]:(Ze==null?delete he[Ne]:he[Ne]=Ze+"",Q)},Q.mimeType=function(Ne){return arguments.length?(A=Ne==null?null:Ne+"",Q):A},Q.responseType=function(Ne){return arguments.length?(ge=Ne,Q):ge},Q.response=function(Ne){return D=Ne,Q},["get","post"].forEach(function(Ne){Q[Ne]=function(){return Q.send.apply(Q,[Ne].concat(r(arguments)))}}),Q.send=function(Ne,Ze,Xe){if(arguments.length===2&&typeof Ze=="function"&&(Xe=Ze,Ze=null),se.open(Ne,a,!0),A!=null&&!("accept"in he)&&(he.accept=A+",*/*"),se.setRequestHeader)for(var vt in he)se.setRequestHeader(vt,he[vt]);return A!=null&&se.overrideMimeType&&se.overrideMimeType(A),ge!=null&&(se.responseType=ge),Xe!=null&&Q.on("error",Xe).on("load",function(mt){Xe(null,mt)}),ee.beforesend.call(Q,se),se.send(Ze??null),Q},Q.abort=function(){return se.abort(),Q},s.rebind(Q,ee,"on"),V==null?Q:Q.get(Kt(V))}function Kt(a){return a.length===1?function(A,D){a(A==null?D:null)}:a}function Rt(a){var A=a.responseType;return A&&A!=="text"?a.response:a.responseText}s.dsv=function(a,A){var D=new RegExp('["'+a+`
]`),V=a.charCodeAt(0);function Q(Pe,Ne,Ze){arguments.length<3&&(Ze=Ne,Ne=null);var Xe=It(Pe,A,Ne==null?ee:he(Ne),Ze);return Xe.row=function(vt){return arguments.length?Xe.response((Ne=vt)==null?ee:he(vt)):Ne},Xe}function ee(Pe){return Q.parse(Pe.responseText)}function he(Pe){return function(Ne){return Q.parse(Ne.responseText,Pe)}}Q.parse=function(Pe,Ne){var Ze;return Q.parseRows(Pe,function(Xe,vt){if(Ze)return Ze(Xe,vt-1);var mt=function(Qe){for(var et={},ot=Xe.length,yt=0;yt<ot;++yt)et[Xe[yt]]=Qe[yt];return et};Ze=Ne?function(Qe,et){return Ne(mt(Qe),et)}:mt})},Q.parseRows=function(Pe,Ne){var Ze={},Xe={},vt=[],mt=Pe.length,Qe=0,et=0,ot,yt;function gt(){if(Qe>=mt)return Xe;if(yt)return yt=!1,Ze;var Nt=Qe;if(Pe.charCodeAt(Nt)===34){for(var Jt=Nt;Jt++<mt;)if(Pe.charCodeAt(Jt)===34){if(Pe.charCodeAt(Jt+1)!==34)break;++Jt}Qe=Jt+2;var qt=Pe.charCodeAt(Jt+1);return qt===13?(yt=!0,Pe.charCodeAt(Jt+2)===10&&++Qe):qt===10&&(yt=!0),Pe.slice(Nt+1,Jt).replace(/""/g,'"')}for(;Qe<mt;){var qt=Pe.charCodeAt(Qe++),Qt=1;if(qt===10)yt=!0;else if(qt===13)yt=!0,Pe.charCodeAt(Qe)===10&&(++Qe,++Qt);else if(qt!==V)continue;return Pe.slice(Nt,Qe-Qt)}return Pe.slice(Nt)}for(;(ot=gt())!==Xe;){for(var ft=[];ot!==Ze&&ot!==Xe;)ft.push(ot),ot=gt();Ne&&(ft=Ne(ft,et++))==null||vt.push(ft)}return vt},Q.format=function(Pe){if(Array.isArray(Pe[0]))return Q.formatRows(Pe);var Ne=new N,Ze=[];return Pe.forEach(function(Xe){for(var vt in Xe)Ne.has(vt)||Ze.push(Ne.add(vt))}),[Ze.map(ge).join(a)].concat(Pe.map(function(Xe){return Ze.map(function(vt){return ge(Xe[vt])}).join(a)})).join(`
`)},Q.formatRows=function(Pe){return Pe.map(se).join(`
`)};function se(Pe){return Pe.map(ge).join(a)}function ge(Pe){return D.test(Pe)?'"'+Pe.replace(/\"/g,'""')+'"':Pe}return Q},s.csv=s.dsv(",","text/csv"),s.tsv=s.dsv("	","text/tab-separated-values");var zt,er,tr,lr,mr=this[W(this,"requestAnimationFrame")]||function(a){setTimeout(a,17)};s.timer=function(){or.apply(this,arguments)};function or(a,A,D){var V=arguments.length;V<2&&(A=0),V<3&&(D=Date.now());var Q=D+A,ee={c:a,t:Q,n:null};return er?er.n=ee:zt=ee,er=ee,tr||(lr=clearTimeout(lr),tr=1,mr(fr)),ee}function fr(){var a=hr(),A=yr()-a;A>24?(isFinite(A)&&(clearTimeout(lr),lr=setTimeout(fr,A)),tr=0):(tr=1,mr(fr))}s.timer.flush=function(){hr(),yr()};function hr(){for(var a=Date.now(),A=zt;A;)a>=A.t&&A.c(a-A.t)&&(A.c=null),A=A.n;return a}function yr(){for(var a,A=zt,D=1/0;A;)A.c?(A.t<D&&(D=A.t),A=(a=A).n):A=a?a.n=A.n:zt=A.n;return er=a,D}s.round=function(a,A){return A?Math.round(a*(A=Math.pow(10,A)))/A:Math.round(a)},s.geom={};function Mr(a){return a[0]}function Ar(a){return a[1]}s.geom.hull=function(a){var A=Mr,D=Ar;if(arguments.length)return V(a);function V(Q){if(Q.length<3)return[];var ee=Lt(A),he=Lt(D),se,ge=Q.length,Pe=[],Ne=[];for(se=0;se<ge;se++)Pe.push([+ee.call(this,Q[se],se),+he.call(this,Q[se],se),se]);for(Pe.sort(Zr),se=0;se<ge;se++)Ne.push([Pe[se][0],-Pe[se][1]]);var Ze=wr(Pe),Xe=wr(Ne),vt=Xe[0]===Ze[0],mt=Xe[Xe.length-1]===Ze[Ze.length-1],Qe=[];for(se=Ze.length-1;se>=0;--se)Qe.push(Q[Pe[Ze[se]][2]]);for(se=+vt;se<Xe.length-mt;++se)Qe.push(Q[Pe[Xe[se]][2]]);return Qe}return V.x=function(Q){return arguments.length?(A=Q,V):A},V.y=function(Q){return arguments.length?(D=Q,V):D},V};function wr(a){for(var A=a.length,D=[0,1],V=2,Q=2;Q<A;Q++){for(;V>1&&ct(a[D[V-2]],a[D[V-1]],a[Q])<=0;)--V;D[V++]=Q}return D.slice(0,V)}function Zr(a,A){return a[0]-A[0]||a[1]-A[1]}s.geom.polygon=function(a){return H(a,Br),a};var Br=s.geom.polygon.prototype=[];Br.area=function(){for(var a=-1,A=this.length,D,V=this[A-1],Q=0;++a<A;)D=V,V=this[a],Q+=D[1]*V[0]-D[0]*V[1];return Q*.5},Br.centroid=function(a){var A=-1,D=this.length,V=0,Q=0,ee,he=this[D-1],se;for(arguments.length||(a=-1/(6*this.area()));++A<D;)ee=he,he=this[A],se=ee[0]*he[1]-he[0]*ee[1],V+=(ee[0]+he[0])*se,Q+=(ee[1]+he[1])*se;return[V*a,Q*a]},Br.clip=function(a){for(var A,D=Fr(a),V=-1,Q=this.length-Fr(this),ee,he,se=this[Q-1],ge,Pe,Ne;++V<Q;){for(A=a.slice(),a.length=0,ge=this[V],Pe=A[(he=A.length-D)-1],ee=-1;++ee<he;)Ne=A[ee],Xr(Ne,se,ge)?(Xr(Pe,se,ge)||a.push(Lr(Pe,Ne,se,ge)),a.push(Ne)):Xr(Pe,se,ge)&&a.push(Lr(Pe,Ne,se,ge)),Pe=Ne;D&&a.push(a[0]),se=ge}return a};function Xr(a,A,D){return(D[0]-A[0])*(a[1]-A[1])<(D[1]-A[1])*(a[0]-A[0])}function Lr(a,A,D,V){var Q=a[0],ee=D[0],he=A[0]-Q,se=V[0]-ee,ge=a[1],Pe=D[1],Ne=A[1]-ge,Ze=V[1]-Pe,Xe=(se*(ge-Pe)-Ze*(Q-ee))/(Ze*he-se*Ne);return[Q+Xe*he,ge+Xe*Ne]}function Fr(a){var A=a[0],D=a[a.length-1];return!(A[0]-D[0]||A[1]-D[1])}var _r,Tr,jr,ca=[],aa,qr,Ma=[];function Da(){Ra(this),this.edge=this.site=this.circle=null}function Jr(a){var A=ca.pop()||new Da;return A.site=a,A}function ea(a){ra(a),jr.remove(a),ca.push(a),Ra(a)}function Ua(a){var A=a.circle,D=A.x,V=A.cy,Q={x:D,y:V},ee=a.P,he=a.N,se=[a];ea(a);for(var ge=ee;ge.circle&&v(D-ge.circle.x)<Le&&v(V-ge.circle.cy)<Le;)ee=ge.P,se.unshift(ge),ea(ge),ge=ee;se.unshift(ge),ra(ge);for(var Pe=he;Pe.circle&&v(D-Pe.circle.x)<Le&&v(V-Pe.circle.cy)<Le;)he=Pe.N,se.push(Pe),ea(Pe),Pe=he;se.push(Pe),ra(Pe);var Ne=se.length,Ze;for(Ze=1;Ze<Ne;++Ze)Pe=se[Ze],ge=se[Ze-1],va(Pe.edge,ge.site,Pe.site,Q);ge=se[0],Pe=se[Ne-1],Pe.edge=wa(ge.site,Pe.site,null,Q),ta(ge),ta(Pe)}function pa(a){for(var A=a.x,D=a.y,V,Q,ee,he,se=jr._;se;)if(ee=Aa(se,D)-A,ee>Le)se=se.L;else if(he=A-ga(se,D),he>Le){if(!se.R){V=se;break}se=se.R}else{ee>-Le?(V=se.P,Q=se):he>-Le?(V=se,Q=se.N):V=Q=se;break}var ge=Jr(a);if(jr.insert(V,ge),!(!V&&!Q)){if(V===Q){ra(V),Q=Jr(V.site),jr.insert(ge,Q),ge.edge=Q.edge=wa(V.site,ge.site),ta(V),ta(Q);return}if(!Q){ge.edge=wa(V.site,ge.site);return}ra(V),ra(Q);var Pe=V.site,Ne=Pe.x,Ze=Pe.y,Xe=a.x-Ne,vt=a.y-Ze,mt=Q.site,Qe=mt.x-Ne,et=mt.y-Ze,ot=2*(Xe*et-vt*Qe),yt=Xe*Xe+vt*vt,gt=Qe*Qe+et*et,ft={x:(et*yt-vt*gt)/ot+Ne,y:(Xe*gt-Qe*yt)/ot+Ze};va(Q.edge,Pe,mt,ft),ge.edge=wa(Pe,a,null,ft),Q.edge=wa(a,mt,null,ft),ta(V),ta(Q)}}function Aa(a,A){var D=a.site,V=D.x,Q=D.y,ee=Q-A;if(!ee)return V;var he=a.P;if(!he)return-1/0;D=he.site;var se=D.x,ge=D.y,Pe=ge-A;if(!Pe)return se;var Ne=se-V,Ze=1/ee-1/Pe,Xe=Ne/Pe;return Ze?(-Xe+Math.sqrt(Xe*Xe-2*Ze*(Ne*Ne/(-2*Pe)-ge+Pe/2+Q-ee/2)))/Ze+V:(V+se)/2}function ga(a,A){var D=a.N;if(D)return Aa(D,A);var V=a.site;return V.y===A?V.x:1/0}function qa(a){this.site=a,this.edges=[]}qa.prototype.prepare=function(){for(var a=this.edges,A=a.length,D;A--;)D=a[A].edge,(!D.b||!D.a)&&a.splice(A,1);return a.sort(Dr),a.length};function Ga(a){for(var A=a[0][0],D=a[1][0],V=a[0][1],Q=a[1][1],ee,he,se,ge,Pe=Tr,Ne=Pe.length,Ze,Xe,vt,mt,Qe,et;Ne--;)if(Ze=Pe[Ne],!(!Ze||!Ze.prepare()))for(vt=Ze.edges,mt=vt.length,Xe=0;Xe<mt;)et=vt[Xe].end(),se=et.x,ge=et.y,Qe=vt[++Xe%mt].start(),ee=Qe.x,he=Qe.y,(v(se-ee)>Le||v(ge-he)>Le)&&(vt.splice(Xe,0,new Pa(Wa(Ze.site,et,v(se-A)<Le&&Q-ge>Le?{x:A,y:v(ee-A)<Le?he:Q}:v(ge-Q)<Le&&D-se>Le?{x:v(he-Q)<Le?ee:D,y:Q}:v(se-D)<Le&&ge-V>Le?{x:D,y:v(ee-D)<Le?he:V}:v(ge-V)<Le&&se-A>Le?{x:v(he-V)<Le?ee:A,y:V}:null),Ze.site,null)),++mt)}function Dr(a,A){return A.angle-a.angle}function sa(){Ra(this),this.x=this.y=this.arc=this.site=this.cy=null}function ta(a){var A=a.P,D=a.N;if(!(!A||!D)){var V=A.site,Q=a.site,ee=D.site;if(V!==ee){var he=Q.x,se=Q.y,ge=V.x-he,Pe=V.y-se,Ne=ee.x-he,et=ee.y-se,Ze=2*(ge*et-Pe*Ne);if(!(Ze>=-Oe)){var Xe=ge*ge+Pe*Pe,vt=Ne*Ne+et*et,mt=(et*Xe-Pe*vt)/Ze,Qe=(ge*vt-Ne*Xe)/Ze,et=Qe+se,ot=Ma.pop()||new sa;ot.arc=a,ot.site=Q,ot.x=mt+he,ot.y=et+Math.sqrt(mt*mt+Qe*Qe),ot.cy=et,a.circle=ot;for(var yt=null,gt=qr._;gt;)if(ot.y<gt.y||ot.y===gt.y&&ot.x<=gt.x)if(gt.L)gt=gt.L;else{yt=gt.P;break}else if(gt.R)gt=gt.R;else{yt=gt;break}qr.insert(yt,ot),yt||(aa=ot)}}}}function ra(a){var A=a.circle;A&&(A.P||(aa=A.N),qr.remove(A),Ma.push(A),Ra(A),a.circle=null)}function Pr(a,A,D,V){return function(Q){var ee=Q.a,he=Q.b,se=ee.x,ge=ee.y,Pe=he.x,Ne=he.y,Ze=0,Xe=1,vt=Pe-se,mt=Ne-ge,Qe;if(Qe=a-se,!(!vt&&Qe>0)){if(Qe/=vt,vt<0){if(Qe<Ze)return;Qe<Xe&&(Xe=Qe)}else if(vt>0){if(Qe>Xe)return;Qe>Ze&&(Ze=Qe)}if(Qe=D-se,!(!vt&&Qe<0)){if(Qe/=vt,vt<0){if(Qe>Xe)return;Qe>Ze&&(Ze=Qe)}else if(vt>0){if(Qe<Ze)return;Qe<Xe&&(Xe=Qe)}if(Qe=A-ge,!(!mt&&Qe>0)){if(Qe/=mt,mt<0){if(Qe<Ze)return;Qe<Xe&&(Xe=Qe)}else if(mt>0){if(Qe>Xe)return;Qe>Ze&&(Ze=Qe)}if(Qe=V-ge,!(!mt&&Qe<0)){if(Qe/=mt,mt<0){if(Qe>Xe)return;Qe>Ze&&(Ze=Qe)}else if(mt>0){if(Qe<Ze)return;Qe<Xe&&(Xe=Qe)}return Ze>0&&(Q.a={x:se+Ze*vt,y:ge+Ze*mt}),Xe<1&&(Q.b={x:se+Xe*vt,y:ge+Xe*mt}),Q}}}}}}function zr(a){for(var A=_r,D=Pr(a[0][0],a[0][1],a[1][0],a[1][1]),V=A.length,Q;V--;)Q=A[V],(!xa(Q,a)||!D(Q)||v(Q.a.x-Q.b.x)<Le&&v(Q.a.y-Q.b.y)<Le)&&(Q.a=Q.b=null,A.splice(V,1))}function xa(a,A){var D=a.b;if(D)return!0;var V=a.a,Q=A[0][0],ee=A[1][0],he=A[0][1],se=A[1][1],ge=a.l,Pe=a.r,Ne=ge.x,Ze=ge.y,Xe=Pe.x,vt=Pe.y,mt=(Ne+Xe)/2,Qe=(Ze+vt)/2,et,ot;if(vt===Ze){if(mt<Q||mt>=ee)return;if(Ne>Xe){if(!V)V={x:mt,y:he};else if(V.y>=se)return;D={x:mt,y:se}}else{if(!V)V={x:mt,y:se};else if(V.y<he)return;D={x:mt,y:he}}}else if(et=(Ne-Xe)/(vt-Ze),ot=Qe-et*mt,et<-1||et>1)if(Ne>Xe){if(!V)V={x:(he-ot)/et,y:he};else if(V.y>=se)return;D={x:(se-ot)/et,y:se}}else{if(!V)V={x:(se-ot)/et,y:se};else if(V.y<he)return;D={x:(he-ot)/et,y:he}}else if(Ze<vt){if(!V)V={x:Q,y:et*Q+ot};else if(V.x>=ee)return;D={x:ee,y:et*ee+ot}}else{if(!V)V={x:ee,y:et*ee+ot};else if(V.x<Q)return;D={x:Q,y:et*Q+ot}}return a.a=V,a.b=D,!0}function Va(a,A){this.l=a,this.r=A,this.a=this.b=null}function wa(a,A,D,V){var Q=new Va(a,A);return _r.push(Q),D&&va(Q,a,A,D),V&&va(Q,A,a,V),Tr[a.i].edges.push(new Pa(Q,a,A)),Tr[A.i].edges.push(new Pa(Q,A,a)),Q}function Wa(a,A,D){var V=new Va(a,null);return V.a=A,V.b=D,_r.push(V),V}function va(a,A,D,V){!a.a&&!a.b?(a.a=V,a.l=A,a.r=D):a.l===D?a.b=V:a.a=V}function Pa(a,A,D){var V=a.a,Q=a.b;this.edge=a,this.site=A,this.angle=D?Math.atan2(D.y-A.y,D.x-A.x):a.l===A?Math.atan2(Q.x-V.x,V.y-Q.y):Math.atan2(V.x-Q.x,Q.y-V.y)}Pa.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function _a(){this._=null}function Ra(a){a.U=a.C=a.L=a.R=a.P=a.N=null}_a.prototype={insert:function(a,A){var D,V,Q;if(a){if(A.P=a,A.N=a.N,a.N&&(a.N.P=A),a.N=A,a.R){for(a=a.R;a.L;)a=a.L;a.L=A}else a.R=A;D=a}else this._?(a=Bn(this._),A.P=null,A.N=a,a.P=a.L=A,D=a):(A.P=A.N=null,this._=A,D=null);for(A.L=A.R=null,A.U=D,A.C=!0,a=A;D&&D.C;)V=D.U,D===V.L?(Q=V.R,Q&&Q.C?(D.C=Q.C=!1,V.C=!0,a=V):(a===D.R&&(La(this,D),a=D,D=a.U),D.C=!1,V.C=!0,Sa(this,V))):(Q=V.L,Q&&Q.C?(D.C=Q.C=!1,V.C=!0,a=V):(a===D.L&&(Sa(this,D),a=D,D=a.U),D.C=!1,V.C=!0,La(this,V))),D=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P),a.P&&(a.P.N=a.N),a.N=a.P=null;var A=a.U,D,V=a.L,Q=a.R,ee,he;if(V?Q?ee=Bn(Q):ee=V:ee=Q,A?A.L===a?A.L=ee:A.R=ee:this._=ee,V&&Q?(he=ee.C,ee.C=a.C,ee.L=V,V.U=ee,ee!==Q?(A=ee.U,ee.U=a.U,a=ee.R,A.L=a,ee.R=Q,Q.U=ee):(ee.U=A,A=ee,a=ee.R)):(he=a.C,a=ee),a&&(a.U=A),!he){if(a&&a.C){a.C=!1;return}do{if(a===this._)break;if(a===A.L){if(D=A.R,D.C&&(D.C=!1,A.C=!0,La(this,A),D=A.R),D.L&&D.L.C||D.R&&D.R.C){(!D.R||!D.R.C)&&(D.L.C=!1,D.C=!0,Sa(this,D),D=A.R),D.C=A.C,A.C=D.R.C=!1,La(this,A),a=this._;break}}else if(D=A.L,D.C&&(D.C=!1,A.C=!0,Sa(this,A),D=A.L),D.L&&D.L.C||D.R&&D.R.C){(!D.L||!D.L.C)&&(D.R.C=!1,D.C=!0,La(this,D),D=A.L),D.C=A.C,A.C=D.L.C=!1,Sa(this,A),a=this._;break}D.C=!0,a=A,A=A.U}while(!a.C);a&&(a.C=!1)}}};function La(a,A){var D=A,V=A.R,Q=D.U;Q?Q.L===D?Q.L=V:Q.R=V:a._=V,V.U=Q,D.U=V,D.R=V.L,D.R&&(D.R.U=D),V.L=D}function Sa(a,A){var D=A,V=A.L,Q=D.U;Q?Q.L===D?Q.L=V:Q.R=V:a._=V,V.U=Q,D.U=V,D.L=V.R,D.L&&(D.L.U=D),V.R=D}function Bn(a){for(;a.L;)a=a.L;return a}function yn(a,A){var D=a.sort(Wi).pop(),V,Q,ee;for(_r=[],Tr=new Array(a.length),jr=new _a,qr=new _a;;)if(ee=aa,D&&(!ee||D.y<ee.y||D.y===ee.y&&D.x<ee.x))(D.x!==V||D.y!==Q)&&(Tr[D.i]=new qa(D),pa(D),V=D.x,Q=D.y),D=a.pop();else if(ee)Ua(ee.arc);else break;A&&(zr(A),Ga(A));var he={cells:Tr,edges:_r};return jr=qr=_r=Tr=null,he}function Wi(a,A){return A.y-a.y||A.x-a.x}s.geom.voronoi=function(a){var A=Mr,D=Ar,V=A,Q=D,ee=en;if(a)return he(a);function he(ge){var Pe=new Array(ge.length),Ne=ee[0][0],Ze=ee[0][1],Xe=ee[1][0],vt=ee[1][1];return yn(se(ge),ee).cells.forEach(function(mt,Qe){var et=mt.edges,ot=mt.site,yt=Pe[Qe]=et.length?et.map(function(gt){var ft=gt.start();return[ft.x,ft.y]}):ot.x>=Ne&&ot.x<=Xe&&ot.y>=Ze&&ot.y<=vt?[[Ne,vt],[Xe,vt],[Xe,Ze],[Ne,Ze]]:[];yt.point=ge[Qe]}),Pe}function se(ge){return ge.map(function(Pe,Ne){return{x:Math.round(V(Pe,Ne)/Le)*Le,y:Math.round(Q(Pe,Ne)/Le)*Le,i:Ne}})}return he.links=function(ge){return yn(se(ge)).edges.filter(function(Pe){return Pe.l&&Pe.r}).map(function(Pe){return{source:ge[Pe.l.i],target:ge[Pe.r.i]}})},he.triangles=function(ge){var Pe=[];return yn(se(ge)).cells.forEach(function(Ne,Ze){for(var Xe=Ne.site,vt=Ne.edges.sort(Dr),mt=-1,Qe=vt.length,et,ot=vt[Qe-1].edge,yt=ot.l===Xe?ot.r:ot.l;++mt<Qe;)et=yt,ot=vt[mt].edge,yt=ot.l===Xe?ot.r:ot.l,Ze<et.i&&Ze<yt.i&&Zi(Xe,et,yt)<0&&Pe.push([ge[Ze],ge[et.i],ge[yt.i]])}),Pe},he.x=function(ge){return arguments.length?(V=Lt(A=ge),he):A},he.y=function(ge){return arguments.length?(Q=Lt(D=ge),he):D},he.clipExtent=function(ge){return arguments.length?(ee=ge??en,he):ee===en?null:ee},he.size=function(ge){return arguments.length?he.clipExtent(ge&&[[0,0],ge]):ee===en?null:ee&&ee[1]},he};var en=[[-1e6,-1e6],[1e6,1e6]];function Zi(a,A,D){return(a.x-D.x)*(A.y-a.y)-(a.x-A.x)*(D.y-a.y)}s.geom.delaunay=function(a){return s.geom.voronoi().triangles(a)},s.geom.quadtree=function(a,A,D,V,Q){var ee=Mr,he=Ar,se;if(se=arguments.length)return ee=Xi,he=Ji,se===3&&(Q=D,V=A,D=A=0),ge(a);function ge(Pe){var Ne,Ze=Lt(ee),Xe=Lt(he),vt,mt,Qe,et,ot,yt,gt,ft;if(A!=null)ot=A,yt=D,gt=V,ft=Q;else if(gt=ft=-(ot=yt=1/0),vt=[],mt=[],et=Pe.length,se)for(Qe=0;Qe<et;++Qe)Ne=Pe[Qe],Ne.x<ot&&(ot=Ne.x),Ne.y<yt&&(yt=Ne.y),Ne.x>gt&&(gt=Ne.x),Ne.y>ft&&(ft=Ne.y),vt.push(Ne.x),mt.push(Ne.y);else for(Qe=0;Qe<et;++Qe){var Nt=+Ze(Ne=Pe[Qe],Qe),Jt=+Xe(Ne,Qe);Nt<ot&&(ot=Nt),Jt<yt&&(yt=Jt),Nt>gt&&(gt=Nt),Jt>ft&&(ft=Jt),vt.push(Nt),mt.push(Jt)}var qt=gt-ot,Qt=ft-yt;qt>Qt?ft=yt+qt:gt=ot+Qt;function ar(ir,ur,pr,kr,xr,Zt,vr,dr){if(!(isNaN(pr)||isNaN(kr)))if(ir.leaf){var gr=ir.x,Sr=ir.y;if(gr!=null)if(v(gr-pr)+v(Sr-kr)<.01)nr(ir,ur,pr,kr,xr,Zt,vr,dr);else{var Er=ir.point;ir.x=ir.y=ir.point=null,nr(ir,Er,gr,Sr,xr,Zt,vr,dr),nr(ir,ur,pr,kr,xr,Zt,vr,dr)}else ir.x=pr,ir.y=kr,ir.point=ur}else nr(ir,ur,pr,kr,xr,Zt,vr,dr)}function nr(ir,ur,pr,kr,xr,Zt,vr,dr){var gr=(xr+vr)*.5,Sr=(Zt+dr)*.5,Er=pr>=gr,Hr=kr>=Sr,Gr=Hr<<1|Er;ir.leaf=!1,ir=ir.nodes[Gr]||(ir.nodes[Gr]=Yn()),Er?xr=gr:vr=gr,Hr?Zt=Sr:dr=Sr,ar(ir,ur,pr,kr,xr,Zt,vr,dr)}var cr=Yn();if(cr.add=function(ir){ar(cr,ir,+Ze(ir,++Qe),+Xe(ir,Qe),ot,yt,gt,ft)},cr.visit=function(ir){Za(ir,cr,ot,yt,gt,ft)},cr.find=function(ir){return Ki(cr,ir[0],ir[1],ot,yt,gt,ft)},Qe=-1,A==null){for(;++Qe<et;)ar(cr,Pe[Qe],vt[Qe],mt[Qe],ot,yt,gt,ft);--Qe}else Pe.forEach(cr.add);return vt=mt=Pe=Ne=null,cr}return ge.x=function(Pe){return arguments.length?(ee=Pe,ge):ee},ge.y=function(Pe){return arguments.length?(he=Pe,ge):he},ge.extent=function(Pe){return arguments.length?(Pe==null?A=D=V=Q=null:(A=+Pe[0][0],D=+Pe[0][1],V=+Pe[1][0],Q=+Pe[1][1]),ge):A==null?null:[[A,D],[V,Q]]},ge.size=function(Pe){return arguments.length?(Pe==null?A=D=V=Q=null:(A=D=0,V=+Pe[0],Q=+Pe[1]),ge):A==null?null:[V-A,Q-D]},ge};function Xi(a){return a.x}function Ji(a){return a.y}function Yn(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Za(a,A,D,V,Q,ee){if(!a(A,D,V,Q,ee)){var he=(D+Q)*.5,se=(V+ee)*.5,ge=A.nodes;ge[0]&&Za(a,ge[0],D,V,he,se),ge[1]&&Za(a,ge[1],he,V,Q,se),ge[2]&&Za(a,ge[2],D,se,he,ee),ge[3]&&Za(a,ge[3],he,se,Q,ee)}}function Ki(a,A,D,V,Q,ee,he){var se=1/0,ge;return function Pe(Ne,Ze,Xe,vt,mt){if(!(Ze>ee||Xe>he||vt<V||mt<Q)){if(Qe=Ne.point){var Qe,et=A-Ne.x,ot=D-Ne.y,yt=et*et+ot*ot;if(yt<se){var gt=Math.sqrt(se=yt);V=A-gt,Q=D-gt,ee=A+gt,he=D+gt,ge=Qe}}for(var ft=Ne.nodes,Nt=(Ze+vt)*.5,Jt=(Xe+mt)*.5,qt=A>=Nt,Qt=D>=Jt,ar=Qt<<1|qt,nr=ar+4;ar<nr;++ar)if(Ne=ft[ar&3])switch(ar&3){case 0:Pe(Ne,Ze,Xe,Nt,Jt);break;case 1:Pe(Ne,Nt,Xe,vt,Jt);break;case 2:Pe(Ne,Ze,Jt,Nt,mt);break;case 3:Pe(Ne,Nt,Jt,vt,mt);break}}}(a,V,Q,ee,he),ge}s.interpolateRgb=pn;function pn(a,A){a=s.rgb(a),A=s.rgb(A);var D=a.r,V=a.g,Q=a.b,ee=A.r-D,he=A.g-V,se=A.b-Q;return function(ge){return"#"+rt(Math.round(D+ee*ge))+rt(Math.round(V+he*ge))+rt(Math.round(Q+se*ge))}}s.interpolateObject=Un;function Un(a,A){var D={},V={},Q;for(Q in a)Q in A?D[Q]=Ea(a[Q],A[Q]):V[Q]=a[Q];for(Q in A)Q in a||(V[Q]=A[Q]);return function(ee){for(Q in D)V[Q]=D[Q](ee);return V}}s.interpolateNumber=ba;function ba(a,A){return a=+a,A=+A,function(D){return a*(1-D)+A*D}}s.interpolateString=Gn;function Gn(a,A){var D=gn.lastIndex=xn.lastIndex=0,V,Q,ee,he=-1,se=[],ge=[];for(a=a+"",A=A+"";(V=gn.exec(a))&&(Q=xn.exec(A));)(ee=Q.index)>D&&(ee=A.slice(D,ee),se[he]?se[he]+=ee:se[++he]=ee),(V=V[0])===(Q=Q[0])?se[he]?se[he]+=Q:se[++he]=Q:(se[++he]=null,ge.push({i:he,x:ba(V,Q)})),D=xn.lastIndex;return D<A.length&&(ee=A.slice(D),se[he]?se[he]+=ee:se[++he]=ee),se.length<2?ge[0]?(A=ge[0].x,function(Pe){return A(Pe)+""}):function(){return A}:(A=ge.length,function(Pe){for(var Ne=0,Ze;Ne<A;++Ne)se[(Ze=ge[Ne]).i]=Ze.x(Pe);return se.join("")})}var gn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xn=new RegExp(gn.source,"g");s.interpolate=Ea;function Ea(a,A){for(var D=s.interpolators.length,V;--D>=0&&!(V=s.interpolators[D](a,A)););return V}s.interpolators=[function(a,A){var D=typeof A;return(D==="string"?Pt.has(A.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(A)?pn:Gn:A instanceof Vt?pn:Array.isArray(A)?tn:D==="object"&&isNaN(A)?Un:ba)(a,A)}],s.interpolateArray=tn;function tn(a,A){var D=[],V=[],Q=a.length,ee=A.length,he=Math.min(a.length,A.length),se;for(se=0;se<he;++se)D.push(Ea(a[se],A[se]));for(;se<Q;++se)V[se]=a[se];for(;se<ee;++se)V[se]=A[se];return function(ge){for(se=0;se<he;++se)V[se]=D[se](ge);return V}}var Vn=function(){return F},Qi=s.map({linear:Vn,poly:ro,quad:function(){return qi},cubic:function(){return eo},sin:function(){return ao},exp:function(){return no},circle:function(){return io},elastic:oo,back:lo,bounce:function(){return so}}),$i=s.map({in:F,out:Wn,"in-out":Zn,"out-in":function(a){return Zn(Wn(a))}});s.ease=function(a){var A=a.indexOf("-"),D=A>=0?a.slice(0,A):a,V=A>=0?a.slice(A+1):"in";return D=Qi.get(D)||Vn,V=$i.get(V)||F,ji(V(D.apply(null,i.call(arguments,1))))};function ji(a){return function(A){return A<=0?0:A>=1?1:a(A)}}function Wn(a){return function(A){return 1-a(1-A)}}function Zn(a){return function(A){return .5*(A<.5?a(2*A):2-a(2-2*A))}}function qi(a){return a*a}function eo(a){return a*a*a}function to(a){if(a<=0)return 0;if(a>=1)return 1;var A=a*a,D=A*a;return 4*(a<.5?D:3*(a-A)+D-.75)}function ro(a){return function(A){return Math.pow(A,a)}}function ao(a){return 1-Math.cos(a*Se)}function no(a){return Math.pow(2,10*(a-1))}function io(a){return 1-Math.sqrt(1-a*a)}function oo(a,A){var D;return arguments.length<2&&(A=.45),arguments.length?D=A/be*Math.asin(1/a):(a=1,D=A/4),function(V){return 1+a*Math.pow(2,-10*V)*Math.sin((V-D)*be/A)}}function lo(a){return a||(a=1.70158),function(A){return A*A*((a+1)*A-a)}}function so(a){return a<.36363636363636365?7.5625*a*a:a<.7272727272727273?7.5625*(a-=.5454545454545454)*a+.75:a<.9090909090909091?7.5625*(a-=.8181818181818182)*a+.9375:7.5625*(a-=.9545454545454546)*a+.984375}s.interpolateHcl=fo;function fo(a,A){a=s.hcl(a),A=s.hcl(A);var D=a.h,V=a.c,Q=a.l,ee=A.h-D,he=A.c-V,se=A.l-Q;return isNaN(he)&&(he=0,V=isNaN(V)?A.c:V),isNaN(ee)?(ee=0,D=isNaN(D)?A.h:D):ee>180?ee-=360:ee<-180&&(ee+=360),function(ge){return Ot(D+ee*ge,V+he*ge,Q+se*ge)+""}}s.interpolateHsl=uo;function uo(a,A){a=s.hsl(a),A=s.hsl(A);var D=a.h,V=a.s,Q=a.l,ee=A.h-D,he=A.s-V,se=A.l-Q;return isNaN(he)&&(he=0,V=isNaN(V)?A.s:V),isNaN(ee)?(ee=0,D=isNaN(D)?A.h:D):ee>180?ee-=360:ee<-180&&(ee+=360),function(ge){return jt(D+ee*ge,V+he*ge,Q+se*ge)+""}}s.interpolateLab=co;function co(a,A){a=s.lab(a),A=s.lab(A);var D=a.l,V=a.a,Q=a.b,ee=A.l-D,he=A.a-V,se=A.b-Q;return function(ge){return q(D+ee*ge,V+he*ge,Q+se*ge)+""}}s.interpolateRound=Xn;function Xn(a,A){return A-=a,function(D){return Math.round(a+A*D)}}s.transform=function(a){var A=f.createElementNS(s.ns.prefix.svg,"g");return(s.transform=function(D){if(D!=null){A.setAttribute("transform",D);var V=A.transform.baseVal.consolidate()}return new Jn(V?V.matrix:ho)})(a)};function Jn(a){var A=[a.a,a.b],D=[a.c,a.d],V=Qn(A),Q=Kn(A,D),ee=Qn(vo(D,A,-Q))||0;A[0]*D[1]<D[0]*A[1]&&(A[0]*=-1,A[1]*=-1,V*=-1,Q*=-1),this.rotate=(V?Math.atan2(A[1],A[0]):Math.atan2(-D[0],D[1]))*_e,this.translate=[a.e,a.f],this.scale=[V,ee],this.skew=ee?Math.atan2(Q,ee)*_e:0}Jn.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function Kn(a,A){return a[0]*A[0]+a[1]*A[1]}function Qn(a){var A=Math.sqrt(Kn(a,a));return A&&(a[0]/=A,a[1]/=A),A}function vo(a,A,D){return a[0]+=D*A[0],a[1]+=D*A[1],a}var ho={a:1,b:0,c:0,d:1,e:0,f:0};s.interpolateTransform=$n;function Ha(a){return a.length?a.pop()+",":""}function mo(a,A,D,V){if(a[0]!==A[0]||a[1]!==A[1]){var Q=D.push("translate(",null,",",null,")");V.push({i:Q-4,x:ba(a[0],A[0])},{i:Q-2,x:ba(a[1],A[1])})}else(A[0]||A[1])&&D.push("translate("+A+")")}function yo(a,A,D,V){a!==A?(a-A>180?A+=360:A-a>180&&(a+=360),V.push({i:D.push(Ha(D)+"rotate(",null,")")-2,x:ba(a,A)})):A&&D.push(Ha(D)+"rotate("+A+")")}function po(a,A,D,V){a!==A?V.push({i:D.push(Ha(D)+"skewX(",null,")")-2,x:ba(a,A)}):A&&D.push(Ha(D)+"skewX("+A+")")}function go(a,A,D,V){if(a[0]!==A[0]||a[1]!==A[1]){var Q=D.push(Ha(D)+"scale(",null,",",null,")");V.push({i:Q-4,x:ba(a[0],A[0])},{i:Q-2,x:ba(a[1],A[1])})}else(A[0]!==1||A[1]!==1)&&D.push(Ha(D)+"scale("+A+")")}function $n(a,A){var D=[],V=[];return a=s.transform(a),A=s.transform(A),mo(a.translate,A.translate,D,V),yo(a.rotate,A.rotate,D,V),po(a.skew,A.skew,D,V),go(a.scale,A.scale,D,V),a=A=null,function(Q){for(var ee=-1,he=V.length,se;++ee<he;)D[(se=V[ee]).i]=se.x(Q);return D.join("")}}function xo(a,A){return A=(A-=a=+a)||1/A,function(D){return(D-a)/A}}function bo(a,A){return A=(A-=a=+a)||1/A,function(D){return Math.max(0,Math.min(1,(D-a)/A))}}s.layout={},s.layout.bundle=function(){return function(a){for(var A=[],D=-1,V=a.length;++D<V;)A.push(To(a[D]));return A}};function To(a){for(var A=a.source,D=a.target,V=Mo(A,D),Q=[A];A!==V;)A=A.parent,Q.push(A);for(var ee=Q.length;D!==V;)Q.splice(ee,0,D),D=D.parent;return Q}function jn(a){for(var A=[],D=a.parent;D!=null;)A.push(a),a=D,D=D.parent;return A.push(a),A}function Mo(a,A){if(a===A)return a;for(var D=jn(a),V=jn(A),Q=D.pop(),ee=V.pop(),he=null;Q===ee;)he=Q,Q=D.pop(),ee=V.pop();return he}s.layout.chord=function(){var a={},A,D,V,Q,ee=0,he,se,ge;function Pe(){var Ze={},Xe=[],vt=s.range(Q),mt=[],Qe,et,ot,yt,gt;for(A=[],D=[],Qe=0,yt=-1;++yt<Q;){for(et=0,gt=-1;++gt<Q;)et+=V[yt][gt];Xe.push(et),mt.push(s.range(Q)),Qe+=et}for(he&&vt.sort(function(cr,ir){return he(Xe[cr],Xe[ir])}),se&&mt.forEach(function(cr,ir){cr.sort(function(ur,pr){return se(V[ir][ur],V[ir][pr])})}),Qe=(be-ee*Q)/Qe,et=0,yt=-1;++yt<Q;){for(ot=et,gt=-1;++gt<Q;){var ft=vt[yt],Nt=mt[ft][gt],Jt=V[ft][Nt],qt=et,Qt=et+=Jt*Qe;Ze[ft+"-"+Nt]={index:ft,subindex:Nt,startAngle:qt,endAngle:Qt,value:Jt}}D[ft]={index:ft,startAngle:ot,endAngle:et,value:Xe[ft]},et+=ee}for(yt=-1;++yt<Q;)for(gt=yt-1;++gt<Q;){var ar=Ze[yt+"-"+gt],nr=Ze[gt+"-"+yt];(ar.value||nr.value)&&A.push(ar.value<nr.value?{source:nr,target:ar}:{source:ar,target:nr})}ge&&Ne()}function Ne(){A.sort(function(Ze,Xe){return ge((Ze.source.value+Ze.target.value)/2,(Xe.source.value+Xe.target.value)/2)})}return a.matrix=function(Ze){return arguments.length?(Q=(V=Ze)&&V.length,A=D=null,a):V},a.padding=function(Ze){return arguments.length?(ee=Ze,A=D=null,a):ee},a.sortGroups=function(Ze){return arguments.length?(he=Ze,A=D=null,a):he},a.sortSubgroups=function(Ze){return arguments.length?(se=Ze,A=null,a):se},a.sortChords=function(Ze){return arguments.length?(ge=Ze,A&&Ne(),a):ge},a.chords=function(){return A||Pe(),A},a.groups=function(){return D||Pe(),D},a},s.layout.force=function(){var a={},A=s.dispatch("start","tick","end"),D,V=[1,1],Q,ee,he=.9,se=Co,ge=ko,Pe=-30,Ne=Do,Ze=.1,Xe=.64,vt=[],mt=[],Qe,et,ot;function yt(ft){return function(Nt,Jt,qt,Qt){if(Nt.point!==ft){var ar=Nt.cx-ft.x,nr=Nt.cy-ft.y,cr=Qt-Jt,ir=ar*ar+nr*nr;if(cr*cr/Xe<ir){if(ir<Ne){var ur=Nt.charge/ir;ft.px-=ar*ur,ft.py-=nr*ur}return!0}if(Nt.point&&ir&&ir<Ne){var ur=Nt.pointCharge/ir;ft.px-=ar*ur,ft.py-=nr*ur}}return!Nt.charge}}a.tick=function(){if((ee*=.99)<.005)return D=null,A.end({type:"end",alpha:ee=0}),!0;var ft=vt.length,Nt=mt.length,Jt,qt,Qt,ar,nr,cr,ir,ur,pr;for(qt=0;qt<Nt;++qt)Qt=mt[qt],ar=Qt.source,nr=Qt.target,ur=nr.x-ar.x,pr=nr.y-ar.y,(cr=ur*ur+pr*pr)&&(cr=ee*et[qt]*((cr=Math.sqrt(cr))-Qe[qt])/cr,ur*=cr,pr*=cr,nr.x-=ur*(ir=ar.weight+nr.weight?ar.weight/(ar.weight+nr.weight):.5),nr.y-=pr*ir,ar.x+=ur*(ir=1-ir),ar.y+=pr*ir);if((ir=ee*Ze)&&(ur=V[0]/2,pr=V[1]/2,qt=-1,ir))for(;++qt<ft;)Qt=vt[qt],Qt.x+=(ur-Qt.x)*ir,Qt.y+=(pr-Qt.y)*ir;if(Pe)for(qn(Jt=s.geom.quadtree(vt),ee,ot),qt=-1;++qt<ft;)(Qt=vt[qt]).fixed||Jt.visit(yt(Qt));for(qt=-1;++qt<ft;)Qt=vt[qt],Qt.fixed?(Qt.x=Qt.px,Qt.y=Qt.py):(Qt.x-=(Qt.px-(Qt.px=Qt.x))*he,Qt.y-=(Qt.py-(Qt.py=Qt.y))*he);A.tick({type:"tick",alpha:ee})},a.nodes=function(ft){return arguments.length?(vt=ft,a):vt},a.links=function(ft){return arguments.length?(mt=ft,a):mt},a.size=function(ft){return arguments.length?(V=ft,a):V},a.linkDistance=function(ft){return arguments.length?(se=typeof ft=="function"?ft:+ft,a):se},a.distance=a.linkDistance,a.linkStrength=function(ft){return arguments.length?(ge=typeof ft=="function"?ft:+ft,a):ge},a.friction=function(ft){return arguments.length?(he=+ft,a):he},a.charge=function(ft){return arguments.length?(Pe=typeof ft=="function"?ft:+ft,a):Pe},a.chargeDistance=function(ft){return arguments.length?(Ne=ft*ft,a):Math.sqrt(Ne)},a.gravity=function(ft){return arguments.length?(Ze=+ft,a):Ze},a.theta=function(ft){return arguments.length?(Xe=ft*ft,a):Math.sqrt(Xe)},a.alpha=function(ft){return arguments.length?(ft=+ft,ee?ft>0?ee=ft:(D.c=null,D.t=NaN,D=null,A.end({type:"end",alpha:ee=0})):ft>0&&(A.start({type:"start",alpha:ee=ft}),D=or(a.tick)),a):ee},a.start=function(){var ft,Nt=vt.length,Jt=mt.length,qt=V[0],Qt=V[1],ar,nr;for(ft=0;ft<Nt;++ft)(nr=vt[ft]).index=ft,nr.weight=0;for(ft=0;ft<Jt;++ft)nr=mt[ft],typeof nr.source=="number"&&(nr.source=vt[nr.source]),typeof nr.target=="number"&&(nr.target=vt[nr.target]),++nr.source.weight,++nr.target.weight;for(ft=0;ft<Nt;++ft)nr=vt[ft],isNaN(nr.x)&&(nr.x=cr("x",qt)),isNaN(nr.y)&&(nr.y=cr("y",Qt)),isNaN(nr.px)&&(nr.px=nr.x),isNaN(nr.py)&&(nr.py=nr.y);if(Qe=[],typeof se=="function")for(ft=0;ft<Jt;++ft)Qe[ft]=+se.call(this,mt[ft],ft);else for(ft=0;ft<Jt;++ft)Qe[ft]=se;if(et=[],typeof ge=="function")for(ft=0;ft<Jt;++ft)et[ft]=+ge.call(this,mt[ft],ft);else for(ft=0;ft<Jt;++ft)et[ft]=ge;if(ot=[],typeof Pe=="function")for(ft=0;ft<Nt;++ft)ot[ft]=+Pe.call(this,vt[ft],ft);else for(ft=0;ft<Nt;++ft)ot[ft]=Pe;function cr(ir,ur){if(!ar){for(ar=new Array(Nt),xr=0;xr<Nt;++xr)ar[xr]=[];for(xr=0;xr<Jt;++xr){var pr=mt[xr];ar[pr.source.index].push(pr.target),ar[pr.target.index].push(pr.source)}}for(var kr=ar[ft],xr=-1,Zt=kr.length,vr;++xr<Zt;)if(!isNaN(vr=kr[xr][ir]))return vr;return Math.random()*ur}return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){if(Q||(Q=s.behavior.drag().origin(F).on("dragstart.force",Ao).on("drag.force",gt).on("dragend.force",wo)),!arguments.length)return Q;this.on("mouseover.force",Lo).on("mouseout.force",So).call(Q)};function gt(ft){ft.px=s.event.x,ft.py=s.event.y,a.resume()}return s.rebind(a,A,"on")};function Ao(a){a.fixed|=2}function wo(a){a.fixed&=-7}function Lo(a){a.fixed|=4,a.px=a.x,a.py=a.y}function So(a){a.fixed&=-5}function qn(a,A,D){var V=0,Q=0;if(a.charge=0,!a.leaf)for(var ee=a.nodes,he=ee.length,se=-1,ge;++se<he;)ge=ee[se],ge!=null&&(qn(ge,A,D),a.charge+=ge.charge,V+=ge.charge*ge.cx,Q+=ge.charge*ge.cy);if(a.point){a.leaf||(a.point.x+=Math.random()-.5,a.point.y+=Math.random()-.5);var Pe=A*D[a.point.index];a.charge+=a.pointCharge=Pe,V+=Pe*a.point.x,Q+=Pe*a.point.y}a.cx=V/a.charge,a.cy=Q/a.charge}var Co=20,ko=1,Do=1/0;s.layout.hierarchy=function(){var a=Eo,A=Po,D=Ro;function V(Q){var ee=[Q],he=[],se;for(Q.depth=0;(se=ee.pop())!=null;)if(he.push(se),(Pe=A.call(V,se,se.depth))&&(ge=Pe.length)){for(var ge,Pe,Ne;--ge>=0;)ee.push(Ne=Pe[ge]),Ne.parent=se,Ne.depth=se.depth+1;D&&(se.value=0),se.children=Pe}else D&&(se.value=+D.call(V,se,se.depth)||0),delete se.children;return da(Q,function(Ze){var Xe,vt;a&&(Xe=Ze.children)&&Xe.sort(a),D&&(vt=Ze.parent)&&(vt.value+=Ze.value)}),he}return V.sort=function(Q){return arguments.length?(a=Q,V):a},V.children=function(Q){return arguments.length?(A=Q,V):A},V.value=function(Q){return arguments.length?(D=Q,V):D},V.revalue=function(Q){return D&&(Ja(Q,function(ee){ee.children&&(ee.value=0)}),da(Q,function(ee){var he;ee.children||(ee.value=+D.call(V,ee,ee.depth)||0),(he=ee.parent)&&(he.value+=ee.value)})),Q},V};function Xa(a,A){return s.rebind(a,A,"sort","children","value"),a.nodes=a,a.links=No,a}function Ja(a,A){for(var D=[a];(a=D.pop())!=null;)if(A(a),(Q=a.children)&&(V=Q.length))for(var V,Q;--V>=0;)D.push(Q[V])}function da(a,A){for(var D=[a],V=[];(a=D.pop())!=null;)if(V.push(a),(he=a.children)&&(ee=he.length))for(var Q=-1,ee,he;++Q<ee;)D.push(he[Q]);for(;(a=V.pop())!=null;)A(a)}function Po(a){return a.children}function Ro(a){return a.value}function Eo(a,A){return A.value-a.value}function No(a){return s.merge(a.map(function(A){return(A.children||[]).map(function(D){return{source:A,target:D}})}))}s.layout.partition=function(){var a=s.layout.hierarchy(),A=[1,1];function D(ee,he,se,ge){var Pe=ee.children;if(ee.x=he,ee.y=ee.depth*ge,ee.dx=se,ee.dy=ge,Pe&&(Ze=Pe.length)){var Ne=-1,Ze,Xe,vt;for(se=ee.value?se/ee.value:0;++Ne<Ze;)D(Xe=Pe[Ne],he,vt=Xe.value*se,ge),he+=vt}}function V(ee){var he=ee.children,se=0;if(he&&(Pe=he.length))for(var ge=-1,Pe;++ge<Pe;)se=Math.max(se,V(he[ge]));return 1+se}function Q(ee,he){var se=a.call(this,ee,he);return D(se[0],0,A[0],A[1]/V(se[0])),se}return Q.size=function(ee){return arguments.length?(A=ee,Q):A},Xa(Q,a)},s.layout.pie=function(){var a=Number,A=ei,D=0,V=be,Q=0;function ee(he){var se=he.length,ge=he.map(function(yt,gt){return+a.call(ee,yt,gt)}),Pe=+(typeof D=="function"?D.apply(this,arguments):D),Ne=(typeof V=="function"?V.apply(this,arguments):V)-Pe,Ze=Math.min(Math.abs(Ne)/se,+(typeof Q=="function"?Q.apply(this,arguments):Q)),Xe=Ze*(Ne<0?-1:1),vt=s.sum(ge),mt=vt?(Ne-se*Xe)/vt:0,Qe=s.range(se),et=[],ot;return A!=null&&Qe.sort(A===ei?function(yt,gt){return ge[gt]-ge[yt]}:function(yt,gt){return A(he[yt],he[gt])}),Qe.forEach(function(yt){et[yt]={data:he[yt],value:ot=ge[yt],startAngle:Pe,endAngle:Pe+=ot*mt+Xe,padAngle:Ze}}),et}return ee.value=function(he){return arguments.length?(a=he,ee):a},ee.sort=function(he){return arguments.length?(A=he,ee):A},ee.startAngle=function(he){return arguments.length?(D=he,ee):D},ee.endAngle=function(he){return arguments.length?(V=he,ee):V},ee.padAngle=function(he){return arguments.length?(Q=he,ee):Q},ee};var ei={};s.layout.stack=function(){var a=F,A=bn,D=Tn,V=Io,Q=Fo,ee=zo;function he(se,ge){if(!(mt=se.length))return se;var Pe=se.map(function(yt,gt){return a.call(he,yt,gt)}),Ne=Pe.map(function(yt){return yt.map(function(gt,ft){return[Q.call(he,gt,ft),ee.call(he,gt,ft)]})}),Ze=A.call(he,Ne,ge);Pe=s.permute(Pe,Ze),Ne=s.permute(Ne,Ze);var Xe=D.call(he,Ne,ge),vt=Pe[0].length,mt,Qe,et,ot;for(et=0;et<vt;++et)for(V.call(he,Pe[0][et],ot=Xe[et],Ne[0][et][1]),Qe=1;Qe<mt;++Qe)V.call(he,Pe[Qe][et],ot+=Ne[Qe-1][et][1],Ne[Qe][et][1]);return se}return he.values=function(se){return arguments.length?(a=se,he):a},he.order=function(se){return arguments.length?(A=typeof se=="function"?se:_o.get(se)||bn,he):A},he.offset=function(se){return arguments.length?(D=typeof se=="function"?se:Ho.get(se)||Tn,he):D},he.x=function(se){return arguments.length?(Q=se,he):Q},he.y=function(se){return arguments.length?(ee=se,he):ee},he.out=function(se){return arguments.length?(V=se,he):V},he};function Fo(a){return a.x}function zo(a){return a.y}function Io(a,A,D){a.y0=A,a.y=D}var _o=s.map({"inside-out":function(a){var A=a.length,D,V,Q=a.map(Oo),ee=a.map(Bo),he=s.range(A).sort(function(Ze,Xe){return Q[Ze]-Q[Xe]}),se=0,ge=0,Pe=[],Ne=[];for(D=0;D<A;++D)V=he[D],se<ge?(se+=ee[V],Pe.push(V)):(ge+=ee[V],Ne.push(V));return Ne.reverse().concat(Pe)},reverse:function(a){return s.range(a.length).reverse()},default:bn}),Ho=s.map({silhouette:function(a){var A=a.length,D=a[0].length,V=[],Q=0,ee,he,se,ge=[];for(he=0;he<D;++he){for(ee=0,se=0;ee<A;ee++)se+=a[ee][he][1];se>Q&&(Q=se),V.push(se)}for(he=0;he<D;++he)ge[he]=(Q-V[he])/2;return ge},wiggle:function(a){var A=a.length,D=a[0],V=D.length,Q,ee,he,se,ge,Pe,Ne,Ze,Xe,vt=[];for(vt[0]=Ze=Xe=0,ee=1;ee<V;++ee){for(Q=0,se=0;Q<A;++Q)se+=a[Q][ee][1];for(Q=0,ge=0,Ne=D[ee][0]-D[ee-1][0];Q<A;++Q){for(he=0,Pe=(a[Q][ee][1]-a[Q][ee-1][1])/(2*Ne);he<Q;++he)Pe+=(a[he][ee][1]-a[he][ee-1][1])/Ne;ge+=Pe*a[Q][ee][1]}vt[ee]=Ze-=se?ge/se*Ne:0,Ze<Xe&&(Xe=Ze)}for(ee=0;ee<V;++ee)vt[ee]-=Xe;return vt},expand:function(a){var A=a.length,D=a[0].length,V=1/A,Q,ee,he,se=[];for(ee=0;ee<D;++ee){for(Q=0,he=0;Q<A;Q++)he+=a[Q][ee][1];if(he)for(Q=0;Q<A;Q++)a[Q][ee][1]/=he;else for(Q=0;Q<A;Q++)a[Q][ee][1]=V}for(ee=0;ee<D;++ee)se[ee]=0;return se},zero:Tn});function bn(a){return s.range(a.length)}function Tn(a){for(var A=-1,D=a[0].length,V=[];++A<D;)V[A]=0;return V}function Oo(a){for(var A=1,D=0,V=a[0][1],Q,ee=a.length;A<ee;++A)(Q=a[A][1])>V&&(D=A,V=Q);return D}function Bo(a){return a.reduce(Yo,0)}function Yo(a,A){return a+A[1]}s.layout.histogram=function(){var a=!0,A=Number,D=Go,V=Uo;function Q(ee,Xe){for(var se=[],ge=ee.map(A,this),Pe=D.call(this,ge,Xe),Ne=V.call(this,Pe,ge,Xe),Ze,Xe=-1,vt=ge.length,mt=Ne.length-1,Qe=a?1:1/vt,et;++Xe<mt;)Ze=se[Xe]=[],Ze.dx=Ne[Xe+1]-(Ze.x=Ne[Xe]),Ze.y=0;if(mt>0)for(Xe=-1;++Xe<vt;)et=ge[Xe],et>=Pe[0]&&et<=Pe[1]&&(Ze=se[s.bisect(Ne,et,1,mt)-1],Ze.y+=Qe,Ze.push(ee[Xe]));return se}return Q.value=function(ee){return arguments.length?(A=ee,Q):A},Q.range=function(ee){return arguments.length?(D=Lt(ee),Q):D},Q.bins=function(ee){return arguments.length?(V=typeof ee=="number"?function(he){return ti(he,ee)}:Lt(ee),Q):V},Q.frequency=function(ee){return arguments.length?(a=!!ee,Q):a},Q};function Uo(a,A){return ti(a,Math.ceil(Math.log(A.length)/Math.LN2+1))}function ti(a,A){for(var D=-1,V=+a[0],Q=(a[1]-V)/A,ee=[];++D<=A;)ee[D]=Q*D+V;return ee}function Go(a){return[s.min(a),s.max(a)]}s.layout.pack=function(){var a=s.layout.hierarchy().sort(Vo),A=0,D=[1,1],V;function Q(ee,he){var se=a.call(this,ee,he),ge=se[0],Pe=D[0],Ne=D[1],Ze=V==null?Math.sqrt:typeof V=="function"?V:function(){return V};if(ge.x=ge.y=0,da(ge,function(vt){vt.r=+Ze(vt.value)}),da(ge,ni),A){var Xe=A*(V?1:Math.max(2*ge.r/Pe,2*ge.r/Ne))/2;da(ge,function(vt){vt.r+=Xe}),da(ge,ni),da(ge,function(vt){vt.r-=Xe})}return ii(ge,Pe/2,Ne/2,V?1:1/Math.max(2*ge.r/Pe,2*ge.r/Ne)),se}return Q.size=function(ee){return arguments.length?(D=ee,Q):D},Q.radius=function(ee){return arguments.length?(V=ee==null||typeof ee=="function"?ee:+ee,Q):V},Q.padding=function(ee){return arguments.length?(A=+ee,Q):A},Xa(Q,a)};function Vo(a,A){return a.value-A.value}function Mn(a,A){var D=a._pack_next;a._pack_next=A,A._pack_prev=a,A._pack_next=D,D._pack_prev=A}function ri(a,A){a._pack_next=A,A._pack_prev=a}function ai(a,A){var D=A.x-a.x,V=A.y-a.y,Q=a.r+A.r;return .999*Q*Q>D*D+V*V}function ni(a){if(!(A=a.children)||!(Xe=A.length))return;var A,D=1/0,V=-1/0,Q=1/0,ee=-1/0,he,se,ge,Pe,Ne,Ze,Xe;function vt(ft){D=Math.min(ft.x-ft.r,D),V=Math.max(ft.x+ft.r,V),Q=Math.min(ft.y-ft.r,Q),ee=Math.max(ft.y+ft.r,ee)}if(A.forEach(Wo),he=A[0],he.x=-he.r,he.y=0,vt(he),Xe>1&&(se=A[1],se.x=se.r,se.y=0,vt(se),Xe>2))for(ge=A[2],oi(he,se,ge),vt(ge),Mn(he,ge),he._pack_prev=ge,Mn(ge,se),se=he._pack_next,Pe=3;Pe<Xe;Pe++){oi(he,se,ge=A[Pe]);var mt=0,Qe=1,et=1;for(Ne=se._pack_next;Ne!==se;Ne=Ne._pack_next,Qe++)if(ai(Ne,ge)){mt=1;break}if(mt==1)for(Ze=he._pack_prev;Ze!==Ne._pack_prev&&!ai(Ze,ge);Ze=Ze._pack_prev,et++);mt?(Qe<et||Qe==et&&se.r<he.r?ri(he,se=Ne):ri(he=Ze,se),Pe--):(Mn(he,ge),se=ge,vt(ge))}var ot=(D+V)/2,yt=(Q+ee)/2,gt=0;for(Pe=0;Pe<Xe;Pe++)ge=A[Pe],ge.x-=ot,ge.y-=yt,gt=Math.max(gt,ge.r+Math.sqrt(ge.x*ge.x+ge.y*ge.y));a.r=gt,A.forEach(Zo)}function Wo(a){a._pack_next=a._pack_prev=a}function Zo(a){delete a._pack_next,delete a._pack_prev}function ii(a,A,D,V){var Q=a.children;if(a.x=A+=V*a.x,a.y=D+=V*a.y,a.r*=V,Q)for(var ee=-1,he=Q.length;++ee<he;)ii(Q[ee],A,D,V)}function oi(a,A,D){var V=a.r+D.r,Q=A.x-a.x,ee=A.y-a.y;if(V&&(Q||ee)){var he=A.r+D.r,se=Q*Q+ee*ee;he*=he,V*=V;var ge=.5+(V-he)/(2*se),Pe=Math.sqrt(Math.max(0,2*he*(V+se)-(V-=se)*V-he*he))/(2*se);D.x=a.x+ge*Q+Pe*ee,D.y=a.y+ge*ee-Pe*Q}else D.x=a.x+V,D.y=a.y}s.layout.tree=function(){var a=s.layout.hierarchy().sort(null).value(null),A=li,D=[1,1],V=null;function Q(Ne,Ze){var Xe=a.call(this,Ne,Ze),vt=Xe[0],mt=ee(vt);if(da(mt,he),mt.parent.m=-mt.z,Ja(mt,se),V)Ja(vt,Pe);else{var Qe=vt,et=vt,ot=vt;Ja(vt,function(Nt){Nt.x<Qe.x&&(Qe=Nt),Nt.x>et.x&&(et=Nt),Nt.depth>ot.depth&&(ot=Nt)});var yt=A(Qe,et)/2-Qe.x,gt=D[0]/(et.x+A(et,Qe)/2+yt),ft=D[1]/(ot.depth||1);Ja(vt,function(Nt){Nt.x=(Nt.x+yt)*gt,Nt.y=Nt.depth*ft})}return Xe}function ee(Ne){for(var Ze={A:null,children:[Ne]},Xe=[Ze],vt;(vt=Xe.pop())!=null;)for(var mt=vt.children,Qe,et=0,ot=mt.length;et<ot;++et)Xe.push((mt[et]=Qe={_:mt[et],parent:vt,children:(Qe=mt[et].children)&&Qe.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:et}).a=Qe);return Ze.children[0]}function he(Ne){var Ze=Ne.children,Xe=Ne.parent.children,vt=Ne.i?Xe[Ne.i-1]:null;if(Ze.length){Jo(Ne);var mt=(Ze[0].z+Ze[Ze.length-1].z)/2;vt?(Ne.z=vt.z+A(Ne._,vt._),Ne.m=Ne.z-mt):Ne.z=mt}else vt&&(Ne.z=vt.z+A(Ne._,vt._));Ne.parent.A=ge(Ne,vt,Ne.parent.A||Xe[0])}function se(Ne){Ne._.x=Ne.z+Ne.parent.m,Ne.m+=Ne.parent.m}function ge(Ne,Ze,Xe){if(Ze){for(var vt=Ne,mt=Ne,Qe=Ze,et=vt.parent.children[0],ot=vt.m,yt=mt.m,gt=Qe.m,ft=et.m,Nt;Qe=wn(Qe),vt=An(vt),Qe&&vt;)et=An(et),mt=wn(mt),mt.a=Ne,Nt=Qe.z+gt-vt.z-ot+A(Qe._,vt._),Nt>0&&(Xo(Ko(Qe,Ne,Xe),Ne,Nt),ot+=Nt,yt+=Nt),gt+=Qe.m,ot+=vt.m,ft+=et.m,yt+=mt.m;Qe&&!wn(mt)&&(mt.t=Qe,mt.m+=gt-yt),vt&&!An(et)&&(et.t=vt,et.m+=ot-ft,Xe=Ne)}return Xe}function Pe(Ne){Ne.x*=D[0],Ne.y=Ne.depth*D[1]}return Q.separation=function(Ne){return arguments.length?(A=Ne,Q):A},Q.size=function(Ne){return arguments.length?(V=(D=Ne)==null?Pe:null,Q):V?null:D},Q.nodeSize=function(Ne){return arguments.length?(V=(D=Ne)==null?null:Pe,Q):V?D:null},Xa(Q,a)};function li(a,A){return a.parent==A.parent?1:2}function An(a){var A=a.children;return A.length?A[0]:a.t}function wn(a){var A=a.children,D;return(D=A.length)?A[D-1]:a.t}function Xo(a,A,D){var V=D/(A.i-a.i);A.c-=V,A.s+=D,a.c+=V,A.z+=D,A.m+=D}function Jo(a){for(var A=0,D=0,V=a.children,Q=V.length,ee;--Q>=0;)ee=V[Q],ee.z+=A,ee.m+=A,A+=ee.s+(D+=ee.c)}function Ko(a,A,D){return a.a.parent===A.parent?a.a:D}s.layout.cluster=function(){var a=s.layout.hierarchy().sort(null).value(null),A=li,D=[1,1],V=!1;function Q(ee,he){var se=a.call(this,ee,he),ge=se[0],Pe,Ne=0;da(ge,function(Qe){var et=Qe.children;et&&et.length?(Qe.x=$o(et),Qe.y=Qo(et)):(Qe.x=Pe?Ne+=A(Qe,Pe):0,Qe.y=0,Pe=Qe)});var Ze=si(ge),Xe=fi(ge),vt=Ze.x-A(Ze,Xe)/2,mt=Xe.x+A(Xe,Ze)/2;return da(ge,V?function(Qe){Qe.x=(Qe.x-ge.x)*D[0],Qe.y=(ge.y-Qe.y)*D[1]}:function(Qe){Qe.x=(Qe.x-vt)/(mt-vt)*D[0],Qe.y=(1-(ge.y?Qe.y/ge.y:1))*D[1]}),se}return Q.separation=function(ee){return arguments.length?(A=ee,Q):A},Q.size=function(ee){return arguments.length?(V=(D=ee)==null,Q):V?null:D},Q.nodeSize=function(ee){return arguments.length?(V=(D=ee)!=null,Q):V?D:null},Xa(Q,a)};function Qo(a){return 1+s.max(a,function(A){return A.y})}function $o(a){return a.reduce(function(A,D){return A+D.x},0)/a.length}function si(a){var A=a.children;return A&&A.length?si(A[0]):a}function fi(a){var A=a.children,D;return A&&(D=A.length)?fi(A[D-1]):a}s.layout.treemap=function(){var a=s.layout.hierarchy(),A=Math.round,D=[1,1],V=null,Q=Ln,ee=!1,he,se="squarify",ge=.5*(1+Math.sqrt(5));function Pe(Qe,et){for(var ot=-1,yt=Qe.length,gt,ft;++ot<yt;)ft=(gt=Qe[ot]).value*(et<0?0:et),gt.area=isNaN(ft)||ft<=0?0:ft}function Ne(Qe){var et=Qe.children;if(et&&et.length){var ot=Q(Qe),yt=[],gt=et.slice(),ft,Nt=1/0,Jt,qt=se==="slice"?ot.dx:se==="dice"?ot.dy:se==="slice-dice"?Qe.depth&1?ot.dy:ot.dx:Math.min(ot.dx,ot.dy),Qt;for(Pe(gt,ot.dx*ot.dy/Qe.value),yt.area=0;(Qt=gt.length)>0;)yt.push(ft=gt[Qt-1]),yt.area+=ft.area,se!=="squarify"||(Jt=Xe(yt,qt))<=Nt?(gt.pop(),Nt=Jt):(yt.area-=yt.pop().area,vt(yt,qt,ot,!1),qt=Math.min(ot.dx,ot.dy),yt.length=yt.area=0,Nt=1/0);yt.length&&(vt(yt,qt,ot,!0),yt.length=yt.area=0),et.forEach(Ne)}}function Ze(Qe){var et=Qe.children;if(et&&et.length){var ot=Q(Qe),yt=et.slice(),gt,ft=[];for(Pe(yt,ot.dx*ot.dy/Qe.value),ft.area=0;gt=yt.pop();)ft.push(gt),ft.area+=gt.area,gt.z!=null&&(vt(ft,gt.z?ot.dx:ot.dy,ot,!yt.length),ft.length=ft.area=0);et.forEach(Ze)}}function Xe(Qe,et){for(var ot=Qe.area,yt,gt=0,ft=1/0,Nt=-1,Jt=Qe.length;++Nt<Jt;)(yt=Qe[Nt].area)&&(yt<ft&&(ft=yt),yt>gt&&(gt=yt));return ot*=ot,et*=et,ot?Math.max(et*gt*ge/ot,ot/(et*ft*ge)):1/0}function vt(Qe,et,ot,yt){var gt=-1,ft=Qe.length,Nt=ot.x,Jt=ot.y,qt=et?A(Qe.area/et):0,Qt;if(et==ot.dx){for((yt||qt>ot.dy)&&(qt=ot.dy);++gt<ft;)Qt=Qe[gt],Qt.x=Nt,Qt.y=Jt,Qt.dy=qt,Nt+=Qt.dx=Math.min(ot.x+ot.dx-Nt,qt?A(Qt.area/qt):0);Qt.z=!0,Qt.dx+=ot.x+ot.dx-Nt,ot.y+=qt,ot.dy-=qt}else{for((yt||qt>ot.dx)&&(qt=ot.dx);++gt<ft;)Qt=Qe[gt],Qt.x=Nt,Qt.y=Jt,Qt.dx=qt,Jt+=Qt.dy=Math.min(ot.y+ot.dy-Jt,qt?A(Qt.area/qt):0);Qt.z=!1,Qt.dy+=ot.y+ot.dy-Jt,ot.x+=qt,ot.dx-=qt}}function mt(Qe){var et=he||a(Qe),ot=et[0];return ot.x=ot.y=0,ot.value?(ot.dx=D[0],ot.dy=D[1]):ot.dx=ot.dy=0,he&&a.revalue(ot),Pe([ot],ot.dx*ot.dy/ot.value),(he?Ze:Ne)(ot),ee&&(he=et),et}return mt.size=function(Qe){return arguments.length?(D=Qe,mt):D},mt.padding=function(Qe){if(!arguments.length)return V;function et(gt){var ft=Qe.call(mt,gt,gt.depth);return ft==null?Ln(gt):ui(gt,typeof ft=="number"?[ft,ft,ft,ft]:ft)}function ot(gt){return ui(gt,Qe)}var yt;return Q=(V=Qe)==null?Ln:(yt=typeof Qe)=="function"?et:(yt==="number"&&(Qe=[Qe,Qe,Qe,Qe]),ot),mt},mt.round=function(Qe){return arguments.length?(A=Qe?Math.round:Number,mt):A!=Number},mt.sticky=function(Qe){return arguments.length?(ee=Qe,he=null,mt):ee},mt.ratio=function(Qe){return arguments.length?(ge=Qe,mt):ge},mt.mode=function(Qe){return arguments.length?(se=Qe+"",mt):se},Xa(mt,a)};function Ln(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function ui(a,A){var D=a.x+A[3],V=a.y+A[0],Q=a.dx-A[1]-A[3],ee=a.dy-A[0]-A[2];return Q<0&&(D+=Q/2,Q=0),ee<0&&(V+=ee/2,ee=0),{x:D,y:V,dx:Q,dy:ee}}s.random={normal:function(a,A){var D=arguments.length;return D<2&&(A=1),D<1&&(a=0),function(){var V,Q,ee;do V=Math.random()*2-1,Q=Math.random()*2-1,ee=V*V+Q*Q;while(!ee||ee>1);return a+A*V*Math.sqrt(-2*Math.log(ee)/ee)}},logNormal:function(){var a=s.random.normal.apply(s,arguments);return function(){return Math.exp(a())}},bates:function(a){var A=s.random.irwinHall(a);return function(){return A()/a}},irwinHall:function(a){return function(){for(var A=0,D=0;D<a;D++)A+=Math.random();return A}}},s.scale={};function rn(a){var A=a[0],D=a[a.length-1];return A<D?[A,D]:[D,A]}function an(a){return a.rangeExtent?a.rangeExtent():rn(a.range())}function jo(a,A,D,V){var Q=D(a[0],a[1]),ee=V(A[0],A[1]);return function(he){return ee(Q(he))}}function Sn(a,A){var D=0,V=a.length-1,Q=a[D],ee=a[V],he;return ee<Q&&(he=D,D=V,V=he,he=Q,Q=ee,ee=he),a[D]=A.floor(Q),a[V]=A.ceil(ee),a}function ci(a){return a?{floor:function(A){return Math.floor(A/a)*a},ceil:function(A){return Math.ceil(A/a)*a}}:qo}var qo={floor:F,ceil:F};function el(a,A,D,V){var Q=[],ee=[],he=0,se=Math.min(a.length,A.length)-1;for(a[se]<a[0]&&(a=a.slice().reverse(),A=A.slice().reverse());++he<=se;)Q.push(D(a[he-1],a[he])),ee.push(V(A[he-1],A[he]));return function(ge){var Pe=s.bisect(a,ge,1,se)-1;return ee[Pe](Q[Pe](ge))}}s.scale.linear=function(){return vi([0,1],[0,1],Ea,!1)};function vi(a,A,D,V){var Q,ee;function he(){var ge=Math.min(a.length,A.length)>2?el:jo,Pe=V?bo:xo;return Q=ge(a,A,Pe,D),ee=ge(A,a,Pe,Ea),se}function se(ge){return Q(ge)}return se.invert=function(ge){return ee(ge)},se.domain=function(ge){return arguments.length?(a=ge.map(Number),he()):a},se.range=function(ge){return arguments.length?(A=ge,he()):A},se.rangeRound=function(ge){return se.range(ge).interpolate(Xn)},se.clamp=function(ge){return arguments.length?(V=ge,he()):V},se.interpolate=function(ge){return arguments.length?(D=ge,he()):D},se.ticks=function(ge){return kn(a,ge)},se.tickFormat=function(ge,Pe){return d3_scale_linearTickFormat(a,ge,Pe)},se.nice=function(ge){return hi(a,ge),he()},se.copy=function(){return vi(a,A,D,V)},he()}function di(a,A){return s.rebind(a,A,"range","rangeRound","interpolate","clamp")}function hi(a,A){return Sn(a,ci(Cn(a,A)[2])),Sn(a,ci(Cn(a,A)[2])),a}function Cn(a,A){A==null&&(A=10);var D=rn(a),V=D[1]-D[0],Q=Math.pow(10,Math.floor(Math.log(V/A)/Math.LN10)),ee=A/V*Q;return ee<=.15?Q*=10:ee<=.35?Q*=5:ee<=.75&&(Q*=2),D[0]=Math.ceil(D[0]/Q)*Q,D[1]=Math.floor(D[1]/Q)*Q+Q*.5,D[2]=Q,D}function kn(a,A){return s.range.apply(s,Cn(a,A))}s.scale.log=function(){return mi(s.scale.linear().domain([0,1]),10,!0,[1,10])};function mi(a,A,D,V){function Q(se){return(D?Math.log(se<0?0:se):-Math.log(se>0?0:-se))/Math.log(A)}function ee(se){return D?Math.pow(A,se):-Math.pow(A,-se)}function he(se){return a(Q(se))}return he.invert=function(se){return ee(a.invert(se))},he.domain=function(se){return arguments.length?(D=se[0]>=0,a.domain((V=se.map(Number)).map(Q)),he):V},he.base=function(se){return arguments.length?(A=+se,a.domain(V.map(Q)),he):A},he.nice=function(){var se=Sn(V.map(Q),D?Math:tl);return a.domain(se),V=se.map(ee),he},he.ticks=function(){var se=rn(V),ge=[],Pe=se[0],Ne=se[1],Ze=Math.floor(Q(Pe)),Xe=Math.ceil(Q(Ne)),vt=A%1?2:A;if(isFinite(Xe-Ze)){if(D){for(;Ze<Xe;Ze++)for(var mt=1;mt<vt;mt++)ge.push(ee(Ze)*mt);ge.push(ee(Ze))}else for(ge.push(ee(Ze));Ze++<Xe;)for(var mt=vt-1;mt>0;mt--)ge.push(ee(Ze)*mt);for(Ze=0;ge[Ze]<Pe;Ze++);for(Xe=ge.length;ge[Xe-1]>Ne;Xe--);ge=ge.slice(Ze,Xe)}return ge},he.copy=function(){return mi(a.copy(),A,D,V)},di(he,a)}var tl={floor:function(a){return-Math.ceil(-a)},ceil:function(a){return-Math.floor(-a)}};s.scale.pow=function(){return yi(s.scale.linear(),1,[0,1])};function yi(a,A,D){var V=nn(A),Q=nn(1/A);function ee(he){return a(V(he))}return ee.invert=function(he){return Q(a.invert(he))},ee.domain=function(he){return arguments.length?(a.domain((D=he.map(Number)).map(V)),ee):D},ee.ticks=function(he){return kn(D,he)},ee.tickFormat=function(he,se){return d3_scale_linearTickFormat(D,he,se)},ee.nice=function(he){return ee.domain(hi(D,he))},ee.exponent=function(he){return arguments.length?(V=nn(A=he),Q=nn(1/A),a.domain(D.map(V)),ee):A},ee.copy=function(){return yi(a.copy(),A,D)},di(ee,a)}function nn(a){return function(A){return A<0?-Math.pow(-A,a):Math.pow(A,a)}}s.scale.sqrt=function(){return s.scale.pow().exponent(.5)},s.scale.ordinal=function(){return pi([],{t:"range",a:[[]]})};function pi(a,A){var D,V,Q;function ee(se){return V[((D.get(se)||(A.t==="range"?D.set(se,a.push(se)):NaN))-1)%V.length]}function he(se,ge){return s.range(a.length).map(function(Pe){return se+ge*Pe})}return ee.domain=function(se){if(!arguments.length)return a;a=[],D=new _;for(var ge=-1,Pe=se.length,Ne;++ge<Pe;)D.has(Ne=se[ge])||D.set(Ne,a.push(Ne));return ee[A.t].apply(ee,A.a)},ee.range=function(se){return arguments.length?(V=se,Q=0,A={t:"range",a:arguments},ee):V},ee.rangePoints=function(se,ge){arguments.length<2&&(ge=0);var Pe=se[0],Ne=se[1],Ze=a.length<2?(Pe=(Pe+Ne)/2,0):(Ne-Pe)/(a.length-1+ge);return V=he(Pe+Ze*ge/2,Ze),Q=0,A={t:"rangePoints",a:arguments},ee},ee.rangeRoundPoints=function(se,ge){arguments.length<2&&(ge=0);var Pe=se[0],Ne=se[1],Ze=a.length<2?(Pe=Ne=Math.round((Pe+Ne)/2),0):(Ne-Pe)/(a.length-1+ge)|0;return V=he(Pe+Math.round(Ze*ge/2+(Ne-Pe-(a.length-1+ge)*Ze)/2),Ze),Q=0,A={t:"rangeRoundPoints",a:arguments},ee},ee.rangeBands=function(se,ge,Pe){arguments.length<2&&(ge=0),arguments.length<3&&(Pe=ge);var Ne=se[1]<se[0],Ze=se[Ne-0],Xe=se[1-Ne],vt=(Xe-Ze)/(a.length-ge+2*Pe);return V=he(Ze+vt*Pe,vt),Ne&&V.reverse(),Q=vt*(1-ge),A={t:"rangeBands",a:arguments},ee},ee.rangeRoundBands=function(se,ge,Pe){arguments.length<2&&(ge=0),arguments.length<3&&(Pe=ge);var Ne=se[1]<se[0],Ze=se[Ne-0],Xe=se[1-Ne],vt=Math.floor((Xe-Ze)/(a.length-ge+2*Pe));return V=he(Ze+Math.round((Xe-Ze-(a.length-ge)*vt)/2),vt),Ne&&V.reverse(),Q=Math.round(vt*(1-ge)),A={t:"rangeRoundBands",a:arguments},ee},ee.rangeBand=function(){return Q},ee.rangeExtent=function(){return rn(A.a[0])},ee.copy=function(){return pi(a,A)},ee.domain(a)}s.scale.category10=function(){return s.scale.ordinal().range(rl)},s.scale.category20=function(){return s.scale.ordinal().range(al)},s.scale.category20b=function(){return s.scale.ordinal().range(nl)},s.scale.category20c=function(){return s.scale.ordinal().range(il)};var rl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Be),al=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Be),nl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Be),il=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Be);s.scale.quantile=function(){return gi([],[])};function gi(a,A){var D;function V(){var ee=0,he=A.length;for(D=[];++ee<he;)D[ee-1]=s.quantile(a,ee/he);return Q}function Q(ee){if(!isNaN(ee=+ee))return A[s.bisect(D,ee)]}return Q.domain=function(ee){return arguments.length?(a=ee.map(T).filter(x).sort(d),V()):a},Q.range=function(ee){return arguments.length?(A=ee,V()):A},Q.quantiles=function(){return D},Q.invertExtent=function(ee){return ee=A.indexOf(ee),ee<0?[NaN,NaN]:[ee>0?D[ee-1]:a[0],ee<D.length?D[ee]:a[a.length-1]]},Q.copy=function(){return gi(a,A)},V()}s.scale.quantize=function(){return xi(0,1,[0,1])};function xi(a,A,D){var V,Q;function ee(se){return D[Math.max(0,Math.min(Q,Math.floor(V*(se-a))))]}function he(){return V=D.length/(A-a),Q=D.length-1,ee}return ee.domain=function(se){return arguments.length?(a=+se[0],A=+se[se.length-1],he()):[a,A]},ee.range=function(se){return arguments.length?(D=se,he()):D},ee.invertExtent=function(se){return se=D.indexOf(se),se=se<0?NaN:se/V+a,[se,se+1/V]},ee.copy=function(){return xi(a,A,D)},he()}s.scale.threshold=function(){return bi([.5],[0,1])};function bi(a,A){function D(V){if(V<=V)return A[s.bisect(a,V)]}return D.domain=function(V){return arguments.length?(a=V,D):a},D.range=function(V){return arguments.length?(A=V,D):A},D.invertExtent=function(V){return V=A.indexOf(V),[a[V-1],a[V]]},D.copy=function(){return bi(a,A)},D}s.scale.identity=function(){return Ti([0,1])};function Ti(a){function A(D){return+D}return A.invert=A,A.domain=A.range=function(D){return arguments.length?(a=D.map(A),A):a},A.ticks=function(D){return kn(a,D)},A.tickFormat=function(D,V){return d3_scale_linearTickFormat(a,D,V)},A.copy=function(){return Ti(a)},A}s.svg={};function ol(){return 0}s.svg.arc=function(){var a=ll,A=sl,D=ol,V=on,Q=Mi,ee=Ai,he=fl;function se(){var Pe=Math.max(0,+a.apply(this,arguments)),Ne=Math.max(0,+A.apply(this,arguments)),Ze=Q.apply(this,arguments)-Se,Xe=ee.apply(this,arguments)-Se,vt=Math.abs(Xe-Ze),mt=Ze>Xe?0:1;if(Ne<Pe&&(Qe=Ne,Ne=Pe,Pe=Qe),vt>=we)return ge(Ne,mt)+(Pe?ge(Pe,1-mt):"")+"Z";var Qe,et,ot,yt,gt=0,ft=0,Nt,Jt,qt,Qt,ar,nr,cr,ir,ur=[];if((yt=(+he.apply(this,arguments)||0)/2)&&(ot=V===on?Math.sqrt(Pe*Pe+Ne*Ne):+V.apply(this,arguments),mt||(ft*=-1),Ne&&(ft=lt(ot/Ne*Math.sin(yt))),Pe&&(gt=lt(ot/Pe*Math.sin(yt)))),Ne){Nt=Ne*Math.cos(Ze+ft),Jt=Ne*Math.sin(Ze+ft),qt=Ne*Math.cos(Xe-ft),Qt=Ne*Math.sin(Xe-ft);var pr=Math.abs(Xe-Ze-2*ft)<=le?0:1;if(ft&&ln(Nt,Jt,qt,Qt)===mt^pr){var kr=(Ze+Xe)/2;Nt=Ne*Math.cos(kr),Jt=Ne*Math.sin(kr),qt=Qt=null}}else Nt=Jt=0;if(Pe){ar=Pe*Math.cos(Xe-gt),nr=Pe*Math.sin(Xe-gt),cr=Pe*Math.cos(Ze+gt),ir=Pe*Math.sin(Ze+gt);var xr=Math.abs(Ze-Xe+2*gt)<=le?0:1;if(gt&&ln(ar,nr,cr,ir)===1-mt^xr){var Zt=(Ze+Xe)/2;ar=Pe*Math.cos(Zt),nr=Pe*Math.sin(Zt),cr=ir=null}}else ar=nr=0;if(vt>Le&&(Qe=Math.min(Math.abs(Ne-Pe)/2,+D.apply(this,arguments)))>.001){et=Pe<Ne^mt?0:1;var vr=Qe,dr=Qe;if(vt<le){var gr=cr==null?[ar,nr]:qt==null?[Nt,Jt]:Lr([Nt,Jt],[cr,ir],[qt,Qt],[ar,nr]),Sr=Nt-gr[0],Er=Jt-gr[1],Hr=qt-gr[0],Gr=Qt-gr[1],Wr=1/Math.sin(Math.acos((Sr*Hr+Er*Gr)/(Math.sqrt(Sr*Sr+Er*Er)*Math.sqrt(Hr*Hr+Gr*Gr)))/2),Vr=Math.sqrt(gr[0]*gr[0]+gr[1]*gr[1]);dr=Math.min(Qe,(Pe-Vr)/(Wr-1)),vr=Math.min(Qe,(Ne-Vr)/(Wr+1))}if(qt!=null){var Kr=sn(cr==null?[ar,nr]:[cr,ir],[Nt,Jt],Ne,vr,mt),Yr=sn([qt,Qt],[ar,nr],Ne,vr,mt);Qe===vr?ur.push("M",Kr[0],"A",vr,",",vr," 0 0,",et," ",Kr[1],"A",Ne,",",Ne," 0 ",1-mt^ln(Kr[1][0],Kr[1][1],Yr[1][0],Yr[1][1]),",",mt," ",Yr[1],"A",vr,",",vr," 0 0,",et," ",Yr[0]):ur.push("M",Kr[0],"A",vr,",",vr," 0 1,",et," ",Yr[0])}else ur.push("M",Nt,",",Jt);if(cr!=null){var Qr=sn([Nt,Jt],[cr,ir],Pe,-dr,mt),Fa=sn([ar,nr],qt==null?[Nt,Jt]:[qt,Qt],Pe,-dr,mt);Qe===dr?ur.push("L",Fa[0],"A",dr,",",dr," 0 0,",et," ",Fa[1],"A",Pe,",",Pe," 0 ",mt^ln(Fa[1][0],Fa[1][1],Qr[1][0],Qr[1][1]),",",1-mt," ",Qr[1],"A",dr,",",dr," 0 0,",et," ",Qr[0]):ur.push("L",Fa[0],"A",dr,",",dr," 0 0,",et," ",Qr[0])}else ur.push("L",ar,",",nr)}else ur.push("M",Nt,",",Jt),qt!=null&&ur.push("A",Ne,",",Ne," 0 ",pr,",",mt," ",qt,",",Qt),ur.push("L",ar,",",nr),cr!=null&&ur.push("A",Pe,",",Pe," 0 ",xr,",",1-mt," ",cr,",",ir);return ur.push("Z"),ur.join("")}function ge(Pe,Ne){return"M0,"+Pe+"A"+Pe+","+Pe+" 0 1,"+Ne+" 0,"+-Pe+"A"+Pe+","+Pe+" 0 1,"+Ne+" 0,"+Pe}return se.innerRadius=function(Pe){return arguments.length?(a=Lt(Pe),se):a},se.outerRadius=function(Pe){return arguments.length?(A=Lt(Pe),se):A},se.cornerRadius=function(Pe){return arguments.length?(D=Lt(Pe),se):D},se.padRadius=function(Pe){return arguments.length?(V=Pe==on?on:Lt(Pe),se):V},se.startAngle=function(Pe){return arguments.length?(Q=Lt(Pe),se):Q},se.endAngle=function(Pe){return arguments.length?(ee=Lt(Pe),se):ee},se.padAngle=function(Pe){return arguments.length?(he=Lt(Pe),se):he},se.centroid=function(){var Pe=(+a.apply(this,arguments)+ +A.apply(this,arguments))/2,Ne=(+Q.apply(this,arguments)+ +ee.apply(this,arguments))/2-Se;return[Math.cos(Ne)*Pe,Math.sin(Ne)*Pe]},se};var on="auto";function ll(a){return a.innerRadius}function sl(a){return a.outerRadius}function Mi(a){return a.startAngle}function Ai(a){return a.endAngle}function fl(a){return a&&a.padAngle}function ln(a,A,D,V){return(a-D)*A-(A-V)*a>0?0:1}function sn(a,A,D,V,Q){var ee=a[0]-A[0],he=a[1]-A[1],se=(Q?V:-V)/Math.sqrt(ee*ee+he*he),ge=se*he,Pe=-se*ee,Ne=a[0]+ge,Ze=a[1]+Pe,Xe=A[0]+ge,vt=A[1]+Pe,mt=(Ne+Xe)/2,Qe=(Ze+vt)/2,et=Xe-Ne,ot=vt-Ze,yt=et*et+ot*ot,gt=D-V,ft=Ne*vt-Xe*Ze,Nt=(ot<0?-1:1)*Math.sqrt(Math.max(0,gt*gt*yt-ft*ft)),Jt=(ft*ot-et*Nt)/yt,qt=(-ft*et-ot*Nt)/yt,Qt=(ft*ot+et*Nt)/yt,ar=(-ft*et+ot*Nt)/yt,nr=Jt-mt,cr=qt-Qe,ir=Qt-mt,ur=ar-Qe;return nr*nr+cr*cr>ir*ir+ur*ur&&(Jt=Qt,qt=ar),[[Jt-ge,qt-Pe],[Jt*D/gt,qt*D/gt]]}function wi(){return!0}function Li(a){var A=Mr,D=Ar,V=wi,Q=fa,ee=Q.key,he=.7;function se(ge){var Pe=[],Ne=[],Ze=-1,Xe=ge.length,vt,mt=Lt(A),Qe=Lt(D);function et(){Pe.push("M",Q(a(Ne),he))}for(;++Ze<Xe;)V.call(this,vt=ge[Ze],Ze)?Ne.push([+mt.call(this,vt,Ze),+Qe.call(this,vt,Ze)]):Ne.length&&(et(),Ne=[]);return Ne.length&&et(),Pe.length?Pe.join(""):null}return se.x=function(ge){return arguments.length?(A=ge,se):A},se.y=function(ge){return arguments.length?(D=ge,se):D},se.defined=function(ge){return arguments.length?(V=ge,se):V},se.interpolate=function(ge){return arguments.length?(typeof ge=="function"?ee=Q=ge:ee=(Q=Dn.get(ge)||fa).key,se):ee},se.tension=function(ge){return arguments.length?(he=ge,se):he},se}s.svg.line=function(){return Li(F)};var Dn=s.map({linear:fa,"linear-closed":Si,step:ul,"step-before":Pn,"step-after":Rn,basis:Ci,"basis-open":hl,"basis-closed":ml,bundle:yl,cardinal:dl,"cardinal-open":cl,"cardinal-closed":vl,monotone:xl});Dn.forEach(function(a,A){A.key=a,A.closed=/-closed$/.test(a)});function fa(a){return a.length>1?a.join("L"):a+"Z"}function Si(a){return a.join("L")+"Z"}function ul(a){for(var A=0,D=a.length,V=a[0],Q=[V[0],",",V[1]];++A<D;)Q.push("H",(V[0]+(V=a[A])[0])/2,"V",V[1]);return D>1&&Q.push("H",V[0]),Q.join("")}function Pn(a){for(var A=0,D=a.length,V=a[0],Q=[V[0],",",V[1]];++A<D;)Q.push("V",(V=a[A])[1],"H",V[0]);return Q.join("")}function Rn(a){for(var A=0,D=a.length,V=a[0],Q=[V[0],",",V[1]];++A<D;)Q.push("H",(V=a[A])[0],"V",V[1]);return Q.join("")}function cl(a,A){return a.length<4?fa(a):a[1]+fn(a.slice(1,-1),En(a,A))}function vl(a,A){return a.length<3?Si(a):a[0]+fn((a.push(a[0]),a),En([a[a.length-2]].concat(a,[a[1]]),A))}function dl(a,A){return a.length<3?fa(a):a[0]+fn(a,En(a,A))}function fn(a,A){if(A.length<1||a.length!=A.length&&a.length!=A.length+2)return fa(a);var D=a.length!=A.length,V="",Q=a[0],ee=a[1],he=A[0],se=he,ge=1;if(D&&(V+="Q"+(ee[0]-he[0]*2/3)+","+(ee[1]-he[1]*2/3)+","+ee[0]+","+ee[1],Q=a[1],ge=2),A.length>1){se=A[1],ee=a[ge],ge++,V+="C"+(Q[0]+he[0])+","+(Q[1]+he[1])+","+(ee[0]-se[0])+","+(ee[1]-se[1])+","+ee[0]+","+ee[1];for(var Pe=2;Pe<A.length;Pe++,ge++)ee=a[ge],se=A[Pe],V+="S"+(ee[0]-se[0])+","+(ee[1]-se[1])+","+ee[0]+","+ee[1]}if(D){var Ne=a[ge];V+="Q"+(ee[0]+se[0]*2/3)+","+(ee[1]+se[1]*2/3)+","+Ne[0]+","+Ne[1]}return V}function En(a,A){for(var D=[],V=(1-A)/2,Q,ee=a[0],he=a[1],se=1,ge=a.length;++se<ge;)Q=ee,ee=he,he=a[se],D.push([V*(he[0]-Q[0]),V*(he[1]-Q[1])]);return D}function Ci(a){if(a.length<3)return fa(a);var A=1,D=a.length,V=a[0],Q=V[0],ee=V[1],he=[Q,Q,Q,(V=a[1])[0]],se=[ee,ee,ee,V[1]],ge=[Q,",",ee,"L",na(Ca,he),",",na(Ca,se)];for(a.push(a[D-1]);++A<=D;)V=a[A],he.shift(),he.push(V[0]),se.shift(),se.push(V[1]),Nn(ge,he,se);return a.pop(),ge.push("L",V),ge.join("")}function hl(a){if(a.length<4)return fa(a);for(var A=[],D=-1,V=a.length,Q,ee=[0],he=[0];++D<3;)Q=a[D],ee.push(Q[0]),he.push(Q[1]);for(A.push(na(Ca,ee)+","+na(Ca,he)),--D;++D<V;)Q=a[D],ee.shift(),ee.push(Q[0]),he.shift(),he.push(Q[1]),Nn(A,ee,he);return A.join("")}function ml(a){for(var A,D=-1,V=a.length,Q=V+4,ee,he=[],se=[];++D<4;)ee=a[D%V],he.push(ee[0]),se.push(ee[1]);for(A=[na(Ca,he),",",na(Ca,se)],--D;++D<Q;)ee=a[D%V],he.shift(),he.push(ee[0]),se.shift(),se.push(ee[1]),Nn(A,he,se);return A.join("")}function yl(a,A){var D=a.length-1;if(D)for(var V=a[0][0],Q=a[0][1],ee=a[D][0]-V,he=a[D][1]-Q,se=-1,ge,Pe;++se<=D;)ge=a[se],Pe=se/D,ge[0]=A*ge[0]+(1-A)*(V+Pe*ee),ge[1]=A*ge[1]+(1-A)*(Q+Pe*he);return Ci(a)}function na(a,A){return a[0]*A[0]+a[1]*A[1]+a[2]*A[2]+a[3]*A[3]}var ki=[0,2/3,1/3,0],Di=[0,1/3,2/3,0],Ca=[0,1/6,2/3,1/6];function Nn(a,A,D){a.push("C",na(ki,A),",",na(ki,D),",",na(Di,A),",",na(Di,D),",",na(Ca,A),",",na(Ca,D))}function Fn(a,A){return(A[1]-a[1])/(A[0]-a[0])}function pl(a){for(var A=0,D=a.length-1,V=[],Q=a[0],ee=a[1],he=V[0]=Fn(Q,ee);++A<D;)V[A]=(he+(he=Fn(Q=ee,ee=a[A+1])))/2;return V[A]=he,V}function gl(a){for(var A=[],D,V,Q,ee,he=pl(a),se=-1,ge=a.length-1;++se<ge;)D=Fn(a[se],a[se+1]),v(D)<Le?he[se]=he[se+1]=0:(V=he[se]/D,Q=he[se+1]/D,ee=V*V+Q*Q,ee>9&&(ee=D*3/Math.sqrt(ee),he[se]=ee*V,he[se+1]=ee*Q));for(se=-1;++se<=ge;)ee=(a[Math.min(ge,se+1)][0]-a[Math.max(0,se-1)][0])/(6*(1+he[se]*he[se])),A.push([ee||0,he[se]*ee||0]);return A}function xl(a){return a.length<3?fa(a):a[0]+fn(a,gl(a))}s.svg.line.radial=function(){var a=Li(Pi);return a.radius=a.x,delete a.x,a.angle=a.y,delete a.y,a};function Pi(a){for(var A,D=-1,V=a.length,Q,ee;++D<V;)A=a[D],Q=A[0],ee=A[1]-Se,A[0]=Q*Math.cos(ee),A[1]=Q*Math.sin(ee);return a}function Ri(a){var A=Mr,D=Mr,V=0,Q=Ar,ee=wi,he=fa,se=he.key,ge=he,Pe="L",Ne=.7;function Ze(Xe){var vt=[],mt=[],Qe=[],et=-1,ot=Xe.length,yt,gt=Lt(A),ft=Lt(V),Nt=A===D?function(){return qt}:Lt(D),Jt=V===Q?function(){return Qt}:Lt(Q),qt,Qt;function ar(){vt.push("M",he(a(Qe),Ne),Pe,ge(a(mt.reverse()),Ne),"Z")}for(;++et<ot;)ee.call(this,yt=Xe[et],et)?(mt.push([qt=+gt.call(this,yt,et),Qt=+ft.call(this,yt,et)]),Qe.push([+Nt.call(this,yt,et),+Jt.call(this,yt,et)])):mt.length&&(ar(),mt=[],Qe=[]);return mt.length&&ar(),vt.length?vt.join(""):null}return Ze.x=function(Xe){return arguments.length?(A=D=Xe,Ze):D},Ze.x0=function(Xe){return arguments.length?(A=Xe,Ze):A},Ze.x1=function(Xe){return arguments.length?(D=Xe,Ze):D},Ze.y=function(Xe){return arguments.length?(V=Q=Xe,Ze):Q},Ze.y0=function(Xe){return arguments.length?(V=Xe,Ze):V},Ze.y1=function(Xe){return arguments.length?(Q=Xe,Ze):Q},Ze.defined=function(Xe){return arguments.length?(ee=Xe,Ze):ee},Ze.interpolate=function(Xe){return arguments.length?(typeof Xe=="function"?se=he=Xe:se=(he=Dn.get(Xe)||fa).key,ge=he.reverse||he,Pe=he.closed?"M":"L",Ze):se},Ze.tension=function(Xe){return arguments.length?(Ne=Xe,Ze):Ne},Ze}Pn.reverse=Rn,Rn.reverse=Pn,s.svg.area=function(){return Ri(F)},s.svg.area.radial=function(){var a=Ri(Pi);return a.radius=a.x,delete a.x,a.innerRadius=a.x0,delete a.x0,a.outerRadius=a.x1,delete a.x1,a.angle=a.y,delete a.y,a.startAngle=a.y0,delete a.y0,a.endAngle=a.y1,delete a.y1,a};function Ei(a){return a.source}function Ni(a){return a.target}s.svg.chord=function(){var a=Ei,A=Ni,D=bl,V=Mi,Q=Ai;function ee(Ne,Ze){var Xe=he(this,a,Ne,Ze),vt=he(this,A,Ne,Ze);return"M"+Xe.p0+ge(Xe.r,Xe.p1,Xe.a1-Xe.a0)+(se(Xe,vt)?Pe(Xe.r,Xe.p1,Xe.r,Xe.p0):Pe(Xe.r,Xe.p1,vt.r,vt.p0)+ge(vt.r,vt.p1,vt.a1-vt.a0)+Pe(vt.r,vt.p1,Xe.r,Xe.p0))+"Z"}function he(Ne,Ze,Xe,vt){var mt=Ze.call(Ne,Xe,vt),Qe=D.call(Ne,mt,vt),et=V.call(Ne,mt,vt)-Se,ot=Q.call(Ne,mt,vt)-Se;return{r:Qe,a0:et,a1:ot,p0:[Qe*Math.cos(et),Qe*Math.sin(et)],p1:[Qe*Math.cos(ot),Qe*Math.sin(ot)]}}function se(Ne,Ze){return Ne.a0==Ze.a0&&Ne.a1==Ze.a1}function ge(Ne,Ze,Xe){return"A"+Ne+","+Ne+" 0 "+ +(Xe>le)+",1 "+Ze}function Pe(Ne,Ze,Xe,vt){return"Q 0,0 "+vt}return ee.radius=function(Ne){return arguments.length?(D=Lt(Ne),ee):D},ee.source=function(Ne){return arguments.length?(a=Lt(Ne),ee):a},ee.target=function(Ne){return arguments.length?(A=Lt(Ne),ee):A},ee.startAngle=function(Ne){return arguments.length?(V=Lt(Ne),ee):V},ee.endAngle=function(Ne){return arguments.length?(Q=Lt(Ne),ee):Q},ee};function bl(a){return a.radius}s.svg.diagonal=function(){var a=Ei,A=Ni,D=Fi;function V(Q,ee){var he=a.call(this,Q,ee),se=A.call(this,Q,ee),ge=(he.y+se.y)/2,Pe=[he,{x:he.x,y:ge},{x:se.x,y:ge},se];return Pe=Pe.map(D),"M"+Pe[0]+"C"+Pe[1]+" "+Pe[2]+" "+Pe[3]}return V.source=function(Q){return arguments.length?(a=Lt(Q),V):a},V.target=function(Q){return arguments.length?(A=Lt(Q),V):A},V.projection=function(Q){return arguments.length?(D=Q,V):D},V};function Fi(a){return[a.x,a.y]}s.svg.diagonal.radial=function(){var a=s.svg.diagonal(),A=Fi,D=a.projection;return a.projection=function(V){return arguments.length?D(Tl(A=V)):A},a};function Tl(a){return function(){var A=a.apply(this,arguments),D=A[0],V=A[1]-Se;return[D*Math.cos(V),D*Math.sin(V)]}}s.svg.symbol=function(){var a=Al,A=Ml;function D(V,Q){return(Ii.get(a.call(this,V,Q))||zi)(A.call(this,V,Q))}return D.type=function(V){return arguments.length?(a=Lt(V),D):a},D.size=function(V){return arguments.length?(A=Lt(V),D):A},D};function Ml(){return 64}function Al(){return"circle"}function zi(a){var A=Math.sqrt(a/le);return"M0,"+A+"A"+A+","+A+" 0 1,1 0,"+-A+"A"+A+","+A+" 0 1,1 0,"+A+"Z"}var Ii=s.map({circle:zi,cross:function(a){var A=Math.sqrt(a/5)/2;return"M"+-3*A+","+-A+"H"+-A+"V"+-3*A+"H"+A+"V"+-A+"H"+3*A+"V"+A+"H"+A+"V"+3*A+"H"+-A+"V"+A+"H"+-3*A+"Z"},diamond:function(a){var A=Math.sqrt(a/(2*_i)),D=A*_i;return"M0,"+-A+"L"+D+",0 0,"+A+" "+-D+",0Z"},square:function(a){var A=Math.sqrt(a)/2;return"M"+-A+","+-A+"L"+A+","+-A+" "+A+","+A+" "+-A+","+A+"Z"},"triangle-down":function(a){var A=Math.sqrt(a/un),D=A*un/2;return"M0,"+D+"L"+A+","+-D+" "+-A+","+-D+"Z"},"triangle-up":function(a){var A=Math.sqrt(a/un),D=A*un/2;return"M0,"+-D+"L"+A+","+D+" "+-A+","+D+"Z"}});s.svg.symbolTypes=Ii.keys();var un=Math.sqrt(3),_i=Math.tan(30*ze);C.transition=function(a){for(var A=Na||++Oi,D=In(a),V=[],Q,ee,he=vn||{time:Date.now(),ease:to,delay:0,duration:250},se=-1,ge=this.length;++se<ge;){V.push(Q=[]);for(var Pe=this[se],Ne=-1,Ze=Pe.length;++Ne<Ze;)(ee=Pe[Ne])&&dn(ee,Ne,D,A,he),Q.push(ee)}return Ka(V,D,A)},C.interrupt=function(a){return this.each(a==null?cn:Hi(In(a)))};var cn=Hi(In());function Hi(a){return function(){var A,D,V;(A=this[a])&&(V=A[D=A.active])&&(V.timer.c=null,V.timer.t=NaN,--A.count?delete A[D]:delete this[a],A.active+=.5,V.event&&V.event.interrupt.call(this,this.__data__,V.index))}}function Ka(a,A,D){return H(a,Rr),a.namespace=A,a.id=D,a}var Rr=[],Oi=0,Na,vn;Rr.call=C.call,Rr.empty=C.empty,Rr.node=C.node,Rr.size=C.size,s.transition=function(a,A){return a&&a.transition?Na?a.transition(A):a:s.selection().transition(a)},s.transition.prototype=Rr,Rr.select=function(a){var A=this.id,D=this.namespace,V=[],Q,ee,he;a=K(a);for(var se=-1,ge=this.length;++se<ge;){V.push(Q=[]);for(var Pe=this[se],Ne=-1,Ze=Pe.length;++Ne<Ze;)(he=Pe[Ne])&&(ee=a.call(he,he.__data__,Ne,se))?("__data__"in he&&(ee.__data__=he.__data__),dn(ee,Ne,D,A,he[D][A]),Q.push(ee)):Q.push(null)}return Ka(V,D,A)},Rr.selectAll=function(a){var A=this.id,D=this.namespace,V=[],Q,ee,he,se,ge;a=P(a);for(var Pe=-1,Ne=this.length;++Pe<Ne;)for(var Ze=this[Pe],Xe=-1,vt=Ze.length;++Xe<vt;)if(he=Ze[Xe]){ge=he[D][A],ee=a.call(he,he.__data__,Xe,Pe),V.push(Q=[]);for(var mt=-1,Qe=ee.length;++mt<Qe;)(se=ee[mt])&&dn(se,mt,D,A,ge),Q.push(se)}return Ka(V,D,A)},Rr.filter=function(a){var A=[],D,V,Q;typeof a!="function"&&(a=Ke(a));for(var ee=0,he=this.length;ee<he;ee++){A.push(D=[]);for(var V=this[ee],se=0,ge=V.length;se<ge;se++)(Q=V[se])&&a.call(Q,Q.__data__,se,ee)&&D.push(Q)}return Ka(A,this.namespace,this.id)},Rr.tween=function(a,A){var D=this.id,V=this.namespace;return arguments.length<2?this.node()[V][D].tween.get(a):Ve(this,A==null?function(Q){Q[V][D].tween.remove(a)}:function(Q){Q[V][D].tween.set(a,A)})};function zn(a,A,D,V){var Q=a.id,ee=a.namespace;return Ve(a,typeof D=="function"?function(he,se,ge){he[ee][Q].tween.set(A,V(D.call(he,he.__data__,se,ge)))}:(D=V(D),function(he){he[ee][Q].tween.set(A,D)}))}Rr.attr=function(a,A){if(arguments.length<2){for(A in a)this.attr(A,a[A]);return this}var D=a=="transform"?$n:Ea,V=s.ns.qualify(a);function Q(){this.removeAttribute(V)}function ee(){this.removeAttributeNS(V.space,V.local)}function he(ge){return ge==null?Q:(ge+="",function(){var Pe=this.getAttribute(V),Ne;return Pe!==ge&&(Ne=D(Pe,ge),function(Ze){this.setAttribute(V,Ne(Ze))})})}function se(ge){return ge==null?ee:(ge+="",function(){var Pe=this.getAttributeNS(V.space,V.local),Ne;return Pe!==ge&&(Ne=D(Pe,ge),function(Ze){this.setAttributeNS(V.space,V.local,Ne(Ze))})})}return zn(this,"attr."+a,A,V.local?se:he)},Rr.attrTween=function(a,A){var D=s.ns.qualify(a);function V(ee,he){var se=A.call(this,ee,he,this.getAttribute(D));return se&&function(ge){this.setAttribute(D,se(ge))}}function Q(ee,he){var se=A.call(this,ee,he,this.getAttributeNS(D.space,D.local));return se&&function(ge){this.setAttributeNS(D.space,D.local,se(ge))}}return this.tween("attr."+a,D.local?Q:V)},Rr.style=function(a,A,D){var V=arguments.length;if(V<3){if(typeof a!="string"){V<2&&(A="");for(D in a)this.style(D,a[D],A);return this}D=""}function Q(){this.style.removeProperty(a)}function ee(he){return he==null?Q:(he+="",function(){var se=n(this).getComputedStyle(this,null).getPropertyValue(a),ge;return se!==he&&(ge=Ea(se,he),function(Pe){this.style.setProperty(a,ge(Pe),D)})})}return zn(this,"style."+a,A,ee)},Rr.styleTween=function(a,A,D){arguments.length<3&&(D="");function V(Q,ee){var he=A.call(this,Q,ee,n(this).getComputedStyle(this,null).getPropertyValue(a));return he&&function(se){this.style.setProperty(a,he(se),D)}}return this.tween("style."+a,V)},Rr.text=function(a){return zn(this,"text",a,wl)};function wl(a){return a==null&&(a=""),function(){this.textContent=a}}Rr.remove=function(){var a=this.namespace;return this.each("end.transition",function(){var A;this[a].count<2&&(A=this.parentNode)&&A.removeChild(this)})},Rr.ease=function(a){var A=this.id,D=this.namespace;return arguments.length<1?this.node()[D][A].ease:(typeof a!="function"&&(a=s.ease.apply(s,arguments)),Ve(this,function(V){V[D][A].ease=a}))},Rr.delay=function(a){var A=this.id,D=this.namespace;return arguments.length<1?this.node()[D][A].delay:Ve(this,typeof a=="function"?function(V,Q,ee){V[D][A].delay=+a.call(V,V.__data__,Q,ee)}:(a=+a,function(V){V[D][A].delay=a}))},Rr.duration=function(a){var A=this.id,D=this.namespace;return arguments.length<1?this.node()[D][A].duration:Ve(this,typeof a=="function"?function(V,Q,ee){V[D][A].duration=Math.max(1,a.call(V,V.__data__,Q,ee))}:(a=Math.max(1,a),function(V){V[D][A].duration=a}))},Rr.each=function(a,A){var D=this.id,V=this.namespace;if(arguments.length<2){var Q=vn,ee=Na;try{Na=D,Ve(this,function(he,se,ge){vn=he[V][D],a.call(he,he.__data__,se,ge)})}finally{vn=Q,Na=ee}}else Ve(this,function(he){var se=he[V][D];(se.event||(se.event=s.dispatch("start","end","interrupt"))).on(a,A)});return this},Rr.transition=function(){for(var a=this.id,A=++Oi,D=this.namespace,V=[],Q,ee,he,se,ge=0,Pe=this.length;ge<Pe;ge++){V.push(Q=[]);for(var ee=this[ge],Ne=0,Ze=ee.length;Ne<Ze;Ne++)(he=ee[Ne])&&(se=he[D][a],dn(he,Ne,D,A,{time:se.time,ease:se.ease,delay:se.delay+se.duration,duration:se.duration})),Q.push(he)}return Ka(V,D,A)};function In(a){return a==null?"__transition__":"__transition_"+a+"__"}function dn(a,A,D,V,Q){var ee=a[D]||(a[D]={active:0,count:0}),he=ee[V],se,ge,Pe,Ne,Ze;function Xe(Qe){var et=he.delay;if(ge.t=et+se,et<=Qe)return vt(Qe-et);ge.c=vt}function vt(Qe){var et=ee.active,ot=ee[et];ot&&(ot.timer.c=null,ot.timer.t=NaN,--ee.count,delete ee[et],ot.event&&ot.event.interrupt.call(a,a.__data__,ot.index));for(var yt in ee)if(+yt<V){var gt=ee[yt];gt.timer.c=null,gt.timer.t=NaN,--ee.count,delete ee[yt]}ge.c=mt,or(function(){return ge.c&&mt(Qe||1)&&(ge.c=null,ge.t=NaN),1},0,se),ee.active=V,he.event&&he.event.start.call(a,a.__data__,A),Ze=[],he.tween.forEach(function(ft,Nt){(Nt=Nt.call(a,a.__data__,A))&&Ze.push(Nt)}),Ne=he.ease,Pe=he.duration}function mt(Qe){for(var et=Qe/Pe,ot=Ne(et),yt=Ze.length;yt>0;)Ze[--yt].call(a,ot);if(et>=1)return he.event&&he.event.end.call(a,a.__data__,A),--ee.count?delete ee[V]:delete a[D],1}he||(se=Q.time,ge=or(Xe,0,se),he=ee[V]={tween:new _,time:se,timer:ge,delay:Q.delay,duration:Q.duration,ease:Q.ease,index:A},Q=null,++ee.count)}s.svg.axis=function(){var a=s.scale.linear(),A=Bi,D=6,V=6,Q=3,ee=[10],he=null,se;function ge(Pe){Pe.each(function(){var Ne=s.select(this),Ze=this.__chart__||a,Xe=this.__chart__=a.copy(),vt=he??(Xe.ticks?Xe.ticks.apply(Xe,ee):Xe.domain()),mt=se??(Xe.tickFormat?Xe.tickFormat.apply(Xe,ee):F),Qe=Ne.selectAll(".tick").data(vt,Xe),et=Qe.enter().insert("g",".domain").attr("class","tick").style("opacity",Le),ot=s.transition(Qe.exit()).style("opacity",Le).remove(),yt=s.transition(Qe.order()).style("opacity",1),gt=Math.max(D,0)+Q,ft,Nt=an(Xe),Jt=Ne.selectAll(".domain").data([0]),qt=(Jt.enter().append("path").attr("class","domain"),s.transition(Jt));et.append("line"),et.append("text");var Qt=et.select("line"),ar=yt.select("line"),nr=Qe.select("text").text(mt),cr=et.select("text"),ir=yt.select("text"),ur=A==="top"||A==="left"?-1:1,pr,kr,xr,Zt;if(A==="bottom"||A==="top"?(ft=Sl,pr="x",xr="y",kr="x2",Zt="y2",nr.attr("dy",ur<0?"0em":".71em").style("text-anchor","middle"),qt.attr("d","M"+Nt[0]+","+ur*V+"V0H"+Nt[1]+"V"+ur*V)):(ft=Cl,pr="y",xr="x",kr="y2",Zt="x2",nr.attr("dy",".32em").style("text-anchor",ur<0?"end":"start"),qt.attr("d","M"+ur*V+","+Nt[0]+"H0V"+Nt[1]+"H"+ur*V)),Qt.attr(Zt,ur*D),cr.attr(xr,ur*gt),ar.attr(kr,0).attr(Zt,ur*D),ir.attr(pr,0).attr(xr,ur*gt),Xe.rangeBand){var vr=Xe,dr=vr.rangeBand()/2;Ze=Xe=function(gr){return vr(gr)+dr}}else Ze.rangeBand?Ze=Xe:ot.call(ft,Xe,Ze);et.call(ft,Ze,Xe),yt.call(ft,Xe,Xe)})}return ge.scale=function(Pe){return arguments.length?(a=Pe,ge):a},ge.orient=function(Pe){return arguments.length?(A=Pe in Ll?Pe+"":Bi,ge):A},ge.ticks=function(){return arguments.length?(ee=r(arguments),ge):ee},ge.tickValues=function(Pe){return arguments.length?(he=Pe,ge):he},ge.tickFormat=function(Pe){return arguments.length?(se=Pe,ge):se},ge.tickSize=function(Pe){var Ne=arguments.length;return Ne?(D=+Pe,V=+arguments[Ne-1],ge):D},ge.innerTickSize=function(Pe){return arguments.length?(D=+Pe,ge):D},ge.outerTickSize=function(Pe){return arguments.length?(V=+Pe,ge):V},ge.tickPadding=function(Pe){return arguments.length?(Q=+Pe,ge):Q},ge.tickSubdivide=function(){return arguments.length&&ge},ge};var Bi="bottom",Ll={top:1,right:1,bottom:1,left:1};function Sl(a,A,D){a.attr("transform",function(V){var Q=A(V);return"translate("+(isFinite(Q)?Q:D(V))+",0)"})}function Cl(a,A,D){a.attr("transform",function(V){var Q=A(V);return"translate(0,"+(isFinite(Q)?Q:D(V))+")"})}s.svg.brush=function(){var a=oe(Ne,"brushstart","brush","brushend"),A=null,D=null,V=[0,0],Q=[0,0],ee,he,se=!0,ge=!0,Pe=_n[0];function Ne(Qe){Qe.each(function(){var et=s.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",mt).on("touchstart.brush",mt),ot=et.selectAll(".background").data([0]);ot.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),et.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var yt=et.selectAll(".resize").data(Pe,F);yt.exit().remove(),yt.enter().append("g").attr("class",function(Jt){return"resize "+Jt}).style("cursor",function(Jt){return kl[Jt]}).append("rect").attr("x",function(Jt){return/[ew]$/.test(Jt)?-3:null}).attr("y",function(Jt){return/^[ns]/.test(Jt)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),yt.style("display",Ne.empty()?"none":null);var gt=s.transition(et),ft=s.transition(ot),Nt;A&&(Nt=an(A),ft.attr("x",Nt[0]).attr("width",Nt[1]-Nt[0]),Xe(gt)),D&&(Nt=an(D),ft.attr("y",Nt[0]).attr("height",Nt[1]-Nt[0]),vt(gt)),Ze(gt)})}Ne.event=function(Qe){Qe.each(function(){var et=a.of(this,arguments),ot={x:V,y:Q,i:ee,j:he},yt=this.__chart__||ot;this.__chart__=ot,Na?s.select(this).transition().each("start.brush",function(){ee=yt.i,he=yt.j,V=yt.x,Q=yt.y,et({type:"brushstart"})}).tween("brush:brush",function(){var gt=tn(V,ot.x),ft=tn(Q,ot.y);return ee=he=null,function(Nt){V=ot.x=gt(Nt),Q=ot.y=ft(Nt),et({type:"brush",mode:"resize"})}}).each("end.brush",function(){ee=ot.i,he=ot.j,et({type:"brush",mode:"resize"}),et({type:"brushend"})}):(et({type:"brushstart"}),et({type:"brush",mode:"resize"}),et({type:"brushend"}))})};function Ze(Qe){Qe.selectAll(".resize").attr("transform",function(et){return"translate("+V[+/e$/.test(et)]+","+Q[+/^s/.test(et)]+")"})}function Xe(Qe){Qe.select(".extent").attr("x",V[0]),Qe.selectAll(".extent,.n>rect,.s>rect").attr("width",V[1]-V[0])}function vt(Qe){Qe.select(".extent").attr("y",Q[0]),Qe.selectAll(".extent,.e>rect,.w>rect").attr("height",Q[1]-Q[0])}function mt(){var Qe=this,et=s.select(s.event.target),ot=a.of(Qe,arguments),yt=s.select(Qe),gt=et.datum(),ft=!/^(n|s)$/.test(gt)&&A,Nt=!/^(e|w)$/.test(gt)&&D,Jt=et.classed("extent"),qt=At(Qe),Qt,ar=s.mouse(Qe),nr,cr=s.select(n(Qe)).on("keydown.brush",pr).on("keyup.brush",kr);if(s.event.changedTouches?cr.on("touchmove.brush",xr).on("touchend.brush",vr):cr.on("mousemove.brush",xr).on("mouseup.brush",vr),yt.interrupt().selectAll("*").interrupt(),Jt)ar[0]=V[0]-ar[0],ar[1]=Q[0]-ar[1];else if(gt){var ir=+/w$/.test(gt),ur=+/^n/.test(gt);nr=[V[1-ir]-ar[0],Q[1-ur]-ar[1]],ar[0]=V[ir],ar[1]=Q[ur]}else s.event.altKey&&(Qt=ar.slice());yt.style("pointer-events","none").selectAll(".resize").style("display",null),s.select("body").style("cursor",et.style("cursor")),ot({type:"brushstart"}),xr();function pr(){s.event.keyCode==32&&(Jt||(Qt=null,ar[0]-=V[1],ar[1]-=Q[1],Jt=2),ye())}function kr(){s.event.keyCode==32&&Jt==2&&(ar[0]+=V[1],ar[1]+=Q[1],Jt=0,ye())}function xr(){var dr=s.mouse(Qe),gr=!1;nr&&(dr[0]+=nr[0],dr[1]+=nr[1]),Jt||(s.event.altKey?(Qt||(Qt=[(V[0]+V[1])/2,(Q[0]+Q[1])/2]),ar[0]=V[+(dr[0]<Qt[0])],ar[1]=Q[+(dr[1]<Qt[1])]):Qt=null),ft&&Zt(dr,A,0)&&(Xe(yt),gr=!0),Nt&&Zt(dr,D,1)&&(vt(yt),gr=!0),gr&&(Ze(yt),ot({type:"brush",mode:Jt?"move":"resize"}))}function Zt(dr,gr,Sr){var Er=an(gr),Hr=Er[0],Gr=Er[1],Wr=ar[Sr],Vr=Sr?Q:V,Kr=Vr[1]-Vr[0],Yr,Qr;if(Jt&&(Hr-=Wr,Gr-=Kr+Wr),Yr=(Sr?ge:se)?Math.max(Hr,Math.min(Gr,dr[Sr])):dr[Sr],Jt?Qr=(Yr+=Wr)+Kr:(Qt&&(Wr=Math.max(Hr,Math.min(Gr,2*Qt[Sr]-Yr))),Wr<Yr?(Qr=Yr,Yr=Wr):Qr=Wr),Vr[0]!=Yr||Vr[1]!=Qr)return Sr?he=null:ee=null,Vr[0]=Yr,Vr[1]=Qr,!0}function vr(){xr(),yt.style("pointer-events","all").selectAll(".resize").style("display",Ne.empty()?"none":null),s.select("body").style("cursor",null),cr.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),qt(),ot({type:"brushend"})}}return Ne.x=function(Qe){return arguments.length?(A=Qe,Pe=_n[!A<<1|!D],Ne):A},Ne.y=function(Qe){return arguments.length?(D=Qe,Pe=_n[!A<<1|!D],Ne):D},Ne.clamp=function(Qe){return arguments.length?(A&&D?(se=!!Qe[0],ge=!!Qe[1]):A?se=!!Qe:D&&(ge=!!Qe),Ne):A&&D?[se,ge]:A?se:D?ge:null},Ne.extent=function(Qe){var et,ot,yt,gt,ft;return arguments.length?(A&&(et=Qe[0],ot=Qe[1],D&&(et=et[0],ot=ot[0]),ee=[et,ot],A.invert&&(et=A(et),ot=A(ot)),ot<et&&(ft=et,et=ot,ot=ft),(et!=V[0]||ot!=V[1])&&(V=[et,ot])),D&&(yt=Qe[0],gt=Qe[1],A&&(yt=yt[1],gt=gt[1]),he=[yt,gt],D.invert&&(yt=D(yt),gt=D(gt)),gt<yt&&(ft=yt,yt=gt,gt=ft),(yt!=Q[0]||gt!=Q[1])&&(Q=[yt,gt])),Ne):(A&&(ee?(et=ee[0],ot=ee[1]):(et=V[0],ot=V[1],A.invert&&(et=A.invert(et),ot=A.invert(ot)),ot<et&&(ft=et,et=ot,ot=ft))),D&&(he?(yt=he[0],gt=he[1]):(yt=Q[0],gt=Q[1],D.invert&&(yt=D.invert(yt),gt=D.invert(gt)),gt<yt&&(ft=yt,yt=gt,gt=ft))),A&&D?[[et,yt],[ot,gt]]:A?[et,ot]:D&&[yt,gt])},Ne.clear=function(){return Ne.empty()||(V=[0,0],Q=[0,0],ee=he=null),Ne},Ne.empty=function(){return!!A&&V[0]==V[1]||!!D&&Q[0]==Q[1]},s.rebind(Ne,a,"on")};var kl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},_n=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];s.text=$t(function(a){return a.responseText}),s.json=function(a,A){return It(a,"application/json",Dl,A)};function Dl(a){return JSON.parse(a.responseText)}s.html=function(a,A){return It(a,"text/html",Pl,A)};function Pl(a){var A=f.createRange();return A.selectNode(f.body),A.createContextualFragment(a.responseText)}s.xml=$t(function(a){return a.responseXML}),l=s,g=typeof l=="function"?l.call(z,e,z,te):l,g!==void 0&&(te.exports=g)}).apply(self)},721:function(te,z,e){e.d(z,{WU:function(){return p},FF:function(){return M}});function l(b){return Math.abs(b=Math.round(b))>=1e21?b.toLocaleString("en").replace(/,/g,""):b.toString(10)}function g(b,w){if((_=(b=w?b.toExponential(w-1):b.toExponential()).indexOf("e"))<0)return null;var _,k=b.slice(0,_);return[k.length>1?k[0]+k.slice(2):k,+b.slice(_+1)]}function s(b){return b=g(Math.abs(b)),b?b[1]:NaN}function i(b,w){return function(_,k){for(var B=_.length,U=[],L=0,O=b[0],R=0;B>0&&O>0&&(R+O+1>k&&(O=Math.max(1,k-R)),U.push(_.substring(B-=O,B+O)),!((R+=O+1)>k));)O=b[L=(L+1)%b.length];return U.reverse().join(w)}}function r(b){return function(w){return w.replace(/[0-9]/g,function(_){return b[+_]})}}var f=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function o(b){if(!(w=f.exec(b)))throw new Error("invalid format: "+b);var w;return new n({fill:w[1],align:w[2],sign:w[3],symbol:w[4],zero:w[5],width:w[6],comma:w[7],precision:w[8]&&w[8].slice(1),trim:w[9],type:w[10]})}o.prototype=n.prototype;function n(b){this.fill=b.fill===void 0?" ":b.fill+"",this.align=b.align===void 0?">":b.align+"",this.sign=b.sign===void 0?"-":b.sign+"",this.symbol=b.symbol===void 0?"":b.symbol+"",this.zero=!!b.zero,this.width=b.width===void 0?void 0:+b.width,this.comma=!!b.comma,this.precision=b.precision===void 0?void 0:+b.precision,this.trim=!!b.trim,this.type=b.type===void 0?"":b.type+""}n.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function t(b){e:for(var w=b.length,_=1,k=-1,B;_<w;++_)switch(b[_]){case".":k=B=_;break;case"0":k===0&&(k=_),B=_;break;default:if(!+b[_])break e;k>0&&(k=0);break}return k>0?b.slice(0,k)+b.slice(B+1):b}var u;function h(b,w){var _=g(b,w);if(!_)return b+"";var k=_[0],B=_[1],U=B-(u=Math.max(-8,Math.min(8,Math.floor(B/3)))*3)+1,L=k.length;return U===L?k:U>L?k+new Array(U-L+1).join("0"):U>0?k.slice(0,U)+"."+k.slice(U):"0."+new Array(1-U).join("0")+g(b,Math.max(0,w+U-1))[0]}function m(b,w){var _=g(b,w);if(!_)return b+"";var k=_[0],B=_[1];return B<0?"0."+new Array(-B).join("0")+k:k.length>B+1?k.slice(0,B+1)+"."+k.slice(B+1):k+new Array(B-k.length+2).join("0")}var y={"%":function(b,w){return(b*100).toFixed(w)},b:function(b){return Math.round(b).toString(2)},c:function(b){return b+""},d:l,e:function(b,w){return b.toExponential(w)},f:function(b,w){return b.toFixed(w)},g:function(b,w){return b.toPrecision(w)},o:function(b){return Math.round(b).toString(8)},p:function(b,w){return m(b*100,w)},r:m,s:h,X:function(b){return Math.round(b).toString(16).toUpperCase()},x:function(b){return Math.round(b).toString(16)}};function d(b){return b}var T=Array.prototype.map,x=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function M(b){var w=b.grouping===void 0||b.thousands===void 0?d:i(T.call(b.grouping,Number),b.thousands+""),_=b.currency===void 0?"":b.currency[0]+"",k=b.currency===void 0?"":b.currency[1]+"",B=b.decimal===void 0?".":b.decimal+"",U=b.numerals===void 0?d:r(T.call(b.numerals,String)),L=b.percent===void 0?"%":b.percent+"",O=b.minus===void 0?"-":b.minus+"",R=b.nan===void 0?"NaN":b.nan+"";function Z(ie){ie=o(ie);var N=ie.fill,F=ie.align,G=ie.sign,W=ie.symbol,X=ie.zero,J=ie.width,ne=ie.comma,ue=ie.precision,ye=ie.trim,Me=ie.type;Me==="n"?(ne=!0,Me="g"):y[Me]||(ue===void 0&&(ue=12),ye=!0,Me="g"),(X||N==="0"&&F==="=")&&(X=!0,N="0",F="=");var oe=W==="$"?_:W==="#"&&/[boxX]/.test(Me)?"0"+Me.toLowerCase():"",ve=W==="$"?k:/[%p]/.test(Me)?L:"",H=y[Me],Y=/[defgprs%]/.test(Me);ue=ue===void 0?6:/[gprs]/.test(Me)?Math.max(1,Math.min(21,ue)):Math.max(0,Math.min(20,ue));function S(E){var I=oe,C=ve,K,P,j;if(Me==="c")C=H(E)+C,E="";else{E=+E;var ae=E<0||1/E<0;if(E=isNaN(E)?R:H(Math.abs(E),ue),ye&&(E=t(E)),ae&&+E==0&&G!=="+"&&(ae=!1),I=(ae?G==="("?G:O:G==="-"||G==="("?"":G)+I,C=(Me==="s"?x[8+u/3]:"")+C+(ae&&G==="("?")":""),Y){for(K=-1,P=E.length;++K<P;)if(j=E.charCodeAt(K),48>j||j>57){C=(j===46?B+E.slice(K+1):E.slice(K))+C,E=E.slice(0,K);break}}}ne&&!X&&(E=w(E,1/0));var fe=I.length+E.length+C.length,de=fe<J?new Array(J-fe+1).join(N):"";switch(ne&&X&&(E=w(de+E,de.length?J-C.length:1/0),de=""),F){case"<":E=I+E+C+de;break;case"=":E=I+de+E+C;break;case"^":E=de.slice(0,fe=de.length>>1)+I+E+C+de.slice(fe);break;default:E=de+I+E+C;break}return U(E)}return S.toString=function(){return ie+""},S}function $(ie,N){var F=Z((ie=o(ie),ie.type="f",ie)),G=Math.max(-8,Math.min(8,Math.floor(s(N)/3)))*3,W=Math.pow(10,-G),X=x[8+G/3];return function(J){return F(W*J)+X}}return{format:Z,formatPrefix:$}}var c,p;v({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function v(b){return c=M(b),p=c.format,c.formatPrefix,c}},4096:function(te,z,e){e.d(z,{i$:function(){return St},Dq:function(){return u},g0:function(){return At}});var l=e(8176),g=e(8480),s=e(9879),i=e(2301),r=e(4823),f=e(9791);function o(Te){if(0<=Te.y&&Te.y<100){var Re=new Date(-1,Te.m,Te.d,Te.H,Te.M,Te.S,Te.L);return Re.setFullYear(Te.y),Re}return new Date(Te.y,Te.m,Te.d,Te.H,Te.M,Te.S,Te.L)}function n(Te){if(0<=Te.y&&Te.y<100){var Re=new Date(Date.UTC(-1,Te.m,Te.d,Te.H,Te.M,Te.S,Te.L));return Re.setUTCFullYear(Te.y),Re}return new Date(Date.UTC(Te.y,Te.m,Te.d,Te.H,Te.M,Te.S,Te.L))}function t(Te,Re,Le){return{y:Te,m:Re,d:Le,H:0,M:0,S:0,L:0}}function u(Te){var Re=Te.dateTime,Le=Te.date,Oe=Te.time,le=Te.periods,be=Te.days,we=Te.shortDays,Se=Te.months,ze=Te.shortMonths,_e=M(le),ct=c(le),lt=M(be),$e=c(be),Ye=M(we),nt=c(we),wt=M(Se),Et=c(Se),Ht=M(ze),Wt=c(ze),Gt={a:re,A:q,b:He,B:Ie,c:null,d:ne,e:ne,f:ve,H:ue,I:ye,j:Me,L:oe,m:H,M:Y,p:Ue,q:We,Q:tt,s:Mt,S,u:E,U:I,V:C,w:K,W:P,x:null,X:null,y:j,Y:ae,Z:fe,"%":kt},Ct={a:Je,A:Ge,b:Be,B:qe,c:null,d:de,e:de,f:pe,H:Ce,I:De,j:ce,L:me,m:Ee,M:Ae,p:rt,q:st,Q:tt,s:Mt,S:xe,u:Fe,U:Ke,V:je,w:Ve,W:dt,x:null,X:null,y:bt,Y:Tt,Z:it,"%":kt},Vt={a:xt,A:Ot,b:Ft,B:Xt,c:rr,d:R,e:R,f:G,H:$,I:$,j:Z,L:F,m:O,M:ie,p:Yt,q:L,Q:X,s:J,S:N,u:v,U:b,V:w,w:p,W:_,x:sr,X:Ut,y:B,Y:k,Z:U,"%":W};Gt.x=Bt(Le,Gt),Gt.X=Bt(Oe,Gt),Gt.c=Bt(Re,Gt),Ct.x=Bt(Le,Ct),Ct.X=Bt(Oe,Ct),Ct.c=Bt(Re,Ct);function Bt(at,pt){return function(ht){var ut=[],Pt=-1,Lt=0,$t=at.length,It,Kt,Rt;for(ht instanceof Date||(ht=new Date(+ht));++Pt<$t;)at.charCodeAt(Pt)===37&&(ut.push(at.slice(Lt,Pt)),(Kt=h[It=at.charAt(++Pt)])!=null?It=at.charAt(++Pt):Kt=It==="e"?" ":"0",(Rt=pt[It])&&(It=Rt(ht,Kt)),ut.push(It),Lt=Pt+1);return ut.push(at.slice(Lt,Pt)),ut.join("")}}function _t(at,pt){return function(ht){var ut=t(1900,void 0,1),Pt=jt(ut,at,ht+="",0),Lt,$t;if(Pt!=ht.length)return null;if("Q"in ut)return new Date(ut.Q);if("s"in ut)return new Date(ut.s*1e3+("L"in ut?ut.L:0));if(pt&&!("Z"in ut)&&(ut.Z=0),"p"in ut&&(ut.H=ut.H%12+ut.p*12),ut.m===void 0&&(ut.m="q"in ut?ut.q:0),"V"in ut){if(ut.V<1||ut.V>53)return null;"w"in ut||(ut.w=1),"Z"in ut?(Lt=n(t(ut.y,0,1)),$t=Lt.getUTCDay(),Lt=$t>4||$t===0?l.l6.ceil(Lt):(0,l.l6)(Lt),Lt=g.Z.offset(Lt,(ut.V-1)*7),ut.y=Lt.getUTCFullYear(),ut.m=Lt.getUTCMonth(),ut.d=Lt.getUTCDate()+(ut.w+6)%7):(Lt=o(t(ut.y,0,1)),$t=Lt.getDay(),Lt=$t>4||$t===0?s.wA.ceil(Lt):(0,s.wA)(Lt),Lt=i.Z.offset(Lt,(ut.V-1)*7),ut.y=Lt.getFullYear(),ut.m=Lt.getMonth(),ut.d=Lt.getDate()+(ut.w+6)%7)}else("W"in ut||"U"in ut)&&("w"in ut||(ut.w="u"in ut?ut.u%7:"W"in ut?1:0),$t="Z"in ut?n(t(ut.y,0,1)).getUTCDay():o(t(ut.y,0,1)).getDay(),ut.m=0,ut.d="W"in ut?(ut.w+6)%7+ut.W*7-($t+5)%7:ut.w+ut.U*7-($t+6)%7);return"Z"in ut?(ut.H+=ut.Z/100|0,ut.M+=ut.Z%100,n(ut)):o(ut)}}function jt(at,pt,ht,ut){for(var Pt=0,Lt=pt.length,$t=ht.length,It,Kt;Pt<Lt;){if(ut>=$t)return-1;if(It=pt.charCodeAt(Pt++),It===37){if(It=pt.charAt(Pt++),Kt=Vt[It in h?pt.charAt(Pt++):It],!Kt||(ut=Kt(at,ht,ut))<0)return-1}else if(It!=ht.charCodeAt(ut++))return-1}return ut}function Yt(at,pt,ht){var ut=_e.exec(pt.slice(ht));return ut?(at.p=ct[ut[0].toLowerCase()],ht+ut[0].length):-1}function xt(at,pt,ht){var ut=Ye.exec(pt.slice(ht));return ut?(at.w=nt[ut[0].toLowerCase()],ht+ut[0].length):-1}function Ot(at,pt,ht){var ut=lt.exec(pt.slice(ht));return ut?(at.w=$e[ut[0].toLowerCase()],ht+ut[0].length):-1}function Ft(at,pt,ht){var ut=Ht.exec(pt.slice(ht));return ut?(at.m=Wt[ut[0].toLowerCase()],ht+ut[0].length):-1}function Xt(at,pt,ht){var ut=wt.exec(pt.slice(ht));return ut?(at.m=Et[ut[0].toLowerCase()],ht+ut[0].length):-1}function rr(at,pt,ht){return jt(at,Re,pt,ht)}function sr(at,pt,ht){return jt(at,Le,pt,ht)}function Ut(at,pt,ht){return jt(at,Oe,pt,ht)}function re(at){return we[at.getDay()]}function q(at){return be[at.getDay()]}function He(at){return ze[at.getMonth()]}function Ie(at){return Se[at.getMonth()]}function Ue(at){return le[+(at.getHours()>=12)]}function We(at){return 1+~~(at.getMonth()/3)}function Je(at){return we[at.getUTCDay()]}function Ge(at){return be[at.getUTCDay()]}function Be(at){return ze[at.getUTCMonth()]}function qe(at){return Se[at.getUTCMonth()]}function rt(at){return le[+(at.getUTCHours()>=12)]}function st(at){return 1+~~(at.getUTCMonth()/3)}return{format:function(at){var pt=Bt(at+="",Gt);return pt.toString=function(){return at},pt},parse:function(at){var pt=_t(at+="",!1);return pt.toString=function(){return at},pt},utcFormat:function(at){var pt=Bt(at+="",Ct);return pt.toString=function(){return at},pt},utcParse:function(at){var pt=_t(at+="",!0);return pt.toString=function(){return at},pt}}}var h={"-":"",_:" ",0:"0"},m=/^\s*\d+/,y=/^%/,d=/[\\^$*+?|[\]().{}]/g;function T(Te,Re,Le){var Oe=Te<0?"-":"",le=(Oe?-Te:Te)+"",be=le.length;return Oe+(be<Le?new Array(Le-be+1).join(Re)+le:le)}function x(Te){return Te.replace(d,"\\$&")}function M(Te){return new RegExp("^(?:"+Te.map(x).join("|")+")","i")}function c(Te){for(var Re={},Le=-1,Oe=Te.length;++Le<Oe;)Re[Te[Le].toLowerCase()]=Le;return Re}function p(Te,Re,Le){var Oe=m.exec(Re.slice(Le,Le+1));return Oe?(Te.w=+Oe[0],Le+Oe[0].length):-1}function v(Te,Re,Le){var Oe=m.exec(Re.slice(Le,Le+1));return Oe?(Te.u=+Oe[0],Le+Oe[0].length):-1}function b(Te,Re,Le){var Oe=m.exec(Re.slice(Le,Le+2));return Oe?(Te.U=+Oe[0],Le+Oe[0].length):-1}function w(Te,Re,Le){var Oe=m.exec(Re.slice(Le,Le+2));return Oe?(Te.V=+Oe[0],Le+Oe[0].length):-1}function _(Te,Re,Le){var Oe=m.exec(Re.slice(Le,Le+2));return Oe?(Te.W=+Oe[0],Le+Oe[0].length):-1}function k(Te,Re,Le){var Oe=m.exec(Re.slice(Le,Le+4));return Oe?(Te.y=+Oe[0],Le+Oe[0].length):-1}function B(Te,Re,Le){var Oe=m.exec(Re.slice(Le,Le+2));return Oe?(Te.y=+Oe[0]+(+Oe[0]>68?1900:2e3),Le+Oe[0].length):-1}function U(Te,Re,Le){var Oe=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Re.slice(Le,Le+6));return Oe?(Te.Z=Oe[1]?0:-(Oe[2]+(Oe[3]||"00")),Le+Oe[0].length):-1}function L(Te,Re,Le){var Oe=m.exec(Re.slice(Le,Le+1));return Oe?(Te.q=Oe[0]*3-3,Le+Oe[0].length):-1}function O(Te,Re,Le){var Oe=m.exec(Re.slice(Le,Le+2));return Oe?(Te.m=Oe[0]-1,Le+Oe[0].length):-1}function R(Te,Re,Le){var Oe=m.exec(Re.slice(Le,Le+2));return Oe?(Te.d=+Oe[0],Le+Oe[0].length):-1}function Z(Te,Re,Le){var Oe=m.exec(Re.slice(Le,Le+3));return Oe?(Te.m=0,Te.d=+Oe[0],Le+Oe[0].length):-1}function $(Te,Re,Le){var Oe=m.exec(Re.slice(Le,Le+2));return Oe?(Te.H=+Oe[0],Le+Oe[0].length):-1}function ie(Te,Re,Le){var Oe=m.exec(Re.slice(Le,Le+2));return Oe?(Te.M=+Oe[0],Le+Oe[0].length):-1}function N(Te,Re,Le){var Oe=m.exec(Re.slice(Le,Le+2));return Oe?(Te.S=+Oe[0],Le+Oe[0].length):-1}function F(Te,Re,Le){var Oe=m.exec(Re.slice(Le,Le+3));return Oe?(Te.L=+Oe[0],Le+Oe[0].length):-1}function G(Te,Re,Le){var Oe=m.exec(Re.slice(Le,Le+6));return Oe?(Te.L=Math.floor(Oe[0]/1e3),Le+Oe[0].length):-1}function W(Te,Re,Le){var Oe=y.exec(Re.slice(Le,Le+1));return Oe?Le+Oe[0].length:-1}function X(Te,Re,Le){var Oe=m.exec(Re.slice(Le));return Oe?(Te.Q=+Oe[0],Le+Oe[0].length):-1}function J(Te,Re,Le){var Oe=m.exec(Re.slice(Le));return Oe?(Te.s=+Oe[0],Le+Oe[0].length):-1}function ne(Te,Re){return T(Te.getDate(),Re,2)}function ue(Te,Re){return T(Te.getHours(),Re,2)}function ye(Te,Re){return T(Te.getHours()%12||12,Re,2)}function Me(Te,Re){return T(1+i.Z.count((0,r.Z)(Te),Te),Re,3)}function oe(Te,Re){return T(Te.getMilliseconds(),Re,3)}function ve(Te,Re){return oe(Te,Re)+"000"}function H(Te,Re){return T(Te.getMonth()+1,Re,2)}function Y(Te,Re){return T(Te.getMinutes(),Re,2)}function S(Te,Re){return T(Te.getSeconds(),Re,2)}function E(Te){var Re=Te.getDay();return Re===0?7:Re}function I(Te,Re){return T(s.OM.count((0,r.Z)(Te)-1,Te),Re,2)}function C(Te,Re){var Le=Te.getDay();return Te=Le>=4||Le===0?(0,s.bL)(Te):s.bL.ceil(Te),T(s.bL.count((0,r.Z)(Te),Te)+((0,r.Z)(Te).getDay()===4),Re,2)}function K(Te){return Te.getDay()}function P(Te,Re){return T(s.wA.count((0,r.Z)(Te)-1,Te),Re,2)}function j(Te,Re){return T(Te.getFullYear()%100,Re,2)}function ae(Te,Re){return T(Te.getFullYear()%1e4,Re,4)}function fe(Te){var Re=Te.getTimezoneOffset();return(Re>0?"-":(Re*=-1,"+"))+T(Re/60|0,"0",2)+T(Re%60,"0",2)}function de(Te,Re){return T(Te.getUTCDate(),Re,2)}function Ce(Te,Re){return T(Te.getUTCHours(),Re,2)}function De(Te,Re){return T(Te.getUTCHours()%12||12,Re,2)}function ce(Te,Re){return T(1+g.Z.count((0,f.Z)(Te),Te),Re,3)}function me(Te,Re){return T(Te.getUTCMilliseconds(),Re,3)}function pe(Te,Re){return me(Te,Re)+"000"}function Ee(Te,Re){return T(Te.getUTCMonth()+1,Re,2)}function Ae(Te,Re){return T(Te.getUTCMinutes(),Re,2)}function xe(Te,Re){return T(Te.getUTCSeconds(),Re,2)}function Fe(Te){var Re=Te.getUTCDay();return Re===0?7:Re}function Ke(Te,Re){return T(l.Ox.count((0,f.Z)(Te)-1,Te),Re,2)}function je(Te,Re){var Le=Te.getUTCDay();return Te=Le>=4||Le===0?(0,l.hB)(Te):l.hB.ceil(Te),T(l.hB.count((0,f.Z)(Te),Te)+((0,f.Z)(Te).getUTCDay()===4),Re,2)}function Ve(Te){return Te.getUTCDay()}function dt(Te,Re){return T(l.l6.count((0,f.Z)(Te)-1,Te),Re,2)}function bt(Te,Re){return T(Te.getUTCFullYear()%100,Re,2)}function Tt(Te,Re){return T(Te.getUTCFullYear()%1e4,Re,4)}function it(){return"+0000"}function kt(){return"%"}function tt(Te){return+Te}function Mt(Te){return Math.floor(+Te/1e3)}var Dt,St,At;ke({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ke(Te){return Dt=u(Te),St=Dt.format,Dt.parse,At=Dt.utcFormat,Dt.utcParse,Dt}},2301:function(te,z,e){e.d(z,{a:function(){return i}});var l=e(52),g=e(4263),s=(0,l.Z)(function(r){r.setHours(0,0,0,0)},function(r,f){r.setDate(r.getDate()+f)},function(r,f){return(f-r-(f.getTimezoneOffset()-r.getTimezoneOffset())*g.yB)/g.UD},function(r){return r.getDate()-1});z.Z=s;var i=s.range},4263:function(te,z,e){e.d(z,{UD:function(){return i},Y2:function(){return s},Ym:function(){return l},iM:function(){return r},yB:function(){return g}});var l=1e3,g=6e4,s=36e5,i=864e5,r=6048e5},1041:function(te,z,e){e.r(z),e.d(z,{timeDay:function(){return T.Z},timeDays:function(){return T.a},timeFriday:function(){return x.mC},timeFridays:function(){return x.b$},timeHour:function(){return y},timeHours:function(){return d},timeInterval:function(){return l.Z},timeMillisecond:function(){return s},timeMilliseconds:function(){return i},timeMinute:function(){return u},timeMinutes:function(){return h},timeMonday:function(){return x.wA},timeMondays:function(){return x.bJ},timeMonth:function(){return c},timeMonths:function(){return p},timeSaturday:function(){return x.EY},timeSaturdays:function(){return x.Ff},timeSecond:function(){return o},timeSeconds:function(){return n},timeSunday:function(){return x.OM},timeSundays:function(){return x.vm},timeThursday:function(){return x.bL},timeThursdays:function(){return x.$t},timeTuesday:function(){return x.sy},timeTuesdays:function(){return x.aU},timeWednesday:function(){return x.zg},timeWednesdays:function(){return x.Ld},timeWeek:function(){return x.OM},timeWeeks:function(){return x.vm},timeYear:function(){return v.Z},timeYears:function(){return v.g},utcDay:function(){return L.Z},utcDays:function(){return L.y},utcFriday:function(){return O.QQ},utcFridays:function(){return O.fz},utcHour:function(){return B},utcHours:function(){return U},utcMillisecond:function(){return s},utcMilliseconds:function(){return i},utcMinute:function(){return w},utcMinutes:function(){return _},utcMonday:function(){return O.l6},utcMondays:function(){return O.$3},utcMonth:function(){return Z},utcMonths:function(){return $},utcSaturday:function(){return O.g4},utcSaturdays:function(){return O.Q_},utcSecond:function(){return o},utcSeconds:function(){return n},utcSunday:function(){return O.Ox},utcSundays:function(){return O.SU},utcThursday:function(){return O.hB},utcThursdays:function(){return O.xj},utcTuesday:function(){return O.J1},utcTuesdays:function(){return O.DK},utcWednesday:function(){return O.b3},utcWednesdays:function(){return O.uy},utcWeek:function(){return O.Ox},utcWeeks:function(){return O.SU},utcYear:function(){return ie.Z},utcYears:function(){return ie.D}});var l=e(52),g=(0,l.Z)(function(){},function(N,F){N.setTime(+N+F)},function(N,F){return F-N});g.every=function(N){return N=Math.floor(N),!isFinite(N)||!(N>0)?null:N>1?(0,l.Z)(function(F){F.setTime(Math.floor(F/N)*N)},function(F,G){F.setTime(+F+G*N)},function(F,G){return(G-F)/N}):g};var s=g,i=g.range,r=e(4263),f=(0,l.Z)(function(N){N.setTime(N-N.getMilliseconds())},function(N,F){N.setTime(+N+F*r.Ym)},function(N,F){return(F-N)/r.Ym},function(N){return N.getUTCSeconds()}),o=f,n=f.range,t=(0,l.Z)(function(N){N.setTime(N-N.getMilliseconds()-N.getSeconds()*r.Ym)},function(N,F){N.setTime(+N+F*r.yB)},function(N,F){return(F-N)/r.yB},function(N){return N.getMinutes()}),u=t,h=t.range,m=(0,l.Z)(function(N){N.setTime(N-N.getMilliseconds()-N.getSeconds()*r.Ym-N.getMinutes()*r.yB)},function(N,F){N.setTime(+N+F*r.Y2)},function(N,F){return(F-N)/r.Y2},function(N){return N.getHours()}),y=m,d=m.range,T=e(2301),x=e(9879),M=(0,l.Z)(function(N){N.setDate(1),N.setHours(0,0,0,0)},function(N,F){N.setMonth(N.getMonth()+F)},function(N,F){return F.getMonth()-N.getMonth()+(F.getFullYear()-N.getFullYear())*12},function(N){return N.getMonth()}),c=M,p=M.range,v=e(4823),b=(0,l.Z)(function(N){N.setUTCSeconds(0,0)},function(N,F){N.setTime(+N+F*r.yB)},function(N,F){return(F-N)/r.yB},function(N){return N.getUTCMinutes()}),w=b,_=b.range,k=(0,l.Z)(function(N){N.setUTCMinutes(0,0,0)},function(N,F){N.setTime(+N+F*r.Y2)},function(N,F){return(F-N)/r.Y2},function(N){return N.getUTCHours()}),B=k,U=k.range,L=e(8480),O=e(8176),R=(0,l.Z)(function(N){N.setUTCDate(1),N.setUTCHours(0,0,0,0)},function(N,F){N.setUTCMonth(N.getUTCMonth()+F)},function(N,F){return F.getUTCMonth()-N.getUTCMonth()+(F.getUTCFullYear()-N.getUTCFullYear())*12},function(N){return N.getUTCMonth()}),Z=R,$=R.range,ie=e(9791)},52:function(te,z,e){e.d(z,{Z:function(){return s}});var l=new Date,g=new Date;function s(i,r,f,o){function n(t){return i(t=arguments.length===0?new Date:new Date(+t)),t}return n.floor=function(t){return i(t=new Date(+t)),t},n.ceil=function(t){return i(t=new Date(t-1)),r(t,1),i(t),t},n.round=function(t){var u=n(t),h=n.ceil(t);return t-u<h-t?u:h},n.offset=function(t,u){return r(t=new Date(+t),u==null?1:Math.floor(u)),t},n.range=function(t,u,h){var m=[],y;if(t=n.ceil(t),h=h==null?1:Math.floor(h),!(t<u)||!(h>0))return m;do m.push(y=new Date(+t)),r(t,h),i(t);while(y<t&&t<u);return m},n.filter=function(t){return s(function(u){if(u>=u)for(;i(u),!t(u);)u.setTime(u-1)},function(u,h){if(u>=u)if(h<0)for(;++h<=0;)for(;r(u,-1),!t(u););else for(;--h>=0;)for(;r(u,1),!t(u););})},f&&(n.count=function(t,u){return l.setTime(+t),g.setTime(+u),i(l),i(g),Math.floor(f(l,g))},n.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?n.filter(o?function(u){return o(u)%t===0}:function(u){return n.count(0,u)%t===0}):n}),n}},8480:function(te,z,e){e.d(z,{y:function(){return i}});var l=e(52),g=e(4263),s=(0,l.Z)(function(r){r.setUTCHours(0,0,0,0)},function(r,f){r.setUTCDate(r.getUTCDate()+f)},function(r,f){return(f-r)/g.UD},function(r){return r.getUTCDate()-1});z.Z=s;var i=s.range},8176:function(te,z,e){e.d(z,{$3:function(){return m},DK:function(){return y},J1:function(){return f},Ox:function(){return i},QQ:function(){return t},Q_:function(){return M},SU:function(){return h},b3:function(){return o},fz:function(){return x},g4:function(){return u},hB:function(){return n},l6:function(){return r},uy:function(){return d},xj:function(){return T}});var l=e(52),g=e(4263);function s(c){return(0,l.Z)(function(p){p.setUTCDate(p.getUTCDate()-(p.getUTCDay()+7-c)%7),p.setUTCHours(0,0,0,0)},function(p,v){p.setUTCDate(p.getUTCDate()+v*7)},function(p,v){return(v-p)/g.iM})}var i=s(0),r=s(1),f=s(2),o=s(3),n=s(4),t=s(5),u=s(6),h=i.range,m=r.range,y=f.range,d=o.range,T=n.range,x=t.range,M=u.range},9791:function(te,z,e){e.d(z,{D:function(){return s}});var l=e(52),g=(0,l.Z)(function(i){i.setUTCMonth(0,1),i.setUTCHours(0,0,0,0)},function(i,r){i.setUTCFullYear(i.getUTCFullYear()+r)},function(i,r){return r.getUTCFullYear()-i.getUTCFullYear()},function(i){return i.getUTCFullYear()});g.every=function(i){return!isFinite(i=Math.floor(i))||!(i>0)?null:(0,l.Z)(function(r){r.setUTCFullYear(Math.floor(r.getUTCFullYear()/i)*i),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},function(r,f){r.setUTCFullYear(r.getUTCFullYear()+f*i)})},z.Z=g;var s=g.range},9879:function(te,z,e){e.d(z,{$t:function(){return T},EY:function(){return u},Ff:function(){return M},Ld:function(){return d},OM:function(){return i},aU:function(){return y},b$:function(){return x},bJ:function(){return m},bL:function(){return n},mC:function(){return t},sy:function(){return f},vm:function(){return h},wA:function(){return r},zg:function(){return o}});var l=e(52),g=e(4263);function s(c){return(0,l.Z)(function(p){p.setDate(p.getDate()-(p.getDay()+7-c)%7),p.setHours(0,0,0,0)},function(p,v){p.setDate(p.getDate()+v*7)},function(p,v){return(v-p-(v.getTimezoneOffset()-p.getTimezoneOffset())*g.yB)/g.iM})}var i=s(0),r=s(1),f=s(2),o=s(3),n=s(4),t=s(5),u=s(6),h=i.range,m=r.range,y=f.range,d=o.range,T=n.range,x=t.range,M=u.range},4823:function(te,z,e){e.d(z,{g:function(){return s}});var l=e(52),g=(0,l.Z)(function(i){i.setMonth(0,1),i.setHours(0,0,0,0)},function(i,r){i.setFullYear(i.getFullYear()+r)},function(i,r){return r.getFullYear()-i.getFullYear()},function(i){return i.getFullYear()});g.every=function(i){return!isFinite(i=Math.floor(i))||!(i>0)?null:(0,l.Z)(function(r){r.setFullYear(Math.floor(r.getFullYear()/i)*i),r.setMonth(0,1),r.setHours(0,0,0,0)},function(r,f){r.setFullYear(r.getFullYear()+f*i)})},z.Z=g;var s=g.range},5398:function(te){var z=typeof Reflect=="object"?Reflect:null,e=z&&typeof z.apply=="function"?z.apply:function(v,b,w){return Function.prototype.apply.call(v,b,w)},l;z&&typeof z.ownKeys=="function"?l=z.ownKeys:Object.getOwnPropertySymbols?l=function(v){return Object.getOwnPropertyNames(v).concat(Object.getOwnPropertySymbols(v))}:l=function(v){return Object.getOwnPropertyNames(v)};function g(p){console&&console.warn&&console.warn(p)}var s=Number.isNaN||function(v){return v!==v};function i(){i.init.call(this)}te.exports=i,te.exports.once=x,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var r=10;function f(p){if(typeof p!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof p)}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return r},set:function(p){if(typeof p!="number"||p<0||s(p))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+p+".");r=p}}),i.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(v){if(typeof v!="number"||v<0||s(v))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+v+".");return this._maxListeners=v,this};function o(p){return p._maxListeners===void 0?i.defaultMaxListeners:p._maxListeners}i.prototype.getMaxListeners=function(){return o(this)},i.prototype.emit=function(v){for(var b=[],w=1;w<arguments.length;w++)b.push(arguments[w]);var _=v==="error",k=this._events;if(k!==void 0)_=_&&k.error===void 0;else if(!_)return!1;if(_){var B;if(b.length>0&&(B=b[0]),B instanceof Error)throw B;var U=new Error("Unhandled error."+(B?" ("+B.message+")":""));throw U.context=B,U}var L=k[v];if(L===void 0)return!1;if(typeof L=="function")e(L,this,b);else for(var O=L.length,R=y(L,O),w=0;w<O;++w)e(R[w],this,b);return!0};function n(p,v,b,w){var _,k,B;if(f(b),k=p._events,k===void 0?(k=p._events=Object.create(null),p._eventsCount=0):(k.newListener!==void 0&&(p.emit("newListener",v,b.listener?b.listener:b),k=p._events),B=k[v]),B===void 0)B=k[v]=b,++p._eventsCount;else if(typeof B=="function"?B=k[v]=w?[b,B]:[B,b]:w?B.unshift(b):B.push(b),_=o(p),_>0&&B.length>_&&!B.warned){B.warned=!0;var U=new Error("Possible EventEmitter memory leak detected. "+B.length+" "+String(v)+" listeners added. Use emitter.setMaxListeners() to increase limit");U.name="MaxListenersExceededWarning",U.emitter=p,U.type=v,U.count=B.length,g(U)}return p}i.prototype.addListener=function(v,b){return n(this,v,b,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(v,b){return n(this,v,b,!0)};function t(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(p,v,b){var w={fired:!1,wrapFn:void 0,target:p,type:v,listener:b},_=t.bind(w);return _.listener=b,w.wrapFn=_,_}i.prototype.once=function(v,b){return f(b),this.on(v,u(this,v,b)),this},i.prototype.prependOnceListener=function(v,b){return f(b),this.prependListener(v,u(this,v,b)),this},i.prototype.removeListener=function(v,b){var w,_,k,B,U;if(f(b),_=this._events,_===void 0)return this;if(w=_[v],w===void 0)return this;if(w===b||w.listener===b)--this._eventsCount===0?this._events=Object.create(null):(delete _[v],_.removeListener&&this.emit("removeListener",v,w.listener||b));else if(typeof w!="function"){for(k=-1,B=w.length-1;B>=0;B--)if(w[B]===b||w[B].listener===b){U=w[B].listener,k=B;break}if(k<0)return this;k===0?w.shift():d(w,k),w.length===1&&(_[v]=w[0]),_.removeListener!==void 0&&this.emit("removeListener",v,U||b)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(v){var b,w,_;if(w=this._events,w===void 0)return this;if(w.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):w[v]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete w[v]),this;if(arguments.length===0){var k=Object.keys(w),B;for(_=0;_<k.length;++_)B=k[_],B!=="removeListener"&&this.removeAllListeners(B);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(b=w[v],typeof b=="function")this.removeListener(v,b);else if(b!==void 0)for(_=b.length-1;_>=0;_--)this.removeListener(v,b[_]);return this};function h(p,v,b){var w=p._events;if(w===void 0)return[];var _=w[v];return _===void 0?[]:typeof _=="function"?b?[_.listener||_]:[_]:b?T(_):y(_,_.length)}i.prototype.listeners=function(v){return h(this,v,!0)},i.prototype.rawListeners=function(v){return h(this,v,!1)},i.listenerCount=function(p,v){return typeof p.listenerCount=="function"?p.listenerCount(v):m.call(p,v)},i.prototype.listenerCount=m;function m(p){var v=this._events;if(v!==void 0){var b=v[p];if(typeof b=="function")return 1;if(b!==void 0)return b.length}return 0}i.prototype.eventNames=function(){return this._eventsCount>0?l(this._events):[]};function y(p,v){for(var b=new Array(v),w=0;w<v;++w)b[w]=p[w];return b}function d(p,v){for(;v+1<p.length;v++)p[v]=p[v+1];p.pop()}function T(p){for(var v=new Array(p.length),b=0;b<v.length;++b)v[b]=p[b].listener||p[b];return v}function x(p,v){return new Promise(function(b,w){function _(B){p.removeListener(v,k),w(B)}function k(){typeof p.removeListener=="function"&&p.removeListener("error",_),b([].slice.call(arguments))}c(p,v,k,{once:!0}),v!=="error"&&M(p,_,{once:!0})})}function M(p,v,b){typeof p.on=="function"&&c(p,"error",v,b)}function c(p,v,b,w){if(typeof p.on=="function")w.once?p.once(v,b):p.on(v,b);else if(typeof p.addEventListener=="function")p.addEventListener(v,function _(k){w.once&&p.removeEventListener(v,_),b(k)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof p)}},2770:function(te,z,e){var l=e(8546);te.exports=function(g){var s=typeof g;if(s==="string"){var i=g;if(g=+g,g===0&&l(i))return!1}else if(s!=="number")return!1;return g-g<1}},5400:function(te){te.exports=z;function z(e,l){var g=l[0],s=l[1],i=l[2],r=l[3],f=l[4],o=l[5],n=l[6],t=l[7],u=l[8],h=l[9],m=l[10],y=l[11],d=l[12],T=l[13],x=l[14],M=l[15];return e[0]=o*(m*M-y*x)-h*(n*M-t*x)+T*(n*y-t*m),e[1]=-(s*(m*M-y*x)-h*(i*M-r*x)+T*(i*y-r*m)),e[2]=s*(n*M-t*x)-o*(i*M-r*x)+T*(i*t-r*n),e[3]=-(s*(n*y-t*m)-o*(i*y-r*m)+h*(i*t-r*n)),e[4]=-(f*(m*M-y*x)-u*(n*M-t*x)+d*(n*y-t*m)),e[5]=g*(m*M-y*x)-u*(i*M-r*x)+d*(i*y-r*m),e[6]=-(g*(n*M-t*x)-f*(i*M-r*x)+d*(i*t-r*n)),e[7]=g*(n*y-t*m)-f*(i*y-r*m)+u*(i*t-r*n),e[8]=f*(h*M-y*T)-u*(o*M-t*T)+d*(o*y-t*h),e[9]=-(g*(h*M-y*T)-u*(s*M-r*T)+d*(s*y-r*h)),e[10]=g*(o*M-t*T)-f*(s*M-r*T)+d*(s*t-r*o),e[11]=-(g*(o*y-t*h)-f*(s*y-r*h)+u*(s*t-r*o)),e[12]=-(f*(h*x-m*T)-u*(o*x-n*T)+d*(o*m-n*h)),e[13]=g*(h*x-m*T)-u*(s*x-i*T)+d*(s*m-i*h),e[14]=-(g*(o*x-n*T)-f*(s*x-i*T)+d*(s*n-i*o)),e[15]=g*(o*m-n*h)-f*(s*m-i*h)+u*(s*n-i*o),e}},2331:function(te){te.exports=z;function z(e){var l=new Float32Array(16);return l[0]=e[0],l[1]=e[1],l[2]=e[2],l[3]=e[3],l[4]=e[4],l[5]=e[5],l[6]=e[6],l[7]=e[7],l[8]=e[8],l[9]=e[9],l[10]=e[10],l[11]=e[11],l[12]=e[12],l[13]=e[13],l[14]=e[14],l[15]=e[15],l}},1042:function(te){te.exports=z;function z(e,l){return e[0]=l[0],e[1]=l[1],e[2]=l[2],e[3]=l[3],e[4]=l[4],e[5]=l[5],e[6]=l[6],e[7]=l[7],e[8]=l[8],e[9]=l[9],e[10]=l[10],e[11]=l[11],e[12]=l[12],e[13]=l[13],e[14]=l[14],e[15]=l[15],e}},1902:function(te){te.exports=z;function z(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},9887:function(te){te.exports=z;function z(e){var l=e[0],g=e[1],s=e[2],i=e[3],r=e[4],f=e[5],o=e[6],n=e[7],t=e[8],u=e[9],h=e[10],m=e[11],y=e[12],d=e[13],T=e[14],x=e[15],M=l*f-g*r,c=l*o-s*r,p=l*n-i*r,v=g*o-s*f,b=g*n-i*f,w=s*n-i*o,_=t*d-u*y,k=t*T-h*y,B=t*x-m*y,U=u*T-h*d,L=u*x-m*d,O=h*x-m*T;return M*O-c*L+p*U+v*B-b*k+w*_}},7812:function(te){te.exports=z;function z(e,l){var g=l[0],s=l[1],i=l[2],r=l[3],f=g+g,o=s+s,n=i+i,t=g*f,u=s*f,h=s*o,m=i*f,y=i*o,d=i*n,T=r*f,x=r*o,M=r*n;return e[0]=1-h-d,e[1]=u+M,e[2]=m-x,e[3]=0,e[4]=u-M,e[5]=1-t-d,e[6]=y+T,e[7]=0,e[8]=m+x,e[9]=y-T,e[10]=1-t-h,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},4045:function(te){te.exports=z;function z(e,l,g){var s,i,r,f=g[0],o=g[1],n=g[2],t=Math.sqrt(f*f+o*o+n*n);return Math.abs(t)<1e-6?null:(t=1/t,f*=t,o*=t,n*=t,s=Math.sin(l),i=Math.cos(l),r=1-i,e[0]=f*f*r+i,e[1]=o*f*r+n*s,e[2]=n*f*r-o*s,e[3]=0,e[4]=f*o*r-n*s,e[5]=o*o*r+i,e[6]=n*o*r+f*s,e[7]=0,e[8]=f*n*r+o*s,e[9]=o*n*r-f*s,e[10]=n*n*r+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}},5973:function(te){te.exports=z;function z(e,l,g){var s=l[0],i=l[1],r=l[2],f=l[3],o=s+s,n=i+i,t=r+r,u=s*o,h=s*n,m=s*t,y=i*n,d=i*t,T=r*t,x=f*o,M=f*n,c=f*t;return e[0]=1-(y+T),e[1]=h+c,e[2]=m-M,e[3]=0,e[4]=h-c,e[5]=1-(u+T),e[6]=d+x,e[7]=0,e[8]=m+M,e[9]=d-x,e[10]=1-(u+y),e[11]=0,e[12]=g[0],e[13]=g[1],e[14]=g[2],e[15]=1,e}},1472:function(te){te.exports=z;function z(e,l){return e[0]=l[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=l[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=l[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},4669:function(te){te.exports=z;function z(e,l){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=l[0],e[13]=l[1],e[14]=l[2],e[15]=1,e}},5262:function(te){te.exports=z;function z(e,l){var g=Math.sin(l),s=Math.cos(l);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=g,e[7]=0,e[8]=0,e[9]=-g,e[10]=s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},331:function(te){te.exports=z;function z(e,l){var g=Math.sin(l),s=Math.cos(l);return e[0]=s,e[1]=0,e[2]=-g,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=g,e[9]=0,e[10]=s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},1049:function(te){te.exports=z;function z(e,l){var g=Math.sin(l),s=Math.cos(l);return e[0]=s,e[1]=g,e[2]=0,e[3]=0,e[4]=-g,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},5195:function(te){te.exports=z;function z(e,l,g,s,i,r,f){var o=1/(g-l),n=1/(i-s),t=1/(r-f);return e[0]=r*2*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r*2*n,e[6]=0,e[7]=0,e[8]=(g+l)*o,e[9]=(i+s)*n,e[10]=(f+r)*t,e[11]=-1,e[12]=0,e[13]=0,e[14]=f*r*2*t,e[15]=0,e}},1551:function(te){te.exports=z;function z(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},9576:function(te,z,e){te.exports={create:e(1902),clone:e(2331),copy:e(1042),identity:e(1551),transpose:e(8654),invert:e(5874),adjoint:e(5400),determinant:e(9887),multiply:e(1362),translate:e(1283),scale:e(789),rotate:e(5074),rotateX:e(5545),rotateY:e(4918),rotateZ:e(5692),fromRotation:e(4045),fromRotationTranslation:e(5973),fromScaling:e(1472),fromTranslation:e(4669),fromXRotation:e(5262),fromYRotation:e(331),fromZRotation:e(1049),fromQuat:e(7812),frustum:e(5195),perspective:e(7864),perspectiveFromFieldOfView:e(5279),ortho:e(378),lookAt:e(5551),str:e(6726)}},5874:function(te){te.exports=z;function z(e,l){var g=l[0],s=l[1],i=l[2],r=l[3],f=l[4],o=l[5],n=l[6],t=l[7],u=l[8],h=l[9],m=l[10],y=l[11],d=l[12],T=l[13],x=l[14],M=l[15],c=g*o-s*f,p=g*n-i*f,v=g*t-r*f,b=s*n-i*o,w=s*t-r*o,_=i*t-r*n,k=u*T-h*d,B=u*x-m*d,U=u*M-y*d,L=h*x-m*T,O=h*M-y*T,R=m*M-y*x,Z=c*R-p*O+v*L+b*U-w*B+_*k;return Z?(Z=1/Z,e[0]=(o*R-n*O+t*L)*Z,e[1]=(i*O-s*R-r*L)*Z,e[2]=(T*_-x*w+M*b)*Z,e[3]=(m*w-h*_-y*b)*Z,e[4]=(n*U-f*R-t*B)*Z,e[5]=(g*R-i*U+r*B)*Z,e[6]=(x*v-d*_-M*p)*Z,e[7]=(u*_-m*v+y*p)*Z,e[8]=(f*O-o*U+t*k)*Z,e[9]=(s*U-g*O-r*k)*Z,e[10]=(d*w-T*v+M*c)*Z,e[11]=(h*v-u*w-y*c)*Z,e[12]=(o*B-f*L-n*k)*Z,e[13]=(g*L-s*B+i*k)*Z,e[14]=(T*p-d*b-x*c)*Z,e[15]=(u*b-h*p+m*c)*Z,e):null}},5551:function(te,z,e){var l=e(1551);te.exports=g;function g(s,i,r,f){var o,n,t,u,h,m,y,d,T,x,M=i[0],c=i[1],p=i[2],v=f[0],b=f[1],w=f[2],_=r[0],k=r[1],B=r[2];return Math.abs(M-_)<1e-6&&Math.abs(c-k)<1e-6&&Math.abs(p-B)<1e-6?l(s):(y=M-_,d=c-k,T=p-B,x=1/Math.sqrt(y*y+d*d+T*T),y*=x,d*=x,T*=x,o=b*T-w*d,n=w*y-v*T,t=v*d-b*y,x=Math.sqrt(o*o+n*n+t*t),x?(x=1/x,o*=x,n*=x,t*=x):(o=0,n=0,t=0),u=d*t-T*n,h=T*o-y*t,m=y*n-d*o,x=Math.sqrt(u*u+h*h+m*m),x?(x=1/x,u*=x,h*=x,m*=x):(u=0,h=0,m=0),s[0]=o,s[1]=u,s[2]=y,s[3]=0,s[4]=n,s[5]=h,s[6]=d,s[7]=0,s[8]=t,s[9]=m,s[10]=T,s[11]=0,s[12]=-(o*M+n*c+t*p),s[13]=-(u*M+h*c+m*p),s[14]=-(y*M+d*c+T*p),s[15]=1,s)}},1362:function(te){te.exports=z;function z(e,l,g){var s=l[0],i=l[1],r=l[2],f=l[3],o=l[4],n=l[5],t=l[6],u=l[7],h=l[8],m=l[9],y=l[10],d=l[11],T=l[12],x=l[13],M=l[14],c=l[15],p=g[0],v=g[1],b=g[2],w=g[3];return e[0]=p*s+v*o+b*h+w*T,e[1]=p*i+v*n+b*m+w*x,e[2]=p*r+v*t+b*y+w*M,e[3]=p*f+v*u+b*d+w*c,p=g[4],v=g[5],b=g[6],w=g[7],e[4]=p*s+v*o+b*h+w*T,e[5]=p*i+v*n+b*m+w*x,e[6]=p*r+v*t+b*y+w*M,e[7]=p*f+v*u+b*d+w*c,p=g[8],v=g[9],b=g[10],w=g[11],e[8]=p*s+v*o+b*h+w*T,e[9]=p*i+v*n+b*m+w*x,e[10]=p*r+v*t+b*y+w*M,e[11]=p*f+v*u+b*d+w*c,p=g[12],v=g[13],b=g[14],w=g[15],e[12]=p*s+v*o+b*h+w*T,e[13]=p*i+v*n+b*m+w*x,e[14]=p*r+v*t+b*y+w*M,e[15]=p*f+v*u+b*d+w*c,e}},378:function(te){te.exports=z;function z(e,l,g,s,i,r,f){var o=1/(l-g),n=1/(s-i),t=1/(r-f);return e[0]=-2*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*t,e[11]=0,e[12]=(l+g)*o,e[13]=(i+s)*n,e[14]=(f+r)*t,e[15]=1,e}},7864:function(te){te.exports=z;function z(e,l,g,s,i){var r=1/Math.tan(l/2),f=1/(s-i);return e[0]=r/g,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(i+s)*f,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*i*s*f,e[15]=0,e}},5279:function(te){te.exports=z;function z(e,l,g,s){var i=Math.tan(l.upDegrees*Math.PI/180),r=Math.tan(l.downDegrees*Math.PI/180),f=Math.tan(l.leftDegrees*Math.PI/180),o=Math.tan(l.rightDegrees*Math.PI/180),n=2/(f+o),t=2/(i+r);return e[0]=n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=0,e[7]=0,e[8]=-((f-o)*n*.5),e[9]=(i-r)*t*.5,e[10]=s/(g-s),e[11]=-1,e[12]=0,e[13]=0,e[14]=s*g/(g-s),e[15]=0,e}},5074:function(te){te.exports=z;function z(e,l,g,s){var i=s[0],r=s[1],f=s[2],o=Math.sqrt(i*i+r*r+f*f),n,t,u,h,m,y,d,T,x,M,c,p,v,b,w,_,k,B,U,L,O,R,Z,$;return Math.abs(o)<1e-6?null:(o=1/o,i*=o,r*=o,f*=o,n=Math.sin(g),t=Math.cos(g),u=1-t,h=l[0],m=l[1],y=l[2],d=l[3],T=l[4],x=l[5],M=l[6],c=l[7],p=l[8],v=l[9],b=l[10],w=l[11],_=i*i*u+t,k=r*i*u+f*n,B=f*i*u-r*n,U=i*r*u-f*n,L=r*r*u+t,O=f*r*u+i*n,R=i*f*u+r*n,Z=r*f*u-i*n,$=f*f*u+t,e[0]=h*_+T*k+p*B,e[1]=m*_+x*k+v*B,e[2]=y*_+M*k+b*B,e[3]=d*_+c*k+w*B,e[4]=h*U+T*L+p*O,e[5]=m*U+x*L+v*O,e[6]=y*U+M*L+b*O,e[7]=d*U+c*L+w*O,e[8]=h*R+T*Z+p*$,e[9]=m*R+x*Z+v*$,e[10]=y*R+M*Z+b*$,e[11]=d*R+c*Z+w*$,l!==e&&(e[12]=l[12],e[13]=l[13],e[14]=l[14],e[15]=l[15]),e)}},5545:function(te){te.exports=z;function z(e,l,g){var s=Math.sin(g),i=Math.cos(g),r=l[4],f=l[5],o=l[6],n=l[7],t=l[8],u=l[9],h=l[10],m=l[11];return l!==e&&(e[0]=l[0],e[1]=l[1],e[2]=l[2],e[3]=l[3],e[12]=l[12],e[13]=l[13],e[14]=l[14],e[15]=l[15]),e[4]=r*i+t*s,e[5]=f*i+u*s,e[6]=o*i+h*s,e[7]=n*i+m*s,e[8]=t*i-r*s,e[9]=u*i-f*s,e[10]=h*i-o*s,e[11]=m*i-n*s,e}},4918:function(te){te.exports=z;function z(e,l,g){var s=Math.sin(g),i=Math.cos(g),r=l[0],f=l[1],o=l[2],n=l[3],t=l[8],u=l[9],h=l[10],m=l[11];return l!==e&&(e[4]=l[4],e[5]=l[5],e[6]=l[6],e[7]=l[7],e[12]=l[12],e[13]=l[13],e[14]=l[14],e[15]=l[15]),e[0]=r*i-t*s,e[1]=f*i-u*s,e[2]=o*i-h*s,e[3]=n*i-m*s,e[8]=r*s+t*i,e[9]=f*s+u*i,e[10]=o*s+h*i,e[11]=n*s+m*i,e}},5692:function(te){te.exports=z;function z(e,l,g){var s=Math.sin(g),i=Math.cos(g),r=l[0],f=l[1],o=l[2],n=l[3],t=l[4],u=l[5],h=l[6],m=l[7];return l!==e&&(e[8]=l[8],e[9]=l[9],e[10]=l[10],e[11]=l[11],e[12]=l[12],e[13]=l[13],e[14]=l[14],e[15]=l[15]),e[0]=r*i+t*s,e[1]=f*i+u*s,e[2]=o*i+h*s,e[3]=n*i+m*s,e[4]=t*i-r*s,e[5]=u*i-f*s,e[6]=h*i-o*s,e[7]=m*i-n*s,e}},789:function(te){te.exports=z;function z(e,l,g){var s=g[0],i=g[1],r=g[2];return e[0]=l[0]*s,e[1]=l[1]*s,e[2]=l[2]*s,e[3]=l[3]*s,e[4]=l[4]*i,e[5]=l[5]*i,e[6]=l[6]*i,e[7]=l[7]*i,e[8]=l[8]*r,e[9]=l[9]*r,e[10]=l[10]*r,e[11]=l[11]*r,e[12]=l[12],e[13]=l[13],e[14]=l[14],e[15]=l[15],e}},6726:function(te){te.exports=z;function z(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}},1283:function(te){te.exports=z;function z(e,l,g){var s=g[0],i=g[1],r=g[2],f,o,n,t,u,h,m,y,d,T,x,M;return l===e?(e[12]=l[0]*s+l[4]*i+l[8]*r+l[12],e[13]=l[1]*s+l[5]*i+l[9]*r+l[13],e[14]=l[2]*s+l[6]*i+l[10]*r+l[14],e[15]=l[3]*s+l[7]*i+l[11]*r+l[15]):(f=l[0],o=l[1],n=l[2],t=l[3],u=l[4],h=l[5],m=l[6],y=l[7],d=l[8],T=l[9],x=l[10],M=l[11],e[0]=f,e[1]=o,e[2]=n,e[3]=t,e[4]=u,e[5]=h,e[6]=m,e[7]=y,e[8]=d,e[9]=T,e[10]=x,e[11]=M,e[12]=f*s+u*i+d*r+l[12],e[13]=o*s+h*i+T*r+l[13],e[14]=n*s+m*i+x*r+l[14],e[15]=t*s+y*i+M*r+l[15]),e}},8654:function(te){te.exports=z;function z(e,l){if(e===l){var g=l[1],s=l[2],i=l[3],r=l[6],f=l[7],o=l[11];e[1]=l[4],e[2]=l[8],e[3]=l[12],e[4]=g,e[6]=l[9],e[7]=l[13],e[8]=s,e[9]=r,e[11]=l[14],e[12]=i,e[13]=f,e[14]=o}else e[0]=l[0],e[1]=l[4],e[2]=l[8],e[3]=l[12],e[4]=l[1],e[5]=l[5],e[6]=l[9],e[7]=l[13],e[8]=l[2],e[9]=l[6],e[10]=l[10],e[11]=l[14],e[12]=l[3],e[13]=l[7],e[14]=l[11],e[15]=l[15];return e}},7035:function(te,z,e){var l=e(4404),g;typeof e.g.matchMedia=="function"?g=!e.g.matchMedia("(hover: none)").matches:g=l,te.exports=g},8520:function(te,z,e){var l=e(4404);function g(){var s=!1;try{var i=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("test",null,i),window.removeEventListener("test",null,i)}catch{s=!1}return s}te.exports=l&&g()},4404:function(te){te.exports=!0},8546:function(te){te.exports=function(z){for(var e=z.length,l,g=0;g<e;g++)if(l=z.charCodeAt(g),(l<9||l>13)&&l!==32&&l!==133&&l!==160&&l!==5760&&l!==6158&&(l<8192||l>8205)&&l!==8232&&l!==8233&&l!==8239&&l!==8287&&l!==8288&&l!==12288&&l!==65279)return!1;return!0}},8956:function(te){var z={left:0,top:0};te.exports=e;function e(g,s,i){s=s||g.currentTarget||g.srcElement,Array.isArray(i)||(i=[0,0]);var r=g.clientX||0,f=g.clientY||0,o=l(s);return i[0]=r-o.left,i[1]=f-o.top,i}function l(g){return g===window||g===document||g===document.body?z:g.getBoundingClientRect()}},7417:function(te,z,e){var l;/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(s,i,r){i[s]=i[s]||r(),te.exports?te.exports=i[s]:(l=(function(){return i[s]}).call(z,e,z,te),l!==void 0&&(te.exports=l))})("Promise",typeof e.g<"u"?e.g:this,function(){var s,i,r,f=Object.prototype.toString,o=typeof setImmediate<"u"?function(v){return setImmediate(v)}:setTimeout;try{Object.defineProperty({},"x",{}),s=function(v,b,w,_){return Object.defineProperty(v,b,{value:w,writable:!0,configurable:_!==!1})}}catch{s=function(b,w,_){return b[w]=_,b}}r=function(){var v,b,w;function _(k,B){this.fn=k,this.self=B,this.next=void 0}return{add:function(B,U){w=new _(B,U),b?b.next=w:v=w,b=w,w=void 0},drain:function(){var B=v;for(v=b=i=void 0;B;)B.fn.call(B.self),B=B.next}}}();function n(p,v){r.add(p,v),i||(i=o(r.drain))}function t(p){var v,b=typeof p;return p!=null&&(b=="object"||b=="function")&&(v=p.then),typeof v=="function"?v:!1}function u(){for(var p=0;p<this.chain.length;p++)h(this,this.state===1?this.chain[p].success:this.chain[p].failure,this.chain[p]);this.chain.length=0}function h(p,v,b){var w,_;try{v===!1?b.reject(p.msg):(v===!0?w=p.msg:w=v.call(void 0,p.msg),w===b.promise?b.reject(TypeError("Promise-chain cycle")):(_=t(w))?_.call(w,b.resolve,b.reject):b.resolve(w))}catch(k){b.reject(k)}}function m(p){var v,b=this;if(!b.triggered){b.triggered=!0,b.def&&(b=b.def);try{(v=t(p))?n(function(){var w=new T(b);try{v.call(p,function(){m.apply(w,arguments)},function(){y.apply(w,arguments)})}catch(_){y.call(w,_)}}):(b.msg=p,b.state=1,b.chain.length>0&&n(u,b))}catch(w){y.call(new T(b),w)}}}function y(p){var v=this;v.triggered||(v.triggered=!0,v.def&&(v=v.def),v.msg=p,v.state=2,v.chain.length>0&&n(u,v))}function d(p,v,b,w){for(var _=0;_<v.length;_++)(function(B){p.resolve(v[B]).then(function(L){b(B,L)},w)})(_)}function T(p){this.def=p,this.triggered=!1}function x(p){this.promise=p,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function M(p){if(typeof p!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var v=new x(this);this.then=function(w,_){var k={success:typeof w=="function"?w:!0,failure:typeof _=="function"?_:!1};return k.promise=new this.constructor(function(U,L){if(typeof U!="function"||typeof L!="function")throw TypeError("Not a function");k.resolve=U,k.reject=L}),v.chain.push(k),v.state!==0&&n(u,v),k.promise},this.catch=function(w){return this.then(void 0,w)};try{p.call(void 0,function(w){m.call(v,w)},function(w){y.call(v,w)})}catch(b){y.call(v,b)}}var c=s({},"constructor",M,!1);return M.prototype=c,s(c,"__NPO__",0,!1),s(M,"resolve",function(v){var b=this;return v&&typeof v=="object"&&v.__NPO__===1?v:new b(function(_,k){if(typeof _!="function"||typeof k!="function")throw TypeError("Not a function");_(v)})}),s(M,"reject",function(v){return new this(function(w,_){if(typeof w!="function"||typeof _!="function")throw TypeError("Not a function");_(v)})}),s(M,"all",function(v){var b=this;return f.call(v)!="[object Array]"?b.reject(TypeError("Not an array")):v.length===0?b.resolve([]):new b(function(_,k){if(typeof _!="function"||typeof k!="function")throw TypeError("Not a function");var B=v.length,U=Array(B),L=0;d(b,v,function(R,Z){U[R]=Z,++L===B&&_(U)},k)})}),s(M,"race",function(v){var b=this;return f.call(v)!="[object Array]"?b.reject(TypeError("Not an array")):new b(function(_,k){if(typeof _!="function"||typeof k!="function")throw TypeError("Not a function");d(b,v,function(U,L){_(L)},k)})}),M})},6131:function(te){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var z=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;function g(i){if(i==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(i)}function s(){try{if(!Object.assign)return!1;var i=new String("abc");if(i[5]="de",Object.getOwnPropertyNames(i)[0]==="5")return!1;for(var r={},f=0;f<10;f++)r["_"+String.fromCharCode(f)]=f;var o=Object.getOwnPropertyNames(r).map(function(t){return r[t]});if(o.join("")!=="0123456789")return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),Object.keys(Object.assign({},n)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}te.exports=s()?Object.assign:function(i,r){for(var f,o=g(i),n,t=1;t<arguments.length;t++){f=Object(arguments[t]);for(var u in f)e.call(f,u)&&(o[u]=f[u]);if(z){n=z(f);for(var h=0;h<n.length;h++)l.call(f,n[h])&&(o[n[h]]=f[n[h]])}}return o}},5616:function(te){te.exports=l;var z={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function l(i){var r=[];return i.replace(e,function(f,o,n){var t=o.toLowerCase();for(n=s(n),t=="m"&&n.length>2&&(r.push([o].concat(n.splice(0,2))),t="l",o=o=="m"?"l":"L");;){if(n.length==z[t])return n.unshift(o),r.push(n);if(n.length<z[t])throw new Error("malformed path data");r.push([o].concat(n.splice(0,z[t])))}}),r}var g=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function s(i){var r=i.match(g);return r?r.map(Number):[]}},8258:function(te){te.exports=function(e,l,g,s){var i=e[0],r=e[1],f=!1;g===void 0&&(g=0),s===void 0&&(s=l.length);for(var o=s-g,n=0,t=o-1;n<o;t=n++){var u=l[n+g][0],h=l[n+g][1],m=l[t+g][0],y=l[t+g][1],d=h>r!=y>r&&i<(m-u)*(r-h)/(y-h)+u;d&&(f=!f)}return f}},2142:function(te,z,e){/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var l=e(9444),g=e(9023),s=e(7263),i=e(1328),r=e(5968),f=e(670),o=!1,n=g(),t;t={buildLog:function(h){return h===!0?o=l():h===!1&&(o=!1),o===!1?!1:o.list},epsilon:function(h){return n.epsilon(h)},segments:function(h){var m=s(!0,n,o);return h.regions.forEach(m.addRegion),{segments:m.calculate(h.inverted),inverted:h.inverted}},combine:function(h,m){var y=s(!1,n,o);return{combined:y.calculate(h.segments,h.inverted,m.segments,m.inverted),inverted1:h.inverted,inverted2:m.inverted}},selectUnion:function(h){return{segments:r.union(h.combined,o),inverted:h.inverted1||h.inverted2}},selectIntersect:function(h){return{segments:r.intersect(h.combined,o),inverted:h.inverted1&&h.inverted2}},selectDifference:function(h){return{segments:r.difference(h.combined,o),inverted:h.inverted1&&!h.inverted2}},selectDifferenceRev:function(h){return{segments:r.differenceRev(h.combined,o),inverted:!h.inverted1&&h.inverted2}},selectXor:function(h){return{segments:r.xor(h.combined,o),inverted:h.inverted1!==h.inverted2}},polygon:function(h){return{regions:i(h.segments,n,o),inverted:h.inverted}},polygonFromGeoJSON:function(h){return f.toPolygon(t,h)},polygonToGeoJSON:function(h){return f.fromPolygon(t,n,h)},union:function(h,m){return u(h,m,t.selectUnion)},intersect:function(h,m){return u(h,m,t.selectIntersect)},difference:function(h,m){return u(h,m,t.selectDifference)},differenceRev:function(h,m){return u(h,m,t.selectDifferenceRev)},xor:function(h,m){return u(h,m,t.selectXor)}};function u(h,m,y){var d=t.segments(h),T=t.segments(m),x=t.combine(d,T),M=y(x);return t.polygon(M)}typeof window=="object"&&(window.PolyBool=t),te.exports=t},9444:function(te){function z(){var e,l=0,g=!1;function s(i,r){return e.list.push({type:i,data:r?JSON.parse(JSON.stringify(r)):void 0}),e}return e={list:[],segmentId:function(){return l++},checkIntersection:function(i,r){return s("check",{seg1:i,seg2:r})},segmentChop:function(i,r){return s("div_seg",{seg:i,pt:r}),s("chop",{seg:i,pt:r})},statusRemove:function(i){return s("pop_seg",{seg:i})},segmentUpdate:function(i){return s("seg_update",{seg:i})},segmentNew:function(i,r){return s("new_seg",{seg:i,primary:r})},segmentRemove:function(i){return s("rem_seg",{seg:i})},tempStatus:function(i,r,f){return s("temp_status",{seg:i,above:r,below:f})},rewind:function(i){return s("rewind",{seg:i})},status:function(i,r,f){return s("status",{seg:i,above:r,below:f})},vert:function(i){return i===g?e:(g=i,s("vert",{x:i}))},log:function(i){return typeof i!="string"&&(i=JSON.stringify(i,!1,"  ")),s("log",{txt:i})},reset:function(){return s("reset")},selected:function(i){return s("selected",{segs:i})},chainStart:function(i){return s("chain_start",{seg:i})},chainRemoveHead:function(i,r){return s("chain_rem_head",{index:i,pt:r})},chainRemoveTail:function(i,r){return s("chain_rem_tail",{index:i,pt:r})},chainNew:function(i,r){return s("chain_new",{pt1:i,pt2:r})},chainMatch:function(i){return s("chain_match",{index:i})},chainClose:function(i){return s("chain_close",{index:i})},chainAddHead:function(i,r){return s("chain_add_head",{index:i,pt:r})},chainAddTail:function(i,r){return s("chain_add_tail",{index:i,pt:r})},chainConnect:function(i,r){return s("chain_con",{index1:i,index2:r})},chainReverse:function(i){return s("chain_rev",{index:i})},chainJoin:function(i,r){return s("chain_join",{index1:i,index2:r})},done:function(){return s("done")}},e}te.exports=z},9023:function(te){function z(e){typeof e!="number"&&(e=1e-10);var l={epsilon:function(g){return typeof g=="number"&&(e=g),e},pointAboveOrOnLine:function(g,s,i){var r=s[0],f=s[1],o=i[0],n=i[1],t=g[0],u=g[1];return(o-r)*(u-f)-(n-f)*(t-r)>=-e},pointBetween:function(g,s,i){var r=g[1]-s[1],f=i[0]-s[0],o=g[0]-s[0],n=i[1]-s[1],t=o*f+r*n;if(t<e)return!1;var u=f*f+n*n;return!(t-u>-e)},pointsSameX:function(g,s){return Math.abs(g[0]-s[0])<e},pointsSameY:function(g,s){return Math.abs(g[1]-s[1])<e},pointsSame:function(g,s){return l.pointsSameX(g,s)&&l.pointsSameY(g,s)},pointsCompare:function(g,s){return l.pointsSameX(g,s)?l.pointsSameY(g,s)?0:g[1]<s[1]?-1:1:g[0]<s[0]?-1:1},pointsCollinear:function(g,s,i){var r=g[0]-s[0],f=g[1]-s[1],o=s[0]-i[0],n=s[1]-i[1];return Math.abs(r*n-o*f)<e},linesIntersect:function(g,s,i,r){var f=s[0]-g[0],o=s[1]-g[1],n=r[0]-i[0],t=r[1]-i[1],u=f*t-o*n;if(Math.abs(u)<e)return!1;var h=g[0]-i[0],m=g[1]-i[1],y=(n*m-t*h)/u,d=(f*m-o*h)/u,T={alongA:0,alongB:0,pt:[g[0]+y*f,g[1]+y*o]};return y<=-e?T.alongA=-2:y<e?T.alongA=-1:y-1<=-e?T.alongA=0:y-1<e?T.alongA=1:T.alongA=2,d<=-e?T.alongB=-2:d<e?T.alongB=-1:d-1<=-e?T.alongB=0:d-1<e?T.alongB=1:T.alongB=2,T},pointInsideRegion:function(g,s){for(var i=g[0],r=g[1],f=s[s.length-1][0],o=s[s.length-1][1],n=!1,t=0;t<s.length;t++){var u=s[t][0],h=s[t][1];h-r>e!=o-r>e&&(f-u)*(r-h)/(o-h)+u-i>e&&(n=!n),f=u,o=h}return n}};return l}te.exports=z},670:function(te){var z={toPolygon:function(e,l){function g(r){if(r.length<=0)return e.segments({inverted:!1,regions:[]});function f(t){var u=t.slice(0,t.length-1);return e.segments({inverted:!1,regions:[u]})}for(var o=f(r[0]),n=1;n<r.length;n++)o=e.selectDifference(e.combine(o,f(r[n])));return o}if(l.type==="Polygon")return e.polygon(g(l.coordinates));if(l.type==="MultiPolygon"){for(var s=e.segments({inverted:!1,regions:[]}),i=0;i<l.coordinates.length;i++)s=e.selectUnion(e.combine(s,g(l.coordinates[i])));return e.polygon(s)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,l,g){g=e.polygon(e.segments(g));function s(y,d){return l.pointInsideRegion([(y[0][0]+y[1][0])*.5,(y[0][1]+y[1][1])*.5],d)}function i(y){return{region:y,children:[]}}var r=i(null);function f(y,d){for(var T=0;T<y.children.length;T++){var x=y.children[T];if(s(d,x.region)){f(x,d);return}}for(var M=i(d),T=0;T<y.children.length;T++){var x=y.children[T];s(x.region,d)&&(M.children.push(x),y.children.splice(T,1),T--)}y.children.push(M)}for(var o=0;o<g.regions.length;o++){var n=g.regions[o];n.length<3||f(r,n)}function t(y,d){for(var T=0,x=y[y.length-1][0],M=y[y.length-1][1],c=[],p=0;p<y.length;p++){var v=y[p][0],b=y[p][1];c.push([v,b]),T+=b*x-v*M,x=v,M=b}var w=T<0;return w!==d&&c.reverse(),c.push([c[0][0],c[0][1]]),c}var u=[];function h(y){var d=[t(y.region,!1)];u.push(d);for(var T=0;T<y.children.length;T++)d.push(m(y.children[T]))}function m(y){for(var d=0;d<y.children.length;d++)h(y.children[d]);return t(y.region,!0)}for(var o=0;o<r.children.length;o++)h(r.children[o]);return u.length<=0?{type:"Polygon",coordinates:[]}:u.length==1?{type:"Polygon",coordinates:u[0]}:{type:"MultiPolygon",coordinates:u}}};te.exports=z},7263:function(te,z,e){var l=e(6859);function g(s,i,r){function f(M,c){return{id:r?r.segmentId():-1,start:M,end:c,myFill:{above:null,below:null},otherFill:null}}function o(M,c,p){return{id:r?r.segmentId():-1,start:M,end:c,myFill:{above:p.myFill.above,below:p.myFill.below},otherFill:null}}var n=l.create();function t(M,c,p,v,b,w){var _=i.pointsCompare(c,b);return _!==0?_:i.pointsSame(p,w)?0:M!==v?M?1:-1:i.pointAboveOrOnLine(p,v?b:w,v?w:b)?1:-1}function u(M,c){n.insertBefore(M,function(p){var v=t(M.isStart,M.pt,c,p.isStart,p.pt,p.other.pt);return v<0})}function h(M,c){var p=l.node({isStart:!0,pt:M.start,seg:M,primary:c,other:null,status:null});return u(p,M.end),p}function m(M,c,p){var v=l.node({isStart:!1,pt:c.end,seg:c,primary:p,other:M,status:null});M.other=v,u(v,M.pt)}function y(M,c){var p=h(M,c);return m(p,M,c),p}function d(M,c){r&&r.segmentChop(M.seg,c),M.other.remove(),M.seg.end=c,M.other.pt=c,u(M.other,M.pt)}function T(M,c){var p=o(c,M.seg.end,M.seg);return d(M,c),y(p,M.primary)}function x(M,c){var p=l.create();function v(N,F){var G=N.seg.start,W=N.seg.end,X=F.seg.start,J=F.seg.end;return i.pointsCollinear(G,X,J)?i.pointsCollinear(W,X,J)||i.pointAboveOrOnLine(W,X,J)?1:-1:i.pointAboveOrOnLine(G,X,J)?1:-1}function b(N){return p.findTransition(function(F){var G=v(N,F.ev);return G>0})}function w(N,F){var G=N.seg,W=F.seg,X=G.start,J=G.end,ne=W.start,ue=W.end;r&&r.checkIntersection(G,W);var ye=i.linesIntersect(X,J,ne,ue);if(ye===!1){if(!i.pointsCollinear(X,J,ne)||i.pointsSame(X,ue)||i.pointsSame(J,ne))return!1;var Me=i.pointsSame(X,ne),oe=i.pointsSame(J,ue);if(Me&&oe)return F;var ve=!Me&&i.pointBetween(X,ne,ue),H=!oe&&i.pointBetween(J,ne,ue);if(Me)return H?T(F,J):T(N,ue),F;ve&&(oe||(H?T(F,J):T(N,ue)),T(F,X))}else ye.alongA===0&&(ye.alongB===-1?T(N,ne):ye.alongB===0?T(N,ye.pt):ye.alongB===1&&T(N,ue)),ye.alongB===0&&(ye.alongA===-1?T(F,X):ye.alongA===0?T(F,ye.pt):ye.alongA===1&&T(F,J));return!1}for(var _=[];!n.isEmpty();){var k=n.getHead();if(r&&r.vert(k.pt[0]),k.isStart){let N=function(){if(U){var F=w(k,U);if(F)return F}return L?w(k,L):!1};r&&r.segmentNew(k.seg,k.primary);var B=b(k),U=B.before?B.before.ev:null,L=B.after?B.after.ev:null;r&&r.tempStatus(k.seg,U?U.seg:!1,L?L.seg:!1);var O=N();if(O){if(s){var R;k.seg.myFill.below===null?R=!0:R=k.seg.myFill.above!==k.seg.myFill.below,R&&(O.seg.myFill.above=!O.seg.myFill.above)}else O.seg.otherFill=k.seg.myFill;r&&r.segmentUpdate(O.seg),k.other.remove(),k.remove()}if(n.getHead()!==k){r&&r.rewind(k.seg);continue}if(s){var R;k.seg.myFill.below===null?R=!0:R=k.seg.myFill.above!==k.seg.myFill.below,L?k.seg.myFill.below=L.seg.myFill.above:k.seg.myFill.below=M,R?k.seg.myFill.above=!k.seg.myFill.below:k.seg.myFill.above=k.seg.myFill.below}else if(k.seg.otherFill===null){var Z;L?k.primary===L.primary?Z=L.seg.otherFill.above:Z=L.seg.myFill.above:Z=k.primary?c:M,k.seg.otherFill={above:Z,below:Z}}r&&r.status(k.seg,U?U.seg:!1,L?L.seg:!1),k.other.status=B.insert(l.node({ev:k}))}else{var $=k.status;if($===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(p.exists($.prev)&&p.exists($.next)&&w($.prev.ev,$.next.ev),r&&r.statusRemove($.ev.seg),$.remove(),!k.primary){var ie=k.seg.myFill;k.seg.myFill=k.seg.otherFill,k.seg.otherFill=ie}_.push(k.seg)}n.getHead().remove()}return r&&r.done(),_}return s?{addRegion:function(M){for(var c,p=M[M.length-1],v=0;v<M.length;v++){c=p,p=M[v];var b=i.pointsCompare(c,p);b!==0&&y(f(b<0?c:p,b<0?p:c),!0)}},calculate:function(M){return x(M,!1)}}:{calculate:function(M,c,p,v){return M.forEach(function(b){y(o(b.start,b.end,b),!0)}),p.forEach(function(b){y(o(b.start,b.end,b),!1)}),x(c,v)}}}te.exports=g},6859:function(te){var z={create:function(){var e={root:{root:!0,next:null},exists:function(l){return!(l===null||l===e.root)},isEmpty:function(){return e.root.next===null},getHead:function(){return e.root.next},insertBefore:function(l,g){for(var s=e.root,i=e.root.next;i!==null;){if(g(i)){l.prev=i.prev,l.next=i,i.prev.next=l,i.prev=l;return}s=i,i=i.next}s.next=l,l.prev=s,l.next=null},findTransition:function(l){for(var g=e.root,s=e.root.next;s!==null&&!l(s);)g=s,s=s.next;return{before:g===e.root?null:g,after:s,insert:function(i){return i.prev=g,i.next=s,g.next=i,s!==null&&(s.prev=i),i}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};te.exports=z},1328:function(te){function z(e,l,g){var s=[],i=[];return e.forEach(function(r){var f=r.start,o=r.end;if(l.pointsSame(f,o)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}g&&g.chainStart(r);var n={index:0,matches_head:!1,matches_pt1:!1},t={index:0,matches_head:!1,matches_pt1:!1},u=n;function h(O,R,Z){return u.index=O,u.matches_head=R,u.matches_pt1=Z,u===n?(u=t,!1):(u=null,!0)}for(var m=0;m<s.length;m++){var y=s[m],d=y[0];y[1];var T=y[y.length-1];if(y[y.length-2],l.pointsSame(d,f)){if(h(m,!0,!0))break}else if(l.pointsSame(d,o)){if(h(m,!0,!1))break}else if(l.pointsSame(T,f)){if(h(m,!1,!0))break}else if(l.pointsSame(T,o)&&h(m,!1,!1))break}if(u===n){s.push([f,o]),g&&g.chainNew(f,o);return}if(u===t){g&&g.chainMatch(n.index);var x=n.index,M=n.matches_pt1?o:f,c=n.matches_head,y=s[x],p=c?y[0]:y[y.length-1],v=c?y[1]:y[y.length-2],b=c?y[y.length-1]:y[0],w=c?y[y.length-2]:y[1];if(l.pointsCollinear(v,p,M)&&(c?(g&&g.chainRemoveHead(n.index,M),y.shift()):(g&&g.chainRemoveTail(n.index,M),y.pop()),p=v),l.pointsSame(b,M)){s.splice(x,1),l.pointsCollinear(w,b,p)&&(c?(g&&g.chainRemoveTail(n.index,p),y.pop()):(g&&g.chainRemoveHead(n.index,p),y.shift())),g&&g.chainClose(n.index),i.push(y);return}c?(g&&g.chainAddHead(n.index,M),y.unshift(M)):(g&&g.chainAddTail(n.index,M),y.push(M));return}function _(O){g&&g.chainReverse(O),s[O].reverse()}function k(O,R){var Z=s[O],$=s[R],ie=Z[Z.length-1],N=Z[Z.length-2],F=$[0],G=$[1];l.pointsCollinear(N,ie,F)&&(g&&g.chainRemoveTail(O,ie),Z.pop(),ie=N),l.pointsCollinear(ie,F,G)&&(g&&g.chainRemoveHead(R,F),$.shift()),g&&g.chainJoin(O,R),s[O]=Z.concat($),s.splice(R,1)}var B=n.index,U=t.index;g&&g.chainConnect(B,U);var L=s[B].length<s[U].length;n.matches_head?t.matches_head?L?(_(B),k(B,U)):(_(U),k(U,B)):k(U,B):t.matches_head?k(B,U):L?(_(B),k(U,B)):(_(U),k(B,U))}),i}te.exports=z},5968:function(te){function z(l,g,s){var i=[];return l.forEach(function(r){var f=(r.myFill.above?8:0)+(r.myFill.below?4:0)+(r.otherFill&&r.otherFill.above?2:0)+(r.otherFill&&r.otherFill.below?1:0);g[f]!==0&&i.push({id:s?s.segmentId():-1,start:r.start,end:r.end,myFill:{above:g[f]===1,below:g[f]===2},otherFill:null})}),s&&s.selected(i),i}var e={union:function(l,g){return z(l,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],g)},intersect:function(l,g){return z(l,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],g)},difference:function(l,g){return z(l,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],g)},differenceRev:function(l,g){return z(l,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],g)},xor:function(l,g){return z(l,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],g)}};te.exports=e},4267:function(te,z,e){var l;(function(g){var s=/^\s+/,i=/\s+$/,r=0,f=g.round,o=g.min,n=g.max,t=g.random;function u(C,K){if(C=C||"",K=K||{},C instanceof u)return C;if(!(this instanceof u))return new u(C,K);var P=h(C);this._originalInput=C,this._r=P.r,this._g=P.g,this._b=P.b,this._a=P.a,this._roundA=f(100*this._a)/100,this._format=K.format||P.format,this._gradientType=K.gradientType,this._r<1&&(this._r=f(this._r)),this._g<1&&(this._g=f(this._g)),this._b<1&&(this._b=f(this._b)),this._ok=P.ok,this._tc_id=r++}u.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var C=this.toRgb();return(C.r*299+C.g*587+C.b*114)/1e3},getLuminance:function(){var C=this.toRgb(),K,P,j,ae,fe,de;return K=C.r/255,P=C.g/255,j=C.b/255,K<=.03928?ae=K/12.92:ae=g.pow((K+.055)/1.055,2.4),P<=.03928?fe=P/12.92:fe=g.pow((P+.055)/1.055,2.4),j<=.03928?de=j/12.92:de=g.pow((j+.055)/1.055,2.4),.2126*ae+.7152*fe+.0722*de},setAlpha:function(C){return this._a=W(C),this._roundA=f(100*this._a)/100,this},toHsv:function(){var C=T(this._r,this._g,this._b);return{h:C.h*360,s:C.s,v:C.v,a:this._a}},toHsvString:function(){var C=T(this._r,this._g,this._b),K=f(C.h*360),P=f(C.s*100),j=f(C.v*100);return this._a==1?"hsv("+K+", "+P+"%, "+j+"%)":"hsva("+K+", "+P+"%, "+j+"%, "+this._roundA+")"},toHsl:function(){var C=y(this._r,this._g,this._b);return{h:C.h*360,s:C.s,l:C.l,a:this._a}},toHslString:function(){var C=y(this._r,this._g,this._b),K=f(C.h*360),P=f(C.s*100),j=f(C.l*100);return this._a==1?"hsl("+K+", "+P+"%, "+j+"%)":"hsla("+K+", "+P+"%, "+j+"%, "+this._roundA+")"},toHex:function(C){return M(this._r,this._g,this._b,C)},toHexString:function(C){return"#"+this.toHex(C)},toHex8:function(C){return c(this._r,this._g,this._b,this._a,C)},toHex8String:function(C){return"#"+this.toHex8(C)},toRgb:function(){return{r:f(this._r),g:f(this._g),b:f(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+f(this._r)+", "+f(this._g)+", "+f(this._b)+")":"rgba("+f(this._r)+", "+f(this._g)+", "+f(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:f(X(this._r,255)*100)+"%",g:f(X(this._g,255)*100)+"%",b:f(X(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+f(X(this._r,255)*100)+"%, "+f(X(this._g,255)*100)+"%, "+f(X(this._b,255)*100)+"%)":"rgba("+f(X(this._r,255)*100)+"%, "+f(X(this._g,255)*100)+"%, "+f(X(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:F[M(this._r,this._g,this._b,!0)]||!1},toFilter:function(C){var K="#"+p(this._r,this._g,this._b,this._a),P=K,j=this._gradientType?"GradientType = 1, ":"";if(C){var ae=u(C);P="#"+p(ae._r,ae._g,ae._b,ae._a)}return"progid:DXImageTransform.Microsoft.gradient("+j+"startColorstr="+K+",endColorstr="+P+")"},toString:function(C){var K=!!C;C=C||this._format;var P=!1,j=this._a<1&&this._a>=0,ae=!K&&j&&(C==="hex"||C==="hex6"||C==="hex3"||C==="hex4"||C==="hex8"||C==="name");return ae?C==="name"&&this._a===0?this.toName():this.toRgbString():(C==="rgb"&&(P=this.toRgbString()),C==="prgb"&&(P=this.toPercentageRgbString()),(C==="hex"||C==="hex6")&&(P=this.toHexString()),C==="hex3"&&(P=this.toHexString(!0)),C==="hex4"&&(P=this.toHex8String(!0)),C==="hex8"&&(P=this.toHex8String()),C==="name"&&(P=this.toName()),C==="hsl"&&(P=this.toHslString()),C==="hsv"&&(P=this.toHsvString()),P||this.toHexString())},clone:function(){return u(this.toString())},_applyModification:function(C,K){var P=C.apply(null,[this].concat([].slice.call(K)));return this._r=P._r,this._g=P._g,this._b=P._b,this.setAlpha(P._a),this},lighten:function(){return this._applyModification(_,arguments)},brighten:function(){return this._applyModification(k,arguments)},darken:function(){return this._applyModification(B,arguments)},desaturate:function(){return this._applyModification(v,arguments)},saturate:function(){return this._applyModification(b,arguments)},greyscale:function(){return this._applyModification(w,arguments)},spin:function(){return this._applyModification(U,arguments)},_applyCombination:function(C,K){return C.apply(null,[this].concat([].slice.call(K)))},analogous:function(){return this._applyCombination($,arguments)},complement:function(){return this._applyCombination(L,arguments)},monochromatic:function(){return this._applyCombination(ie,arguments)},splitcomplement:function(){return this._applyCombination(Z,arguments)},triad:function(){return this._applyCombination(O,arguments)},tetrad:function(){return this._applyCombination(R,arguments)}},u.fromRatio=function(C,K){if(typeof C=="object"){var P={};for(var j in C)C.hasOwnProperty(j)&&(j==="a"?P[j]=C[j]:P[j]=oe(C[j]));C=P}return u(C,K)};function h(C){var K={r:0,g:0,b:0},P=1,j=null,ae=null,fe=null,de=!1,Ce=!1;return typeof C=="string"&&(C=E(C)),typeof C=="object"&&(S(C.r)&&S(C.g)&&S(C.b)?(K=m(C.r,C.g,C.b),de=!0,Ce=String(C.r).substr(-1)==="%"?"prgb":"rgb"):S(C.h)&&S(C.s)&&S(C.v)?(j=oe(C.s),ae=oe(C.v),K=x(C.h,j,ae),de=!0,Ce="hsv"):S(C.h)&&S(C.s)&&S(C.l)&&(j=oe(C.s),fe=oe(C.l),K=d(C.h,j,fe),de=!0,Ce="hsl"),C.hasOwnProperty("a")&&(P=C.a)),P=W(P),{ok:de,format:C.format||Ce,r:o(255,n(K.r,0)),g:o(255,n(K.g,0)),b:o(255,n(K.b,0)),a:P}}function m(C,K,P){return{r:X(C,255)*255,g:X(K,255)*255,b:X(P,255)*255}}function y(C,K,P){C=X(C,255),K=X(K,255),P=X(P,255);var j=n(C,K,P),ae=o(C,K,P),fe,de,Ce=(j+ae)/2;if(j==ae)fe=de=0;else{var De=j-ae;switch(de=Ce>.5?De/(2-j-ae):De/(j+ae),j){case C:fe=(K-P)/De+(K<P?6:0);break;case K:fe=(P-C)/De+2;break;case P:fe=(C-K)/De+4;break}fe/=6}return{h:fe,s:de,l:Ce}}function d(C,K,P){var j,ae,fe;C=X(C,360),K=X(K,100),P=X(P,100);function de(ce,me,pe){return pe<0&&(pe+=1),pe>1&&(pe-=1),pe<.16666666666666666?ce+(me-ce)*6*pe:pe<.5?me:pe<.6666666666666666?ce+(me-ce)*(.6666666666666666-pe)*6:ce}if(K===0)j=ae=fe=P;else{var Ce=P<.5?P*(1+K):P+K-P*K,De=2*P-Ce;j=de(De,Ce,C+.3333333333333333),ae=de(De,Ce,C),fe=de(De,Ce,C-.3333333333333333)}return{r:j*255,g:ae*255,b:fe*255}}function T(C,K,P){C=X(C,255),K=X(K,255),P=X(P,255);var j=n(C,K,P),ae=o(C,K,P),fe,de,Ce=j,De=j-ae;if(de=j===0?0:De/j,j==ae)fe=0;else{switch(j){case C:fe=(K-P)/De+(K<P?6:0);break;case K:fe=(P-C)/De+2;break;case P:fe=(C-K)/De+4;break}fe/=6}return{h:fe,s:de,v:Ce}}function x(C,K,P){C=X(C,360)*6,K=X(K,100),P=X(P,100);var j=g.floor(C),ae=C-j,fe=P*(1-K),de=P*(1-ae*K),Ce=P*(1-(1-ae)*K),De=j%6,ce=[P,de,fe,fe,Ce,P][De],me=[Ce,P,P,de,fe,fe][De],pe=[fe,fe,Ce,P,P,de][De];return{r:ce*255,g:me*255,b:pe*255}}function M(C,K,P,j){var ae=[Me(f(C).toString(16)),Me(f(K).toString(16)),Me(f(P).toString(16))];return j&&ae[0].charAt(0)==ae[0].charAt(1)&&ae[1].charAt(0)==ae[1].charAt(1)&&ae[2].charAt(0)==ae[2].charAt(1)?ae[0].charAt(0)+ae[1].charAt(0)+ae[2].charAt(0):ae.join("")}function c(C,K,P,j,ae){var fe=[Me(f(C).toString(16)),Me(f(K).toString(16)),Me(f(P).toString(16)),Me(ve(j))];return ae&&fe[0].charAt(0)==fe[0].charAt(1)&&fe[1].charAt(0)==fe[1].charAt(1)&&fe[2].charAt(0)==fe[2].charAt(1)&&fe[3].charAt(0)==fe[3].charAt(1)?fe[0].charAt(0)+fe[1].charAt(0)+fe[2].charAt(0)+fe[3].charAt(0):fe.join("")}function p(C,K,P,j){var ae=[Me(ve(j)),Me(f(C).toString(16)),Me(f(K).toString(16)),Me(f(P).toString(16))];return ae.join("")}u.equals=function(C,K){return!C||!K?!1:u(C).toRgbString()==u(K).toRgbString()},u.random=function(){return u.fromRatio({r:t(),g:t(),b:t()})};function v(C,K){K=K===0?0:K||10;var P=u(C).toHsl();return P.s-=K/100,P.s=J(P.s),u(P)}function b(C,K){K=K===0?0:K||10;var P=u(C).toHsl();return P.s+=K/100,P.s=J(P.s),u(P)}function w(C){return u(C).desaturate(100)}function _(C,K){K=K===0?0:K||10;var P=u(C).toHsl();return P.l+=K/100,P.l=J(P.l),u(P)}function k(C,K){K=K===0?0:K||10;var P=u(C).toRgb();return P.r=n(0,o(255,P.r-f(255*-(K/100)))),P.g=n(0,o(255,P.g-f(255*-(K/100)))),P.b=n(0,o(255,P.b-f(255*-(K/100)))),u(P)}function B(C,K){K=K===0?0:K||10;var P=u(C).toHsl();return P.l-=K/100,P.l=J(P.l),u(P)}function U(C,K){var P=u(C).toHsl(),j=(P.h+K)%360;return P.h=j<0?360+j:j,u(P)}function L(C){var K=u(C).toHsl();return K.h=(K.h+180)%360,u(K)}function O(C){var K=u(C).toHsl(),P=K.h;return[u(C),u({h:(P+120)%360,s:K.s,l:K.l}),u({h:(P+240)%360,s:K.s,l:K.l})]}function R(C){var K=u(C).toHsl(),P=K.h;return[u(C),u({h:(P+90)%360,s:K.s,l:K.l}),u({h:(P+180)%360,s:K.s,l:K.l}),u({h:(P+270)%360,s:K.s,l:K.l})]}function Z(C){var K=u(C).toHsl(),P=K.h;return[u(C),u({h:(P+72)%360,s:K.s,l:K.l}),u({h:(P+216)%360,s:K.s,l:K.l})]}function $(C,K,P){K=K||6,P=P||30;var j=u(C).toHsl(),ae=360/P,fe=[u(C)];for(j.h=(j.h-(ae*K>>1)+720)%360;--K;)j.h=(j.h+ae)%360,fe.push(u(j));return fe}function ie(C,K){K=K||6;for(var P=u(C).toHsv(),j=P.h,ae=P.s,fe=P.v,de=[],Ce=1/K;K--;)de.push(u({h:j,s:ae,v:fe})),fe=(fe+Ce)%1;return de}u.mix=function(C,K,P){P=P===0?0:P||50;var j=u(C).toRgb(),ae=u(K).toRgb(),fe=P/100,de={r:(ae.r-j.r)*fe+j.r,g:(ae.g-j.g)*fe+j.g,b:(ae.b-j.b)*fe+j.b,a:(ae.a-j.a)*fe+j.a};return u(de)},u.readability=function(C,K){var P=u(C),j=u(K);return(g.max(P.getLuminance(),j.getLuminance())+.05)/(g.min(P.getLuminance(),j.getLuminance())+.05)},u.isReadable=function(C,K,P){var j=u.readability(C,K),ae,fe;switch(fe=!1,ae=I(P),ae.level+ae.size){case"AAsmall":case"AAAlarge":fe=j>=4.5;break;case"AAlarge":fe=j>=3;break;case"AAAsmall":fe=j>=7;break}return fe},u.mostReadable=function(C,K,P){var j=null,ae=0,fe,de,Ce,De;P=P||{},de=P.includeFallbackColors,Ce=P.level,De=P.size;for(var ce=0;ce<K.length;ce++)fe=u.readability(C,K[ce]),fe>ae&&(ae=fe,j=u(K[ce]));return u.isReadable(C,j,{level:Ce,size:De})||!de?j:(P.includeFallbackColors=!1,u.mostReadable(C,["#fff","#000"],P))};var N=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},F=u.hexNames=G(N);function G(C){var K={};for(var P in C)C.hasOwnProperty(P)&&(K[C[P]]=P);return K}function W(C){return C=parseFloat(C),(isNaN(C)||C<0||C>1)&&(C=1),C}function X(C,K){ue(C)&&(C="100%");var P=ye(C);return C=o(K,n(0,parseFloat(C))),P&&(C=parseInt(C*K,10)/100),g.abs(C-K)<1e-6?1:C%K/parseFloat(K)}function J(C){return o(1,n(0,C))}function ne(C){return parseInt(C,16)}function ue(C){return typeof C=="string"&&C.indexOf(".")!=-1&&parseFloat(C)===1}function ye(C){return typeof C=="string"&&C.indexOf("%")!=-1}function Me(C){return C.length==1?"0"+C:""+C}function oe(C){return C<=1&&(C=C*100+"%"),C}function ve(C){return g.round(parseFloat(C)*255).toString(16)}function H(C){return ne(C)/255}var Y=function(){var C="[-\\+]?\\d+%?",K="[-\\+]?\\d*\\.\\d+%?",P="(?:"+K+")|(?:"+C+")",j="[\\s|\\(]+("+P+")[,|\\s]+("+P+")[,|\\s]+("+P+")\\s*\\)?",ae="[\\s|\\(]+("+P+")[,|\\s]+("+P+")[,|\\s]+("+P+")[,|\\s]+("+P+")\\s*\\)?";return{CSS_UNIT:new RegExp(P),rgb:new RegExp("rgb"+j),rgba:new RegExp("rgba"+ae),hsl:new RegExp("hsl"+j),hsla:new RegExp("hsla"+ae),hsv:new RegExp("hsv"+j),hsva:new RegExp("hsva"+ae),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function S(C){return!!Y.CSS_UNIT.exec(C)}function E(C){C=C.replace(s,"").replace(i,"").toLowerCase();var K=!1;if(N[C])C=N[C],K=!0;else if(C=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var P;return(P=Y.rgb.exec(C))?{r:P[1],g:P[2],b:P[3]}:(P=Y.rgba.exec(C))?{r:P[1],g:P[2],b:P[3],a:P[4]}:(P=Y.hsl.exec(C))?{h:P[1],s:P[2],l:P[3]}:(P=Y.hsla.exec(C))?{h:P[1],s:P[2],l:P[3],a:P[4]}:(P=Y.hsv.exec(C))?{h:P[1],s:P[2],v:P[3]}:(P=Y.hsva.exec(C))?{h:P[1],s:P[2],v:P[3],a:P[4]}:(P=Y.hex8.exec(C))?{r:ne(P[1]),g:ne(P[2]),b:ne(P[3]),a:H(P[4]),format:K?"name":"hex8"}:(P=Y.hex6.exec(C))?{r:ne(P[1]),g:ne(P[2]),b:ne(P[3]),format:K?"name":"hex"}:(P=Y.hex4.exec(C))?{r:ne(P[1]+""+P[1]),g:ne(P[2]+""+P[2]),b:ne(P[3]+""+P[3]),a:H(P[4]+""+P[4]),format:K?"name":"hex8"}:(P=Y.hex3.exec(C))?{r:ne(P[1]+""+P[1]),g:ne(P[2]+""+P[2]),b:ne(P[3]+""+P[3]),format:K?"name":"hex"}:!1}function I(C){var K,P;return C=C||{level:"AA",size:"small"},K=(C.level||"AA").toUpperCase(),P=(C.size||"small").toLowerCase(),K!=="AA"&&K!=="AAA"&&(K="AA"),P!=="small"&&P!=="large"&&(P="small"),{level:K,size:P}}te.exports?te.exports=u:(l=(function(){return u}).call(z,e,z,te),l!==void 0&&(te.exports=l))})(Math)},3961:function(te,z,e){var l=e(3489),g=e(6131),s=l.instance();function i(y){this.local=this.regionalOptions[y||""]||this.regionalOptions[""]}i.prototype=new l.baseCalendar,g(i.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(y,d){if(typeof y=="string"){var T=y.match(f);return T?T[0]:""}var x=this._validateYear(y),M=y.month(),c=""+this.toChineseMonth(x,M);return d&&c.length<2&&(c="0"+c),this.isIntercalaryMonth(x,M)&&(c+="i"),c},monthNames:function(y){if(typeof y=="string"){var d=y.match(o);return d?d[0]:""}var T=this._validateYear(y),x=y.month(),M=this.toChineseMonth(T,x),c=["","","","","","","","","","","",""][M-1];return this.isIntercalaryMonth(T,x)&&(c=""+c),c},monthNamesShort:function(y){if(typeof y=="string"){var d=y.match(n);return d?d[0]:""}var T=this._validateYear(y),x=y.month(),M=this.toChineseMonth(T,x),c=["","","","","","","","","","","",""][M-1];return this.isIntercalaryMonth(T,x)&&(c=""+c),c},parseMonth:function(y,d){y=this._validateYear(y);var T=parseInt(d),x;if(isNaN(T))d[0]===""&&(x=!0,d=d.substring(1)),d[d.length-1]===""&&(d=d.substring(0,d.length-1)),T=1+["","","","","","","","","","","",""].indexOf(d);else{var M=d[d.length-1];x=M==="i"||M==="I"}var c=this.toMonthIndex(y,T,x);return c},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(y,d){if(y.year&&(y=y.year()),typeof y!="number"||y<1888||y>2111)throw d.replace(/\{0\}/,this.local.name);return y},toMonthIndex:function(y,d,T){var x=this.intercalaryMonth(y),M=T&&d!==x;if(M||d<1||d>12)throw l.local.invalidMonth.replace(/\{0\}/,this.local.name);var c;return x?!T&&d<=x?c=d-1:c=d:c=d-1,c},toChineseMonth:function(y,d){y.year&&(y=y.year(),d=y.month());var T=this.intercalaryMonth(y),x=T?12:11;if(d<0||d>x)throw l.local.invalidMonth.replace(/\{0\}/,this.local.name);var M;return T?d<T?M=d+1:M=d:M=d+1,M},intercalaryMonth:function(y){y=this._validateYear(y);var d=t[y-t[0]],T=d>>13;return T},isIntercalaryMonth:function(y,d){y.year&&(y=y.year(),d=y.month());var T=this.intercalaryMonth(y);return!!T&&T===d},leapYear:function(y){return this.intercalaryMonth(y)!==0},weekOfYear:function(y,d,T){var x=this._validateYear(y,l.local.invalidyear),M=u[x-u[0]],c=M>>9&4095,p=M>>5&15,v=M&31,b;b=s.newDate(c,p,v),b.add(4-(b.dayOfWeek()||7),"d");var w=this.toJD(y,d,T)-b.toJD();return 1+Math.floor(w/7)},monthsInYear:function(y){return this.leapYear(y)?13:12},daysInMonth:function(y,d){y.year&&(d=y.month(),y=y.year()),y=this._validateYear(y);var T=t[y-t[0]],x=T>>13,M=x?12:11;if(d>M)throw l.local.invalidMonth.replace(/\{0\}/,this.local.name);var c=T&1<<12-d?30:29;return c},weekDay:function(y,d,T){return(this.dayOfWeek(y,d,T)||7)<6},toJD:function(y,d,T){var x=this._validate(y,c,T,l.local.invalidDate);y=this._validateYear(x.year()),d=x.month(),T=x.day();var M=this.isIntercalaryMonth(y,d),c=this.toChineseMonth(y,d),p=m(y,c,T,M);return s.toJD(p.year,p.month,p.day)},fromJD:function(y){var d=s.fromJD(y),T=h(d.year(),d.month(),d.day()),x=this.toMonthIndex(T.year,T.month,T.isIntercalary);return this.newDate(T.year,x,T.day)},fromString:function(y){var d=y.match(r),T=this._validateYear(+d[1]),x=+d[2],M=!!d[3],c=this.toMonthIndex(T,x,M),p=+d[4];return this.newDate(T,c,p)},add:function(y,d,T){var x=y.year(),M=y.month(),c=this.isIntercalaryMonth(x,M),p=this.toChineseMonth(x,M),v=Object.getPrototypeOf(i.prototype).add.call(this,y,d,T);if(T==="y"){var b=v.year(),w=v.month(),_=this.isIntercalaryMonth(b,p),k=c&&_?this.toMonthIndex(b,p,!0):this.toMonthIndex(b,p,!1);k!==w&&v.month(k)}return v}});var r=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,f=/^\d?\d[iI]?/m,o=/^??[]?/m,n=/^??[]?/m;l.calendars.chinese=i;var t=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],u=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function h(y,d,T,x){var M,c;if(typeof y=="object")M=y,c=d||{};else{var p=typeof y=="number"&&y>=1888&&y<=2111;if(!p)throw new Error("Solar year outside range 1888-2111");var v=typeof d=="number"&&d>=1&&d<=12;if(!v)throw new Error("Solar month outside range 1 - 12");var b=typeof T=="number"&&T>=1&&T<=31;if(!b)throw new Error("Solar day outside range 1 - 31");M={year:y,month:d,day:T},c=x||{}}var w=u[M.year-u[0]],_=M.year<<9|M.month<<5|M.day;c.year=_>=w?M.year:M.year-1,w=u[c.year-u[0]];var k=w>>9&4095,B=w>>5&15,U=w&31,L,O=new Date(k,B-1,U),R=new Date(M.year,M.month-1,M.day);L=Math.round((R-O)/864e5);var Z=t[c.year-t[0]],$;for($=0;$<13;$++){var ie=Z&1<<12-$?30:29;if(L<ie)break;L-=ie}var N=Z>>13;return!N||$<N?(c.isIntercalary=!1,c.month=1+$):$===N?(c.isIntercalary=!0,c.month=$):(c.isIntercalary=!1,c.month=$),c.day=1+L,c}function m(y,d,T,x,M){var c,p;if(typeof y=="object")p=y,c=d||{};else{var v=typeof y=="number"&&y>=1888&&y<=2111;if(!v)throw new Error("Lunar year outside range 1888-2111");var b=typeof d=="number"&&d>=1&&d<=12;if(!b)throw new Error("Lunar month outside range 1 - 12");var w=typeof T=="number"&&T>=1&&T<=30;if(!w)throw new Error("Lunar day outside range 1 - 30");var _;typeof x=="object"?(_=!1,c=x):(_=!!x,c=M||{}),p={year:y,month:d,day:T,isIntercalary:_}}var k;k=p.day-1;var B=t[p.year-t[0]],U=B>>13,L;U&&(p.month>U||p.isIntercalary)?L=p.month:L=p.month-1;for(var O=0;O<L;O++){var R=B&1<<12-O?30:29;k+=R}var Z=u[p.year-u[0]],$=Z>>9&4095,ie=Z>>5&15,N=Z&31,F=new Date($,ie-1,N+k);return c.year=F.getFullYear(),c.month=1+F.getMonth(),c.day=F.getDate(),c}},8751:function(te,z,e){var l=e(3489),g=e(6131);function s(i){this.local=this.regionalOptions[i||""]||this.regionalOptions[""]}s.prototype=new l.baseCalendar,g(s.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(f){var r=this._validate(f,this.minMonth,this.minDay,l.local.invalidYear),f=r.year()+(r.year()<0?1:0);return f%4===3||f%4===-1},monthsInYear:function(i){return this._validate(i,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[""].invalidYear),13},weekOfYear:function(i,r,f){var o=this.newDate(i,r,f);return o.add(-o.dayOfWeek(),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInMonth:function(i,r){var f=this._validate(i,r,this.minDay,l.local.invalidMonth);return this.daysPerMonth[f.month()-1]+(f.month()===13&&this.leapYear(f.year())?1:0)},weekDay:function(i,r,f){return(this.dayOfWeek(i,r,f)||7)<6},toJD:function(i,r,f){var o=this._validate(i,r,f,l.local.invalidDate);return i=o.year(),i<0&&i++,o.day()+(o.month()-1)*30+(i-1)*365+Math.floor(i/4)+this.jdEpoch-1},fromJD:function(i){var r=Math.floor(i)+.5-this.jdEpoch,f=Math.floor((r-Math.floor((r+366)/1461))/365)+1;f<=0&&f--,r=Math.floor(i)+.5-this.newDate(f,1,1).toJD();var o=Math.floor(r/30)+1,n=r-(o-1)*30+1;return this.newDate(f,o,n)}}),l.calendars.coptic=s},6825:function(te,z,e){var l=e(3489),g=e(6131);function s(r){this.local=this.regionalOptions[r||""]||this.regionalOptions[""]}s.prototype=new l.baseCalendar,g(s.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(r){return this._validate(r,this.minMonth,this.minDay,l.local.invalidYear),!1},monthsInYear:function(r){return this._validate(r,this.minMonth,this.minDay,l.local.invalidYear),13},daysInYear:function(r){return this._validate(r,this.minMonth,this.minDay,l.local.invalidYear),400},weekOfYear:function(r,f,o){var n=this.newDate(r,f,o);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/8)+1},daysInMonth:function(r,f){var o=this._validate(r,f,this.minDay,l.local.invalidMonth);return this.daysPerMonth[o.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(r,f,o){var n=this._validate(r,f,o,l.local.invalidDate);return(n.day()+1)%8},weekDay:function(r,f,o){var n=this.dayOfWeek(r,f,o);return n>=2&&n<=6},extraInfo:function(r,f,o){var n=this._validate(r,f,o,l.local.invalidDate);return{century:i[Math.floor((n.year()-1)/100)+1]||""}},toJD:function(r,f,o){var n=this._validate(r,f,o,l.local.invalidDate);return r=n.year()+(n.year()<0?1:0),f=n.month(),o=n.day(),o+(f>1?16:0)+(f>2?(f-2)*32:0)+(r-1)*400+this.jdEpoch-1},fromJD:function(r){r=Math.floor(r+.5)-Math.floor(this.jdEpoch)-1;var f=Math.floor(r/400)+1;r-=(f-1)*400,r+=r>15?16:0;var o=Math.floor(r/32)+1,n=r-(o-1)*32+1;return this.newDate(f<=0?f-1:f,o,n)}});var i={20:"Fruitbat",21:"Anchovy"};l.calendars.discworld=s},7715:function(te,z,e){var l=e(3489),g=e(6131);function s(i){this.local=this.regionalOptions[i||""]||this.regionalOptions[""]}s.prototype=new l.baseCalendar,g(s.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(f){var r=this._validate(f,this.minMonth,this.minDay,l.local.invalidYear),f=r.year()+(r.year()<0?1:0);return f%4===3||f%4===-1},monthsInYear:function(i){return this._validate(i,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[""].invalidYear),13},weekOfYear:function(i,r,f){var o=this.newDate(i,r,f);return o.add(-o.dayOfWeek(),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInMonth:function(i,r){var f=this._validate(i,r,this.minDay,l.local.invalidMonth);return this.daysPerMonth[f.month()-1]+(f.month()===13&&this.leapYear(f.year())?1:0)},weekDay:function(i,r,f){return(this.dayOfWeek(i,r,f)||7)<6},toJD:function(i,r,f){var o=this._validate(i,r,f,l.local.invalidDate);return i=o.year(),i<0&&i++,o.day()+(o.month()-1)*30+(i-1)*365+Math.floor(i/4)+this.jdEpoch-1},fromJD:function(i){var r=Math.floor(i)+.5-this.jdEpoch,f=Math.floor((r-Math.floor((r+366)/1461))/365)+1;f<=0&&f--,r=Math.floor(i)+.5-this.newDate(f,1,1).toJD();var o=Math.floor(r/30)+1,n=r-(o-1)*30+1;return this.newDate(f,o,n)}}),l.calendars.ethiopian=s},9384:function(te,z,e){var l=e(3489),g=e(6131);function s(r){this.local=this.regionalOptions[r||""]||this.regionalOptions[""]}s.prototype=new l.baseCalendar,g(s.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(r){var f=this._validate(r,this.minMonth,this.minDay,l.local.invalidYear);return this._leapYear(f.year())},_leapYear:function(r){return r=r<0?r+1:r,i(r*7+1,19)<7},monthsInYear:function(r){return this._validate(r,this.minMonth,this.minDay,l.local.invalidYear),this._leapYear(r.year?r.year():r)?13:12},weekOfYear:function(r,f,o){var n=this.newDate(r,f,o);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(r){var f=this._validate(r,this.minMonth,this.minDay,l.local.invalidYear);return r=f.year(),this.toJD(r===-1?1:r+1,7,1)-this.toJD(r,7,1)},daysInMonth:function(r,f){return r.year&&(f=r.month(),r=r.year()),this._validate(r,f,this.minDay,l.local.invalidMonth),f===12&&this.leapYear(r)||f===8&&i(this.daysInYear(r),10)===5?30:f===9&&i(this.daysInYear(r),10)===3?29:this.daysPerMonth[f-1]},weekDay:function(r,f,o){return this.dayOfWeek(r,f,o)!==6},extraInfo:function(r,f,o){var n=this._validate(r,f,o,l.local.invalidDate);return{yearType:(this.leapYear(n)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(n)%10-3]}},toJD:function(r,f,o){var n=this._validate(r,f,o,l.local.invalidDate);r=n.year(),f=n.month(),o=n.day();var t=r<=0?r+1:r,u=this.jdEpoch+this._delay1(t)+this._delay2(t)+o+1;if(f<7){for(var h=7;h<=this.monthsInYear(r);h++)u+=this.daysInMonth(r,h);for(var h=1;h<f;h++)u+=this.daysInMonth(r,h)}else for(var h=7;h<f;h++)u+=this.daysInMonth(r,h);return u},_delay1:function(r){var f=Math.floor((235*r-234)/19),o=12084+13753*f,n=f*29+Math.floor(o/25920);return i(3*(n+1),7)<3&&n++,n},_delay2:function(r){var f=this._delay1(r-1),o=this._delay1(r),n=this._delay1(r+1);return n-o===356?2:o-f===382?1:0},fromJD:function(r){r=Math.floor(r)+.5;for(var f=Math.floor((r-this.jdEpoch)*98496/35975351)-1;r>=this.toJD(f===-1?1:f+1,7,1);)f++;for(var o=r<this.toJD(f,1,1)?7:1;r>this.toJD(f,o,this.daysInMonth(f,o));)o++;var n=r-this.toJD(f,o,1)+1;return this.newDate(f,o,n)}});function i(r,f){return r-f*Math.floor(r/f)}l.calendars.hebrew=s},3805:function(te,z,e){var l=e(3489),g=e(6131);function s(i){this.local=this.regionalOptions[i||""]||this.regionalOptions[""]}s.prototype=new l.baseCalendar,g(s.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khams","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(i){var r=this._validate(i,this.minMonth,this.minDay,l.local.invalidYear);return(r.year()*11+14)%30<11},weekOfYear:function(i,r,f){var o=this.newDate(i,r,f);return o.add(-o.dayOfWeek(),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInYear:function(i){return this.leapYear(i)?355:354},daysInMonth:function(i,r){var f=this._validate(i,r,this.minDay,l.local.invalidMonth);return this.daysPerMonth[f.month()-1]+(f.month()===12&&this.leapYear(f.year())?1:0)},weekDay:function(i,r,f){return this.dayOfWeek(i,r,f)!==5},toJD:function(i,r,f){var o=this._validate(i,r,f,l.local.invalidDate);return i=o.year(),r=o.month(),f=o.day(),i=i<=0?i+1:i,f+Math.ceil(29.5*(r-1))+(i-1)*354+Math.floor((3+11*i)/30)+this.jdEpoch-1},fromJD:function(i){i=Math.floor(i)+.5;var r=Math.floor((30*(i-this.jdEpoch)+10646)/10631);r=r<=0?r-1:r;var f=Math.min(12,Math.ceil((i-29-this.toJD(r,1,1))/29.5)+1),o=i-this.toJD(r,f,1)+1;return this.newDate(r,f,o)}}),l.calendars.islamic=s},8874:function(te,z,e){var l=e(3489),g=e(6131);function s(i){this.local=this.regionalOptions[i||""]||this.regionalOptions[""]}s.prototype=new l.baseCalendar,g(s.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(f){var r=this._validate(f,this.minMonth,this.minDay,l.local.invalidYear),f=r.year()<0?r.year()+1:r.year();return f%4===0},weekOfYear:function(i,r,f){var o=this.newDate(i,r,f);return o.add(4-(o.dayOfWeek()||7),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInMonth:function(i,r){var f=this._validate(i,r,this.minDay,l.local.invalidMonth);return this.daysPerMonth[f.month()-1]+(f.month()===2&&this.leapYear(f.year())?1:0)},weekDay:function(i,r,f){return(this.dayOfWeek(i,r,f)||7)<6},toJD:function(i,r,f){var o=this._validate(i,r,f,l.local.invalidDate);return i=o.year(),r=o.month(),f=o.day(),i<0&&i++,r<=2&&(i--,r+=12),Math.floor(365.25*(i+4716))+Math.floor(30.6001*(r+1))+f-1524.5},fromJD:function(i){var r=Math.floor(i+.5),f=r+1524,o=Math.floor((f-122.1)/365.25),n=Math.floor(365.25*o),t=Math.floor((f-n)/30.6001),u=t-Math.floor(t<14?1:13),h=o-Math.floor(u>2?4716:4715),m=f-n-Math.floor(30.6001*t);return h<=0&&h--,this.newDate(h,u,m)}}),l.calendars.julian=s},3290:function(te,z,e){var l=e(3489),g=e(6131);function s(f){this.local=this.regionalOptions[f||""]||this.regionalOptions[""]}s.prototype=new l.baseCalendar,g(s.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(f){return this._validate(f,this.minMonth,this.minDay,l.local.invalidYear),!1},formatYear:function(f){var o=this._validate(f,this.minMonth,this.minDay,l.local.invalidYear);f=o.year();var n=Math.floor(f/400);f=f%400,f+=f<0?400:0;var t=Math.floor(f/20);return n+"."+t+"."+f%20},forYear:function(f){if(f=f.split("."),f.length<3)throw"Invalid Mayan year";for(var o=0,n=0;n<f.length;n++){var t=parseInt(f[n],10);if(Math.abs(t)>19||n>0&&t<0)throw"Invalid Mayan year";o=o*20+t}return o},monthsInYear:function(f){return this._validate(f,this.minMonth,this.minDay,l.local.invalidYear),18},weekOfYear:function(f,o,n){return this._validate(f,o,n,l.local.invalidDate),0},daysInYear:function(f){return this._validate(f,this.minMonth,this.minDay,l.local.invalidYear),360},daysInMonth:function(f,o){return this._validate(f,o,this.minDay,l.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(f,o,n){var t=this._validate(f,o,n,l.local.invalidDate);return t.day()},weekDay:function(f,o,n){return this._validate(f,o,n,l.local.invalidDate),!0},extraInfo:function(f,o,n){var t=this._validate(f,o,n,l.local.invalidDate),u=t.toJD(),h=this._toHaab(u),m=this._toTzolkin(u);return{haabMonthName:this.local.haabMonths[h[0]-1],haabMonth:h[0],haabDay:h[1],tzolkinDayName:this.local.tzolkinMonths[m[0]-1],tzolkinDay:m[0],tzolkinTrecena:m[1]}},_toHaab:function(f){f-=this.jdEpoch;var o=i(f+8+(18-1)*20,365);return[Math.floor(o/20)+1,i(o,20)]},_toTzolkin:function(f){return f-=this.jdEpoch,[r(f+20,20),r(f+4,13)]},toJD:function(f,o,n){var t=this._validate(f,o,n,l.local.invalidDate);return t.day()+t.month()*20+t.year()*360+this.jdEpoch},fromJD:function(f){f=Math.floor(f)+.5-this.jdEpoch;var o=Math.floor(f/360);f=f%360,f+=f<0?360:0;var n=Math.floor(f/20),t=f%20;return this.newDate(o,n,t)}});function i(f,o){return f-o*Math.floor(f/o)}function r(f,o){return i(f-1,o)+1}l.calendars.mayan=s},9108:function(te,z,e){var l=e(3489),g=e(6131);function s(r){this.local=this.regionalOptions[r||""]||this.regionalOptions[""]}s.prototype=new l.baseCalendar;var i=l.instance("gregorian");g(s.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(r){var f=this._validate(r,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[""].invalidYear);return i.leapYear(f.year()+(f.year()<1?1:0)+1469)},weekOfYear:function(r,f,o){var n=this.newDate(r,f,o);return n.add(1-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(r,f){var o=this._validate(r,f,this.minDay,l.local.invalidMonth);return this.daysPerMonth[o.month()-1]+(o.month()===12&&this.leapYear(o.year())?1:0)},weekDay:function(r,f,o){return(this.dayOfWeek(r,f,o)||7)<6},toJD:function(t,f,o){var n=this._validate(t,f,o,l.local.invalidMonth),t=n.year();t<0&&t++;for(var u=n.day(),h=1;h<n.month();h++)u+=this.daysPerMonth[h-1];return u+i.toJD(t+1468,3,13)},fromJD:function(r){r=Math.floor(r+.5);for(var f=Math.floor((r-(this.jdEpoch-1))/366);r>=this.toJD(f+1,1,1);)f++;for(var o=r-Math.floor(this.toJD(f,1,1)+.5)+1,n=1;o>this.daysInMonth(f,n);)o-=this.daysInMonth(f,n),n++;return this.newDate(f,n,o)}}),l.calendars.nanakshahi=s},5422:function(te,z,e){var l=e(3489),g=e(6131);function s(i){this.local=this.regionalOptions[i||""]||this.regionalOptions[""]}s.prototype=new l.baseCalendar,g(s.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(i){return this.daysInYear(i)!==this.daysPerYear},weekOfYear:function(i,r,f){var o=this.newDate(i,r,f);return o.add(-o.dayOfWeek(),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInYear:function(i){var r=this._validate(i,this.minMonth,this.minDay,l.local.invalidYear);if(i=r.year(),typeof this.NEPALI_CALENDAR_DATA[i]>"u")return this.daysPerYear;for(var f=0,o=this.minMonth;o<=12;o++)f+=this.NEPALI_CALENDAR_DATA[i][o];return f},daysInMonth:function(i,r){return i.year&&(r=i.month(),i=i.year()),this._validate(i,r,this.minDay,l.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[i]>"u"?this.daysPerMonth[r-1]:this.NEPALI_CALENDAR_DATA[i][r]},weekDay:function(i,r,f){return this.dayOfWeek(i,r,f)!==6},toJD:function(i,r,f){var o=this._validate(i,r,f,l.local.invalidDate);i=o.year(),r=o.month(),f=o.day();var n=l.instance(),t=0,u=r,h=i;this._createMissingCalendarData(i);var m=i-(u>9||u===9&&f>=this.NEPALI_CALENDAR_DATA[h][0]?56:57);for(r!==9&&(t=f,u--);u!==9;)u<=0&&(u=12,h--),t+=this.NEPALI_CALENDAR_DATA[h][u],u--;return r===9?(t+=f-this.NEPALI_CALENDAR_DATA[h][0],t<0&&(t+=n.daysInYear(m))):t+=this.NEPALI_CALENDAR_DATA[h][9]-this.NEPALI_CALENDAR_DATA[h][0],n.newDate(m,1,1).add(t,"d").toJD()},fromJD:function(i){var r=l.instance(),f=r.fromJD(i),o=f.year(),n=f.dayOfYear(),t=o+56;this._createMissingCalendarData(t);for(var u=9,h=this.NEPALI_CALENDAR_DATA[t][0],m=this.NEPALI_CALENDAR_DATA[t][u]-h+1;n>m;)u++,u>12&&(u=1,t++),m+=this.NEPALI_CALENDAR_DATA[t][u];var y=this.NEPALI_CALENDAR_DATA[t][u]-(m-n);return this.newDate(t,u,y)},_createMissingCalendarData:function(i){var r=this.daysPerMonth.slice(0);r.unshift(17);for(var f=i-1;f<i+2;f++)typeof this.NEPALI_CALENDAR_DATA[f]>"u"&&(this.NEPALI_CALENDAR_DATA[f]=r)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),l.calendars.nepali=s},4320:function(te,z,e){var l=e(3489),g=e(6131);function s(r){this.local=this.regionalOptions[r||""]||this.regionalOptions[""]}s.prototype=new l.baseCalendar,g(s.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(r){var f=this._validate(r,this.minMonth,this.minDay,l.local.invalidYear);return((f.year()-(f.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(r,f,o){var n=this.newDate(r,f,o);return n.add(-((n.dayOfWeek()+1)%7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(r,f){var o=this._validate(r,f,this.minDay,l.local.invalidMonth);return this.daysPerMonth[o.month()-1]+(o.month()===12&&this.leapYear(o.year())?1:0)},weekDay:function(r,f,o){return this.dayOfWeek(r,f,o)!==5},toJD:function(r,f,o){var n=this._validate(r,f,o,l.local.invalidDate);r=n.year(),f=n.month(),o=n.day();var t=r-(r>=0?474:473),u=474+i(t,2820);return o+(f<=7?(f-1)*31:(f-1)*30+6)+Math.floor((u*682-110)/2816)+(u-1)*365+Math.floor(t/2820)*1029983+this.jdEpoch-1},fromJD:function(r){r=Math.floor(r)+.5;var f=r-this.toJD(475,1,1),o=Math.floor(f/1029983),n=i(f,1029983),t=2820;if(n!==1029982){var u=Math.floor(n/366),h=i(n,366);t=Math.floor((2134*u+2816*h+2815)/1028522)+u+1}var m=t+2820*o+474;m=m<=0?m-1:m;var y=r-this.toJD(m,1,1)+1,d=y<=186?Math.ceil(y/31):Math.ceil((y-6)/30),T=r-this.toJD(m,d,1)+1;return this.newDate(m,d,T)}});function i(r,f){return r-f*Math.floor(r/f)}l.calendars.persian=s,l.calendars.jalali=s},1320:function(te,z,e){var l=e(3489),g=e(6131),s=l.instance();function i(r){this.local=this.regionalOptions[r||""]||this.regionalOptions[""]}i.prototype=new l.baseCalendar,g(i.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(o){var f=this._validate(o,this.minMonth,this.minDay,l.local.invalidYear),o=this._t2gYear(f.year());return s.leapYear(o)},weekOfYear:function(t,f,o){var n=this._validate(t,this.minMonth,this.minDay,l.local.invalidYear),t=this._t2gYear(n.year());return s.weekOfYear(t,n.month(),n.day())},daysInMonth:function(r,f){var o=this._validate(r,f,this.minDay,l.local.invalidMonth);return this.daysPerMonth[o.month()-1]+(o.month()===2&&this.leapYear(o.year())?1:0)},weekDay:function(r,f,o){return(this.dayOfWeek(r,f,o)||7)<6},toJD:function(t,f,o){var n=this._validate(t,f,o,l.local.invalidDate),t=this._t2gYear(n.year());return s.toJD(t,n.month(),n.day())},fromJD:function(r){var f=s.fromJD(r),o=this._g2tYear(f.year());return this.newDate(o,f.month(),f.day())},_t2gYear:function(r){return r+this.yearsOffset+(r>=-this.yearsOffset&&r<=-1?1:0)},_g2tYear:function(r){return r-this.yearsOffset-(r>=1&&r<=this.yearsOffset?1:0)}}),l.calendars.taiwan=i},1367:function(te,z,e){var l=e(3489),g=e(6131),s=l.instance();function i(r){this.local=this.regionalOptions[r||""]||this.regionalOptions[""]}i.prototype=new l.baseCalendar,g(i.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(o){var f=this._validate(o,this.minMonth,this.minDay,l.local.invalidYear),o=this._t2gYear(f.year());return s.leapYear(o)},weekOfYear:function(t,f,o){var n=this._validate(t,this.minMonth,this.minDay,l.local.invalidYear),t=this._t2gYear(n.year());return s.weekOfYear(t,n.month(),n.day())},daysInMonth:function(r,f){var o=this._validate(r,f,this.minDay,l.local.invalidMonth);return this.daysPerMonth[o.month()-1]+(o.month()===2&&this.leapYear(o.year())?1:0)},weekDay:function(r,f,o){return(this.dayOfWeek(r,f,o)||7)<6},toJD:function(t,f,o){var n=this._validate(t,f,o,l.local.invalidDate),t=this._t2gYear(n.year());return s.toJD(t,n.month(),n.day())},fromJD:function(r){var f=s.fromJD(r),o=this._g2tYear(f.year());return this.newDate(o,f.month(),f.day())},_t2gYear:function(r){return r-this.yearsOffset-(r>=1&&r<=this.yearsOffset?1:0)},_g2tYear:function(r){return r+this.yearsOffset+(r>=-this.yearsOffset&&r<=-1?1:0)}}),l.calendars.thai=i},1457:function(te,z,e){var l=e(3489),g=e(6131);function s(r){this.local=this.regionalOptions[r||""]||this.regionalOptions[""]}s.prototype=new l.baseCalendar,g(s.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalth","Yawm al-Arba","Yawm al-Khams","Yawm al-Juma","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(r){var f=this._validate(r,this.minMonth,this.minDay,l.local.invalidYear);return this.daysInYear(f.year())===355},weekOfYear:function(r,f,o){var n=this.newDate(r,f,o);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(r){for(var f=0,o=1;o<=12;o++)f+=this.daysInMonth(r,o);return f},daysInMonth:function(r,f){for(var o=this._validate(r,f,this.minDay,l.local.invalidMonth),n=o.toJD()-24e5+.5,t=0,u=0;u<i.length;u++){if(i[u]>n)return i[t]-i[t-1];t++}return 30},weekDay:function(r,f,o){return this.dayOfWeek(r,f,o)!==5},toJD:function(r,f,o){var n=this._validate(r,f,o,l.local.invalidDate),t=12*(n.year()-1)+n.month()-15292,u=n.day()+i[t-1]-1;return u+24e5-.5},fromJD:function(r){for(var f=r-24e5+.5,o=0,n=0;n<i.length&&!(i[n]>f);n++)o++;var t=o+15292,u=Math.floor((t-1)/12),h=u+1,m=t-12*u,y=f-i[o-1]+1;return this.newDate(h,m,y)},isValid:function(r,f,o){var n=l.baseCalendar.prototype.isValid.apply(this,arguments);return n&&(r=r.year!=null?r.year:r,n=r>=1276&&r<=1500),n},_validate:function(r,f,o,n){var t=l.baseCalendar.prototype._validate.apply(this,arguments);if(t.year<1276||t.year>1500)throw n.replace(/\{0\}/,this.local.name);return t}}),l.calendars.ummalqura=s;var i=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},3489:function(te,z,e){var l=e(6131);function g(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}l(g.prototype,{instance:function(n,t){n=(n||"gregorian").toLowerCase(),t=t||"";var u=this._localCals[n+"-"+t];if(!u&&this.calendars[n]&&(u=new this.calendars[n](t),this._localCals[n+"-"+t]=u),!u)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,n);return u},newDate:function(n,t,u,h,m){return h=(n!=null&&n.year?n.calendar():typeof h=="string"?this.instance(h,m):h)||this.instance(),h.newDate(n,t,u)},substituteDigits:function(n){return function(t){return(t+"").replace(/[0-9]/g,function(u){return n[u]})}},substituteChineseDigits:function(n,t){return function(u){for(var h="",m=0;u>0;){var y=u%10;h=(y===0?"":n[y]+t[m])+h,m++,u=Math.floor(u/10)}return h.indexOf(n[1]+t[1])===0&&(h=h.substr(1)),h||n[0]}}});function s(n,t,u,h){if(this._calendar=n,this._year=t,this._month=u,this._day=h,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(o.local.invalidDate||o.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function i(n,t){return n=""+n,"000000".substring(0,t-n.length)+n}l(s.prototype,{newDate:function(n,t,u){return this._calendar.newDate(n??this,t,u)},year:function(n){return arguments.length===0?this._year:this.set(n,"y")},month:function(n){return arguments.length===0?this._month:this.set(n,"m")},day:function(n){return arguments.length===0?this._day:this.set(n,"d")},date:function(n,t,u){if(!this._calendar.isValid(n,t,u))throw(o.local.invalidDate||o.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=n,this._month=t,this._day=u,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(n,t){return this._calendar.add(this,n,t)},set:function(n,t){return this._calendar.set(this,n,t)},compareTo:function(n){if(this._calendar.name!==n._calendar.name)throw(o.local.differentCalendars||o.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,n._calendar.local.name);var t=this._year!==n._year?this._year-n._year:this._month!==n._month?this.monthOfYear()-n.monthOfYear():this._day-n._day;return t===0?0:t<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(n){return this._calendar.fromJD(n)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(n){return this._calendar.fromJSDate(n)},toString:function(){return(this.year()<0?"-":"")+i(Math.abs(this.year()),4)+"-"+i(this.month(),2)+"-"+i(this.day(),2)}});function r(){this.shortYearCutoff="+10"}l(r.prototype,{_validateLevel:0,newDate:function(n,t,u){return n==null?this.today():(n.year&&(this._validate(n,t,u,o.local.invalidDate||o.regionalOptions[""].invalidDate),u=n.day(),t=n.month(),n=n.year()),new s(this,n,t,u))},today:function(){return this.fromJSDate(new Date)},epoch:function(n){var t=this._validate(n,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear);return t.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(n){var t=this._validate(n,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear);return(t.year()<0?"-":"")+i(Math.abs(t.year()),4)},monthsInYear:function(n){return this._validate(n,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear),12},monthOfYear:function(n,t){var u=this._validate(n,t,this.minDay,o.local.invalidMonth||o.regionalOptions[""].invalidMonth);return(u.month()+this.monthsInYear(u)-this.firstMonth)%this.monthsInYear(u)+this.minMonth},fromMonthOfYear:function(n,t){var u=(t+this.firstMonth-2*this.minMonth)%this.monthsInYear(n)+this.minMonth;return this._validate(n,u,this.minDay,o.local.invalidMonth||o.regionalOptions[""].invalidMonth),u},daysInYear:function(n){var t=this._validate(n,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear);return this.leapYear(t)?366:365},dayOfYear:function(n,t,u){var h=this._validate(n,t,u,o.local.invalidDate||o.regionalOptions[""].invalidDate);return h.toJD()-this.newDate(h.year(),this.fromMonthOfYear(h.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(n,t,u){var h=this._validate(n,t,u,o.local.invalidDate||o.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(h))+2)%this.daysInWeek()},extraInfo:function(n,t,u){return this._validate(n,t,u,o.local.invalidDate||o.regionalOptions[""].invalidDate),{}},add:function(n,t,u){return this._validate(n,this.minMonth,this.minDay,o.local.invalidDate||o.regionalOptions[""].invalidDate),this._correctAdd(n,this._add(n,t,u),t,u)},_add:function(n,t,u){if(this._validateLevel++,u==="d"||u==="w"){var h=n.toJD()+t*(u==="w"?this.daysInWeek():1),m=n.calendar().fromJD(h);return this._validateLevel--,[m.year(),m.month(),m.day()]}try{var y=n.year()+(u==="y"?t:0),d=n.monthOfYear()+(u==="m"?t:0),m=n.day(),T=function(c){for(;d<c.minMonth;)y--,d+=c.monthsInYear(y);for(var p=c.monthsInYear(y);d>p-1+c.minMonth;)y++,d-=p,p=c.monthsInYear(y)};u==="y"?(n.month()!==this.fromMonthOfYear(y,d)&&(d=this.newDate(y,n.month(),this.minDay).monthOfYear()),d=Math.min(d,this.monthsInYear(y)),m=Math.min(m,this.daysInMonth(y,this.fromMonthOfYear(y,d)))):u==="m"&&(T(this),m=Math.min(m,this.daysInMonth(y,this.fromMonthOfYear(y,d))));var x=[y,this.fromMonthOfYear(y,d),m];return this._validateLevel--,x}catch(M){throw this._validateLevel--,M}},_correctAdd:function(n,t,u,h){if(!this.hasYearZero&&(h==="y"||h==="m")&&(t[0]===0||n.year()>0!=t[0]>0)){var m={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[h],y=u<0?-1:1;t=this._add(n,u*m[0]+y*m[1],m[2])}return n.date(t[0],t[1],t[2])},set:function(n,t,u){this._validate(n,this.minMonth,this.minDay,o.local.invalidDate||o.regionalOptions[""].invalidDate);var h=u==="y"?t:n.year(),m=u==="m"?t:n.month(),y=u==="d"?t:n.day();return(u==="y"||u==="m")&&(y=Math.min(y,this.daysInMonth(h,m))),n.date(h,m,y)},isValid:function(n,t,u){this._validateLevel++;var h=this.hasYearZero||n!==0;if(h){var m=this.newDate(n,t,this.minDay);h=t>=this.minMonth&&t-this.minMonth<this.monthsInYear(m)&&u>=this.minDay&&u-this.minDay<this.daysInMonth(m)}return this._validateLevel--,h},toJSDate:function(n,t,u){var h=this._validate(n,t,u,o.local.invalidDate||o.regionalOptions[""].invalidDate);return o.instance().fromJD(this.toJD(h)).toJSDate()},fromJSDate:function(n){return this.fromJD(o.instance().fromJSDate(n).toJD())},_validate:function(n,t,u,h){if(n.year){if(this._validateLevel===0&&this.name!==n.calendar().name)throw(o.local.differentCalendars||o.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,n.calendar().local.name);return n}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(n,t,u))throw h.replace(/\{0\}/,this.local.name);var m=this.newDate(n,t,u);return this._validateLevel--,m}catch(y){throw this._validateLevel--,y}}});function f(n){this.local=this.regionalOptions[n]||this.regionalOptions[""]}f.prototype=new r,l(f.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(u){var t=this._validate(u,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear),u=t.year()+(t.year()<0?1:0);return u%4===0&&(u%100!==0||u%400===0)},weekOfYear:function(n,t,u){var h=this.newDate(n,t,u);return h.add(4-(h.dayOfWeek()||7),"d"),Math.floor((h.dayOfYear()-1)/7)+1},daysInMonth:function(n,t){var u=this._validate(n,t,this.minDay,o.local.invalidMonth||o.regionalOptions[""].invalidMonth);return this.daysPerMonth[u.month()-1]+(u.month()===2&&this.leapYear(u.year())?1:0)},weekDay:function(n,t,u){return(this.dayOfWeek(n,t,u)||7)<6},toJD:function(n,t,u){var h=this._validate(n,t,u,o.local.invalidDate||o.regionalOptions[""].invalidDate);n=h.year(),t=h.month(),u=h.day(),n<0&&n++,t<3&&(t+=12,n--);var m=Math.floor(n/100),y=2-m+Math.floor(m/4);return Math.floor(365.25*(n+4716))+Math.floor(30.6001*(t+1))+u+y-1524.5},fromJD:function(n){var t=Math.floor(n+.5),u=Math.floor((t-186721625e-2)/36524.25);u=t+1+u-Math.floor(u/4);var h=u+1524,m=Math.floor((h-122.1)/365.25),y=Math.floor(365.25*m),d=Math.floor((h-y)/30.6001),T=h-y-Math.floor(d*30.6001),x=d-(d>13.5?13:1),M=m-(x>2.5?4716:4715);return M<=0&&M--,this.newDate(M,x,T)},toJSDate:function(n,t,u){var h=this._validate(n,t,u,o.local.invalidDate||o.regionalOptions[""].invalidDate),m=new Date(h.year(),h.month()-1,h.day());return m.setHours(0),m.setMinutes(0),m.setSeconds(0),m.setMilliseconds(0),m.setHours(m.getHours()>12?m.getHours()+2:0),m},fromJSDate:function(n){return this.newDate(n.getFullYear(),n.getMonth()+1,n.getDate())}});var o=te.exports=new g;o.cdate=s,o.baseCalendar=r,o.calendars.gregorian=f},4338:function(te,z,e){var l=e(6131),g=e(3489);l(g.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),g.local=g.regionalOptions[""],l(g.cdate.prototype,{formatDate:function(s,i){return typeof s!="string"&&(i=s,s=""),this._calendar.formatDate(s||"",this,i)}}),l(g.baseCalendar.prototype,{UNIX_EPOCH:g.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:g.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(s,i,r){if(typeof s!="string"&&(r=i,i=s,s=""),!i)return"";if(i.calendar()!==this)throw g.local.invalidFormat||g.regionalOptions[""].invalidFormat;s=s||this.local.dateFormat,r=r||{};var f=r.dayNamesShort||this.local.dayNamesShort,o=r.dayNames||this.local.dayNames,n=r.monthNumbers||this.local.monthNumbers,t=r.monthNamesShort||this.local.monthNamesShort,u=r.monthNames||this.local.monthNames;r.calculateWeek||this.local.calculateWeek;for(var h=function(w,_){for(var k=1;b+k<s.length&&s.charAt(b+k)===w;)k++;return b+=k-1,Math.floor(k/(_||1))>1},m=function(w,_,k,B){var U=""+_;if(h(w,B))for(;U.length<k;)U="0"+U;return U},y=function(w,_,k,B){return h(w)?B[_]:k[_]},d=this,T=function(w){return typeof n=="function"?n.call(d,w,h("m")):c(m("m",w.month(),2))},x=function(w,_){return _?typeof u=="function"?u.call(d,w):u[w.month()-d.minMonth]:typeof t=="function"?t.call(d,w):t[w.month()-d.minMonth]},M=this.local.digits,c=function(w){return r.localNumbers&&M?M(w):w},p="",v=!1,b=0;b<s.length;b++)if(v)s.charAt(b)==="'"&&!h("'")?v=!1:p+=s.charAt(b);else switch(s.charAt(b)){case"d":p+=c(m("d",i.day(),2));break;case"D":p+=y("D",i.dayOfWeek(),f,o);break;case"o":p+=m("o",i.dayOfYear(),3);break;case"w":p+=m("w",i.weekOfYear(),2);break;case"m":p+=T(i);break;case"M":p+=x(i,h("M"));break;case"y":p+=h("y",2)?i.year():(i.year()%100<10?"0":"")+i.year()%100;break;case"Y":h("Y",2),p+=i.formatYear();break;case"J":p+=i.toJD();break;case"@":p+=(i.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":p+=(i.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":h("'")?p+="'":v=!0;break;default:p+=s.charAt(b)}return p},parseDate:function(s,i,r){if(i==null)throw g.local.invalidArguments||g.regionalOptions[""].invalidArguments;if(i=typeof i=="object"?i.toString():i+"",i==="")return null;s=s||this.local.dateFormat,r=r||{};var f=r.shortYearCutoff||this.shortYearCutoff;f=typeof f!="string"?f:this.today().year()%100+parseInt(f,10);for(var o=r.dayNamesShort||this.local.dayNamesShort,n=r.dayNames||this.local.dayNames,t=r.parseMonth||this.local.parseMonth,u=r.monthNumbers||this.local.monthNumbers,h=r.monthNamesShort||this.local.monthNamesShort,m=r.monthNames||this.local.monthNames,y=-1,d=-1,T=-1,x=-1,M=-1,c=!1,p=!1,v=function($,ie){for(var N=1;O+N<s.length&&s.charAt(O+N)===$;)N++;return O+=N-1,Math.floor(N/(ie||1))>1},b=function($,ie){var N=v($,ie),F=[2,3,N?4:2,N?4:2,10,11,20]["oyYJ@!".indexOf($)+1],G=new RegExp("^-?\\d{1,"+F+"}"),W=i.substring(L).match(G);if(!W)throw(g.local.missingNumberAt||g.regionalOptions[""].missingNumberAt).replace(/\{0\}/,L);return L+=W[0].length,parseInt(W[0],10)},w=this,_=function(){if(typeof u=="function"){v("m");var $=u.call(w,i.substring(L));return L+=$.length,$}return b("m")},k=function($,ie,N,F){for(var G=v($,F)?N:ie,W=0;W<G.length;W++)if(i.substr(L,G[W].length).toLowerCase()===G[W].toLowerCase())return L+=G[W].length,W+w.minMonth;throw(g.local.unknownNameAt||g.regionalOptions[""].unknownNameAt).replace(/\{0\}/,L)},B=function(){if(typeof m=="function"){var $=v("M")?m.call(w,i.substring(L)):h.call(w,i.substring(L));return L+=$.length,$}return k("M",h,m)},U=function(){if(i.charAt(L)!==s.charAt(O))throw(g.local.unexpectedLiteralAt||g.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,L);L++},L=0,O=0;O<s.length;O++)if(p)s.charAt(O)==="'"&&!v("'")?p=!1:U();else switch(s.charAt(O)){case"d":x=b("d");break;case"D":k("D",o,n);break;case"o":M=b("o");break;case"w":b("w");break;case"m":T=_();break;case"M":T=B();break;case"y":var R=O;c=!v("y",2),O=R,d=b("y",2);break;case"Y":d=b("Y",2);break;case"J":y=b("J")+.5,i.charAt(L)==="."&&(L++,b("J"));break;case"@":y=b("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":y=b("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":L=i.length;break;case"'":v("'")?U():p=!0;break;default:U()}if(L<i.length)throw g.local.unexpectedText||g.regionalOptions[""].unexpectedText;if(d===-1?d=this.today().year():d<100&&c&&(d+=f===-1?1900:this.today().year()-this.today().year()%100-(d<=f?0:100)),typeof T=="string"&&(T=t.call(this,d,T)),M>-1){T=1,x=M;for(var Z=this.daysInMonth(d,T);x>Z;Z=this.daysInMonth(d,T))T++,x-=Z}return y>-1?this.fromJD(y):this.newDate(d,T,x)},determineDate:function(s,i,r,f,o){r&&typeof r!="object"&&(o=f,f=r,r=null),typeof f!="string"&&(o=f,f="");var n=this,t=function(u){try{return n.parseDate(f,u,o)}catch{}u=u.toLowerCase();for(var h=(u.match(/^c/)&&r?r.newDate():null)||n.today(),m=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,y=m.exec(u);y;)h.add(parseInt(y[1],10),y[2]||"d"),y=m.exec(u);return h};return i=i?i.newDate():null,s=s==null?i:typeof s=="string"?t(s):typeof s=="number"?isNaN(s)||s===1/0||s===-1/0?i:n.today().add(s,"d"):n.newDate(s),s}})}},Cr={};function Nr(te){var z=Cr[te];if(z!==void 0)return z.exports;var e=Cr[te]={exports:{}};return la[te].call(e.exports,e,e.exports,Nr),e.exports}(function(){Nr.d=function(te,z){for(var e in z)Nr.o(z,e)&&!Nr.o(te,e)&&Object.defineProperty(te,e,{enumerable:!0,get:z[e]})}})(),function(){Nr.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){Nr.o=function(te,z){return Object.prototype.hasOwnProperty.call(te,z)}}(),function(){Nr.r=function(te){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(te,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(te,"__esModule",{value:!0})}}();var ya=Nr(2576);return ya}()})})(Gi);var Vi=Gi.exports;const Ul=Yl(Vi),Gl={data:{barpolar:[{marker:{line:{color:"rgb(17,17,17)",width:.5},pattern:{fillmode:"overlay",size:10,solidity:.2}},type:"barpolar"}],bar:[{error_x:{color:"#f2f5fa"},error_y:{color:"#f2f5fa"},marker:{line:{color:"rgb(17,17,17)",width:.5},pattern:{fillmode:"overlay",size:10,solidity:.2}},type:"bar"}],carpet:[{aaxis:{endlinecolor:"#A2B1C6",gridcolor:"#506784",linecolor:"#506784",minorgridcolor:"#506784",startlinecolor:"#A2B1C6"},baxis:{endlinecolor:"#A2B1C6",gridcolor:"#506784",linecolor:"#506784",minorgridcolor:"#506784",startlinecolor:"#A2B1C6"},type:"carpet"}],choropleth:[{colorbar:{outlinewidth:0,ticks:""},type:"choropleth"}],contourcarpet:[{colorbar:{outlinewidth:0,ticks:""},type:"contourcarpet"}],contour:[{colorbar:{outlinewidth:0,ticks:""},colorscale:[[0,"#0d0887"],[.1111111111111111,"#46039f"],[.2222222222222222,"#7201a8"],[.3333333333333333,"#9c179e"],[.4444444444444444,"#bd3786"],[.5555555555555556,"#d8576b"],[.6666666666666666,"#ed7953"],[.7777777777777778,"#fb9f3a"],[.8888888888888888,"#fdca26"],[1,"#f0f921"]],type:"contour"}],heatmapgl:[{colorbar:{outlinewidth:0,ticks:""},colorscale:[[0,"#0d0887"],[.1111111111111111,"#46039f"],[.2222222222222222,"#7201a8"],[.3333333333333333,"#9c179e"],[.4444444444444444,"#bd3786"],[.5555555555555556,"#d8576b"],[.6666666666666666,"#ed7953"],[.7777777777777778,"#fb9f3a"],[.8888888888888888,"#fdca26"],[1,"#f0f921"]],type:"heatmapgl"}],heatmap:[{colorbar:{outlinewidth:0,ticks:""},colorscale:[[0,"#0d0887"],[.1111111111111111,"#46039f"],[.2222222222222222,"#7201a8"],[.3333333333333333,"#9c179e"],[.4444444444444444,"#bd3786"],[.5555555555555556,"#d8576b"],[.6666666666666666,"#ed7953"],[.7777777777777778,"#fb9f3a"],[.8888888888888888,"#fdca26"],[1,"#f0f921"]],type:"heatmap"}],histogram2dcontour:[{colorbar:{outlinewidth:0,ticks:""},colorscale:[[0,"#0d0887"],[.1111111111111111,"#46039f"],[.2222222222222222,"#7201a8"],[.3333333333333333,"#9c179e"],[.4444444444444444,"#bd3786"],[.5555555555555556,"#d8576b"],[.6666666666666666,"#ed7953"],[.7777777777777778,"#fb9f3a"],[.8888888888888888,"#fdca26"],[1,"#f0f921"]],type:"histogram2dcontour"}],histogram2d:[{colorbar:{outlinewidth:0,ticks:""},colorscale:[[0,"#0d0887"],[.1111111111111111,"#46039f"],[.2222222222222222,"#7201a8"],[.3333333333333333,"#9c179e"],[.4444444444444444,"#bd3786"],[.5555555555555556,"#d8576b"],[.6666666666666666,"#ed7953"],[.7777777777777778,"#fb9f3a"],[.8888888888888888,"#fdca26"],[1,"#f0f921"]],type:"histogram2d"}],histogram:[{marker:{pattern:{fillmode:"overlay",size:10,solidity:.2}},type:"histogram"}],mesh3d:[{colorbar:{outlinewidth:0,ticks:""},type:"mesh3d"}],parcoords:[{line:{colorbar:{outlinewidth:0,ticks:""}},type:"parcoords"}],pie:[{automargin:!0,type:"pie"}],scatter3d:[{line:{colorbar:{outlinewidth:0,ticks:""}},marker:{colorbar:{outlinewidth:0,ticks:""}},type:"scatter3d"}],scattercarpet:[{marker:{colorbar:{outlinewidth:0,ticks:""}},type:"scattercarpet"}],scattergeo:[{marker:{colorbar:{outlinewidth:0,ticks:""}},type:"scattergeo"}],scattergl:[{marker:{line:{color:"#283442"}},type:"scattergl"}],scattermapbox:[{marker:{colorbar:{outlinewidth:0,ticks:""}},type:"scattermapbox"}],scatterpolargl:[{marker:{colorbar:{outlinewidth:0,ticks:""}},type:"scatterpolargl"}],scatterpolar:[{marker:{colorbar:{outlinewidth:0,ticks:""}},type:"scatterpolar"}],scatter:[{marker:{line:{color:"#283442"}},type:"scatter"}],scatterternary:[{marker:{colorbar:{outlinewidth:0,ticks:""}},type:"scatterternary"}],surface:[{colorbar:{outlinewidth:0,ticks:""},colorscale:[[0,"#0d0887"],[.1111111111111111,"#46039f"],[.2222222222222222,"#7201a8"],[.3333333333333333,"#9c179e"],[.4444444444444444,"#bd3786"],[.5555555555555556,"#d8576b"],[.6666666666666666,"#ed7953"],[.7777777777777778,"#fb9f3a"],[.8888888888888888,"#fdca26"],[1,"#f0f921"]],type:"surface"}],table:[{cells:{fill:{color:"#506784"},line:{color:"rgb(17,17,17)"}},header:{fill:{color:"#2a3f5f"},line:{color:"rgb(17,17,17)"}},type:"table"}]},layout:{annotationdefaults:{arrowcolor:"#f2f5fa",arrowhead:0,arrowwidth:1},autotypenumbers:"strict",coloraxis:{colorbar:{outlinewidth:0,ticks:""}},colorscale:{diverging:[[0,"#8e0152"],[.1,"#c51b7d"],[.2,"#de77ae"],[.3,"#f1b6da"],[.4,"#fde0ef"],[.5,"#f7f7f7"],[.6,"#e6f5d0"],[.7,"#b8e186"],[.8,"#7fbc41"],[.9,"#4d9221"],[1,"#276419"]],sequential:[[0,"#0d0887"],[.1111111111111111,"#46039f"],[.2222222222222222,"#7201a8"],[.3333333333333333,"#9c179e"],[.4444444444444444,"#bd3786"],[.5555555555555556,"#d8576b"],[.6666666666666666,"#ed7953"],[.7777777777777778,"#fb9f3a"],[.8888888888888888,"#fdca26"],[1,"#f0f921"]],sequentialminus:[[0,"#0d0887"],[.1111111111111111,"#46039f"],[.2222222222222222,"#7201a8"],[.3333333333333333,"#9c179e"],[.4444444444444444,"#bd3786"],[.5555555555555556,"#d8576b"],[.6666666666666666,"#ed7953"],[.7777777777777778,"#fb9f3a"],[.8888888888888888,"#fdca26"],[1,"#f0f921"]]},colorway:["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],font:{color:"#f2f5fa"},geo:{bgcolor:"rgb(17,17,17)",lakecolor:"rgb(17,17,17)",landcolor:"rgb(17,17,17)",showlakes:!0,showland:!0,subunitcolor:"#506784"},hoverlabel:{align:"left"},hovermode:"closest",mapbox:{style:"dark"},paper_bgcolor:"rgb(17,17,17)",plot_bgcolor:"rgb(17,17,17)",polar:{angularaxis:{gridcolor:"#506784",linecolor:"#506784",ticks:""},bgcolor:"rgb(17,17,17)",radialaxis:{gridcolor:"#506784",linecolor:"#506784",ticks:""}},scene:{xaxis:{backgroundcolor:"rgb(17,17,17)",gridcolor:"#506784",gridwidth:2,linecolor:"#506784",showbackground:!0,ticks:"",zerolinecolor:"#C8D4E3"},yaxis:{backgroundcolor:"rgb(17,17,17)",gridcolor:"#506784",gridwidth:2,linecolor:"#506784",showbackground:!0,ticks:"",zerolinecolor:"#C8D4E3"},zaxis:{backgroundcolor:"rgb(17,17,17)",gridcolor:"#506784",gridwidth:2,linecolor:"#506784",showbackground:!0,ticks:"",zerolinecolor:"#C8D4E3"}},shapedefaults:{line:{color:"#f2f5fa"}},sliderdefaults:{bgcolor:"#C8D4E3",bordercolor:"rgb(17,17,17)",borderwidth:1,tickwidth:0},ternary:{aaxis:{gridcolor:"#506784",linecolor:"#506784",ticks:""},baxis:{gridcolor:"#506784",linecolor:"#506784",ticks:""},bgcolor:"rgb(17,17,17)",caxis:{gridcolor:"#506784",linecolor:"#506784",ticks:""}},title:{x:.05},updatemenudefaults:{bgcolor:"#506784",borderwidth:0},xaxis:{automargin:!0,gridcolor:"#283442",linecolor:"#506784",ticks:"",title:{standoff:15},zerolinecolor:"#283442",zerolinewidth:2},yaxis:{automargin:!0,gridcolor:"#283442",linecolor:"#506784",ticks:"",title:{standoff:15},zerolinecolor:"#283442",zerolinewidth:2}}},Vl=Hn({__name:"VuePlotly",props:{data:{type:Array,required:!0},layout:{type:Object,required:!0},config:{type:Object,required:!1,default:{responsive:!0}}},setup(Ia){const $r=Ia,la=Ta(null),Cr=Ta(!1);function Nr(){!Cr.value||!la.value||!$r.data||!$r.layout||Vi.newPlot(la.value,$r.data,$r.layout,$r.config)}return On(()=>{Cr.value=!0,Nr()}),El(()=>{Nr()}),(ya,te)=>(Ir(),Ur("div",{ref_key:"plotlyId",ref:la,name:"plotly"},null,512))}}),Wl={class:"ts-content is-fitted"},Zl=br("div",{id:"test"},null,-1),Xl={key:0,class:"ts-mask has-cursor-not-allowed"},Jl=br("div",{class:"ts-center"},[br("div",{class:"ts-loading is-large"})],-1),Kl=[Jl],Ql=Hn({__name:"TheScalars",props:{uuid:{},timeline:{}},setup(Ia){const $r=Ia,la=Ta({}),Cr=Ta(!1),Nr=Ta(!1),ya=()=>{Nr.value=!0;const te={uuid:$r.uuid};Fl.emit("get_scalar",te,z=>{la.value=z,Cr.value=!0,Nr.value=!1})};return On(()=>{ya()}),(te,z)=>(Ir(),Ur(Ya,null,[Cr.value?Ba("",!0):(Ir(),Ui(zl,{key:0,lines:3,class:"u-top-spaced"})),(Ir(!0),Ur(Ya,null,mn(la.value[te.timeline],e=>(Ir(),Ur("details",{class:"ts-accordion u-top-spaced",key:e.group},[br("summary",null,ma(e.group),1),(Ir(!0),Ur(Ya,null,mn(e.data,l=>(Ir(),Ur("div",{class:"ts-box u-top-spaced",key:l.tag},[br("div",Wl,[Nl(ja(Vl),{data:[{x:l.step,y:l.value}],layout:{template:ja(Gl),title:l.tag},config:{modeBarButtonsToAdd:[{name:"refresh",icon:ja(Ul).Icons.undo,click:ya}]}},null,8,["data","layout","config"]),Zl]),Nr.value?(Ir(),Ur("div",Xl,Kl)):Ba("",!0)]))),128))]))),128))],64))}}),$l={class:"ts-wrap is-middle-aligned"},jl={class:"ts-header is-huge"},ql={class:"ts-text is-code"},es={class:"ts-timeline u-top-spaced"},ts={class:"aside",style:{width:"100px"}},rs={key:0,class:"ts-text is-description"},as={key:0},ns={key:1},is={class:"indicator"},os={class:"content"},ls={key:0,class:"ts-box u-top-spaced"},ss={class:"ts-content is-tertiary"},fs={class:"ts-text is-negative"},us=br("div",{class:"aside"},null,-1),cs={class:"indicator"},vs={class:"content"},ds={key:0,class:"ts-box u-top-spaced"},hs={class:"ts-table is-striped is-celled"},ms=br("thead",null,[br("tr",null,[br("th",{colspan:"2"},"evaluation")])],-1),ys={class:"is-collapsed"},ps=br("div",{class:"ts-space is-big"},null,-1),bs=Hn({__name:"WorkView",setup(Ia){const $r=Il(),la=Ta({name:"",args:{name:"",algorithm:"",algorithm_args:{},learn_args:{},helper:""},date:"",data_example:"",preprocess_example:""}),Cr=Ta({id:"",task_name:"",status:0,detail:"",timeline:[],evaluation:[],date:""}),Nr=Ta(Date.now()/1e3),ya=Ta(!0),te=()=>{$a.tasks.length!=0&&$a.works.length!=0&&(la.value=$a.tasks.find(({name:g})=>g==$r.currentRoute.value.params.name),Cr.value=$a.works.find(({id:g})=>g==$r.currentRoute.value.params.id))},z=async()=>{console.log("refresh"),ya.value=!1,await Ol(),ya.value=!0},e=setInterval(()=>{Nr.value=Date.now()/1e3},1e3),l=g=>{const s=o=>String(o).padStart(2,"0"),i=Math.floor(g%60),r=Math.floor(g/60%60),f=Math.floor(g/60/60%24);return`${s(f)}h ${s(r)}m ${s(i)}s`};return On(()=>{te()}),_l((g,s,i)=>{clearInterval(e),i()}),Hl($a,()=>{te()}),(g,s)=>(Ir(),Ur(Ya,null,[br("div",{style:{position:"fixed",top:"0",right:"0"}},[br("button",{class:"ts-button is-circular is-outlined u-spaced-big",onClick:z},"refresh")]),br("div",$l,[br("div",null,[br("div",jl,[br("span",{class:"has-cursor-pointer",onClick:s[0]||(s[0]=i=>ja($r).push({name:"task",params:{name:Cr.value.task_name}}))},ma(Cr.value.task_name),1)]),br("span",ql,"#"+ma(Cr.value.id),1)]),br("button",{class:"ts-button is-outlined",onClick:s[1]||(s[1]=()=>{})},"Export")]),br("div",es,[(Ir(!0),Ur(Ya,null,mn(Cr.value.timeline,i=>(Ir(),Ur("div",{key:i.name,class:Qa(["item",{"is-negative":i.status==-1}])},[br("div",ts,[i.from!==0?(Ir(),Ur("div",rs,[i.to==0?(Ir(),Ur("span",as,ma(l(Nr.value-i.from)),1)):(Ir(),Ur("span",ns,ma(l(i.to-i.from)),1))])):Ba("",!0)]),br("div",is,[br("span",{class:Qa(["ts-icon",{"is-xmark-icon":i.status==-1,"is-plus-icon":i.status==0,"is-spinning is-spinner-icon":i.status==1,"is-check-icon":i.status==2}])},null,2)]),br("div",os,[Bl(ma(i.name)+" ",1),i.status==-1?(Ir(),Ur("div",ls,[br("div",ss,[br("div",fs,ma(i.detail),1)])])):Ba("",!0),ya.value?(Ir(),Ui(Ql,{key:1,uuid:ja($r).currentRoute.value.params.id,timeline:i.name},null,8,["uuid","timeline"])):Ba("",!0)])],2))),128)),br("div",{class:Qa(["item",{"is-negative":Cr.value.status==-1}])},[us,br("div",cs,[br("span",{class:Qa(["ts-icon",{"is-xmark-icon":Cr.value.status==-1,"is-plus-icon":Cr.value.status==0,"is-spinning is-spinner-icon":Cr.value.status==1,"is-check-icon":Cr.value.status==2}])},null,2)]),br("div",vs,[br("span",{class:Qa(["ts-text",{"is-negative":Cr.value.status==-1}])},ma(Cr.value.detail),3),Cr.value.evaluation.length!=0?(Ir(),Ur("div",ds,[br("table",hs,[ms,br("tbody",null,[(Ir(!0),Ur(Ya,null,mn(Cr.value.evaluation,i=>(Ir(),Ur("tr",{key:i.name},[br("td",ys,ma(i.name),1),br("td",null,ma(i.value),1)]))),128))])])])):Ba("",!0)])],2)]),ps],64))}});export{bs as default};
