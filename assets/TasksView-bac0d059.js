import{d as f,u as N,r as d,a as b,s as r,w as $,b as y,o as h,c as m,e as s,F as g,f as k,g as i,t as o,n as A,h as B,i as D,j as v,k as w}from"./index-fc0209f8.js";import{_ as T,a as F,b as L}from"./TheTaskCopier.vue_vue_type_script_setup_true_lang-14ddd4eb.js";const j={class:"ts-box u-top-spaced"},z={class:"ts-table is-celled is-single-line"},E={class:"has-cursor-pointer"},M=["onClick"],P=["data-toggle","onDblclick"],R={class:"is-collapsed"},S={class:"is-collapsed"},V=["data-name"],q={class:"is-secondary is-padded is-insetted",colspan:"3"},G={class:"ts-grid"},H={class:"column"},I=s("br",null,null,-1),J=s("br",null,null,-1),K=s("br",null,null,-1),O={class:"column is-fluid is-end-aligned",style:{"white-space":"initial !important"}},Q=f({__name:"TheTasksList",setup(C){const p=N(),c=d([]),n=d("Create At"),a=d(-1),_=t=>{console.log("sort"),n.value!==t&&(a.value=-1),n.value=t,c.value=c.value.slice().sort((l,u)=>n.value=="Name"?l.name>u.name?a.value:-a.value:n.value=="Algorithm"?l.args.algorithm>u.args.algorithm?a.value:-a.value:n.value=="Create At"?l.date>u.date?a.value:-a.value:0)};return b(()=>{c.value=r.tasks,_(n.value)}),$(r,t=>{c.value=t.tasks,_(n.value)}),(t,l)=>{const u=y("router-link");return h(),m("div",j,[s("table",z,[s("thead",null,[s("tr",E,[(h(),m(g,null,k(["Name","Algorithm","Create At"],e=>s("th",{onClick:x=>{a.value*=-1,_(e)}},[i(o(e)+" ",1),n.value==e?(h(),m("span",{key:0,class:A(["ts-icon",{"is-sort-down-icon":a.value==-1,"is-sort-up-icon":a.value==1}])},null,2)):B("",!0)],8,M)),64))])]),s("tbody",null,[(h(!0),m(g,null,k(c.value,e=>(h(),m(g,{key:e.name},[s("tr",{class:"has-cursor-pointer","data-toggle":e.name+":has-hidden",onDblclick:x=>D(p).push({name:"task",params:{name:e.name}})},[s("td",null,o(e.name),1),s("td",R,o(e.args.algorithm),1),s("td",S,o(e.date),1)],40,P),s("tr",{class:"has-hidden","data-name":e.name},[s("td",q,[s("div",G,[s("div",H,[i(" algorithm: "+o(e.args.algorithm)+" "+o(e.args.algorithm_args),1),I,i(" learn: "+o(e.args.learn_args),1),J,i(" helper: "+o(e.args.helper),1),K]),s("div",O,[v(u,{class:"ts-text is-link",to:{name:"task",params:{name:e.name}}},{default:w(()=>[i("manage")]),_:2},1032,["to"]),v(T,{"task-name":e.name,wrapper:"link"},null,8,["task-name"]),v(F,{taskName:e.name,wrapper:"link"},null,8,["taskName"]),v(L,{"task-name":e.name,wrapper:"link"},null,8,["task-name"])])])])],8,V)],64))),128))])])])}}}),U={class:"ts-grid is-relaxed is-3-columns u-top-spaced-large u-bottom-spaced-big"},W={class:"column"},X={class:"ts-box"},Y={class:"ts-content"},Z={class:"ts-statistic"},ss={class:"value",style:{display:"table-cell"}},es={class:"ts-text is-secondary is-small"},ts=s("span",{class:"ts-text is-secondary"},"/works",-1),as=s("div",{class:"symbol"},[s("span",{class:"ts-icon is-bars-progress-icon"})],-1),os={class:"column"},ns={class:"ts-box"},ls={class:"ts-content"},is={class:"ts-statistic"},cs={class:"value"},rs=s("div",{class:"symbol"},[s("span",{class:"ts-icon is-gears-icon"})],-1),ds={class:"column"},_s={class:"ts-box"},us={class:"ts-content"},hs={class:"ts-statistic"},ms={class:"value",style:{display:"table-cell"}},vs={class:"ts-text is-secondary is-negative is-small"},ps=s("span",{class:"ts-text is-secondary is-negative"},"/failed",-1),gs=s("div",{class:"symbol"},[s("span",{class:"ts-icon is-check-double-icon"})],-1),ks={class:"ts-grid is-end-aligned"},fs=s("button",{class:"ts-button"},"Create",-1),ys=f({__name:"TasksView",setup(C){const p=d(0),c=d(0),n=d(0),a=d(0),_=d(0);return b(()=>{p.value=r.tasks.length,c.value=r.works.length,n.value=r.works.filter(({status:t})=>[0,1].includes(t)).length,a.value=r.works.filter(({status:t})=>t==2).length,_.value=r.works.filter(({status:t})=>t==-1).length}),$(r,t=>{p.value=t.tasks.length,c.value=t.works.length,n.value=t.works.filter(({status:l})=>[0,1].includes(l)).length,a.value=t.works.filter(({status:l})=>l==2).length,_.value=t.works.filter(({status:l})=>l==-1).length}),(t,l)=>{const u=y("router-link");return h(),m(g,null,[s("div",U,[s("div",W,[s("div",X,[s("div",Y,[s("div",Z,[s("div",ss,[i(o(p.value)+" ",1),s("span",es,"/"+o(c.value),1)])]),i(" tasks "),ts]),as])]),s("div",os,[s("div",ns,[s("div",ls,[s("div",is,[s("div",cs,o(n.value),1)]),i(" works in progress ")]),rs])]),s("div",ds,[s("div",_s,[s("div",us,[s("div",hs,[s("div",ms,[i(o(a.value)+" ",1),s("span",vs,"/"+o(_.value),1)])]),i(" complete "),ps]),gs])])]),s("div",ks,[v(u,{to:{name:"task-create"}},{default:w(()=>[fs]),_:1})]),v(Q)],64)}}});export{ys as default};
