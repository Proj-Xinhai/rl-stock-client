import{d as D,u as V,r as i,a as S,w as x,b as T,o as v,c as h,e as s,n as C,f as w,v as N,F as b,g as A,h as c,t as o,i as F,j as L,k as U,l as m,m as B,s as u}from"./index-18c221db.js";import{_ as j,a as z,b as E}from"./TheTaskCopier.vue_vue_type_script_setup_true_lang-3b5c30e4.js";const P={class:"ts-box u-top-spaced"},R={class:"ts-table is-celled is-single-line"},q={class:"has-cursor-pointer"},G={class:"is-collapsed is-compact"},H=["onClick"],I=["data-toggle","onDblclick"],J={class:"ts-checkbox is-solo"},K=["id","value"],O={class:"is-collapsed"},Q={class:"is-collapsed"},W=["data-name"],X={class:"is-secondary is-padded is-insetted",colspan:"3"},Y={class:"ts-grid"},Z={class:"column"},ss=s("br",null,null,-1),es=s("br",null,null,-1),ts=s("br",null,null,-1),as={class:"column is-fluid is-end-aligned",style:{"white-space":"initial !important"}},ls=D({__name:"TheTasksList",setup(M){const p=V(),l=i([]),r=i(!1),g=async()=>{l.value.length==n.value.length?l.value=[]:l.value=n.value.map(({name:k})=>k),setTimeout(()=>{r.value=l.value.length>0},0)},n=i([]),t=i("Create At"),a=i(-1),f=(k,d=!1)=>{d&&(t.value!=k?a.value=-1:a.value*=-1,t.value=k),n.value=n.value.slice().sort((_,e)=>_.date>e.date?a.value:-a.value).slice().sort((_,e)=>t.value=="Name"?_.name>e.name?a.value:-a.value:t.value=="Algorithm"?_.args.algorithm>e.args.algorithm?a.value:-a.value:t.value=="Create At"?_.date>e.date?a.value:-a.value:0)},y=()=>{n.value=u.tasks,f(t.value)};return S(()=>{y()}),x(u,()=>{y()}),x(l,()=>{r.value=l.value.length>0}),(k,d)=>{const _=T("router-link");return v(),h("div",P,[s("table",R,[s("thead",null,[s("tr",q,[s("th",G,[s("label",{class:C(["ts-checkbox is-solo",{"is-indeterminate":l.value.length>0&&l.value.length!==n.value.length}])},[w(s("input",{type:"checkbox",onClick:g,"onUpdate:modelValue":d[0]||(d[0]=e=>r.value=e)},null,512),[[N,r.value]])],2)]),(v(),h(b,null,A(["Name","Algorithm","Create At"],e=>s("th",{onClick:$=>f(e,!0)},[c(o(e)+" ",1),t.value==e?(v(),h("span",{key:0,class:C(["ts-icon",{"is-sort-down-icon":a.value==-1,"is-sort-up-icon":a.value==1}])},null,2)):F("",!0)],8,H)),64))])]),s("tbody",null,[(v(!0),h(b,null,A(n.value,e=>(v(),h(b,{key:e.name},[s("tr",{class:"has-cursor-pointer","data-toggle":e.name+":has-hidden",onDblclick:$=>L(p).push({name:"task",params:{name:e.name}})},[s("td",{class:"is-compact",onClick:d[2]||(d[2]=U(()=>{},["stop"]))},[s("label",J,[w(s("input",{type:"checkbox",id:e.name,value:e.name,"onUpdate:modelValue":d[1]||(d[1]=$=>l.value=$)},null,8,K),[[N,l.value]])])]),s("td",null,o(e.name),1),s("td",O,o(e.args.algorithm),1),s("td",Q,o(e.date),1)],40,I),s("tr",{class:"has-hidden","data-name":e.name},[s("td",X,[s("div",Y,[s("div",Z,[c(" algorithm: "+o(e.args.algorithm)+" "+o(e.args.algorithm_args),1),ss,c(" learn: "+o(e.args.learn_args),1),es,c(" helper: "+o(e.args.helper),1),ts]),s("div",as,[m(_,{class:"ts-text is-link",to:{name:"task",params:{name:e.name}}},{default:B(()=>[c("manage")]),_:2},1032,["to"]),m(j,{"task-name":e.name,wrapper:"link"},null,8,["task-name"]),m(z,{taskName:e.name,wrapper:"link"},null,8,["taskName"]),m(E,{"task-name":e.name,wrapper:"link"},null,8,["task-name"])])])])],8,W)],64))),128))])])])}}}),os={class:"ts-grid is-relaxed is-3-columns u-top-spaced-large u-bottom-spaced-big"},ns={class:"column"},is={class:"ts-box"},cs={class:"ts-content"},rs={class:"ts-statistic"},ds={class:"value",style:{display:"table-cell"}},us={class:"ts-text is-secondary is-small"},_s=s("span",{class:"ts-text is-secondary"},"/works",-1),vs=s("div",{class:"symbol"},[s("span",{class:"ts-icon is-bars-progress-icon"})],-1),hs={class:"column"},ms={class:"ts-box"},ps={class:"ts-content"},gs={class:"ts-statistic"},ks={class:"value"},fs=s("div",{class:"symbol"},[s("span",{class:"ts-icon is-gears-icon"})],-1),bs={class:"column"},$s={class:"ts-box"},xs={class:"ts-content"},ys={class:"ts-statistic"},Cs={class:"value",style:{display:"table-cell"}},ws={class:"ts-text is-secondary is-negative is-small"},Ns=s("span",{class:"ts-text is-secondary is-negative"},"/failed",-1),As=s("div",{class:"symbol"},[s("span",{class:"ts-icon is-check-double-icon"})],-1),Ds={class:"ts-grid is-end-aligned"},Ss=s("button",{class:"ts-button"},"Create",-1),Ms=D({__name:"TasksView",setup(M){const p=i(0),l=i(0),r=i(0),g=i(0),n=i(0);return S(()=>{p.value=u.tasks.length,l.value=u.works.length,r.value=u.works.filter(({status:t})=>[0,1].includes(t)).length,g.value=u.works.filter(({status:t})=>t==2).length,n.value=u.works.filter(({status:t})=>t==-1).length}),x(u,t=>{p.value=t.tasks.length,l.value=t.works.length,r.value=t.works.filter(({status:a})=>[0,1].includes(a)).length,g.value=t.works.filter(({status:a})=>a==2).length,n.value=t.works.filter(({status:a})=>a==-1).length}),(t,a)=>{const f=T("router-link");return v(),h(b,null,[s("div",os,[s("div",ns,[s("div",is,[s("div",cs,[s("div",rs,[s("div",ds,[c(o(p.value)+" ",1),s("span",us,"/"+o(l.value),1)])]),c(" tasks "),_s]),vs])]),s("div",hs,[s("div",ms,[s("div",ps,[s("div",gs,[s("div",ks,o(r.value),1)]),c(" works in progress ")]),fs])]),s("div",bs,[s("div",$s,[s("div",xs,[s("div",ys,[s("div",Cs,[c(o(g.value)+" ",1),s("span",ws,"/"+o(n.value),1)])]),c(" complete "),Ns]),As])])]),s("div",Ds,[m(f,{to:{name:"task-create"}},{default:B(()=>[Ss]),_:1})]),m(ls)],64)}}});export{Ms as default};
