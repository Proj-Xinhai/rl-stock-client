import{d as b,u as A,r as d,a as $,w as y,b as w,o as h,c as m,e as s,F as k,f,g as i,t as o,n as B,h as D,i as T,j as v,k as C,s as r}from"./index-df16e4d4.js";import{_ as F,a as L,b as j}from"./TheTaskCopier.vue_vue_type_script_setup_true_lang-50b78177.js";const z={class:"ts-box u-top-spaced"},E={class:"ts-table is-celled is-single-line"},M={class:"has-cursor-pointer"},P=["onClick"],R=["data-toggle","onDblclick"],S={class:"is-collapsed"},V={class:"is-collapsed"},q=["data-name"],G={class:"is-secondary is-padded is-insetted",colspan:"3"},H={class:"ts-grid"},I={class:"column"},J=s("br",null,null,-1),K=s("br",null,null,-1),O=s("br",null,null,-1),Q={class:"column is-fluid is-end-aligned",style:{"white-space":"initial !important"}},U=b({__name:"TheTasksList",setup(x){const p=A(),c=d([]),l=d("Create At"),t=d(-1),u=(n,g=!1)=>{g&&(l.value!=n?t.value=-1:t.value*=-1,l.value=n),c.value=c.value.slice().sort((_,e)=>_.date>e.date?t.value:-t.value).slice().sort((_,e)=>l.value=="Name"?_.name>e.name?t.value:-t.value:l.value=="Algorithm"?_.args.algorithm>e.args.algorithm?t.value:-t.value:l.value=="Create At"?_.date>e.date?t.value:-t.value:0)},a=()=>{c.value=r.tasks,u(l.value)};return $(()=>{a()}),y(r,()=>{a()}),(n,g)=>{const _=w("router-link");return h(),m("div",z,[s("table",E,[s("thead",null,[s("tr",M,[(h(),m(k,null,f(["Name","Algorithm","Create At"],e=>s("th",{onClick:N=>u(e,!0)},[i(o(e)+" ",1),l.value==e?(h(),m("span",{key:0,class:B(["ts-icon",{"is-sort-down-icon":t.value==-1,"is-sort-up-icon":t.value==1}])},null,2)):D("",!0)],8,P)),64))])]),s("tbody",null,[(h(!0),m(k,null,f(c.value,e=>(h(),m(k,{key:e.name},[s("tr",{class:"has-cursor-pointer","data-toggle":e.name+":has-hidden",onDblclick:N=>T(p).push({name:"task",params:{name:e.name}})},[s("td",null,o(e.name),1),s("td",S,o(e.args.algorithm),1),s("td",V,o(e.date),1)],40,R),s("tr",{class:"has-hidden","data-name":e.name},[s("td",G,[s("div",H,[s("div",I,[i(" algorithm: "+o(e.args.algorithm)+" "+o(e.args.algorithm_args),1),J,i(" learn: "+o(e.args.learn_args),1),K,i(" helper: "+o(e.args.helper),1),O]),s("div",Q,[v(_,{class:"ts-text is-link",to:{name:"task",params:{name:e.name}}},{default:C(()=>[i("manage")]),_:2},1032,["to"]),v(F,{"task-name":e.name,wrapper:"link"},null,8,["task-name"]),v(L,{taskName:e.name,wrapper:"link"},null,8,["taskName"]),v(j,{"task-name":e.name,wrapper:"link"},null,8,["task-name"])])])])],8,q)],64))),128))])])])}}}),W={class:"ts-grid is-relaxed is-3-columns u-top-spaced-large u-bottom-spaced-big"},X={class:"column"},Y={class:"ts-box"},Z={class:"ts-content"},ss={class:"ts-statistic"},es={class:"value",style:{display:"table-cell"}},ts={class:"ts-text is-secondary is-small"},as=s("span",{class:"ts-text is-secondary"},"/works",-1),os=s("div",{class:"symbol"},[s("span",{class:"ts-icon is-bars-progress-icon"})],-1),ls={class:"column"},ns={class:"ts-box"},is={class:"ts-content"},cs={class:"ts-statistic"},rs={class:"value"},ds=s("div",{class:"symbol"},[s("span",{class:"ts-icon is-gears-icon"})],-1),_s={class:"column"},us={class:"ts-box"},hs={class:"ts-content"},ms={class:"ts-statistic"},vs={class:"value",style:{display:"table-cell"}},ps={class:"ts-text is-secondary is-negative is-small"},gs=s("span",{class:"ts-text is-secondary is-negative"},"/failed",-1),ks=s("div",{class:"symbol"},[s("span",{class:"ts-icon is-check-double-icon"})],-1),fs={class:"ts-grid is-end-aligned"},bs=s("button",{class:"ts-button"},"Create",-1),ws=b({__name:"TasksView",setup(x){const p=d(0),c=d(0),l=d(0),t=d(0),u=d(0);return $(()=>{p.value=r.tasks.length,c.value=r.works.length,l.value=r.works.filter(({status:a})=>[0,1].includes(a)).length,t.value=r.works.filter(({status:a})=>a==2).length,u.value=r.works.filter(({status:a})=>a==-1).length}),y(r,a=>{p.value=a.tasks.length,c.value=a.works.length,l.value=a.works.filter(({status:n})=>[0,1].includes(n)).length,t.value=a.works.filter(({status:n})=>n==2).length,u.value=a.works.filter(({status:n})=>n==-1).length}),(a,n)=>{const g=w("router-link");return h(),m(k,null,[s("div",W,[s("div",X,[s("div",Y,[s("div",Z,[s("div",ss,[s("div",es,[i(o(p.value)+" ",1),s("span",ts,"/"+o(c.value),1)])]),i(" tasks "),as]),os])]),s("div",ls,[s("div",ns,[s("div",is,[s("div",cs,[s("div",rs,o(l.value),1)]),i(" works in progress ")]),ds])]),s("div",_s,[s("div",us,[s("div",hs,[s("div",ms,[s("div",vs,[i(o(t.value)+" ",1),s("span",ps,"/"+o(u.value),1)])]),i(" complete "),gs]),ks])])]),s("div",fs,[v(g,{to:{name:"task-create"}},{default:C(()=>[bs]),_:1})]),v(U)],64)}}});export{ws as default};
